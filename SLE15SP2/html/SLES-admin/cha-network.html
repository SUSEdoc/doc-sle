<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLES 15 SP2 | Administration Guide | Basic Networking</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="Basic Networking | SLES 15 SP2"/>
<meta name="description" content="Linux offers the necessary networking tools and features for integration into all types of network structures. Network access using a network card ca…"/>
<meta name="product-name" content="SUSE Linux Enterprise Server"/>
<meta name="product-number" content="15 SP2"/>
<meta name="book-title" content="Administration Guide"/>
<meta name="chapter-title" content="Chapter 19. Basic Networking"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="fs@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE Linux Enterprise Server 15 SP2"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Administration Guide"/>
<meta property="og:description" content="Maintain, monitor and customize SLES"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Administration Guide"/>
<meta name="twitter:description" content="Maintain, monitor and customize SLES"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "Basic Networking",
  
    "description": "Linux offers the necessary networking tools and features for integration into all types of network structures. Network access using a network card ca…",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2024-05-17T00:00+02:00",
      
    "datePublished": "2020-07-21T00:00+02:00",
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="cha-update-alternative.html" title="Chapter 18. update-alternatives: Managing Multiple Versions of Commands and Files"/><link rel="next" href="cha-print.html" title="Chapter 20. Printer Operation"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Administration Guide</a><span> / </span><a class="crumb" href="part-system.html">System</a><span> / </span><a class="crumb" href="cha-network.html">Basic Networking</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">Administration Guide</div><ol><li><a href="pre-sle.html" class=" "><span class="title-number"> </span><span class="title-name">About This Guide</span></a></li><li><a href="part-administration.html" class="has-children "><span class="title-number">I </span><span class="title-name">Common Tasks</span></a><ol><li><a href="cha-adm-shell.html" class=" "><span class="title-number">1 </span><span class="title-name">Bash and Bash Scripts</span></a></li><li><a href="cha-adm-sudo.html" class=" "><span class="title-number">2 </span><span class="title-name"><code class="command">sudo</code> Basics</span></a></li><li><a href="cha-yast-gui.html" class=" "><span class="title-number">3 </span><span class="title-name">Using YaST</span></a></li><li><a href="cha-yast-text.html" class=" "><span class="title-number">4 </span><span class="title-name">YaST in Text Mode</span></a></li><li><a href="cha-onlineupdate-you.html" class=" "><span class="title-number">5 </span><span class="title-name">YaST Online Update</span></a></li><li><a href="cha-sw-cl.html" class=" "><span class="title-number">6 </span><span class="title-name">Managing Software with Command Line Tools</span></a></li><li><a href="cha-snapper.html" class=" "><span class="title-number">7 </span><span class="title-name">System Recovery and Snapshot Management with Snapper</span></a></li><li><a href="cha-klp.html" class=" "><span class="title-number">8 </span><span class="title-name">Live kernel patching with KLP</span></a></li><li><a href="cha-transactional-updates.html" class=" "><span class="title-number">9 </span><span class="title-name">Transactional Updates</span></a></li><li><a href="cha-vnc.html" class=" "><span class="title-number">10 </span><span class="title-name">Remote Graphical Sessions with VNC</span></a></li><li><a href="cha-net-rsync.html" class=" "><span class="title-number">11 </span><span class="title-name">File Copying with RSync</span></a></li></ol></li><li><a href="part-boot.html" class="has-children "><span class="title-number">II </span><span class="title-name">Booting a Linux System</span></a><ol><li><a href="cha-boot.html" class=" "><span class="title-number">12 </span><span class="title-name">Introduction to the Boot Process</span></a></li><li><a href="cha-uefi.html" class=" "><span class="title-number">13 </span><span class="title-name">UEFI (Unified Extensible Firmware Interface)</span></a></li><li><a href="cha-grub2.html" class=" "><span class="title-number">14 </span><span class="title-name">The Boot Loader GRUB 2</span></a></li><li><a href="cha-systemd.html" class=" "><span class="title-number">15 </span><span class="title-name">The <code class="systemitem">systemd</code> daemon</span></a></li></ol></li><li class="active"><a href="part-system.html" class="has-children you-are-here"><span class="title-number">III </span><span class="title-name">System</span></a><ol><li><a href="cha-64bit.html" class=" "><span class="title-number">16 </span><span class="title-name">32-Bit and 64-Bit Applications in a 64-Bit System Environment</span></a></li><li><a href="cha-journalctl.html" class=" "><span class="title-number">17 </span><span class="title-name"><code class="command">journalctl</code>: Query the <code class="systemitem">systemd</code> Journal</span></a></li><li><a href="cha-update-alternative.html" class=" "><span class="title-number">18 </span><span class="title-name"><code class="command">update-alternatives</code>: Managing Multiple Versions of Commands and Files</span></a></li><li><a href="cha-network.html" class=" you-are-here"><span class="title-number">19 </span><span class="title-name">Basic Networking</span></a></li><li><a href="cha-print.html" class=" "><span class="title-number">20 </span><span class="title-name">Printer Operation</span></a></li><li><a href="cha-gui-desktop.html" class=" "><span class="title-number">21 </span><span class="title-name">Graphical User Interface</span></a></li><li><a href="cha-fuse.html" class=" "><span class="title-number">22 </span><span class="title-name">Accessing File Systems with FUSE</span></a></li><li><a href="cha-mod.html" class=" "><span class="title-number">23 </span><span class="title-name">Managing Kernel Modules</span></a></li><li><a href="cha-udev.html" class=" "><span class="title-number">24 </span><span class="title-name">Dynamic Kernel Device Management with <code class="systemitem">udev</code></span></a></li><li><a href="cha-suse.html" class=" "><span class="title-number">25 </span><span class="title-name">Special System Features</span></a></li><li><a href="cha-nm.html" class=" "><span class="title-number">26 </span><span class="title-name">Using NetworkManager</span></a></li><li><a href="cha-power-mgmt.html" class=" "><span class="title-number">27 </span><span class="title-name">Power Management</span></a></li><li><a href="cha-nvdimm.html" class=" "><span class="title-number">28 </span><span class="title-name">Persistent Memory</span></a></li></ol></li><li><a href="part-services.html" class="has-children "><span class="title-number">IV </span><span class="title-name">Services</span></a><ol><li><a href="cha-yast-serviceman.html" class=" "><span class="title-number">29 </span><span class="title-name">Service Management with YaST</span></a></li><li><a href="cha-ntp.html" class=" "><span class="title-number">30 </span><span class="title-name">Time Synchronization with NTP</span></a></li><li><a href="cha-dns.html" class=" "><span class="title-number">31 </span><span class="title-name">The Domain Name System</span></a></li><li><a href="cha-dhcp.html" class=" "><span class="title-number">32 </span><span class="title-name">DHCP</span></a></li><li><a href="cha-nfs.html" class=" "><span class="title-number">33 </span><span class="title-name">Sharing File Systems with NFS</span></a></li><li><a href="cha-samba.html" class=" "><span class="title-number">34 </span><span class="title-name">Samba</span></a></li><li><a href="cha-autofs.html" class=" "><span class="title-number">35 </span><span class="title-name">On-Demand Mounting with Autofs</span></a></li><li><a href="cha-slp.html" class=" "><span class="title-number">36 </span><span class="title-name">SLP</span></a></li><li><a href="cha-apache2.html" class=" "><span class="title-number">37 </span><span class="title-name">The Apache HTTP Server</span></a></li><li><a href="cha-ftp.html" class=" "><span class="title-number">38 </span><span class="title-name">Setting Up an FTP Server with YaST</span></a></li><li><a href="cha-squid.html" class=" "><span class="title-number">39 </span><span class="title-name">Squid Caching Proxy Server</span></a></li><li><a href="cha-wbem.html" class=" "><span class="title-number">40 </span><span class="title-name">Web Based Enterprise Management Using SFCB</span></a></li></ol></li><li><a href="part-trouble.html" class="has-children "><span class="title-number">V </span><span class="title-name">Troubleshooting</span></a><ol><li><a href="cha-adminhelp.html" class=" "><span class="title-number">41 </span><span class="title-name">Help and Documentation</span></a></li><li><a href="cha-adm-support.html" class=" "><span class="title-number">42 </span><span class="title-name">Gathering System Information for Support</span></a></li><li><a href="cha-trouble.html" class=" "><span class="title-number">43 </span><span class="title-name">Common problems and their solutions</span></a></li></ol></li><li><a href="app-nwscheme.html" class=" "><span class="title-number">A </span><span class="title-name">An Example Network</span></a></li><li><a href="bk01apb.html" class=" "><span class="title-number">B </span><span class="title-name">GNU licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="cha-network" data-id-title="Basic Networking"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">15 SP2</span></span></span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">19 </span><span class="title-name">Basic Networking</span></span> <a title="Permalink" class="permalink" href="cha-network.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
    Linux offers the necessary networking tools and features for integration
    into all types of network structures. Network access using a network card
    can be configured with YaST. Manual configuration is also possible. In
    this chapter only the fundamental mechanisms and the relevant network
    configuration files are covered.
   </p></div></div></div></div><p>
  Linux and other Unix operating systems use the TCP/IP protocol. It is not a
  single network protocol, but a family of network protocols that offer various
  services. The protocols listed in <a class="xref" href="cha-network.html#tab-net-basic-tcpproto" title="Several Protocols in the TCP/IP Protocol Family">Several Protocols in the TCP/IP Protocol Family</a>,
  are provided for exchanging data between two machines via TCP/IP. Networks
  combined by TCP/IP, comprising a worldwide network, are also called
  <span class="quote">“<span class="quote">the Internet.</span>”</span>
 </p><p>
  RFC stands for <span class="emphasis"><em>Request for Comments</em></span>. RFCs are documents
  that describe various Internet protocols and implementation procedures for
  the operating system and its applications. The RFC documents describe the
  setup of Internet protocols. For more information about RFCs, see
  <a class="link" href="https://datatracker.ietf.org/" target="_blank">https://datatracker.ietf.org/</a>.
 </p><div class="variablelist" id="tab-net-basic-tcpproto" data-id-title="Several Protocols in the TCP/IP Protocol Family"><div class="title-container"><div class="variablelist-title-wrap"><div class="variablelist-title"><span class="title-number-name"><span class="title-name">Several Protocols in the TCP/IP Protocol Family </span></span><a title="Permalink" class="permalink" href="cha-network.html#tab-net-basic-tcpproto">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div><dl class="variablelist"><dt id="id-1.3.5.5.5.2"><span class="term">TCP</span></dt><dd><p>
     Transmission Control Protocol: a connection-oriented secure protocol. The
     data to transmit is first sent by the application as a stream of data and
     converted into the appropriate format by the operating system. The data
     arrives at the respective application on the destination host in the
     original data stream format it was initially sent. TCP determines whether
     any data has been lost or jumbled during the transmission. TCP is
     implemented wherever the data sequence matters.
    </p></dd><dt id="id-1.3.5.5.5.3"><span class="term">UDP</span></dt><dd><p>
     User Datagram Protocol: a connectionless, insecure protocol. The data to
     transmit is sent in the form of packets generated by the application. The
     order in which the data arrives at the recipient is not guaranteed and
     data loss is possible. UDP is suitable for record-oriented applications.
     It features a smaller latency period than TCP.
    </p></dd><dt id="id-1.3.5.5.5.4"><span class="term">ICMP</span></dt><dd><p>
     Internet Control Message Protocol: This is not a protocol for
     the end user, but a special control protocol that issues error reports and
     can control the behavior of machines participating in TCP/IP data
     transfer. In addition, it provides a special echo mode that can be viewed
     using the program ping.
    </p></dd><dt id="id-1.3.5.5.5.5"><span class="term">IGMP</span></dt><dd><p>
     Internet Group Management Protocol: This protocol controls machine
     behavior when implementing IP multicast.
    </p></dd></dl></div><p>
  As shown in <a class="xref" href="cha-network.html#fig-net-basic-OSI" title="Simplified Layer Model for TCP/IP">Figure 19.1, “Simplified Layer Model for TCP/IP”</a>, data exchange takes place in
  different layers. The actual network layer is the insecure data transfer via
  IP (Internet protocol). On top of IP, TCP (transmission control protocol)
  guarantees, to a certain extent, security of the data transfer. The IP layer
  is supported by the underlying hardware-dependent protocol, such as Ethernet.
 </p><div class="figure" id="fig-net-basic-OSI"><div class="figure-contents"><div class="mediaobject"><a href="images/net_basic_osi.png"><img src="images/net_basic_osi.png" width="75%" alt="Simplified Layer Model for TCP/IP" title="Simplified Layer Model for TCP/IP"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 19.1: </span><span class="title-name">Simplified Layer Model for TCP/IP </span></span><a title="Permalink" class="permalink" href="cha-network.html#fig-net-basic-OSI">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div></div><p>
  The diagram provides one or two examples for each layer. The layers are
  ordered according to <span class="emphasis"><em>abstraction levels</em></span>. The lowest
  layer is very close to the hardware. The uppermost layer, however, is almost
  a complete abstraction from the hardware. Every layer has its own special
  function. The special functions of each layer are mostly implicit in their
  description. The data link and physical layers represent the physical network
  used, such as Ethernet.
 </p><p>
  Almost all hardware protocols work on a packet-oriented basis. The data to
  transmit is collected into <span class="emphasis"><em>packets</em></span> (it cannot be sent
  all at once). The maximum size of a TCP/IP packet is approximately 64 KB.
  Packets are normally quite smaller, as the network hardware can be a limiting
  factor. The maximum size of a data packet on an Ethernet is about fifteen
  hundred bytes. The size of a TCP/IP packet is limited to this amount when the
  data is sent over an Ethernet. If more data is transferred, more data packets
  need to be sent by the operating system.
 </p><p>
  For the layers to serve their designated functions, additional information
  regarding each layer must be saved in the data packet. This takes place in
  the <span class="emphasis"><em>header</em></span> of the packet. Every layer attaches a small
  block of data, called the protocol header, to the front of each emerging
  packet. A sample TCP/IP data packet traveling over an Ethernet cable is
  illustrated in <a class="xref" href="cha-network.html#fig-net-basic-TCPPaket" title="TCP/IP Ethernet Packet">Figure 19.2, “TCP/IP Ethernet Packet”</a>. The proof sum is
  located at the end of the packet, not at the beginning. This simplifies
  things for the network hardware.
 </p><div class="figure" id="fig-net-basic-TCPPaket"><div class="figure-contents"><div class="mediaobject"><a href="images/net_basic_tcppacket.png"><img src="images/net_basic_tcppacket.png" width="75%" alt="TCP/IP Ethernet Packet" title="TCP/IP Ethernet Packet"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 19.2: </span><span class="title-name">TCP/IP Ethernet Packet </span></span><a title="Permalink" class="permalink" href="cha-network.html#fig-net-basic-TCPPaket">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div></div><p>
  When an application sends data over the network, the data passes through each
  layer, all implemented in the Linux kernel except the physical layer. Each
  layer is responsible for preparing the data so it can be passed to the next
  layer. The lowest layer is ultimately responsible for sending the data. The
  entire procedure is reversed when data is received. Like the layers of an
  onion, in each layer the protocol headers are removed from the transported
  data. Finally, the transport layer is responsible for making the data
  available for use by the applications at the destination. In this manner, one
  layer only communicates with the layer directly above or below it. For
  applications, it is irrelevant whether data is transmitted via a wireless or
  wired connection. Likewise, it is irrelevant for
  the data line which kind of data is transmitted, as long as packets are in
  the correct format.
 </p><section class="sect1" id="sec-network-addresses" data-id-title="IP Addresses and Routing"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">19.1 </span><span class="title-name">IP Addresses and Routing</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-addresses">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The discussion in this section is limited to IPv4 networks. For information
   about IPv6 protocol, the successor to IPv4, refer to
   <a class="xref" href="cha-network.html#sec-network-ipv6" title="19.2. IPv6—The Next Generation Internet">Section 19.2, “IPv6—The Next Generation Internet”</a>.
  </p><section class="sect2" id="sec-network-addresses-ip" data-id-title="IP Addresses"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.1.1 </span><span class="title-name">IP Addresses</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-addresses-ip">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Every computer on the Internet has a unique 32-bit address. These 32 bits
    (or 4 bytes) are normally written as illustrated in the second row in
    <a class="xref" href="cha-network.html#aus-net-basic-ipaddress" title="Writing IP Addresses">Example 19.1, “Writing IP Addresses”</a>.
   </p><div class="example" id="aus-net-basic-ipaddress" data-id-title="Writing IP Addresses"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 19.1: </span><span class="title-name">Writing IP Addresses </span></span><a title="Permalink" class="permalink" href="cha-network.html#aus-net-basic-ipaddress">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">IP Address (binary):  11000000 10101000 00000000 00010100
IP Address (decimal):      192.     168.       0.      20</pre></div></div></div><p>
    In decimal form, the four bytes are written in the decimal number system,
    separated by periods. The IP address is assigned to a host or a network
    interface. It can be used only once throughout the world. There are
    exceptions to this rule, but these are not relevant to the following
    passages.
   </p><p>
    The points in IP addresses indicate the hierarchical system. Until the
    1990s, IP addresses were strictly categorized in classes. However, this
    system proved too inflexible and was discontinued. Now, <span class="emphasis"><em>classless
    routing</em></span> (CIDR, classless interdomain routing) is used.
   </p></section><section class="sect2" id="sec-network-addresses-route" data-id-title="Netmasks and Routing"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.1.2 </span><span class="title-name">Netmasks and Routing</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-addresses-route">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Netmasks are used to define the address range of a subnet. If two hosts are
    in the same subnet, they can reach each other directly. If they are not in
    the same subnet, they need the address of a gateway that handles all the
    traffic for the subnet. To check if two IP addresses are in the same
    subnet, simply <span class="quote">“<span class="quote">AND</span>”</span> both addresses with the netmask. If the
    result is identical, both IP addresses are in the same local network. If
    there are differences, the remote IP address, and thus the remote
    interface, can only be reached over a gateway.
   </p><p>
    To understand how the netmask works, look at
    <a class="xref" href="cha-network.html#tab-net-basic-netmask" title="Linking IP Addresses to the Netmask">Example 19.2, “Linking IP Addresses to the Netmask”</a>. The netmask consists of 32 bits
    that identify how much of an IP address belongs to the network. All those
    bits that are <code class="literal">1</code> mark the corresponding bit in the IP
    address as belonging to the network. All bits that are <code class="literal">0</code>
    mark bits inside the subnet. This means that the more bits are
    <code class="literal">1</code>, the smaller the subnet is. Because the netmask always
    consists of several successive <code class="literal">1</code> bits, it is also
    possible to count the number of bits in the netmask. In
    <a class="xref" href="cha-network.html#tab-net-basic-netmask" title="Linking IP Addresses to the Netmask">Example 19.2, “Linking IP Addresses to the Netmask”</a> the first net with 24 bits could
    also be written as <code class="literal">192.168.0.0/24</code>.
   </p><div class="example" id="tab-net-basic-netmask" data-id-title="Linking IP Addresses to the Netmask"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 19.2: </span><span class="title-name">Linking IP Addresses to the Netmask </span></span><a title="Permalink" class="permalink" href="cha-network.html#tab-net-basic-netmask">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">IP address (192.168.0.20):  11000000 10101000 00000000 00010100
Netmask   (255.255.255.0):  11111111 11111111 11111111 00000000
---------------------------------------------------------------
Result of the link:         11000000 10101000 00000000 00000000
In the decimal system:           192.     168.       0.       0

IP address (213.95.15.200): 11010101 10111111 00001111 11001000
Netmask    (255.255.255.0): 11111111 11111111 11111111 00000000
---------------------------------------------------------------
Result of the link:         11010101 10111111 00001111 00000000
In the decimal system:           213.      95.      15.       0</pre></div></div></div><p>
    To give another example: all machines connected with the same Ethernet
    cable are usually located in the same subnet and are directly accessible.
    Even when the subnet is physically divided by switches or bridges, these
    hosts can still be reached directly.
   </p><p>
    IP addresses outside the local subnet can only be reached if a gateway is
    configured for the target network. In the most common case, there is only
    one gateway that handles all traffic that is external. However, it is also
    possible to configure several gateways for different subnets.
   </p><p>
    If a gateway has been configured, all external IP packets are sent to the
    appropriate gateway. This gateway then attempts to forward the packets in
    the same manner—from host to host—until it reaches the
    destination host or the packet's TTL (time to live) expires.
   </p><div class="variablelist" id="net-basic-spezial-net" data-id-title="Specific Addresses"><div class="title-container"><div class="variablelist-title-wrap"><div class="variablelist-title"><span class="title-number-name"><span class="title-name">Specific Addresses </span></span><a title="Permalink" class="permalink" href="cha-network.html#net-basic-spezial-net">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div><dl class="variablelist"><dt id="id-1.3.5.5.13.4.8.2"><span class="term">
      Base Network Address
     </span></dt><dd><p>
       This is the netmask AND any address in the network, as shown in
       <a class="xref" href="cha-network.html#tab-net-basic-netmask" title="Linking IP Addresses to the Netmask">Example 19.2, “Linking IP Addresses to the Netmask”</a> under <code class="literal">Result</code>.
       This address cannot be assigned to any hosts.
      </p></dd><dt id="id-1.3.5.5.13.4.8.3"><span class="term">
      Broadcast Address
     </span></dt><dd><p>
       This could be paraphrased as: <span class="quote">“<span class="quote">Access all hosts in this
       subnet.</span>”</span> To generate this, the netmask is inverted in binary form
       and linked to the base network address with a logical OR. The above
       example therefore results in 192.168.0.255. This address cannot be
       assigned to any hosts.
      </p></dd><dt id="id-1.3.5.5.13.4.8.4"><span class="term">
      Local Host
     </span></dt><dd><p>
       The address <code class="systemitem">127.0.0.1</code> is
       assigned to the <span class="quote">“<span class="quote">loopback device</span>”</span> on each host. A
       connection can be set up to your own machine with this address and with
       all addresses from the complete
       <code class="systemitem">127.0.0.0/8</code> loopback network
       as defined with IPv4. With IPv6 there is only one loopback address
       (<code class="systemitem">::1</code>).
      </p></dd></dl></div><p>
    Because IP addresses must be unique all over the world, you cannot select
    random addresses. There are three address domains to use if you want to set
    up a private IP-based network. These cannot get any connection from the
    rest of the Internet, because they cannot be transmitted over the Internet.
    These address domains are specified in RFC 1597 and listed in
    <a class="xref" href="cha-network.html#tab-net-basic-privat-net" title="Private IP Address Domains">Table 19.1, “Private IP Address Domains”</a>.
   </p><div class="table" id="tab-net-basic-privat-net" data-id-title="Private IP Address Domains"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 19.1: </span><span class="title-name">Private IP Address Domains </span></span><a title="Permalink" class="permalink" href="cha-network.html#tab-net-basic-privat-net">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
        <p>
         Network/Netmask
        </p>
       </th><th style="border-bottom: 1px solid ; ">
        <p>
         Domain
        </p>
       </th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
        <p>
         <code class="systemitem">10.0.0.0</code>/<code class="systemitem">255.0.0.0</code>
        </p>
       </td><td style="border-bottom: 1px solid ; ">
        <p>
         <code class="systemitem">10.x.x.x</code>
        </p>
       </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
        <p>
         <code class="systemitem">172.16.0.0</code>/<code class="systemitem">255.240.0.0</code>
        </p>
       </td><td style="border-bottom: 1px solid ; ">
        <p>
         <code class="systemitem">172.16.x.x</code> –
         <code class="systemitem">172.31.x.x</code>
        </p>
       </td></tr><tr><td style="border-right: 1px solid ; ">
        <p>
         <code class="systemitem">192.168.0.0</code>/<code class="systemitem">255.255.0.0</code>
        </p>
       </td><td>
        <p>
         <code class="systemitem">192.168.x.x</code>
        </p>
       </td></tr></tbody></table></div></div></section></section><section class="sect1" id="sec-network-ipv6" data-id-title="IPv6—The Next Generation Internet"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">19.2 </span><span class="title-name">IPv6—The Next Generation Internet</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-ipv6">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div></div></div></div><div id="id-1.3.5.5.14.2" data-id-title="IBM Z: IPv6 Support" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: IBM Z: IPv6 Support</div><p>
    IPv6 is not supported by the CTC and IUCV network connections of the
    IBM Z hardware.
   </p></div><p>
   Because of the emergence of the World Wide Web (WWW), the Internet has
   experienced explosive growth, with an increasing number of computers
   communicating via TCP/IP in the past fifteen years. Since Tim Berners-Lee at
   CERN (<a class="link" href="http://public.web.cern.ch" target="_blank">http://public.web.cern.ch</a>) invented the WWW in
   1990, the number of Internet hosts has grown from a few thousand to about a
   hundred million.
  </p><p>
   As mentioned, an IPv4 address consists of only 32 bits. Also, quite a few
   IP addresses are lost—they cannot be used because of the way in which
   networks are organized. The number of addresses available in your subnet is
   two to the power of the number of bits, minus two. A subnet has, for
   example, 2, 6, or 14 addresses available. To connect 128 hosts to the
   Internet, for example, you need a subnet with 256 IP addresses, from which
   only 254 are usable, because two IP addresses are needed for the structure
   of the subnet itself: the broadcast and the base network address.
  </p><p>
   Under the current IPv4 protocol, DHCP or NAT (network address translation)
   are the typical mechanisms used to circumvent the potential address
   shortage. Combined with the convention to keep private and public address
   spaces separate, these methods can certainly mitigate the shortage. The
   problem with them lies in their configuration, which is a chore to set up
   and a burden to maintain. To set up a host in an IPv4 network, you need
   several address items, such as the host's own IP address, the subnetmask,
   the gateway address and maybe a name server address. All these items need to
   be known and cannot be derived from somewhere else.
  </p><p>
   With IPv6, both the address shortage and the complicated configuration
   should be a thing of the past. The following sections tell more about the
   improvements and benefits brought by IPv6 and about the transition from the
   old protocol to the new one.
  </p><section class="sect2" id="sec-network-ipv6-adv" data-id-title="Advantages"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.2.1 </span><span class="title-name">Advantages</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-ipv6-adv">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The most important and most visible improvement brought by the newer protocol
    is the enormous expansion of the available address space. An IPv6 address
    is made up of 128 bit values instead of the traditional 32 bits. This
    provides for as many as several quadrillion IP addresses.
   </p><p>
    However, IPv6 addresses are not only different from their predecessors with
    regard to their length. They also have a different internal structure that
    may contain more specific information about the systems and the networks to
    which they belong. More details about this are found in
    <a class="xref" href="cha-network.html#sec-network-ipv6-address" title="19.2.2. Address Types and Structure">Section 19.2.2, “Address Types and Structure”</a>.
   </p><p>
    The following is a list of other advantages of the newer protocol:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.5.5.14.7.5.1"><span class="term">Autoconfiguration</span></dt><dd><p>
       IPv6 makes the network <span class="quote">“<span class="quote">plug and play</span>”</span> capable, which means
       that a newly set up system integrates into the (local) network without
       any manual configuration. The new host uses its automatic configuration
       mechanism to derive its own address from the information made available
       by the neighboring routers, relying on a protocol called the
       <span class="emphasis"><em>neighbor discovery</em></span> (ND) protocol. This method does
       not require any intervention on the administrator's part and there is no
       need to maintain a central server for address allocation—an
       additional advantage over IPv4, where automatic address allocation
       requires a DHCP server.
      </p><p>
       Nevertheless if a router is connected to a switch, the router should
       send periodic advertisements with flags telling the hosts of a network
       how they should interact with each other. For more information, see
       RFC 2462 and the <code class="systemitem">radvd.conf(5)</code> man page, and
       RFC 3315.
      </p></dd><dt id="id-1.3.5.5.14.7.5.2"><span class="term">Mobility</span></dt><dd><p>
       IPv6 makes it possible to assign several addresses to one network
       interface at the same time. This allows users to access several networks
       easily, something that could be compared with the international roaming
       services offered by mobile phone companies. When you take your mobile
       phone abroad, the phone automatically logs in to a foreign service when
       it enters the corresponding area, so you can be reached under the same
       number everywhere and can place an outgoing call, as you would in your
       home area.
      </p></dd><dt id="id-1.3.5.5.14.7.5.3"><span class="term">Secure Communication</span></dt><dd><p>
       With IPv4, network security is an add-on function. IPv6 includes IPsec
       as one of its core features, allowing systems to communicate over a
       secure tunnel to avoid eavesdropping by outsiders on the Internet.
      </p></dd><dt id="id-1.3.5.5.14.7.5.4"><span class="term">Backward Compatibility</span></dt><dd><p>
       Realistically, it would be impossible to switch the entire Internet from
       IPv4 to IPv6 at one time. Therefore, it is crucial that both protocols
       can coexist not only on the Internet, but also on one system. This is
       ensured by compatible addresses (IPv4 addresses can easily be translated
       into IPv6 addresses) and by using several tunnels. See
       <a class="xref" href="cha-network.html#sec-network-ipv6-coexist" title="19.2.3. Coexistence of IPv4 and IPv6">Section 19.2.3, “Coexistence of IPv4 and IPv6”</a>. Also, systems can rely on a
       <span class="emphasis"><em>dual stack IP</em></span> technique to support both protocols
       at the same time, meaning that they have two network stacks that are
       completely separate, such that there is no interference between the two
       protocol versions.
      </p></dd><dt id="id-1.3.5.5.14.7.5.5"><span class="term">Custom Tailored Services through Multicasting</span></dt><dd><p>
       With IPv4, some services, such as SMB, need to broadcast their packets
       to all hosts in the local network. IPv6 allows a much more fine-grained
       approach by enabling servers to address hosts through
       <span class="emphasis"><em>multicasting</em></span>, that is by addressing several hosts as
       parts of a group. This is different from addressing all hosts through
       <span class="emphasis"><em>broadcasting</em></span> or each host individually through
       <span class="emphasis"><em>unicasting</em></span>. Which hosts are addressed as a group
       may depend on the concrete application. There are some predefined groups
       to address all name servers (the <span class="emphasis"><em>all name servers multicast
       group</em></span>), for example, or all routers (the <span class="emphasis"><em>all
       routers multicast group</em></span>).
      </p></dd></dl></div></section><section class="sect2" id="sec-network-ipv6-address" data-id-title="Address Types and Structure"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.2.2 </span><span class="title-name">Address Types and Structure</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-ipv6-address">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    As mentioned, the current IP protocol has two major limitations:
    there is an increasing shortage of IP addresses, and configuring the network
    and maintaining the routing tables is becoming a more complex and
    burdensome task. IPv6 solves the first problem by expanding the address
    space to 128 bits. The second one is mitigated by introducing a
    hierarchical address structure combined with sophisticated techniques to
    allocate network addresses, and <span class="emphasis"><em>multihoming</em></span> (the
    ability to assign several addresses to one device, giving access to several
    networks).
   </p><p>
    When dealing with IPv6, it is useful to know about three different types of
    addresses:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.5.5.14.8.4.1"><span class="term">Unicast</span></dt><dd><p>
       Addresses of this type are associated with exactly one network
       interface. Packets with such an address are delivered to only one
       destination. Accordingly, unicast addresses are used to transfer packets
       to individual hosts on the local network or the Internet.
      </p></dd><dt id="id-1.3.5.5.14.8.4.2"><span class="term">Multicast</span></dt><dd><p>
       Addresses of this type relate to a group of network interfaces. Packets
       with such an address are delivered to all destinations that belong to
       the group. Multicast addresses are mainly used by certain network
       services to communicate with certain groups of hosts in a well-directed
       manner.
      </p></dd><dt id="id-1.3.5.5.14.8.4.3"><span class="term">Anycast</span></dt><dd><p>
       Addresses of this type are related to a group of interfaces. Packets
       with such an address are delivered to the member of the group that is
       closest to the sender, according to the principles of the underlying
       routing protocol. Anycast addresses are used to make it easier for hosts
       to find out about servers offering certain services in the given network
       area. All servers of the same type have the same anycast address.
       Whenever a host requests a service, it receives a reply from the server
       with the closest location, as determined by the routing protocol. If
       this server should fail for some reason, the protocol automatically
       selects the second closest server, then the third one, and so forth.
      </p></dd></dl></div><p>
    An IPv6 address is made up of eight four-digit fields, each representing 16
    bits, written in hexadecimal notation. They are separated by colons
    (<code class="literal">:</code>). Any leading zero bytes within a given field may be
    dropped, but zeros within the field or at its end may not. Another
    convention is that more than four consecutive zero bytes may be collapsed
    into a double colon. However, only one such <code class="literal">::</code> is
    allowed per address. This kind of shorthand notation is shown in
    <a class="xref" href="cha-network.html#aus-netz-ipv6-add" title="Sample IPv6 Address">Example 19.3, “Sample IPv6 Address”</a>, where all three lines represent the
    same address.
   </p><div class="example" id="aus-netz-ipv6-add" data-id-title="Sample IPv6 Address"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 19.3: </span><span class="title-name">Sample IPv6 Address </span></span><a title="Permalink" class="permalink" href="cha-network.html#aus-netz-ipv6-add">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">fe80 : 0000 : 0000 : 0000 : 0000 : 10 : 1000 : 1a4
fe80 :    0 :    0 :    0 :    0 : 10 : 1000 : 1a4
fe80 :                           : 10 : 1000 : 1a4</pre></div></div></div><p>
    Each part of an IPv6 address has a defined function. The first bytes form
    the prefix and specify the type of address. The center part is the network
    portion of the address, but it may be unused. The end of the address forms
    the host part. With IPv6, the netmask is defined by indicating the length
    of the prefix after a slash at the end of the address. An address, as shown
    in <a class="xref" href="cha-network.html#aus-netz-ipv6-addpre" title="IPv6 Address Specifying the Prefix Length">Example 19.4, “IPv6 Address Specifying the Prefix Length”</a>, contains the information that
    the first 64 bits form the network part of the address and the last 64 form
    its host part. In other words, the <code class="literal">64</code> means that the
    netmask is filled with 64 1-bit values from the left. As with IPv4, the IP
    address is combined with AND with the values from the netmask to determine
    whether the host is located in the same subnet or in another one.
   </p><div class="example" id="aus-netz-ipv6-addpre" data-id-title="IPv6 Address Specifying the Prefix Length"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 19.4: </span><span class="title-name">IPv6 Address Specifying the Prefix Length </span></span><a title="Permalink" class="permalink" href="cha-network.html#aus-netz-ipv6-addpre">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">fe80::10:1000:1a4/64</pre></div></div></div><p>
    IPv6 knows about several predefined types of prefixes. Some are shown in
    <a class="xref" href="cha-network.html#list-net-basic-ipv6-prefix" title="Various IPv6 Prefixes">Various IPv6 Prefixes</a>.
   </p><div class="variablelist" id="list-net-basic-ipv6-prefix" data-id-title="Various IPv6 Prefixes"><div class="title-container"><div class="variablelist-title-wrap"><div class="variablelist-title"><span class="title-number-name"><span class="title-name">Various IPv6 Prefixes </span></span><a title="Permalink" class="permalink" href="cha-network.html#list-net-basic-ipv6-prefix">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div><dl class="variablelist"><dt id="id-1.3.5.5.14.8.10.2"><span class="term"><code class="systemitem">00</code>
     </span></dt><dd><p>
       IPv4 addresses and IPv4 over IPv6 compatibility addresses. These are
       used to maintain compatibility with IPv4. Their use still requires a
       router able to translate IPv6 packets into IPv4 packets. Several special
       addresses, such as the one for the loopback device, have this prefix as
       well.
      </p></dd><dt id="id-1.3.5.5.14.8.10.3"><span class="term"><code class="systemitem">2</code> or
      <code class="systemitem">3</code> as the
      first digit
     </span></dt><dd><p>
       Aggregatable global unicast addresses. As is the case with IPv4, an
       interface can be assigned to form part of a certain subnet. Currently,
       there are the following address spaces:
       <code class="systemitem">2001::/16</code> (production quality
       address space) and <code class="systemitem">2002::/16</code>
       (6to4 address space).
      </p></dd><dt id="id-1.3.5.5.14.8.10.4"><span class="term"><code class="systemitem">fe80::/10</code>
     </span></dt><dd><p>
       Link-local addresses. Addresses with this prefix should not be routed
       and should therefore only be reachable from within the same subnet.
      </p></dd><dt id="id-1.3.5.5.14.8.10.5"><span class="term"><code class="systemitem">fec0::/10</code>
     </span></dt><dd><p>
       Site-local addresses. These may be routed, but only within the network
       of the organization to which they belong. In effect, they are the IPv6
       equivalent of the current private network address space, such as
       <code class="systemitem">10.x.x.x</code>.
      </p></dd><dt id="id-1.3.5.5.14.8.10.6"><span class="term"><code class="systemitem">ff</code>
     </span></dt><dd><p>
       These are multicast addresses.
      </p></dd></dl></div><p>
    A unicast address consists of three basic components:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.5.5.14.8.12.1"><span class="term">Public Topology</span></dt><dd><p>
       The first part (which also contains one of the prefixes mentioned above)
       is used to route packets through the public Internet. It includes
       information about the company or institution that provides the Internet
       access.
      </p></dd><dt id="id-1.3.5.5.14.8.12.2"><span class="term">Site Topology</span></dt><dd><p>
       The second part contains routing information about the subnet to which
       to deliver the packet.
      </p></dd><dt id="id-1.3.5.5.14.8.12.3"><span class="term">Interface ID</span></dt><dd><p>
       The third part identifies the interface to which to deliver the packet.
       This also allows for the MAC to form part of the address. Given that the
       MAC is a globally unique, fixed identifier coded into the device by the
       hardware maker, the configuration procedure is substantially simplified.
       In fact, the first 64 address bits are consolidated to form the
       <code class="literal">EUI-64</code> token, with the last 48 bits taken from the
       MAC, and the remaining 24 bits containing special information about the
       token type. This also makes it possible to assign an
       <code class="literal">EUI-64</code> token to interfaces that do not have a MAC,
       such as those based on PPP.
      </p></dd></dl></div><p>
    On top of this basic structure, IPv6 distinguishes between five different
    types of unicast addresses:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.5.5.14.8.14.1"><span class="term"><code class="systemitem">::</code> (unspecified) </span></dt><dd><p>
       This address is used by the host as its source address when the
       interface is initialized for the first time (at which point, the address
       cannot yet be determined by other means).
      </p></dd><dt id="id-1.3.5.5.14.8.14.2"><span class="term"><code class="systemitem">::1</code> (loopback) </span></dt><dd><p>
       The address of the loopback device.
      </p></dd><dt id="id-1.3.5.5.14.8.14.3"><span class="term">IPv4 Compatible Addresses</span></dt><dd><p>
       The IPv6 address is formed by the IPv4 address and a prefix consisting
       of 96 zero bits. This type of compatibility address is used for
       tunneling (see <a class="xref" href="cha-network.html#sec-network-ipv6-coexist" title="19.2.3. Coexistence of IPv4 and IPv6">Section 19.2.3, “Coexistence of IPv4 and IPv6”</a>) to allow
       IPv4 and IPv6 hosts to communicate with others operating in a pure IPv4
       environment.
      </p></dd><dt id="id-1.3.5.5.14.8.14.4"><span class="term">IPv4 Addresses Mapped to IPv6</span></dt><dd><p>
       This type of address specifies a pure IPv4 address in IPv6 notation.
      </p></dd><dt id="id-1.3.5.5.14.8.14.5"><span class="term">Local Addresses</span></dt><dd><p>
       There are two address types for local use:
      </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.5.5.14.8.14.5.2.2.1"><span class="term">link-local</span></dt><dd><p>
          This type of address can only be used in the local subnet. Packets
          with a source or target address of this type should not be routed to
          the Internet or other subnets. These addresses contain a special
          prefix (<code class="systemitem">fe80::/10</code>) and the
          interface ID of the network card, with the middle part consisting of
          zero bytes. Addresses of this type are used during automatic
          configuration to communicate with other hosts belonging to the same
          subnet.
         </p></dd><dt id="id-1.3.5.5.14.8.14.5.2.2.2"><span class="term">site-local</span></dt><dd><p>
          Packets with this type of address may be routed to other subnets, but
          not to the wider Internet—they must remain inside the
          organization's own network. Such addresses are used for intranets and
          are an equivalent of the private address space defined by IPv4. They
          contain a special prefix
          (<code class="systemitem">fec0::/10</code>), the interface
          ID, and a 16 bit field specifying the subnet ID. Again, the rest is
          filled with zero bytes.
         </p></dd></dl></div></dd></dl></div><p>
    As a completely new feature introduced with IPv6, each network interface
    normally gets several IP addresses, with the advantage that several
    networks can be accessed through the same interface. One of these networks
    can be configured completely automatically using the MAC and a known prefix
    with the result that all hosts on the local network can be reached when
    IPv6 is enabled (using the link-local address). With the MAC forming part
    of it, any IP address used in the world is unique. The only variable parts
    of the address are those specifying the <span class="emphasis"><em>site topology</em></span>
    and the <span class="emphasis"><em>public topology</em></span>, depending on the actual
    network in which the host is currently operating.
   </p><p>
    For a host to go back and forth between different networks, it needs at
    least two addresses. One of them, the <span class="emphasis"><em>home address</em></span>,
    not only contains the interface ID but also an identifier of the home
    network to which it normally belongs (and the corresponding prefix). The
    home address is a static address and, as such, it does not normally change.
    Still, all packets destined to the mobile host can be delivered to it,
    regardless of whether it operates in the home network or somewhere outside.
    This is made possible by the completely new features introduced with IPv6,
    such as <span class="emphasis"><em>stateless autoconfiguration</em></span> and
    <span class="emphasis"><em>neighbor discovery</em></span>. In addition to its home address, a
    mobile host gets one or more additional addresses that belong to the
    foreign networks where it is roaming. These are called
    <span class="emphasis"><em>care-of</em></span> addresses. The home network has a facility
    that forwards any packets destined to the host when it is roaming outside.
    In an IPv6 environment, this task is performed by the <span class="emphasis"><em>home
    agent</em></span>, which takes all packets destined to the home address and
    relays them through a tunnel. On the other hand, those packets destined to
    the care-of address are directly transferred to the mobile host without any
    special detours.
   </p></section><section class="sect2" id="sec-network-ipv6-coexist" data-id-title="Coexistence of IPv4 and IPv6"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.2.3 </span><span class="title-name">Coexistence of IPv4 and IPv6</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-ipv6-coexist">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The migration of all hosts connected to the Internet from IPv4 to IPv6 is a
    gradual process. Both protocols will coexist for some time to come. The
    coexistence on one system is guaranteed where there is a <span class="emphasis"><em>dual
    stack</em></span> implementation of both protocols. That still leaves the
    question of how an IPv6 enabled host should communicate with an IPv4 host
    and how IPv6 packets should be transported by the current networks, which
    are predominantly IPv4-based. The best solutions offer tunneling and
    compatibility addresses (see <a class="xref" href="cha-network.html#sec-network-ipv6-address" title="19.2.2. Address Types and Structure">Section 19.2.2, “Address Types and Structure”</a>).
   </p><p>
    IPv6 hosts that are more or less isolated in the (worldwide) IPv4 network
    can communicate through tunnels: IPv6 packets are encapsulated as IPv4
    packets to move them across an IPv4 network. Such a connection between two
    IPv4 hosts is called a <span class="emphasis"><em>tunnel</em></span>. To achieve this,
    packets must include the IPv6 destination address (or the corresponding
    prefix) and the IPv4 address of the remote host at the receiving end of the
    tunnel. A basic tunnel can be configured manually according to an agreement
    between the hosts' administrators. This is also called <span class="emphasis"><em>static
    tunneling</em></span>.
   </p><p>
    However, the configuration and maintenance of static tunnels is often too
    labor-intensive to use them for daily communication needs. Therefore, IPv6
    provides for three different methods of <span class="emphasis"><em>dynamic
    tunneling</em></span>:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.5.5.14.9.5.1"><span class="term">6over4</span></dt><dd><p>
       IPv6 packets are automatically encapsulated as IPv4 packets and sent
       over an IPv4 network capable of multicasting. IPv6 is tricked into
       seeing the whole network (Internet) as a huge local area network (LAN).
       This makes it possible to determine the receiving end of the IPv4 tunnel
       automatically. However, this method does not scale very well and is also
       hampered because IP multicasting is far from widespread on the Internet.
       Therefore, it only provides a solution for smaller corporate or
       institutional networks where multicasting can be enabled. The
       specifications for this method are laid down in RFC 2529.
      </p></dd><dt id="id-1.3.5.5.14.9.5.2"><span class="term">6to4</span></dt><dd><p>
       With this method, IPv4 addresses are automatically generated from IPv6
       addresses, enabling isolated IPv6 hosts to communicate over an IPv4
       network. However, several problems have been reported regarding the
       communication between those isolated IPv6 hosts and the Internet. The
       method is described in RFC 3056.
      </p></dd><dt id="id-1.3.5.5.14.9.5.3"><span class="term">IPv6 Tunnel Broker</span></dt><dd><p>
       This method relies on special servers that provide dedicated tunnels for
       IPv6 hosts. It is described in RFC 3053.
      </p></dd></dl></div></section><section class="sect2" id="sec-network-ipv6-config" data-id-title="Configuring IPv6"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.2.4 </span><span class="title-name">Configuring IPv6</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-ipv6-config">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    To configure IPv6, you normally do not need to make any changes on the
    individual workstations. IPv6 is enabled by default. To disable or enable
    IPv6 on an installed system, use the YaST <span class="guimenu">Network
    Settings</span> module. On the <span class="guimenu">Global Options</span> tab,
    select or deselect the <span class="guimenu">Enable IPv6</span> option as necessary.

    To enable it temporarily until the next reboot, enter
    <code class="command">modprobe</code> <code class="option">-i ipv6</code> as
    <code class="systemitem">root</code>. It is impossible to unload
    the IPv6 module after it has been loaded.
   </p><p>
    Because of the autoconfiguration concept of IPv6, the network card is
    assigned an address in the <span class="emphasis"><em>link-local</em></span> network.
    Normally, no routing table management takes place on a workstation. The
    network routers can be queried by the workstation, using the
    <span class="emphasis"><em>router advertisement protocol</em></span>, for what prefix and
    gateways should be implemented. The radvd program can be used to set up an
    IPv6 router. This program informs the workstations which prefix to use for
    the IPv6 addresses and which routers. Alternatively, use zebra/quagga for
    automatic configuration of both addresses and routing.
   </p><p>
    For information about how to set up various types of tunnels using the
    <code class="filename">/etc/sysconfig/network</code> files, see the man page of
    <code class="literal">ifcfg-tunnel</code> (<code class="command">man ifcfg-tunnel</code>).
   </p></section><section class="sect2" id="sec-network-ipv6-moreinfo" data-id-title="For More Information"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.2.5 </span><span class="title-name">For More Information</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-ipv6-moreinfo">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The above overview does not cover the topic of IPv6 comprehensively. For a
    more in-depth look at the newer protocol, refer to the following online
    documentation and books:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.5.5.14.11.3.1"><span class="term"><a class="link" href="https://pulse.internetsociety.org" target="_blank">https://pulse.internetsociety.org</a></span></dt><dd><p>
       The starting point for everything about IPv6.
      </p></dd><dt id="id-1.3.5.5.14.11.3.2"><span class="term"><a class="link" href="http://www.ipv6day.org" target="_blank">http://www.ipv6day.org</a>
     </span></dt><dd><p>
       All information needed to start your own IPv6 network.
      </p></dd><dt id="id-1.3.5.5.14.11.3.3"><span class="term"><a class="link" href="http://www.ipv6-to-standard.org/" target="_blank">http://www.ipv6-to-standard.org/</a>
     </span></dt><dd><p>
       The list of IPv6-enabled products.
      </p></dd><dt id="id-1.3.5.5.14.11.3.4"><span class="term"><a class="link" href="http://www.bieringer.de/linux/IPv6/" target="_blank">http://www.bieringer.de/linux/IPv6/</a>
     </span></dt><dd><p>
       Here, find the Linux IPv6-HOWTO and many links related to the topic.
      </p></dd><dt id="id-1.3.5.5.14.11.3.5"><span class="term">RFC 2460</span></dt><dd><p>
        The fundamental RFC about IPv6, see <a class="link" href="https://www.rfc-editor.org/rfc/rfc2460" target="_blank">https://www.rfc-editor.org/rfc/rfc2460</a>.
      </p></dd><dt id="id-1.3.5.5.14.11.3.6"><span class="term">IPv6 Essentials</span></dt><dd><p>
       A book describing all the important aspects of the topic is
       <span class="emphasis"><em>IPv6 Essentials</em></span> by Silvia Hagen (ISBN
       0-596-00125-8).
      </p></dd></dl></div></section></section><section class="sect1" id="sec-network-nameres" data-id-title="Name Resolution"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">19.3 </span><span class="title-name">Name Resolution</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-nameres">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_basic.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   DNS assists in assigning an IP address to one or more names and assigning a
   name to an IP address. In Linux, this conversion is usually carried out by a
   special type of software known as bind. The machine that takes care of this
   conversion is called a <span class="emphasis"><em>name server</em></span>. The names make up a
   hierarchical system in which each name component is separated by a period.
   The name hierarchy is, however, independent of the IP address hierarchy
   described above.
  </p><p>
   Consider a complete name, such as
   <code class="systemitem">jupiter.example.com</code>, written in the
   format <code class="systemitem">hostname.domain</code>. A full
   name, called a <span class="emphasis"><em>fully qualified domain name</em></span> (FQDN),
   consists of a host name and a domain name
   (<code class="systemitem">example.com</code>). The latter
   also includes the <span class="emphasis"><em>top level domain</em></span> or TLD
   (<code class="systemitem">com</code>).
  </p><p>
   TLD assignment has become quite confusing for historical reasons.
   Traditionally, three-letter domain names are used in the USA. In the rest of
   the world, the two-letter ISO national codes are the standard. In addition
   to that, longer TLDs were introduced in 2000 that represent certain spheres
   of activity (for example, <code class="systemitem">.info</code>,
   <code class="systemitem">.name</code>,
   <code class="systemitem">.museum</code>).
  </p><p>
   In the early days of the Internet (before 1990), the file
   <code class="filename">/etc/hosts</code> was used to store the names of all the
   machines represented over the Internet. This quickly proved to be
   impractical in the face of the rapidly growing number of computers connected
   to the Internet. For this reason, a decentralized database was developed to
   store the host names in a widely distributed manner. This database, similar
   to the name server, does not have the data pertaining to all hosts in the
   Internet readily available, but can dispatch requests to other name servers.
  </p><p>
   The top of the hierarchy is occupied by <span class="emphasis"><em>root name
   servers</em></span>. These root name servers manage the top level domains and
   are run by the Network Information Center (NIC). Each root name server knows
   about the name servers responsible for a given top level domain. Information
   about top level domain NICs is available at
   <a class="link" href="http://www.internic.net" target="_blank">http://www.internic.net</a>.
  </p><p>
   DNS can do more than resolve host names. The name server also knows which
   host is receiving e-mails for an entire domain—the <span class="emphasis"><em>mail
   exchanger (MX)</em></span>.
  </p><p>
   For your machine to resolve an IP address, it must know about at least one
   name server and its IP address. Easily specify such a name server using
   YaST. <span class="phrase">The configuration of name server access with
   <span class="productname"><span class="phrase">SUSE® Linux Enterprise Server</span></span> is described in
   <a class="xref" href="cha-network.html#sec-network-yast-change-host" title="19.4.1.4. Configuring Host Name and DNS">Section 19.4.1.4, “Configuring Host Name and DNS”</a>. Setting up your own name
   server is described in <a class="xref" href="cha-dns.html" title="Chapter 31. The Domain Name System">Chapter 31, <em>The Domain Name System</em></a>.</span>
  </p><p>
   The protocol <code class="literal">whois</code> is closely related to DNS. With this
   program, quickly find out who is responsible for a given domain.
  </p><div id="id-1.3.5.5.15.10" data-id-title="MDNS and .local Domain Names" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: MDNS and .local Domain Names</div><p>
    The <code class="literal">.local</code> top level domain is treated as link-local
    domain by the resolver. DNS requests are send as multicast DNS requests
    instead of normal DNS requests. If you already use the
    <code class="literal">.local</code> domain in your name server configuration, you
    must switch this option off in <code class="filename">/etc/host.conf</code>. For
    more information, see the <code class="filename">host.conf</code> manual page.
   </p><p>
    To switch off MDNS during installation, use
    <code class="literal">nomdns=1</code> as a boot parameter.
   </p><p>
    For more information on multicast DNS, see
    <a class="link" href="http://www.multicastdns.org" target="_blank">http://www.multicastdns.org</a>.
   </p></div></section><section class="sect1" id="sec-network-yast" data-id-title="Configuring a Network Connection with YaST"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">19.4 </span><span class="title-name">Configuring a Network Connection with YaST</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_yast.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  There are many supported networking types on Linux. Most of them use
  different device names and the configuration files are spread over several
  locations in the file system. For a detailed overview of the aspects of
  manual network configuration, see <a class="xref" href="cha-network.html#sec-network-manconf" title="19.5. Configuring a Network Connection Manually">Section 19.5, “Configuring a Network Connection Manually”</a>.
 </p><p>
  <span class="phrase">All network interfaces with link
  up (with a network cable connected) are automatically configured.</span>
  Additional hardware can be configured any time on the installed system. The
  following sections describe the network configuration for all types of
  network connections supported by <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>.
 </p><div id="id-1.3.5.5.16.5" data-id-title="IBM Z: Hotpluggable Network Cards" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: IBM Z: Hotpluggable Network Cards</div><p>
   On IBM Z platforms, hotpluggable network cards are supported, but
   not their automatic network integration via DHCP (as is the case on the PC).
   After they have been detected, you need to manually configure the interface.
  </p></div><section class="sect2" id="sec-network-yast-netcard" data-id-title="Configuring the Network Card with YaST"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.4.1 </span><span class="title-name">Configuring the Network Card with YaST</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-netcard">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_yast.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To configure your Ethernet or Wi-Fi/Bluetooth card in YaST, select
   <span class="guimenu">System</span> › <span class="guimenu">Network Settings</span>. After starting the module, YaST displays the
   <span class="guimenu">Network Settings</span> dialog with four tabs: <span class="guimenu">Global
   Options</span>, <span class="guimenu">Overview</span>,
   <span class="guimenu">Hostname/DNS</span> and <span class="guimenu">Routing</span>.
  </p><p>
   The <span class="guimenu">Global Options</span> tab allows you to set general
   networking options such as the network setup method, IPv6, and general DHCP
   options. For more information, see
   <a class="xref" href="cha-network.html#sec-network-yast-netcard-global" title="19.4.1.1. Configuring Global Networking Options">Section 19.4.1.1, “Configuring Global Networking Options”</a>.
  </p><p>
   The <span class="guimenu">Overview</span> tab contains information about installed
   network interfaces and configurations. Any properly detected network card is
   listed with its name. You can manually configure new cards, remove or change
   their configuration in this dialog. To manually configure a card
   that was not automatically detected, see
   <a class="xref" href="cha-network.html#sec-network-yast-netcard-man" title="19.4.1.3. Configuring an Undetected Network Card">Section 19.4.1.3, “Configuring an Undetected Network Card”</a>. To change the
   configuration of an already configured card, see
   <a class="xref" href="cha-network.html#sec-network-yast-netcard-change" title="19.4.1.2. Changing the Configuration of a Network Card">Section 19.4.1.2, “Changing the Configuration of a Network Card”</a>.
  </p><p>
   The <span class="guimenu">Hostname/DNS</span> tab allows to set the host name of the
   machine and name the servers to be used. For more information, see
   <a class="xref" href="cha-network.html#sec-network-yast-change-host" title="19.4.1.4. Configuring Host Name and DNS">Section 19.4.1.4, “Configuring Host Name and DNS”</a>.
  </p><p>
   The <span class="guimenu">Routing</span> tab is used for the configuration of routing.
   See <a class="xref" href="cha-network.html#sec-network-yast-change-route" title="19.4.1.5. Configuring Routing">Section 19.4.1.5, “Configuring Routing”</a> for more information.
  </p><div class="figure" id="fig-yast2-neticard"><div class="figure-contents"><div class="mediaobject"><a href="images/yast2_net_icard.png"><img src="images/yast2_net_icard.png" width="75%" alt="Configuring Network Settings" title="Configuring Network Settings"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 19.3: </span><span class="title-name">Configuring Network Settings </span></span><a title="Permalink" class="permalink" href="cha-network.html#fig-yast2-neticard">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_yast.xml" title="Edit source document"> </a></div></div></div><section class="sect3" id="sec-network-yast-netcard-global" data-id-title="Configuring Global Networking Options"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.4.1.1 </span><span class="title-name">Configuring Global Networking Options</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-netcard-global">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_yast.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The <span class="guimenu">Global Options</span> tab of the YaST <span class="guimenu">Network
    Settings</span> module allows you to set important global networking
    options, such as the use of NetworkManager, IPv6 and DHCP client options. These
    settings are applicable for all network interfaces.
   </p><div id="id-1.3.5.5.16.6.8.3" data-id-title="NetworkManager Provided by Workstation Extension" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: NetworkManager Provided by Workstation Extension</div><p>
     NetworkManager is now provided by the SUSE Linux Enterprise Workstation Extension. To install NetworkManager, activate the
     Workstation Extension repository, and select the NetworkManager packages.
    </p></div><p>
    In the <span class="guimenu">Network Setup Method</span> choose the way network
    connections are managed. If you want a NetworkManager desktop applet to manage
    connections for all interfaces, choose <span class="guimenu">NetworkManager Service</span>.
    NetworkManager is well suited for switching between multiple wired and wireless
    networks. If you do not run a desktop environment, or if your computer is a
    Xen server, virtual system, or provides network services such as DHCP or
    DNS in your network, use the <span class="guimenu">Wicked Service</span> method. If
    NetworkManager is used, <code class="command">nm-applet</code> should be used to configure
    network options and the <span class="guimenu">Overview</span>,
    <span class="guimenu">Hostname/DNS</span> and <span class="guimenu">Routing</span> tabs of the
    <span class="guimenu">Network Settings</span> module are disabled.
     <span class="phrase">For more information
    on NetworkManager, see the SUSE Linux Enterprise Desktop documentation.</span>
   </p><p>
    In the <span class="guimenu">IPv6 Protocol Settings</span> choose whether to use the
    IPv6 protocol. It is possible to use IPv6 together with IPv4. By default,
    IPv6 is enabled. However, in networks not using IPv6 protocol, response
    times can be faster with IPv6 protocol disabled. To disable IPv6,
    deactivate <span class="guimenu">Enable IPv6</span>. If IPv6 is disabled, the kernel
    no longer loads the IPv6 module automatically. This setting will be applied
    after reboot.
   </p><p>
    In the <span class="guimenu">DHCP Client Options</span> configure options for the
    DHCP client.


    The <span class="guimenu">DHCP Client Identifier</span> must be different for each
    DHCP client on a single network. If left empty, it defaults to the hardware
    address of the network interface. However, if you are running several
    virtual machines using the same network interface and, therefore, the same
    hardware address, specify a unique free-form identifier here.
   </p><p>
    The <span class="guimenu">Hostname to Send</span> specifies a string used for the
    host name option field when the DHCP client sends messages to DHCP server.
    Some DHCP servers update name server zones (forward and reverse records)
    according to this host name (Dynamic DNS). Also, some DHCP servers require
    the <span class="guimenu">Hostname to Send</span> option field to contain a specific
    string in the DHCP messages from clients. Leave <code class="literal">AUTO</code> to
    send the current host name (that is the one defined in
    <code class="filename">/etc/HOSTNAME</code>). Make the option field empty for not
    sending any host name.
   </p><p>
    If you do not want to change the default route according to the information
    from DHCP, deactivate <span class="guimenu">Change Default Route via DHCP</span>.
   </p></section><section class="sect3" id="sec-network-yast-netcard-change" data-id-title="Changing the Configuration of a Network Card"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.4.1.2 </span><span class="title-name">Changing the Configuration of a Network Card</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-netcard-change">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_yast.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    To change the configuration of a network card, select a card from the list
    of the detected cards in <span class="guimenu">Network Settings</span> › <span class="guimenu">Overview</span> in YaST and click
    <span class="guimenu">Edit</span>. The <span class="guimenu">Network Card Setup</span> dialog
    appears in which to adjust the card configuration using the
    <span class="guimenu">General</span>, <span class="guimenu">Address</span> and
    <span class="guimenu">Hardware</span> tabs.
   </p><section class="sect4" id="sec-network-yast-change-address" data-id-title="Configuring IP Addresses"><div class="titlepage"><div><div><div class="title-container"><h5 class="title"><span class="title-number-name"><span class="title-number">19.4.1.2.1 </span><span class="title-name">Configuring IP Addresses</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-change-address">#</a></h5><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_yast.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     You can set the IP address of the network card or the way its IP address
     is determined in the <span class="guimenu">Address</span> tab of the
     <span class="guimenu">Network Card Setup</span> dialog. Both IPv4 and IPv6 addresses
     are supported. The network card can have <span class="guimenu">No IP Address</span>
     (which is useful for bonding devices), a <span class="guimenu">Statically Assigned IP
     Address</span> (IPv4 or IPv6) or a <span class="guimenu">Dynamic Address</span>
     assigned via <span class="guimenu">DHCP</span> or <span class="guimenu">Zeroconf</span> or
     both.
    </p><p>
     If using <span class="guimenu">Dynamic Address</span>, select whether to use
     <span class="guimenu">DHCP Version 4 Only</span> (for IPv4), <span class="guimenu">DHCP Version 6
     Only</span> (for IPv6) or <span class="guimenu">DHCP Both Version 4 and 6</span>.
    </p><p>
     If possible, the first network card with link that is available during the
     installation is automatically configured to use automatic address setup
     via DHCP. 
    </p><div id="id-1.3.5.5.16.6.9.3.5" data-id-title="IBM Z and DHCP" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: IBM Z and DHCP</div><p>
      On IBM Z platforms, DHCP-based address configuration is only
      supported with network cards that have a MAC address. This is only the
      case with OSA and OSA Express cards.
     </p></div><p>
     DHCP should also be used if you are using a DSL line but with no static IP
     assigned by the ISP (Internet Service Provider). If you decide to use
     DHCP, configure the details in <span class="guimenu">DHCP Client Options</span> in
     the <span class="guimenu">Global Options</span> tab of the <span class="guimenu">Network
     Settings</span> dialog of the YaST network card configuration module.
     If you have a virtual host setup where different hosts communicate through
     the same interface, an <span class="guimenu">DHCP Client Identifier</span> is
     necessary to distinguish them.
    </p><p>
     DHCP is a good choice for client configuration but it is not ideal for
     server configuration. To set a static IP address, proceed as follows:
    </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
       Select a card from the list of detected cards in the
       <span class="guimenu">Overview</span> tab of the YaST network card configuration
       module and click <span class="guimenu">Edit</span>.
      </p></li><li class="step"><p>
       In the <span class="guimenu">Address</span> tab, choose <span class="guimenu">Statically
       Assigned IP Address</span>.
      </p></li><li class="step"><p>
       Enter the <span class="guimenu">IP Address</span>. Both IPv4 and IPv6 addresses
       can be used. Enter the network mask in <span class="guimenu">Subnet Mask</span>.
       If the IPv6 address is used, use <span class="guimenu">Subnet Mask</span> for
       prefix length in format <code class="literal">/64</code>.
      </p><p>
       Optionally, you can enter a fully qualified <span class="guimenu">Hostname</span>
       for this address, which will be written to the
       <code class="filename">/etc/hosts</code> configuration file.
      </p></li><li class="step"><p>
       Click <span class="guimenu">Next</span>.
      </p></li><li class="step"><p>
       To activate the configuration, click <span class="guimenu">OK</span>.
      </p></li></ol></div></div><div id="id-1.3.5.5.16.6.9.3.9" data-id-title="Interface Activation and Link Detection" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Interface Activation and Link Detection</div><p>
      During activation of a network interface, <code class="command">wicked</code>
      checks for a carrier and only applies the IP configuration when a link
      has been detected. If you need to apply the configuration regardless of
      the link status (for example, when you want to test a service listening to a
      certain address), you can skip link detection by adding the variable
      <code class="literal">LINK_REQUIRED=no</code> to the configuration file of the
      interface in <code class="filename">/etc/sysconfig/network/ifcfg</code>.
     </p><p>
      Additionally, you can use the variable
      <code class="literal">LINK_READY_WAIT=<em class="replaceable">5</em></code> to
      specify the timeout for waiting for a link in seconds.
     </p><p>
      For more information about the <code class="filename">ifcfg-*</code> configuration
      files, refer to <a class="xref" href="cha-network.html#sec-network-manconf-files-ifcfg" title="19.5.2.5. /etc/sysconfig/network/ifcfg-*">Section 19.5.2.5, “<code class="filename">/etc/sysconfig/network/ifcfg-*</code>”</a> and
      <code class="command">man 5 ifcfg</code>.
     </p></div><p>
     If you use the static address, the name servers and default gateway are
     not configured automatically. To configure name servers, proceed as
     described in <a class="xref" href="cha-network.html#sec-network-yast-change-host" title="19.4.1.4. Configuring Host Name and DNS">Section 19.4.1.4, “Configuring Host Name and DNS”</a>. To configure
     a gateway, proceed as described in
     <a class="xref" href="cha-network.html#sec-network-yast-change-route" title="19.4.1.5. Configuring Routing">Section 19.4.1.5, “Configuring Routing”</a>.
    </p></section><section class="sect4" id="sec-network-yast-configure-addresses" data-id-title="Configuring Multiple Addresses"><div class="titlepage"><div><div><div class="title-container"><h5 class="title"><span class="title-number-name"><span class="title-number">19.4.1.2.2 </span><span class="title-name">Configuring Multiple Addresses</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-configure-addresses">#</a></h5><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_yast.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     One network device can have multiple IP addresses.
    </p><div id="id-1.3.5.5.16.6.9.4.3" data-id-title="Aliases Are a Compatibility Feature" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Aliases Are a Compatibility Feature</div><p>
      These so-called aliases or labels, respectively, work with IPv4 only.
      With IPv6 they will be ignored. Using <code class="command">iproute2</code> network
      interfaces can have one or more addresses.
     </p></div><p>
     Using YaST to set additional addresses for your network card, proceed as
     follows:
    </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
       Select a card from the list of detected cards in the
       <span class="guimenu">Overview</span> tab of the YaST <span class="guimenu">Network
       Settings</span> dialog and click <span class="guimenu">Edit</span>.
      </p></li><li class="step"><p>
       In the <span class="guimenu">Address</span> › <span class="guimenu">Additional
       Addresses</span> tab, click <span class="guimenu">Add</span>.
      </p></li><li class="step"><p>
       Enter <span class="guimenu">IPv4 Address Label</span>, <span class="guimenu">IP
       Address</span>, and <span class="guimenu">Netmask</span>. Note that IP aliases
       must be added with the <code class="literal">/32</code> netmask. Do not include
       the interface name in the alias name.
      </p></li><li class="step"><p>
       To activate the configuration, confirm the settings.
      </p></li></ol></div></div></section><section class="sect4" id="sec-network-yast-change-udev" data-id-title="Changing the Device Name and Udev Rules"><div class="titlepage"><div><div><div class="title-container"><h5 class="title"><span class="title-number-name"><span class="title-number">19.4.1.2.3 </span><span class="title-name">Changing the Device Name and Udev Rules</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-change-udev">#</a></h5><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_yast.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     It is possible to change the device name of the network card when it is
     used. It is also possible to determine whether the network card should be
     identified by udev via its hardware (MAC) address or via the bus ID. The
     latter option is preferable in large servers to simplify hotplugging of
     cards. To set these options with YaST, proceed as follows:
    </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
       Select a card from the list of detected cards in the
       <span class="guimenu">Overview</span> tab of the YaST <span class="guimenu">Network
       Settings</span> dialog and click <span class="guimenu">Edit</span>.
      </p></li><li class="step"><p>
       Go to the <span class="guimenu">General</span> tab. The current device name is
       shown in <span class="guimenu">Udev Rules</span>. Click <span class="guimenu">Change</span>.
      </p></li><li class="step"><p>
       Select whether udev should identify the card by its <span class="guimenu">MAC
       Address</span> or <span class="guimenu">Bus ID</span>. The current MAC address
       and bus ID of the card are shown in the dialog.
      </p></li><li class="step"><p>
       To change the device name, check the <span class="guimenu">Change Device
       Name</span> option and edit the name.
      </p></li><li class="step"><p>
       To activate the configuration, confirm the settings.
      </p></li></ol></div></div></section><section class="sect4" id="sec-network-yast-change-driver" data-id-title="Changing Network Card Kernel Driver"><div class="titlepage"><div><div><div class="title-container"><h5 class="title"><span class="title-number-name"><span class="title-number">19.4.1.2.4 </span><span class="title-name">Changing Network Card Kernel Driver</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-change-driver">#</a></h5><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_yast.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     For some network cards, several kernel drivers may be available. If the
     card is already configured, YaST allows you to select a kernel driver to
     be used from a list of available suitable drivers. It is also possible to
     specify options for the kernel driver. To set these options with YaST,
     proceed as follows:
    </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
       Select a card from the list of detected cards in the
       <span class="guimenu">Overview</span> tab of the YaST Network Settings module
       and click <span class="guimenu">Edit</span>.
      </p></li><li class="step"><p>
       Go to the <span class="guimenu">Hardware</span> tab.
      </p></li><li class="step"><p>
       Select the kernel driver to be used in <span class="guimenu">Module Name</span>.
       Enter any options for the selected driver in <span class="guimenu">Options</span>
       in the form

       <code class="command">=</code> =<em class="replaceable">VALUE</em>. If more options
       are used, they should be space-separated.
      </p></li><li class="step"><p>
       To activate the configuration, confirm the settings.
      </p></li></ol></div></div></section><section class="sect4" id="sec-network-yast-change-start" data-id-title="Activating the Network Device"><div class="titlepage"><div><div><div class="title-container"><h5 class="title"><span class="title-number-name"><span class="title-number">19.4.1.2.5 </span><span class="title-name">Activating the Network Device</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-change-start">#</a></h5><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_yast.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     If you use the method with <code class="command">wicked</code>, you can configure
     your device to either start during boot, on cable connection, on card
     detection, manually, or never. To change device start-up, proceed as
     follows:
    </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
       In YaST select a card from the list of detected cards in <span class="guimenu">System</span> › <span class="guimenu">Network Settings</span> and click <span class="guimenu">Edit</span>.
      </p></li><li class="step"><p>
       In the <span class="guimenu">General</span> tab, select the desired entry from
       <span class="guimenu">Device Activation</span>.
      </p><p>
       Choose <span class="guimenu">At Boot Time</span> to start the device during the
       system boot. With <span class="guimenu">On Cable Connection</span>, the interface
       is watched for any existing physical connection. With <span class="guimenu">On
       Hotplug</span>, the interface is set when available. It is similar to
       the <span class="guimenu">At Boot Time</span> option, and only differs in that no
       error occurs if the interface is not present at boot time. Choose
       <span class="guimenu">Manually</span> to control the interface manually with
       <code class="command">ifup</code>. Choose <span class="guimenu">Never</span> to not start
       the device. The <span class="guimenu">On NFSroot</span> is similar to <span class="guimenu">At
       Boot Time</span>, but the interface does not shut down with the
       <code class="command">systemctl stop network</code> command; the
       <code class="option">network</code> service also cares about the
       <code class="option">wicked</code> service if <code class="command">wicked</code> is active.
       Use this if you use an NFS or iSCSI root file system.
      </p></li><li class="step"><p>
       To activate the configuration, confirm the settings.
      </p></li></ol></div></div><div id="id-1.3.5.5.16.6.9.7.4" data-id-title="NFS as a Root File System" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: NFS as a Root File System</div><p>
      On (diskless) systems where the root partition is mounted via network as
      an NFS share, you need to be careful when configuring the network device
      with which the NFS share is accessible.
     </p><p>
      When shutting down or rebooting the system, the default processing order
      is to turn off network connections, then unmount the root partition. With
      NFS root, this order causes problems as the root partition cannot be
      cleanly unmounted as the network connection to the NFS share is already
      not activated. To prevent the system from deactivating the relevant
      network device, open the network device configuration tab as described in
      <a class="xref" href="cha-network.html#sec-network-yast-change-start" title="19.4.1.2.5. Activating the Network Device">Section 19.4.1.2.5, “Activating the Network Device”</a> and choose <span class="guimenu">On
      NFSroot</span> in the <span class="guimenu">Device Activation</span> pane.
     </p></div></section><section class="sect4" id="sec-network-yast-change-mtu" data-id-title="Setting Up Maximum Transfer Unit Size"><div class="titlepage"><div><div><div class="title-container"><h5 class="title"><span class="title-number-name"><span class="title-number">19.4.1.2.6 </span><span class="title-name">Setting Up Maximum Transfer Unit Size</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-change-mtu">#</a></h5><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_yast.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     You can set a maximum transmission unit (MTU) for the interface. MTU
     refers to the largest allowed packet size in bytes. A higher MTU brings
     higher bandwidth efficiency. However, large packets can block up a slow
     interface for some time, increasing the lag for further packets.
    </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
       In YaST select a card from the list of detected cards in <span class="guimenu">System</span> › <span class="guimenu">Network Settings</span> and click <span class="guimenu">Edit</span>.
      </p></li><li class="step"><p>
       In the <span class="guimenu">General</span> tab, select the desired entry from the
       <span class="guimenu">Set MTU</span> list.
      </p></li><li class="step"><p>
       To activate the configuration, confirm the settings.
      </p></li></ol></div></div></section><section class="sect4" id="sec-network-yast-change-pciemulti" data-id-title="PCIe Multifunction Devices"><div class="titlepage"><div><div><div class="title-container"><h5 class="title"><span class="title-number-name"><span class="title-number">19.4.1.2.7 </span><span class="title-name">PCIe Multifunction Devices</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-change-pciemulti">#</a></h5><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_yast.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     Multifunction devices that support LAN, iSCSI, and FCoE are supported.
     The YaST FCoE client (<code class="command">yast2 fcoe-client</code>) shows the
     private flags in additional columns to allow the user to select the device
     meant for FCoE. The YaST network module (<code class="command">yast2 lan</code>)
     excludes <span class="quote">“<span class="quote">storage only devices</span>”</span> for network configuration.
    </p><p>
     For more information about FCoE, see <span class="intraxref">Book “Storage Administration Guide”, Chapter 16 “Fibre Channel Storage over Ethernet Networks: FCoE”, Section 16.3 “Managing FCoE Services with YaST”</span>.
    </p></section><section class="sect4" id="sec-network-yast-change-infiniband" data-id-title="Infiniband Configuration for IP-over-InfiniBand (IPoIB)"><div class="titlepage"><div><div><div class="title-container"><h5 class="title"><span class="title-number-name"><span class="title-number">19.4.1.2.8 </span><span class="title-name">Infiniband Configuration for IP-over-InfiniBand (IPoIB)</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-change-infiniband">#</a></h5><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_yast.xml" title="Edit source document"> </a></div></div></div></div></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
       In YaST select the InfiniBand device in <span class="guimenu">System</span> › <span class="guimenu">Network Settings</span> and click <span class="guimenu">Edit</span>.
      </p></li><li class="step"><p>
       In the <span class="guimenu">General</span> tab, select one of the
       <span class="guimenu">IP-over-InfiniBand</span> (IPoIB) modes:
       <span class="guimenu">connected</span> (default) or <span class="guimenu">datagram</span>.
      </p></li><li class="step"><p>
       To activate the configuration, confirm the settings.
      </p></li></ol></div></div><p>
     For more information about InfiniBand, see
     <code class="filename">/usr/src/linux/Documentation/infiniband/ipoib.txt</code>.
    </p></section><section class="sect4" id="sec-network-yast-change-fire" data-id-title="Configuring the Firewall"><div class="titlepage"><div><div><div class="title-container"><h5 class="title"><span class="title-number-name"><span class="title-number">19.4.1.2.9 </span><span class="title-name">Configuring the Firewall</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-change-fire">#</a></h5><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_yast.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     Without having to perform the detailed firewall setup as described in
     <span class="intraxref">Book “Security and Hardening Guide”, Chapter 23 “Masquerading and Firewalls”, Section 23.4 “<code class="systemitem">firewalld</code>”</span>, you can determine the
     basic firewall configuration for your device as part of the device setup.
     Proceed as follows:
    </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
       Open the YaST <span class="guimenu">System</span> › <span class="guimenu">Network
       Settings</span> module. In the
       <span class="guimenu">Overview</span> tab, select a card from the list of detected
       cards and click <span class="guimenu">Edit</span>.
      </p></li><li class="step"><p>
       Enter the <span class="guimenu">General</span> tab of the <span class="guimenu">Network
       Settings</span> dialog.
      </p></li><li class="step"><p>
       Determine the <span class="guimenu">Firewall Zone</span> to which your interface
       should be assigned. The following options are available:
      </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.5.5.16.6.9.11.3.3.2.1"><span class="term">Firewall Disabled</span></dt><dd><p>
          This option is available only if the firewall is disabled and the
          firewall does not run. Only use this option if your machine is part
          of a greater network that is protected by an outer firewall.
         </p></dd><dt id="id-1.3.5.5.16.6.9.11.3.3.2.2"><span class="term">Automatically Assign Zone</span></dt><dd><p>
          This option is available only if the firewall is enabled. The
          firewall is running and the interface is automatically assigned to a
          firewall zone. The zone which contains the keyword
          <code class="literal">any</code> or the external zone will be used for such an
          interface.
         </p></dd><dt id="id-1.3.5.5.16.6.9.11.3.3.2.3"><span class="term">Internal Zone (Unprotected)</span></dt><dd><p>
          The firewall is running, but does not enforce any rules to protect
          this interface. Use this option if your machine is part of a greater
          network that is protected by an outer firewall. It is also useful for
          the interfaces connected to the internal network, when the machine
          has more network interfaces.
         </p></dd><dt id="id-1.3.5.5.16.6.9.11.3.3.2.4"><span class="term">Demilitarized Zone</span></dt><dd><p>
          A demilitarized zone is an additional line of defense in front of an
          internal network and the (hostile) Internet. Hosts assigned to this
          zone can be reached from the internal network and from the Internet,
          but cannot access the internal network.
         </p></dd><dt id="id-1.3.5.5.16.6.9.11.3.3.2.5"><span class="term">External Zone</span></dt><dd><p>
          The firewall is running on this interface and fully protects it
          against other—presumably hostile—network traffic. This is
          the default option.
         </p></dd></dl></div></li><li class="step"><p>
       To activate the configuration, confirm the settings.
      </p></li></ol></div></div></section></section><section class="sect3" id="sec-network-yast-netcard-man" data-id-title="Configuring an Undetected Network Card"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.4.1.3 </span><span class="title-name">Configuring an Undetected Network Card</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-netcard-man">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_yast.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    If a network card is not detected correctly, the card is not included in
    the list of detected cards. If you are sure that your system includes a
    driver for your card, you can configure it manually. You can also configure
    special network device types, such as bridge, bond, TUN or TAP. To
    configure an undetected network card (or a special device) proceed as
    follows:
   </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      In the <span class="guimenu">System</span> › <span class="guimenu">Network
      Settings</span> › <span class="guimenu">Overview</span> dialog in
      YaST click <span class="guimenu">Add</span>.
     </p></li><li class="step"><p>
      In the <span class="guimenu">Hardware</span> dialog, set the <span class="guimenu">Device
      Type</span> of the interface from the available options and
      <span class="guimenu">Configuration Name</span>. If the network card is a
      USB device, activate the respective check box and exit this dialog with
      <span class="guimenu">Next</span>. Otherwise, you can define the kernel
      <span class="guimenu">Module Name</span> to be used for the card and its
      <span class="guimenu">Options</span>, if necessary.
     </p><p>
      In <span class="guimenu">Ethtool Options</span>, you can set
      <code class="command">ethtool</code> options used by <code class="command">ifup</code> for
      the interface. For information about available options, see the
      <code class="command">ethtool</code> manual page.
     </p><p>
      If the option string starts with a
      <code class="literal">-</code> (for example, <code class="literal">-K
      <em class="replaceable">INTERFACE_NAME</em> rx on</code>), the second
      word in the string is replaced with the current interface name. Otherwise
      (for example, <code class="literal">autoneg off speed 10</code>)
      <code class="command">ifup</code> adds <code class="literal">-s
      <em class="replaceable">INTERFACE_NAME</em></code> to the beginning.
     </p></li><li class="step"><p>
      Click <span class="guimenu">Next</span>.
     </p></li><li class="step"><p>
      Configure any needed options, such as the IP address, device activation
      or firewall zone for the interface in the <span class="guimenu">General</span>,
      <span class="guimenu">Address</span>, and <span class="guimenu">Hardware</span> tabs. For
      more information about the configuration options, see
      <a class="xref" href="cha-network.html#sec-network-yast-netcard-change" title="19.4.1.2. Changing the Configuration of a Network Card">Section 19.4.1.2, “Changing the Configuration of a Network Card”</a>.
     </p></li><li class="step"><p>
      If you selected <span class="guimenu">Wireless</span> as the device type of the
      interface, configure the wireless connection in the next dialog.
     </p></li><li class="step"><p>
      To activate the new network configuration, confirm the settings.
     </p></li></ol></div></div></section><section class="sect3" id="sec-network-yast-change-host" data-id-title="Configuring Host Name and DNS"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.4.1.4 </span><span class="title-name">Configuring Host Name and DNS</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-change-host">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_yast.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    If you did not change the network configuration during installation and the
    Ethernet card was already available, a host name was automatically
    generated for your computer and DHCP was activated. The same applies to the
    name service information your host needs to integrate into a network
    environment. If DHCP is used for network address setup, the list of domain
    name servers is automatically filled with the appropriate data. If a static
    setup is preferred, set these values manually.
   </p><p>
    To change the name of your computer and adjust the name server search list,
    proceed as follows:
   </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Go to the <span class="guimenu">Network Settings</span> › <span class="guimenu">Hostname/DNS</span> tab in the
      <span class="guimenu">System</span> module in YaST.
     </p></li><li class="step"><p>
      Enter the <span class="guimenu">Hostname</span>. Note that the host name is global 
      and applies to all network interfaces.
     </p><p>
      If you are using DHCP to get an IP address, the host name of your
      computer will be automatically set by the DHCP server. You should disable this
      behavior if you connect to different networks, because they may assign
      different host names and changing the host name at runtime may confuse
      the graphical desktop. To disable using DHCP to get an IP address
      deactivate <span class="guimenu">Change Hostname via DHCP</span>.
     </p></li><li class="step"><p>
      In <span class="guimenu">Modify DNS Configuration</span>, select the way the DNS
      configuration (name servers, search list, the content of the
      <code class="filename">/run/netconfig/resolv.conf</code> file) is modified.
     </p><p>
      If the <span class="guimenu">Use Default Policy</span> option is selected, the
      configuration is handled by the <code class="command">netconfig</code> script which
      merges the data defined statically (with YaST or in the configuration
      files) with data obtained dynamically (from the DHCP client or
      NetworkManager). This default policy is usually sufficient.
     </p><p>
      If the <span class="guimenu">Only Manually</span> option is selected,
      <code class="command">netconfig</code> is not allowed to modify the
      <code class="filename">/run/netconfig/resolv.conf</code> file. However, this file can be
      edited manually.
     </p><p>
      If the <span class="guimenu">Custom Policy</span> option is selected, a
      <span class="guimenu">Custom Policy Rule</span> string defining the merge policy
      should be specified. The string consists of a comma-separated list of
      interface names to be considered a valid source of settings. Except for
      complete interface names, basic wild cards to match multiple interfaces
      are allowed, as well. For example, <code class="literal">eth* ppp?</code> will
      first target all eth and then all ppp0-ppp9 interfaces. There are two
      special policy values that indicate how to apply the static settings
      defined in the <code class="filename">/etc/sysconfig/network/config</code> file:
     </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.5.5.16.6.11.4.3.5.1"><span class="term"><code class="literal">STATIC</code>
       </span></dt><dd><p>
         The static settings need to be merged together with the dynamic
         settings.
        </p></dd><dt id="id-1.3.5.5.16.6.11.4.3.5.2"><span class="term"><code class="literal">STATIC_FALLBACK</code>
       </span></dt><dd><p>
         The static settings are used only when no dynamic configuration is
         available.
        </p></dd></dl></div><p>
      For more information, see the man page of <code class="command">netconfig</code>(8)
      (<code class="command">man 8 netconfig</code>).
     </p></li><li class="step"><p>
      Enter the <span class="guimenu">Name Servers</span> and fill in the <span class="guimenu">Domain
      Search</span> list. Name servers must be specified by IP addresses,
      such as 192.168.1.116, not by host names. Names specified in the
      <span class="guimenu">Domain Search</span> tab are domain names used for resolving
      host names without a specified domain. If more than one <span class="guimenu">Domain
      Search</span> is used, separate domains with commas or white space.
     </p></li><li class="step"><p>
      To activate the configuration, confirm the settings.
     </p></li></ol></div></div><p>
    It is also possible to edit the host name using YaST from the command
    line. The changes made by YaST take effect immediately (which is not the
    case when editing the <code class="filename">/etc/HOSTNAME</code> file manually). To
    change the host name, use the following command:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>yast dns edit hostname=<em class="replaceable">HOSTNAME</em></pre></div><p>
    To change the name servers, use the following commands:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>yast dns edit nameserver1=192.168.1.116
<code class="prompt root"># </code>yast dns edit nameserver2=192.168.1.117
<code class="prompt root"># </code>yast dns edit nameserver3=192.168.1.118</pre></div></section><section class="sect3" id="sec-network-yast-change-route" data-id-title="Configuring Routing"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.4.1.5 </span><span class="title-name">Configuring Routing</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-change-route">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_yast.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    To make your machine communicate with other machines and other networks,
    routing information must be given to make network traffic take the correct
    path. If DHCP is used, this information is automatically provided. If a
    static setup is used, this data must be added manually.
   </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      In YaST go to <span class="guimenu">Network Settings</span> › <span class="guimenu">Routing</span>.
     </p></li><li class="step"><p>
      Enter the IP address of the <span class="guimenu">Default Gateway</span> (IPv4 and
      IPv6 if necessary). The default gateway matches every possible
      destination, but if a routing table entry exists that matches the
      required address, this will be used instead of the default route via the
      Default Gateway.
     </p></li><li class="step"><p>
      More entries can be entered in the <span class="guimenu">Routing Table</span>.
      Enter the <span class="guimenu">Destination</span> network IP address,
      <span class="guimenu">Gateway</span> IP address and the <span class="guimenu">Netmask</span>.
      Select the <span class="guimenu">Device</span> through which the traffic to the
      defined network will be routed (the minus sign stands for any device).
      
      To omit any of these values, use the minus sign <code class="literal">-</code>. To
      enter a default gateway into the table, use <code class="literal">default</code> in
      the <span class="guimenu">Destination</span> field.
     </p><div id="id-1.3.5.5.16.6.12.3.3.2" data-id-title="Route Prioritization" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Route Prioritization</div><p>
       If more default routes are used, it is possible to specify the metric
       option to determine which route has a higher priority. To specify the
       metric option, enter <code class="option">- metric
       <em class="replaceable">NUMBER</em></code> in <span class="guimenu">Options</span>.
       The lowest possible metric is 0. The route with the lowest metric has the
       highest priority and is used as default. If the network device is
       disconnected, its route will be removed and the next one will be used.
      </p></div></li><li class="step"><p>
      If the system is a router, enable <span class="guimenu">IPv4 Forwarding</span> and
      <span class="guimenu">IPv6 Forwarding</span> in the <span class="guimenu">Network
      Settings</span> as needed.
     </p></li><li class="step"><p>
      To activate the configuration, confirm the settings.
     </p></li></ol></div></div></section></section><section class="sect2" id="sec-network-yast-s390" data-id-title="IBM Z: configuring network devices"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.4.2 </span><span class="title-name">IBM Z: configuring network devices</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-s390">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/zseries_net_lan_devices.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> for IBM Z supports several types of network interfaces.
  YaST can be used to configure all of them.
 </p><section class="sect3" id="sec-network-yast-s390-hsi" data-id-title="The qeth-hsi Device"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.4.2.1 </span><span class="title-name">The qeth-hsi Device</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-s390-hsi">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/zseries_net_lan_devices.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To add a <code class="literal">qeth-hsi</code> (HiperSockets) interface to the
   installed system, start the <span class="guimenu">System</span> › <span class="guimenu">Network Settings</span> module in YaST. Select
   one of the devices marked <span class="guimenu">Hipersocket</span> to use as the READ
   device address and click <span class="guimenu">Edit</span>. Enter the device numbers
   for the read, write and control channels (example device number format:
   <code class="literal">0.0.0800</code>). Then click next. In the <span class="guimenu">Network
   Address Setup</span> dialog, specify the IP address and netmask for the
   new interface and leave the network configuration by clicking
   <span class="guimenu">Next</span> and <span class="guimenu">OK</span>.
  </p></section><section class="sect3" id="sec-network-yast-s390-eth" data-id-title="The qeth-ethernet Device"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.4.2.2 </span><span class="title-name">The qeth-ethernet Device</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-s390-eth">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/zseries_net_lan_devices.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To add a <code class="literal">qeth-ethernet</code> (IBM OSA Express Ethernet Card)
   interface to the installed system, start the <span class="guimenu">System</span> › <span class="guimenu">Network Settings</span>
   module in YaST. Select one of the devices marked <span class="guimenu">IBM OSA Express
   Ethernet Card</span> to use as the READ device address and click
   <span class="guimenu">Edit</span>. Enter a device number for the read, write and
   control channels (example device number format:
   <code class="literal">0.0.0700</code>). Enter the needed port name, port number (if
   applicable) and some additional options, your IP address, and an appropriate
   netmask. Leave the network configuration with <span class="guimenu">Next</span> and
   <span class="guimenu">OK</span>.
  </p></section><section class="sect3" id="sec-network-yast-s390-ctc" data-id-title="The ctc Device"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.4.2.3 </span><span class="title-name">The ctc Device</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-s390-ctc">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/zseries_net_lan_devices.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To add a <code class="literal">ctc</code> (IBM parallel CTC Adapter) interface to the
   installed system, start the <span class="guimenu">System</span> › <span class="guimenu">Network Settings</span> module in YaST. Select
   one of the devices marked <span class="guimenu">IBM Parallel CTC Adapter</span> to use
   as your read channel and click <span class="guimenu">Configure</span>. Choose the
   <span class="guimenu">Device Settings</span> that fit your devices (usually this would
   be <span class="guimenu">Compatibility Mode</span>). Specify both your IP address and
   the IP address of the remote partner. If needed, adjust the MTU size with
   <span class="guimenu">Advanced</span> › <span class="guimenu">Detailed
   Settings</span>. Leave the network configuration with
   <span class="guimenu">Next</span> and <span class="guimenu">OK</span>.
  </p><div id="id-1.3.5.5.16.7.6.3" data-id-title="CTC is no Longer Supported" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: CTC is no Longer Supported</div><p>
    The use of this interface is deprecated. This interface will not be
    supported in future versions of <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>.
   </p></div></section><section class="sect3" id="sec-network-yast-s390-lcs" data-id-title="The lcs Device"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.4.2.4 </span><span class="title-name">The lcs Device</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-s390-lcs">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/zseries_net_lan_devices.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To add an <code class="literal">lcs</code> (IBM OSA-2 Adapter) interface to the
   installed system, start the <span class="guimenu">System</span> › <span class="guimenu">Network Settings</span> module in YaST. Select
   one of the devices marked <span class="guimenu">IBM OSA-2 Adapter</span> and click
   <span class="guimenu">Configure</span>. Enter the needed port number, some additional
   options, your IP address and an appropriate netmask. Leave the network
   configuration with <span class="guimenu">Next</span> and <span class="guimenu">OK</span>.
  </p></section><section class="sect3" id="sec-network-yast-s390-iucv" data-id-title="The IUCV Device"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.4.2.5 </span><span class="title-name">The IUCV Device</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-yast-s390-iucv">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/zseries_net_lan_devices.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To add an <code class="literal">iucv</code> (IUCV) interface to the installed system,
   start the <span class="guimenu">System</span> › <span class="guimenu">Network
   Settings</span> module in YaST. Select a device marked
   <span class="guimenu">IUCV</span> and click <span class="guimenu">Edit</span>. YaST prompts
   you for the name of your IUCV partner (<span class="guimenu">Peer</span>). Enter the
   name (this entry is case-sensitive) and select <span class="guimenu">Next</span>.
   Specify both the <span class="guimenu">IP Address</span> and the <span class="guimenu">Remote IP
   Address</span> of your partner. If needed, <span class="guimenu">Set MTU</span>
   size on <span class="guimenu">General</span> tab. Leave the network configuration with
   <span class="guimenu">Next</span> and <span class="guimenu">OK</span>.
  </p><div id="id-1.3.5.5.16.7.8.3" data-id-title="IUCV is no Longer Supported" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: IUCV is no Longer Supported</div><p>
    The use of this interface is deprecated. This interface will not be
    supported in future versions of <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>.
   </p></div></section></section></section><section class="sect1" id="sec-network-manconf" data-id-title="Configuring a Network Connection Manually"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">19.5 </span><span class="title-name">Configuring a Network Connection Manually</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_wicked.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Manual configuration of the network software should be the last alternative.
  Using YaST is recommended. However, this background information about the
  network configuration can also assist your work with YaST.
 </p><section class="sect2" id="sec-network-manconf-wicked" data-id-title="The wicked Network Configuration"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.5.1 </span><span class="title-name">The <code class="command">wicked</code> Network Configuration</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-wicked">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_wicked.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The tool and library called <code class="command">wicked</code> provides a new
   framework for network configuration.
  </p><p>
   One of the challenges with traditional network interface management is that
   different layers of network management get jumbled together into one single
   script, or at most two different scripts. These scripts interact with each other in a
   way that is not well defined. This leads to unpredictable issues, obscure
   constraints and conventions, etc. Several layers of special hacks for a variety of different scenarios increase the maintenance
   burden. Address configuration protocols are being used that are implemented
   via daemons like dhcpcd, which interact rather poorly with the rest of the
   infrastructure. Funky interface naming schemes that require heavy udev
   support are introduced to achieve persistent identification of interfaces.
  </p><p>
   The idea of wicked is to decompose the problem in several ways. None of them
   is entirely novel, but trying to put ideas from different projects together
   is hopefully going to create a better solution overall.
  </p><p>
   One approach is to use a client/server model. This allows wicked to define
   standardized facilities for things like address configuration that are well
   integrated with the overall framework. For example, using a specific address
   configuration, the administrator may request that an interface should be
   configured via DHCP or IPv4 zeroconf. In this case, the address configuration
   service simply obtains the lease from its server and passes it on to the
   wicked server process that installs the requested addresses and routes.
  </p><p>
   The other approach to decomposing the problem is to enforce the layering
   aspect. For any type of network interface, it is possible to define a dbus
   service that configures the network interface's device layer—a VLAN, a
   bridge, a bonding, or a paravirtualized device. Common functionality, such
   as address configuration, is implemented by joint services that are layered
   on top of these device specific services without having to implement them
   specifically.
  </p><p>
   The wicked framework implements these two aspects by using a variety of dbus
   services, which get attached to a network interface depending on its type.
   Here is a rough overview of the current object hierarchy in wicked.
  </p><p>
   Each network interface is represented via a child object of
   <code class="systemitem">/org/opensuse/Network/Interfaces</code>. The name of the
   child object is given by its ifindex. For example, the loopback interface,
   which usually gets ifindex 1, is
   <code class="systemitem">/org/opensuse/Network/Interfaces/1</code>, the first
   Ethernet interface registered is
   <code class="systemitem">/org/opensuse/Network/Interfaces/2</code>.
  </p><p>
   Each network interface has a <span class="quote">“<span class="quote">class</span>”</span> associated with it, which
   is used to select the dbus interfaces it supports. By default, each network
   interface is of class <code class="literal">netif</code>, and
   <code class="systemitem">wickedd</code> will automatically
   attach all interfaces compatible with this class. In the current
   implementation, this includes the following interfaces:
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.5.5.17.4.10.1"><span class="term">org.opensuse.Network.Interface</span></dt><dd><p>
      Generic network interface functions, such as taking the link up or down,
      assigning an MTU, etc.
     </p></dd><dt id="id-1.3.5.5.17.4.10.2"><span class="term">org.opensuse.Network.Addrconf.ipv4.dhcp, </span><span class="term">org.opensuse.Network.Addrconf.ipv6.dhcp, </span><span class="term">org.opensuse.Network.Addrconf.ipv4.auto</span></dt><dd><p>
      Address configuration services for DHCP,

      IPv4 zeroconf, etc.
     </p></dd></dl></div><p>
   Beyond this, network interfaces may require or offer special configuration
   mechanisms. For an Ethernet device, for example, you should be able to
   control the link speed, offloading of checksumming, etc. To achieve this,
   Ethernet devices have a class of their own, called
   <code class="literal">netif-ethernet</code>, which is a subclass of
   <code class="literal">netif</code>. As a consequence, the dbus interfaces assigned to
   an Ethernet interface include all the services listed above, plus the
   <code class="systemitem">org.opensuse.Network.Ethernet</code> service available only to objects belonging to the <code class="literal">netif-ethernet</code>
   class.
  </p><p>
   Similarly, there exist classes for interface types like bridges, VLANs,
   bonds, or infinibands.
  </p><p>
   How do you interact with an interface like VLAN (which is really a virtual network interface that
   sits on top of an Ethernet device) that needs to be created
   first? For this, wicked defines factory
   interfaces, such as
   <code class="systemitem">org.opensuse.Network.VLAN.Factory</code>. Such a factory
   interface offers a single function that lets you create an interface of the
   requested type. These factory interfaces are attached to the
   <code class="systemitem">/org/opensuse/Network/Interfaces</code> list node.
  </p><section class="sect3" id="sec-network-manconf-supported" data-id-title="wicked Architecture and Features"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.1.1 </span><span class="title-name"><code class="literal">wicked</code> Architecture and Features</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-supported">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_wicked.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The <code class="literal">wicked</code> service comprises several parts as depicted
    in <a class="xref" href="cha-network.html#wicked-architecture" title="wicked architecture">Figure 19.4, “<code class="literal">wicked</code> architecture”</a>.
   </p><div class="figure" id="wicked-architecture"><div class="figure-contents"><div class="mediaobject"><a href="images/wicked_scheme.png"><img src="images/wicked_scheme.png" alt="wicked architecture" title="wicked architecture"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 19.4: </span><span class="title-name"><code class="literal">wicked</code> architecture </span></span><a title="Permalink" class="permalink" href="cha-network.html#wicked-architecture">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_wicked.xml" title="Edit source document"> </a></div></div></div><p>
    <code class="literal">wicked</code> currently supports the following:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      Configuration file back-ends to parse SUSE style
      <code class="filename">/etc/sysconfig/network</code> files.
     </p></li><li class="listitem"><p>
      An internal configuration back-end to represent network interface
      configuration in XML.


     </p></li><li class="listitem"><p>
      Bring up and shutdown of <span class="quote">“<span class="quote">normal</span>”</span> network interfaces such as
      Ethernet or InfiniBand, VLAN, bridge, bonds, tun, tap, dummy, macvlan,
      macvtap, hsi, qeth, iucv, and wireless (currently limited to one
      wpa-psk/eap network) devices.
     </p></li><li class="listitem"><p>
      A built-in DHCPv4 client and a built-in DHCPv6 client.
     </p></li><li class="listitem"><p>
      The nanny daemon (enabled by default) helps to automatically bring up
      configured interfaces when the device is available (interface
      hotplugging) and set up the IP configuration when a link (carrier) is
      detected. See <a class="xref" href="cha-network.html#sec-network-manconf-using-nanny" title="19.5.1.3. Nanny">Section 19.5.1.3, “Nanny”</a> for more
      information.
     </p></li><li class="listitem"><p>
      <code class="literal">wicked</code> was implemented as a group of DBus services
      that are integrated with systemd. So the usual
      <code class="command">systemctl</code> commands will apply to
      <code class="literal">wicked</code>.
     </p></li></ul></div></section><section class="sect3" id="sec-network-manconf-using-wicked" data-id-title="Using wicked"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.1.2 </span><span class="title-name">Using <code class="literal">wicked</code></span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-using-wicked">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_wicked.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    On SUSE Linux Enterprise, <code class="literal">wicked</code> runs by default. If you want to check
    what is currently enabled and whether it is running, call:
   </p><div class="verbatim-wrap"><pre class="screen">systemctl status network</pre></div><p>
    If <code class="literal">wicked</code> is enabled, you will see something along these
    lines:
   </p><div class="verbatim-wrap"><pre class="screen">wicked.service - wicked managed network interfaces
    Loaded: loaded (/usr/lib/systemd/system/wicked.service; enabled)
    ...</pre></div><p>
    In case something different is running (for example, NetworkManager) and you want to
    switch to <code class="literal">wicked</code>, first stop what is running and then
    enable <code class="literal">wicked</code>:
   </p><div class="verbatim-wrap"><pre class="screen">systemctl is-active network &amp;&amp; \
systemctl stop      network
systemctl enable --force wicked</pre></div><p>
    This enables the wicked services, creates the
    <code class="filename">network.service</code> to <code class="filename">wicked.service</code>
    alias link, and starts the network at the next boot.
   </p><p>
    Starting the server process:
   </p><div class="verbatim-wrap"><pre class="screen">systemctl start wickedd</pre></div><p>
    This starts <code class="command">wickedd</code> (the main server) and associated
    supplicants:
   </p><div class="verbatim-wrap"><pre class="screen">/usr/lib/wicked/bin/wickedd-auto4 --systemd --foreground
/usr/lib/wicked/bin/wickedd-dhcp4 --systemd --foreground
/usr/lib/wicked/bin/wickedd-dhcp6 --systemd --foreground
/usr/sbin/wickedd --systemd --foreground
/usr/sbin/wickedd-nanny --systemd --foreground</pre></div><p>
    Then bringing up the network:
   </p><div class="verbatim-wrap"><pre class="screen">systemctl start wicked</pre></div><p>
    Alternatively use the <code class="filename">network.service</code> alias:
   </p><div class="verbatim-wrap"><pre class="screen">systemctl start network</pre></div><p>
    These commands are using the default or system configuration sources as
    defined in <code class="filename">/etc/wicked/client.xml</code>.
   </p><p>
    To enable debugging, set <code class="literal">WICKED_DEBUG</code> in
    <code class="filename">/etc/sysconfig/network/config</code>, for example:
   </p><div class="verbatim-wrap"><pre class="screen">WICKED_DEBUG="all"</pre></div><p>
    Or, to omit some:
   </p><div class="verbatim-wrap"><pre class="screen">WICKED_DEBUG="all,-dbus,-objectmodel,-xpath,-xml"</pre></div><p>
    Use the client utility to display interface information for all interfaces
    or the interface specified with <em class="replaceable">IFNAME</em>:
   </p><div class="verbatim-wrap"><pre class="screen">wicked show all
wicked show <em class="replaceable">IFNAME</em></pre></div><p>
    In XML output:
   </p><div class="verbatim-wrap"><pre class="screen">wicked show-xml all
wicked show-xml <em class="replaceable">IFNAME</em></pre></div><p>
    Bringing up one interface:
   </p><div class="verbatim-wrap"><pre class="screen">wicked ifup eth0
wicked ifup wlan0
...</pre></div><p>
    Because there is no configuration source specified, the wicked client
    checks its default sources of configuration defined in
    <code class="filename">/etc/wicked/client.xml</code>:
   </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
      <code class="literal">firmware:</code> iSCSI Boot Firmware Table (iBFT)
     </p></li><li class="listitem"><p>
      <code class="literal">compat:</code> <code class="literal">ifcfg</code>
      files—implemented for compatibility
     </p></li></ol></div><p>
    Whatever <code class="literal">wicked</code> gets from those sources for a given
    interface is applied. The intended order of importance is
    <code class="literal">firmware</code>, then <code class="literal">compat</code>—this may
    be changed in the future.
   </p><p>
    For more information, see the <code class="command">wicked</code> man page.
   </p></section><section class="sect3" id="sec-network-manconf-using-nanny" data-id-title="Nanny"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.1.3 </span><span class="title-name">Nanny</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-using-nanny">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_wicked.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Nanny is an event and policy driven daemon that is responsible for
    asynchronous or unsolicited scenarios such as hotplugging devices. Thus the
    nanny daemon helps with starting or restarting delayed or temporarily gone
    devices. Nanny monitors device and link changes, and integrates new devices
    defined by the current policy set. Nanny continues to set up even if
    <code class="command">ifup</code> already exited because of specified timeout
    constraints.
   </p><p>
    By default, the nanny daemon is active on the system. It is enabled in the
    <code class="filename">/etc/wicked/common.xml</code> configuration file:
   </p><div class="verbatim-wrap"><pre class="screen">&lt;config&gt;
  ...
  &lt;use-nanny&gt;true&lt;/use-nanny&gt;
&lt;/config&gt;</pre></div><p>
    This setting causes ifup and ifreload to apply a policy with the effective
    configuration to the nanny daemon; then, nanny configures
    <code class="systemitem">wickedd</code> and thus ensures
    hotplug support. It waits in the background for events or changes (such as
    new devices or carrier on).
   </p></section><section class="sect3" id="sec-network-manconf-multiple" data-id-title="Bringing Up Multiple Interfaces"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.1.4 </span><span class="title-name">Bringing Up Multiple Interfaces</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-multiple">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_wicked.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    For bonds and bridges, it may make sense to define the entire device
    topology in one file (ifcfg-bondX), and bring it up in one go. wicked then
    can bring up the whole configuration if you specify the top level interface
    names (of the bridge or bond):
   </p><div class="verbatim-wrap"><pre class="screen">wicked ifup br0</pre></div><p>
    This command automatically sets up the bridge and its dependencies in the
    appropriate order without the need to list the dependencies (ports, etc.)
    separately.
   </p><p>
    To bring up multiple interfaces in one command:
   </p><div class="verbatim-wrap"><pre class="screen">wicked ifup bond0 br0 br1 br2</pre></div><p>
    Or also all interfaces:
   </p><div class="verbatim-wrap"><pre class="screen">wicked ifup all</pre></div></section><section class="sect3" id="sec-network-manconf-tunnel" data-id-title="Using Tunnels with Wicked"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.1.5 </span><span class="title-name">Using Tunnels with Wicked</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-tunnel">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_wicked.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    When you need to use tunnels with Wicked, the <code class="envar">TUNNEL_DEVICE</code>
    is used for this. It permits to specify an optional device name to bind
    the tunnel to the device. The tunneled packets will only be routed via this
    device.
   </p><p>
    For more information, refer to <code class="command">man 5 ifcfg-tunnel</code>.
   </p></section><section class="sect3" id="sec-network-manconf-incremental" data-id-title="Handling Incremental Changes"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.1.6 </span><span class="title-name">Handling Incremental Changes</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-incremental">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_wicked.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    With <code class="command">wicked</code>, there is no need to actually take down an
    interface to reconfigure it (unless it is required by the kernel). For
    example, to add another IP address or route to a statically configured
    network interface, add the IP address to the interface definition, and do
    another <span class="quote">“<span class="quote">ifup</span>”</span> operation. The server will try hard to update
    only those settings that have changed. This applies to link-level options
    such as the device MTU or the MAC address, and network-level settings, such
    as addresses, routes, or even the address configuration mode (for example,
    when moving from a static configuration to DHCP).
   </p><p>
    Things get tricky of course with virtual interfaces combining several real
    devices such as bridges or bonds. For bonded devices, it is not possible to
    change certain parameters while the device is up. Doing that will result in
    an error.
   </p><p>
    However, what should still work, is the act of adding or removing the child
    devices of a bond or bridge, or choosing a bond's primary interface.
   </p></section><section class="sect3" id="sec-network-manconf-address-config" data-id-title="Wicked Extensions: Address Configuration"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.1.7 </span><span class="title-name">Wicked Extensions: Address Configuration</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-address-config">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_wicked.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    <code class="command">wicked</code> is designed to be extensible with shell scripts.
    These extensions can be defined in the <code class="filename">config.xml</code>
    file.
   </p><p>
    Currently, several classes of extensions are supported:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      link configuration: these are scripts responsible for setting up a
      device's link layer according to the configuration provided by the
      client, and for tearing it down again.
     </p></li><li class="listitem"><p>
      address configuration: these are scripts responsible for managing a
      device's address configuration. Usually address configuration and DHCP
      are managed by <code class="command">wicked</code> itself, but can be implemented
      by means of extensions.
     </p></li><li class="listitem"><p>
      firewall extension: these scripts can apply firewall rules.
     </p></li></ul></div><p>
    Typically, extensions have a start and a stop command, an optional
    <span class="quote">“<span class="quote">pid file</span>”</span>, and a set of environment variables that get passed
    to the script.
   </p><p>
    To illustrate how this is supposed to work, look at a firewall extension
    defined in <code class="filename">etc/server.xml</code>:
   </p><div class="verbatim-wrap"><pre class="screen">&lt;dbus-service interface="org.opensuse.Network.Firewall"&gt;
 &lt;action name="firewallUp"   command="/etc/wicked/extensions/firewall up"/&gt;
 &lt;action name="firewallDown" command="/etc/wicked/extensions/firewall down"/&gt;

 &lt;!-- default environment for all calls to this extension script --&gt;
 &lt;putenv name="WICKED_OBJECT_PATH" value="$object-path"/&gt;
 &lt;putenv name="WICKED_INTERFACE_NAME" value="$property:name"/&gt;
 &lt;putenv name="WICKED_INTERFACE_INDEX" value="$property:index"/&gt;
&lt;/dbus-service&gt;</pre></div><p>
    The extension is attached to the
    <code class="sgmltag-starttag">&lt;dbus-service&gt;</code>
    tag and defines commands to execute for the actions of this interface.
    Further, the declaration can define and initialize environment variables
    passed to the actions.
   </p></section><section class="sect3" id="sec-network-manconf-configuration-files" data-id-title="Wicked Extensions: Configuration Files"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.1.8 </span><span class="title-name">Wicked Extensions: Configuration Files</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-configuration-files">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_wicked.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    You can extend the handling of configuration files with scripts as well.
    For example, DNS updates from leases are ultimately handled by the
    <code class="filename">extensions/resolver</code> script, with behavior configured
    in <code class="filename">server.xml</code>:
   </p><div class="verbatim-wrap"><pre class="screen">&lt;system-updater name="resolver"&gt;
 &lt;action name="backup" command="/etc/wicked/extensions/resolver backup"/&gt;
 &lt;action name="restore" command="/etc/wicked/extensions/resolver restore"/&gt;
 &lt;action name="install" command="/etc/wicked/extensions/resolver install"/&gt;
 &lt;action name="remove" command="/etc/wicked/extensions/resolver remove"/&gt;
&lt;/system-updater&gt;</pre></div><p>
    When an update arrives in <code class="systemitem">wickedd</code>, the system
    updater routines parse the lease and call the appropriate commands
    (<code class="literal">backup</code>, <code class="literal">install</code>, etc.) in the
    resolver script. This in turn configures the DNS settings using
    <code class="command">/sbin/netconfig</code>, or by manually writing
    <code class="filename">/run/netconfig/resolv.conf</code> as a fallback.
   </p></section></section><section class="sect2" id="sec-network-manconf-files" data-id-title="Configuration Files"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.5.2 </span><span class="title-name">Configuration Files</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-files">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  This section provides an overview of the network configuration files and
  explains their purpose and the format used.
 </p><section class="sect3" id="wicked-configuration-common-xml" data-id-title="/etc/wicked/common.xml"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.2.1 </span><span class="title-name"><code class="filename">/etc/wicked/common.xml</code></span></span> <a title="Permalink" class="permalink" href="cha-network.html#wicked-configuration-common-xml">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The <code class="filename">/etc/wicked/common.xml</code> file contains common
   definitions that should be used by all applications. It is sourced/included
   by the other configuration files in this directory. Although you can use
   this file to enable debugging across all
   <code class="literal">wicked</code> components, we recommend to use the file
   <code class="filename">/etc/wicked/local.xml</code> for this purpose. After applying
   maintenance updates you might lose your changes as the
   <code class="filename">/etc/wicked/common.xml</code> might be overwritten. The
   <code class="filename">/etc/wicked/common.xml</code> file includes the
   <code class="filename">/etc/wicked/local.xml</code> in the default installation, thus
   you typically do not need to modify the
   <code class="filename">/etc/wicked/common.xml</code>.
  </p><p>
   In case you want to disable <code class="literal">nanny</code> by setting the
   <code class="literal">&lt;use-nanny&gt;</code> to <code class="literal">false</code>, restart
   the <code class="literal">wickedd.service</code> and then run the following command to
   apply all configurations and policies:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> wicked ifup all</pre></div><div id="id-1.3.5.5.17.5.4.5" data-id-title="Configuration Files" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Configuration Files</div><p>
    The <code class="literal">wickedd</code>, <code class="literal">wicked</code>, or
    <code class="literal">nanny</code> programs try to read
    <code class="filename">/etc/wicked/common.xml</code> if their own configuration
    files do not exist.
   </p></div></section><section class="sect3" id="wicked-configuration-server-xml" data-id-title="/etc/wicked/server.xml"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.2.2 </span><span class="title-name"><code class="filename">/etc/wicked/server.xml</code></span></span> <a title="Permalink" class="permalink" href="cha-network.html#wicked-configuration-server-xml">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The file <code class="filename">/etc/wicked/server.xml</code> is read by the
   <code class="literal">wickedd</code> server process at start-up. The file stores
   extensions to the <code class="filename">/etc/wicked/common.xml</code>. On top of
   that this file configures handling of a resolver and receiving information
   from <code class="literal">addrconf</code> supplicants, for example DHCP.
  </p><p>
   We recommend to add changes required to this file into a separate file
   <code class="filename">/etc/wicked/server-local.xml</code>, that gets included by
   <code class="filename">/etc/wicked/server.xml</code>. By using a separate file
   you avoid overwriting of your changes during maintenance updates.
  </p></section><section class="sect3" id="wicked-configuration-client-xml" data-id-title="/etc/wicked/client.xml"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.2.3 </span><span class="title-name"><code class="filename">/etc/wicked/client.xml</code></span></span> <a title="Permalink" class="permalink" href="cha-network.html#wicked-configuration-client-xml">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The <code class="filename">/etc/wicked/client.xml</code> is used by the
   <code class="command">wicked</code> command. The file specifies the location of a
   script used when discovering devices managed by ibft and configures
   locations of network interface configurations.
  </p><p>
   We recommend to add changes required to this file into a separate file
   <code class="filename">/etc/wicked/client-local.xml</code>, that gets included by
   <code class="filename">/etc/wicked/server.xml</code>. By using a separate file
   you avoid overwriting of your changes during maintenance updates.
  </p></section><section class="sect3" id="wicked-configuration-nanny-xml" data-id-title="/etc/wicked/nanny.xml"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.2.4 </span><span class="title-name"><code class="filename">/etc/wicked/nanny.xml</code></span></span> <a title="Permalink" class="permalink" href="cha-network.html#wicked-configuration-nanny-xml">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The <code class="filename">/etc/wicked/nanny.xml</code> configures types of link
   layers. We recommend to add specific configuration into a separate file:
   <code class="filename">/etc/wicked/nanny-local.xml</code> to avoid losing the changes
   during maintenance updates.
  </p></section><section class="sect3" id="sec-network-manconf-files-ifcfg" data-id-title="/etc/sysconfig/network/ifcfg-*"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.2.5 </span><span class="title-name"><code class="filename">/etc/sysconfig/network/ifcfg-*</code></span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-files-ifcfg">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   These files contain the traditional configurations for network interfaces.
   In <span class="phrase">SUSE Linux Enterprise 11</span>, this was the only supported format besides iBFT firmware.
  </p><div id="id-1.3.5.5.17.5.8.3" data-id-title="wicked and the ifcfg-* Files" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: <code class="command">wicked</code> and the <code class="filename">ifcfg-*</code> Files</div><p>
    <code class="command">wicked</code> reads these files if you specify the
    <code class="literal">compat:</code> prefix. According to the <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> default
    configuration in <code class="filename">/etc/wicked/client.xml</code>,
    <code class="command">wicked</code> tries these files before the XML configuration
    files in <code class="filename">/etc/wicked/ifconfig</code>.
   </p><p>
    The <code class="option">--ifconfig</code> switch is provided mostly for testing only.
    If specified, default configuration sources defined in
    <code class="filename">/etc/wicked/ifconfig</code> are not applied.
   </p></div><p>
   The <code class="filename">ifcfg-*</code> files include information such as the start
   mode and the IP address. Possible parameters are described in the manual
   page of <code class="systemitem">ifup</code>. Additionally, most variables from the
   <code class="filename">dhcp</code> and <code class="filename">wireless</code> files can be
   used in the <code class="filename">ifcfg-*</code> files if a general setting should
   be used for only one interface. However, most of the
   <code class="filename">/etc/sysconfig/network/config</code> variables are global and
   cannot be overridden in ifcfg-files. For example,
   <code class="systemitem">NETCONFIG_*</code> variables are global.
  </p><p>

   For configuring <code class="systemitem">macvlan</code> and
   <code class="systemitem">macvtab</code> interfaces, see the
   <code class="systemitem">ifcfg-macvlan</code> and
   <code class="systemitem">ifcfg-macvtap</code> man pages. For example, for a macvlan
   interface provide a <code class="filename">ifcfg-macvlan0</code> with settings as
   follows:
  </p><div class="verbatim-wrap"><pre class="screen">STARTMODE='auto'
MACVLAN_DEVICE='eth0'
#MACVLAN_MODE='vepa'
#LLADDR=02:03:04:05:06:aa</pre></div><p>
   For <code class="filename">ifcfg.template</code>, see
   <a class="xref" href="cha-network.html#sec-network-manconf-files-config-etc" title="19.5.2.6. /etc/sysconfig/network/config, /etc/sysconfig/network/dhcp, and /etc/sysconfig/network/wireless">Section 19.5.2.6, “<code class="filename">/etc/sysconfig/network/config</code>, <code class="filename">/etc/sysconfig/network/dhcp</code>, and <code class="filename">/etc/sysconfig/network/wireless</code>”</a>.
  </p><p><strong class="arch-arrow-start">IBM Z</strong>
   IBM Z does not support USB. The names of the interface files and
   network aliases contain IBM Z-specific elements like
   <code class="literal">qeth</code>.
  <strong class="arch-arrow-end"> </strong></p></section><section class="sect3" id="sec-network-manconf-files-config-etc" data-id-title="/etc/sysconfig/network/config, /etc/sysconfig/network/dhcp, and /etc/sysconfig/network/wireless"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.2.6 </span><span class="title-name"><code class="filename">/etc/sysconfig/network/config</code>, <code class="filename">/etc/sysconfig/network/dhcp</code>, and <code class="filename">/etc/sysconfig/network/wireless</code></span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-files-config-etc">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The file <code class="filename">config</code> contains general settings for the
   behavior of <code class="command">ifup</code>, <code class="command">ifdown</code> and
   <code class="command">ifstatus</code>. <code class="filename">dhcp</code> contains settings for
   DHCP and <code class="filename">wireless</code> for wireless LAN cards. The variables
   in all three configuration files are commented. Some variables from
   <code class="filename">/etc/sysconfig/network/config</code> can also be used in
   <code class="filename">ifcfg-*</code> files, where they are given a higher priority.
   The <code class="filename">/etc/sysconfig/network/ifcfg.template</code> file lists
   variables that can be specified in a per interface scope. However, most of
   the <code class="filename">/etc/sysconfig/network/config</code> variables are global
   and cannot be overridden in ifcfg-files. For example,
   <code class="systemitem">NETWORKMANAGER</code> or
   <code class="systemitem">NETCONFIG_*</code> variables are global.
  </p><div id="id-1.3.5.5.17.5.9.3" data-id-title="Using DHCPv6" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Using DHCPv6</div><p>
    In <span class="phrase">SUSE Linux Enterprise 11</span>, DHCPv6 used to work even on networks where IPv6 Router
    Advertisements (RAs) were not configured properly. Starting with <span class="phrase">SUSE Linux Enterprise 12</span>,
    DHCPv6 will correctly require that at least one of the routers on the
    network sends out RAs that indicate that this network is managed by DHCPv6.
   </p><p>
    For networks where the router cannot be configured correctly, the <code class="literal">ifcfg</code> option allows the user to override this
    behavior by specifying <code class="literal">DHCLIENT6_MODE='managed'</code> in the
    <code class="literal">ifcfg</code> file.

    You can also activate this workaround with a boot parameter in the
    installation system:
   </p><div class="verbatim-wrap"><pre class="screen">ifcfg=eth0=dhcp6,DHCLIENT6_MODE=managed</pre></div></div></section><section class="sect3" id="sec-network-manconf-files-routes" data-id-title="/etc/sysconfig/network/routes and /etc/sysconfig/network/ifroute-*"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.2.7 </span><span class="title-name"><code class="filename">/etc/sysconfig/network/routes</code> and <code class="filename">/etc/sysconfig/network/ifroute-*</code></span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-files-routes">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The static routing of TCP/IP packets is determined by the
   <code class="filename">/etc/sysconfig/network/routes</code> and
   <code class="filename">/etc/sysconfig/network/ifroute-*</code> files. All the static
   routes required by the various system tasks can be specified in
   <code class="filename">/etc/sysconfig/network/routes</code>: routes to a host, routes
   to a host via a gateway and routes to a network. For each interface that
   needs individual routing, define an additional configuration file:
   <code class="filename">/etc/sysconfig/network/ifroute-*</code>. Replace the wild card
   (<code class="literal">*</code>) with the name of the interface. The entries in the
   routing configuration files look like this:
  </p><div class="verbatim-wrap"><pre class="screen"># Destination     Gateway           Netmask            Interface  Options</pre></div><p>
   The route's destination is in the first column. This column may contain the
   IP address of a network or host or, in the case of
   <span class="emphasis"><em>reachable</em></span> name servers, the fully qualified network or
   host name. The network should be written in CIDR notation (address with the
   associated routing prefix-length) such as 10.10.0.0/16 for IPv4 or fc00::/7
   for IPv6 routes. The keyword <code class="literal">default</code> indicates that the
   route is the default gateway in the same address family as the gateway. For
   devices without a gateway use explicit 0.0.0.0/0 or ::/0 destinations.
  </p><p>
   The second column contains the default gateway or a gateway through which a
   host or network can be accessed.
  </p><p>
   The third column is deprecated; it used to contain the IPv4 netmask of the
   destination. For IPv6 routes, the default route, or when using a
   prefix-length (CIDR notation) in the first column, enter a dash
   (<code class="literal">-</code>) here.
  </p><p>
   The fourth column contains the name of the interface. If you leave it empty
   using a dash (<code class="literal">-</code>), it can cause unintended behavior in
   <code class="filename">/etc/sysconfig/network/routes</code>. For more information,
   see the <code class="systemitem">routes</code> man page.
  </p><p>
   An (optional) fifth column can be used to specify special options. For
   details, see the <code class="systemitem">routes</code> man page.
  </p><div class="example" id="id-1.3.5.5.17.5.10.9" data-id-title="Common Network Interfaces and Some Static Routes"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 19.5: </span><span class="title-name">Common Network Interfaces and Some Static Routes </span></span><a title="Permalink" class="permalink" href="cha-network.html#id-1.3.5.5.17.5.10.9">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen"># --- IPv4 routes in CIDR prefix notation:
# Destination     [Gateway]         -                  Interface
127.0.0.0/8       -                 -                  lo
204.127.235.0/24  -                 -                  eth0
default           204.127.235.41    -                  eth0
207.68.156.51/32  207.68.145.45     -                  eth1
192.168.0.0/16    207.68.156.51     -                  eth1

# --- IPv4 routes in deprecated netmask notation"
# Destination     [Dummy/Gateway]   Netmask            Interface
#
127.0.0.0         0.0.0.0           255.255.255.0      lo
204.127.235.0     0.0.0.0           255.255.255.0      eth0
default           204.127.235.41    0.0.0.0            eth0
207.68.156.51     207.68.145.45     255.255.255.255    eth1
192.168.0.0       207.68.156.51     255.255.0.0        eth1

# --- IPv6 routes are always using CIDR notation:
# Destination     [Gateway]                -           Interface
2001:DB8:100::/64 -                        -           eth0
2001:DB8:100::/32 fe80::216:3eff:fe6d:c042 -           eth0</pre></div></div></div></section><section class="sect3" id="sec-network-manconf-files-resolv" data-id-title="/var/run/netconfig/resolv.conf"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.2.8 </span><span class="title-name"><code class="filename">/var/run/netconfig/resolv.conf</code></span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-files-resolv">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The domain to which the host belongs is specified in
   <code class="filename">/var/run/netconfig/resolv.conf</code> (keyword
   <code class="systemitem">search</code>). Up to six domains with a total of 256
   characters can be specified with the <code class="systemitem">search</code> option.
   When resolving a name that is not fully qualified, an attempt is made to
   generate one by attaching the individual <code class="systemitem">search</code>
   entries. Up to three name servers can be specified with the
   <code class="systemitem">nameserver</code> option, each on a line of its own.
   Comments are preceded by hash mark or semicolon signs (<code class="literal">#</code>
   or <code class="literal">;</code>). As an example, see
   <a class="xref" href="cha-network.html#dat-netz-etc-resolv-conf" title="/var/run/netconfig/resolv.conf">Example 19.6, “<code class="filename">/var/run/netconfig/resolv.conf</code>”</a>.
  </p><p>
   However, <code class="filename">/etc/resolv.conf</code> should not be edited by
   hand. It is generated by the <code class="command">netconfig</code> script and is a
   symbolic link to <code class="filename">/run/netconfig/resolv.conf</code>.
   To define static DNS configuration without using YaST, edit the
   appropriate variables manually in the
   <code class="filename">/etc/sysconfig/network/config</code> file:
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.5.5.17.5.11.4.1"><span class="term"><code class="systemitem">NETCONFIG_DNS_STATIC_SEARCHLIST</code>
    </span></dt><dd><p>
      list of DNS domain names used for host name lookup
     </p></dd><dt id="id-1.3.5.5.17.5.11.4.2"><span class="term"><code class="systemitem">NETCONFIG_DNS_STATIC_SERVERS</code>
    </span></dt><dd><p>
      list of name server IP addresses to use for host name lookup
     </p></dd><dt id="id-1.3.5.5.17.5.11.4.3"><span class="term"><code class="systemitem">NETCONFIG_DNS_FORWARDER</code>
    </span></dt><dd><p>
      the name of the DNS forwarder that needs to be configured, for example
      <code class="literal">bind</code> or <code class="literal">resolver</code>
     </p></dd><dt id="id-1.3.5.5.17.5.11.4.4"><span class="term"><code class="systemitem">NETCONFIG_DNS_RESOLVER_OPTIONS</code>
    </span></dt><dd><p>
      arbitrary options that will be written to
      <code class="filename">/var/run/netconfig/resolv.conf</code>, for example:
     </p><div class="verbatim-wrap"><pre class="screen">debug attempts:1 timeout:10</pre></div><p>
      For more information, see the <code class="literal">resolv.conf</code> man page.
     </p></dd><dt id="id-1.3.5.5.17.5.11.4.5"><span class="term"><code class="systemitem">NETCONFIG_DNS_RESOLVER_SORTLIST</code>
    </span></dt><dd><p>
      list of up to 10 items, for example:
     </p><div class="verbatim-wrap"><pre class="screen">130.155.160.0/255.255.240.0 130.155.0.0</pre></div><p>
      For more information, see the <code class="systemitem">resolv.conf</code> man
      page.
     </p></dd></dl></div><p>
   To disable DNS configuration using netconfig, set
   <code class="literal">NETCONFIG_DNS_POLICY=''</code>. For more information about
   <code class="command">netconfig</code>, see the <code class="systemitem">netconfig(8)</code>
   man page (<code class="command">man 8 netconfig</code>).
  </p><div class="example" id="dat-netz-etc-resolv-conf" data-id-title="/var/run/netconfig/resolv.conf"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 19.6: </span><span class="title-name"><code class="filename">/var/run/netconfig/resolv.conf</code> </span></span><a title="Permalink" class="permalink" href="cha-network.html#dat-netz-etc-resolv-conf">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen"># Our domain
search example.com
#
# We use dns.example.com (192.168.1.116) as nameserver
nameserver 192.168.1.116</pre></div></div></div></section><section class="sect3" id="sec-network-manconf-netconfig" data-id-title="/sbin/netconfig"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.2.9 </span><span class="title-name"><code class="filename">/sbin/netconfig</code></span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-netconfig">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   <code class="command">netconfig</code> is a modular tool to manage additional network
   configuration settings. It merges statically defined settings with settings
   provided by autoconfiguration mechanisms as DHCP or PPP according to a
   predefined policy. The required changes are applied to the system by calling
   the netconfig modules that are responsible for modifying a configuration
   file and restarting a service or a similar action.
  </p><p>
   <code class="command">netconfig</code> recognizes three main actions. The
   <code class="command">netconfig modify</code> and <code class="command">netconfig remove</code>
   commands are used by daemons such as DHCP or PPP to provide or remove
   settings to netconfig. Only the <code class="command">netconfig update</code> command
   is available for the user:
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.5.5.17.5.12.4.1"><span class="term"><code class="command">modify</code>
    </span></dt><dd><p>
      The <code class="command">netconfig modify</code> command modifies the current
      interface and service specific dynamic settings and updates the network
      configuration. Netconfig reads settings from standard input or from a
      file specified with the <code class="option">--lease-file
      <em class="replaceable">FILENAME</em></code> option and internally stores
      them until a system reboot (or the next modify or remove action). Already
      existing settings for the same interface and service combination are
      overwritten. The interface is specified by the <code class="option">-i
      <em class="replaceable">INTERFACE_NAME</em></code> parameter. The service
      is specified by the <code class="option">-s
      <em class="replaceable">SERVICE_NAME</em></code> parameter.
     </p></dd><dt id="id-1.3.5.5.17.5.12.4.2"><span class="term"><code class="command">remove</code>
    </span></dt><dd><p>
      The <code class="command">netconfig remove</code> command removes the dynamic
      settings provided by an editing action for the specified interface
      and service combination and updates the network configuration. The
      interface is specified by the <code class="option">-i
      <em class="replaceable">INTERFACE_NAME</em></code> parameter. The service
      is specified by the <code class="option">-s
      <em class="replaceable">SERVICE_NAME</em></code> parameter.
     </p></dd><dt id="id-1.3.5.5.17.5.12.4.3"><span class="term"><code class="command">update</code>
    </span></dt><dd><p>

      The <code class="command">netconfig update</code> command updates the network
      configuration using current settings. This is useful when the policy or
      the static configuration has changed. Use the <code class="option">-m
      <em class="replaceable">MODULE_TYPE</em></code> parameter to
      update a specified service only (<code class="systemitem">dns</code>,
      <code class="systemitem">nis</code>, or <code class="systemitem">ntp</code>).
     </p></dd></dl></div><p>
   The netconfig policy and the static configuration settings are defined
   either manually or using YaST in the
   <code class="filename">/etc/sysconfig/network/config</code> file. The dynamic
   configuration settings provided by autoconfiguration tools such as DHCP or
   PPP are delivered directly by these tools with the <code class="command">netconfig
   modify</code> and <code class="command">netconfig remove</code> actions.

   When NetworkManager is enabled, netconfig (in policy mode <code class="literal">auto</code>)
   uses only NetworkManager settings, ignoring settings from any other interfaces
   configured using the traditional ifup method. If NetworkManager does not provide any
   setting, static settings are used as a fallback. A mixed usage of NetworkManager and
   the <code class="command">wicked</code> method is not supported.
  </p><p>
   For more information about <code class="command">netconfig</code>, see <code class="command">man 8
   netconfig</code>.
  </p></section><section class="sect3" id="sec-network-manconf-hosts" data-id-title="/etc/hosts"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.2.10 </span><span class="title-name"><code class="filename">/etc/hosts</code></span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-hosts">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   In this file, shown in <a class="xref" href="cha-network.html#dat-netz-etc-hosts" title="/etc/hosts">Example 19.7, “<code class="filename">/etc/hosts</code>”</a>, IP addresses
   are assigned to host names. If no name server is implemented, all hosts to
   which an IP connection will be set up must be listed here. For each host,
   enter a line consisting of the IP address, the fully qualified host name,
   and the host name into the file. The IP address must be at the beginning of
   the line and the entries separated by blanks and tabs. Comments are always
   preceded by the <code class="literal">#</code> sign.
  </p><div class="example" id="dat-netz-etc-hosts" data-id-title="/etc/hosts"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 19.7: </span><span class="title-name"><code class="filename">/etc/hosts</code> </span></span><a title="Permalink" class="permalink" href="cha-network.html#dat-netz-etc-hosts">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">127.0.0.1 localhost
192.168.2.100 jupiter.example.com jupiter
192.168.2.101 venus.example.com venus</pre></div></div></div></section><section class="sect3" id="sec-network-manconf-files-networks" data-id-title="/etc/networks"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.2.11 </span><span class="title-name"><code class="filename">/etc/networks</code></span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-files-networks">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Here, network names are converted to network addresses. The format is
   similar to that of the <code class="filename">hosts</code> file, except the network
   names precede the addresses. See <a class="xref" href="cha-network.html#dat-netz-networks" title="/etc/networks">Example 19.8, “<code class="filename">/etc/networks</code>”</a>.
  </p><div class="example" id="dat-netz-networks" data-id-title="/etc/networks"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 19.8: </span><span class="title-name"><code class="filename">/etc/networks</code> </span></span><a title="Permalink" class="permalink" href="cha-network.html#dat-netz-networks">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">loopback     127.0.0.0
localnet     192.168.0.0</pre></div></div></div></section><section class="sect3" id="sec-network-manconf-files-host" data-id-title="/etc/host.conf"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.2.12 </span><span class="title-name"><code class="filename">/etc/host.conf</code></span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-files-host">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Name resolution—the translation of host and network names via the
   <span class="emphasis"><em>resolver</em></span> library—is controlled by this file. This
   file is only used for programs linked to libc4 or libc5. For current glibc
   programs, refer to the settings in <code class="filename">/etc/nsswitch.conf</code>.
   Each parameter must always be entered on a separate line. Comments are
   preceded by a <code class="literal">#</code> sign.
   <a class="xref" href="cha-network.html#tab-netz-param-hostconf" title="Parameters for /etc/host.conf">Table 19.2, “Parameters for /etc/host.conf”</a> shows the parameters available. A
   sample <code class="filename">/etc/host.conf</code> is shown in
   <a class="xref" href="cha-network.html#dat-netz-etc-hostconf" title="/etc/host.conf">Example 19.9, “<code class="filename">/etc/host.conf</code>”</a>.
  </p><div class="table" id="tab-netz-param-hostconf" data-id-title="Parameters for /etc/host.conf"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 19.2: </span><span class="title-name">Parameters for /etc/host.conf </span></span><a title="Permalink" class="permalink" href="cha-network.html#tab-netz-param-hostconf">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        order <span class="emphasis"><em>hosts</em></span>, <span class="emphasis"><em>bind</em></span>
       </p>
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        Specifies in which order the services are accessed for the name
        resolution. Available arguments are (separated by blank spaces or
        commas):
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        <span class="emphasis"><em>hosts</em></span>: searches the
        <code class="filename">/etc/hosts</code> file
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        <span class="emphasis"><em>bind</em></span>: accesses a name server
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        <span class="emphasis"><em>nis</em></span>: uses NIS
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        multi <span class="emphasis"><em>on</em></span>/<span class="emphasis"><em>off</em></span>
       </p>
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        Defines if a host entered in <code class="filename">/etc/hosts</code> can have
        multiple IP addresses.
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        nospoof <span class="emphasis"><em>on</em></span> spoofalert
        <span class="emphasis"><em>on</em></span>/<span class="emphasis"><em>off</em></span>
       </p>
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        These parameters influence the name server
        <span class="emphasis"><em>spoofing</em></span> but do not exert any influence on the
        network configuration.
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; ">
       <p>
        trim <span class="emphasis"><em>domainname</em></span>
       </p>
      </td><td style="text-align: left; ">
       <p>
        The specified domain name is separated from the host name after host
        name resolution (as long as the host name includes the domain name).
        This option is useful only if names from the local domain are in the
        <code class="filename">/etc/hosts</code> file, but should still be recognized
        with the attached domain names.
       </p>
      </td></tr></tbody></table></div></div><div class="example" id="dat-netz-etc-hostconf" data-id-title="/etc/host.conf"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 19.9: </span><span class="title-name"><code class="filename">/etc/host.conf</code> </span></span><a title="Permalink" class="permalink" href="cha-network.html#dat-netz-etc-hostconf">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen"># We have named running
order hosts bind
# Allow multiple address
multi on</pre></div></div></div></section><section class="sect3" id="sec-network-manconf-files-nsswitch" data-id-title="/etc/nsswitch.conf"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.2.13 </span><span class="title-name"><code class="filename">/etc/nsswitch.conf</code></span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-files-nsswitch">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The introduction of the GNU C Library 2.0 was accompanied by the
   introduction of the <span class="emphasis"><em>Name Service Switch</em></span> (NSS). Refer to
   the <code class="systemitem">nsswitch.conf(5)</code> man page and <span class="emphasis"><em>The GNU
   C Library Reference Manual</em></span> for details.
  </p><p>
   The order for queries is defined in the file
   <code class="filename">/etc/nsswitch.conf</code>. A sample
   <code class="filename">nsswitch.conf</code> is shown in
   <a class="xref" href="cha-network.html#dat-netz-nsswitchconf" title="/etc/nsswitch.conf">Example 19.10, “<code class="filename">/etc/nsswitch.conf</code>”</a>. Comments are preceded by
   <code class="literal">#</code> signs. In this example, the entry under the
   <code class="filename">hosts</code> database means that a request is sent to
   <code class="filename">/etc/hosts</code> (<code class="option">files</code>) via
   DNS<span class="phrase"> (see <a class="xref" href="cha-dns.html" title="Chapter 31. The Domain Name System">Chapter 31, <em>The Domain Name System</em></a>)</span>.
  </p><div class="example" id="dat-netz-nsswitchconf" data-id-title="/etc/nsswitch.conf"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 19.10: </span><span class="title-name"><code class="filename">/etc/nsswitch.conf</code> </span></span><a title="Permalink" class="permalink" href="cha-network.html#dat-netz-nsswitchconf">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">passwd:     compat
group:      compat

hosts:      files dns
networks:   files dns

services:   db files
protocols:  db files
rpc:        files
ethers:     files
netmasks:   files
netgroup:   files nis
publickey:  files

bootparams: files
automount:  files nis
aliases:    files nis
shadow:     compat</pre></div></div></div><p>
   The <span class="quote">“<span class="quote">databases</span>”</span> available over NSS are listed in
   <a class="xref" href="cha-network.html#tab-netz-nnswitch-db" title="Databases Available via /etc/nsswitch.conf">Table 19.3, “Databases Available via /etc/nsswitch.conf”</a>. The configuration options for NSS databases are listed in
   <a class="xref" href="cha-network.html#tab-netz-nnswitch-conf" title="Configuration Options for NSS “Databases”">Table 19.4, “Configuration Options for NSS <span class="quote">“<span class="quote">Databases</span>”</span>”</a>.
  </p><div class="table" id="tab-netz-nnswitch-db" data-id-title="Databases Available via /etc/nsswitch.conf"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 19.3: </span><span class="title-name">Databases Available via /etc/nsswitch.conf </span></span><a title="Permalink" class="permalink" href="cha-network.html#tab-netz-nnswitch-db">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <code class="option">aliases</code>
       </p>
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        Mail aliases implemented by <code class="filename">sendmail</code>; see
        <code class="command">man</code> <code class="option">5 aliases</code>.
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <code class="option">ethers</code>
       </p>
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        Ethernet addresses.
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <code class="option">netmasks</code>
       </p>
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        List of networks and their subnet masks. Only needed, if you use
        subnetting.
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <code class="option">group</code>
       </p>
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        User groups used by <code class="filename">getgrent</code>. See also the man
        page for <code class="command">group</code>.
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <code class="option">hosts</code>
       </p>
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        Host names and IP addresses, used by <code class="filename">gethostbyname</code>
        and similar functions.
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <code class="option">netgroup</code>
       </p>
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        Valid host and user lists in the network for controlling access
        permissions; see the <code class="systemitem">netgroup(5)</code> man page.
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <code class="option">networks</code>
       </p>
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        Network names and addresses, used by <code class="filename">getnetent</code>.
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <code class="option">publickey</code>
       </p>
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        Public and secret keys for Secure_RPC used by NFS and NIS+.
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <code class="option">passwd</code>
       </p>
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        User passwords, used by <code class="filename">getpwent</code>; see the
        <code class="systemitem">passwd(5)</code> man page.
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <code class="option">protocols</code>
       </p>
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        Network protocols, used by <code class="filename">getprotoent</code>; see the
        <code class="systemitem">protocols(5)</code> man page.
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <code class="option">rpc</code>
       </p>
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        Remote procedure call names and addresses, used by
        <code class="filename">getrpcbyname</code> and similar functions.
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <code class="option">services</code>
       </p>
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        Network services, used by <code class="filename">getservent</code>.
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; ">
       <p>
        <code class="option">shadow</code>
       </p>
      </td><td style="text-align: left; ">
       <p>
        Shadow passwords of users, used by <code class="filename">getspnam</code>; see
        the <code class="option">shadow(5)</code> man page.
       </p>
      </td></tr></tbody></table></div></div><div class="table" id="tab-netz-nnswitch-conf" data-id-title="Configuration Options for NSS Databases"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 19.4: </span><span class="title-name">Configuration Options for NSS <span class="quote">“<span class="quote">Databases</span>”</span> </span></span><a title="Permalink" class="permalink" href="cha-network.html#tab-netz-nnswitch-conf">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col/><col/></colgroup><tbody><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <code class="option">files</code>
       </p>
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        directly access files, for example, <code class="filename">/etc/aliases</code>
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <code class="option">db</code>
       </p>
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        access via a database
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <code class="option">nis</code>, <code class="option">nisplus</code>
       </p>
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        NIS, see also <span class="intraxref">Book “Security and Hardening Guide”, Chapter 3 “Using NIS”</span>
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <code class="option">dns</code>
       </p>
      </td><td style="text-align: left; border-bottom: 1px solid ; ">
       <p>
        can only be used as an extension for <code class="option">hosts</code> and
        <code class="option">networks</code>
       </p>
      </td></tr><tr><td style="text-align: left; border-right: 1px solid ; ">
       <p>
        <code class="option">compat</code>
       </p>
      </td><td style="text-align: left; ">
       <p>
        can only be used as an extension for <code class="option">passwd</code>,
        <code class="option">shadow</code> and <code class="option">group</code>
       </p>
      </td></tr></tbody></table></div></div></section><section class="sect3" id="sec-network-manconf-files-nscd" data-id-title="/etc/nscd.conf"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.2.14 </span><span class="title-name"><code class="filename">/etc/nscd.conf</code></span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-files-nscd">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   This file is used to configure nscd (name service cache daemon). See the
   <code class="systemitem">nscd(8)</code> and <code class="systemitem">nscd.conf(5)</code>
   man pages. By default, the system entries of <code class="option">passwd</code>,
   <code class="option">groups</code> and <code class="option">hosts</code>are cached by nscd. This is important for the
   performance of directory services, like NIS and LDAP, because otherwise the
   network connection needs to be used for every access to names, groups or
   hosts.
   
  </p><p>
   If the caching for <code class="option">passwd</code> is activated, it usually takes
   about fifteen seconds until a newly added local user is recognized. Reduce
   this waiting time by restarting nscd with:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> systemctl restart nscd</pre></div></section><section class="sect3" id="sec-network-manconf-files-hostname" data-id-title="/etc/HOSTNAME"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.2.15 </span><span class="title-name"><code class="filename">/etc/HOSTNAME</code></span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-files-hostname">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   <code class="filename">/etc/HOSTNAME</code> contains the fully qualified host name
   (FQHN). The fully qualified host name is the host name with the domain name
   attached. This file must contain only one line (in which the host name is
   set). It is read while the machine is booting.
  </p></section></section><section class="sect2" id="sec-network-manconf-testing" data-id-title="Testing the Configuration"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.5.3 </span><span class="title-name">Testing the Configuration</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-testing">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_wicked.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Before you write your configuration to the configuration files, you can test
   it. To set up a test configuration, use the <code class="command">ip</code> command.
   To test the connection, use the <code class="command">ping</code> command.
  </p><p>
   The command <code class="command">ip</code> changes the network configuration directly
   without saving it in the configuration file. Unless you enter your
   configuration in the correct configuration files, the changed network
   configuration is lost on reboot.
  </p><div id="id-1.3.5.5.17.6.4" data-id-title="ifconfig and route Are Obsolete" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: <code class="command">ifconfig</code> and <code class="command">route</code> Are Obsolete</div><p>
    The <code class="command">ifconfig</code> and <code class="command">route</code> tools are
    obsolete. Use <code class="command">ip</code> instead. <code class="command">ifconfig</code>,
    for example, limits interface names to 9 characters.
   </p></div><section class="sect3" id="sec-network-manconf-ip" data-id-title="Configuring a Network Interface with ip"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.3.1 </span><span class="title-name">Configuring a Network Interface with <code class="command">ip</code></span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-ip">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_wicked.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    <code class="command">ip</code> is a tool to show and configure network devices,
    routing, policy routing, and tunnels.
   </p><p>
    <code class="command">ip</code> is a very complex tool. Its common syntax is
    <code class="command">ip</code> <code class="option"><em class="replaceable">OPTIONS</em>
    <em class="replaceable">OBJECT</em>
    <em class="replaceable">COMMAND</em></code>. You can work with the
    following objects:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.5.5.17.6.5.4.1"><span class="term">link</span></dt><dd><p>
       This object represents a network device.
      </p></dd><dt id="id-1.3.5.5.17.6.5.4.2"><span class="term">address</span></dt><dd><p>
       This object represents the IP address of device.
      </p></dd><dt id="id-1.3.5.5.17.6.5.4.3"><span class="term">neighbor</span></dt><dd><p>
       This object represents an ARP or NDISC cache entry.
      </p></dd><dt id="id-1.3.5.5.17.6.5.4.4"><span class="term">route</span></dt><dd><p>
       This object represents the routing table entry.
      </p></dd><dt id="id-1.3.5.5.17.6.5.4.5"><span class="term">rule</span></dt><dd><p>
       This object represents a rule in the routing policy database.
      </p></dd><dt id="id-1.3.5.5.17.6.5.4.6"><span class="term">maddress</span></dt><dd><p>
       This object represents a multicast address.
      </p></dd><dt id="id-1.3.5.5.17.6.5.4.7"><span class="term">mroute</span></dt><dd><p>
       This object represents a multicast routing cache entry.
      </p></dd><dt id="id-1.3.5.5.17.6.5.4.8"><span class="term">tunnel</span></dt><dd><p>
       This object represents a tunnel over IP.
      </p></dd></dl></div><p>
    If no command is given, the default command is used (usually
    <code class="command">list</code>).
   </p><p>
    Change the state of a device with the command:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> ip link set <em class="replaceable">DEV_NAME</em></pre></div><p>
    For example, to deactivate device eth0, enter
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> ip link set eth0 down</pre></div><p>
    To activate it again, use
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> ip link set eth0 up</pre></div><div id="id-1.3.5.5.17.6.5.12" data-id-title="Disconnecting NIC Device" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Disconnecting NIC Device</div><p>
     If you deactivate a device with
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> ip link set <em class="replaceable">DEV_NAME</em> down</pre></div><p>
     it disables the network interface on a software level.
    </p><p>
     If you want to simulate losing the link as if the Ethernet cable is unplugged
     or the connected switch is turned off, run
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> ip link set <em class="replaceable">DEV_NAME</em> carrier off</pre></div><p>
     For example, while <code class="command">ip link set
      <em class="replaceable">DEV_NAME</em> down</code> drops all routes using
     <em class="replaceable">DEV_NAME</em>, <code class="command">ip link set DEV carrier
      off</code> does not. Be aware that <code class="command">carrier off</code>
     requires support from the network device driver.
    </p><p>
     To connect the device back to the physical network, run
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> ip link set <em class="replaceable">DEV_NAME</em> carrier on</pre></div></div><p>
    After activating a device, you can configure it. To set the IP address, use
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> ip addr add <em class="replaceable">IP_ADDRESS</em> + dev <em class="replaceable">DEV_NAME</em></pre></div><p>
    For example, to set the address of the interface eth0 to 192.168.12.154/30
    with standard broadcast (option <code class="option">brd</code>), enter
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> ip addr add 192.168.12.154/30 brd + dev eth0</pre></div><p>
    To have a working connection, you must also configure the default gateway.
    To set a gateway for your system, enter
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> ip route add default via gateway_ip_address</pre></div><p>
    To display all devices, use
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> ip link ls</pre></div><p>
    To display the running interfaces only, use
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> ip link ls up</pre></div><p>
    To print interface statistics for a device, enter
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> ip -s link ls <em class="replaceable">DEV_NAME</em></pre></div><p>
     To view additional useful information, specifically about virtual
     network devices, enter
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> ip -d link ls <em class="replaceable">DEV_NAME</em></pre></div><p>
     Moreover, to view network layer (IPv4, IPv6) addresses of your devices,
     enter
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> ip addr</pre></div><p>
					In the output, you can find information about MAC addresses of your
					devices. To show all routes, use
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> ip route show</pre></div><p>
    For more information about using <code class="command">ip</code>, enter
    <code class="command">ip</code> <code class="option">help</code> or see the
    <code class="command">man 8 ip</code> manual page. The <code class="option">help</code> option
    is also available for all <code class="command">ip</code> subcommands, such as:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> ip addr help</pre></div><p>
    Find the <code class="command">ip</code> manual in
    <code class="filename">/usr/share/doc/packages/iproute2/ip-cref.pdf</code>.
   </p></section><section class="sect3" id="sec-network-manconf-testingping" data-id-title="Testing a Connection with ping"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.5.3.2 </span><span class="title-name">Testing a Connection with ping</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-testingping">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_wicked.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The <code class="command">ping</code> command is the standard tool for testing
    whether a TCP/IP connection works. It uses the ICMP protocol to send a
    small data packet, ECHO_REQUEST datagram, to the destination host,
    requesting an immediate reply. If this works, <code class="command">ping</code>
    displays a message to that effect. This indicates that the network link is
    functioning.
   </p><p>
    <code class="command">ping</code> does more than only test the function of the
    connection between two computers: it also provides some basic information
    about the quality of the connection. In
    <a class="xref" href="cha-network.html#ex-basicnet-manconf-ping" title="Output of the Command ping">Example 19.11, “Output of the Command ping”</a>, you can see an example of the
    <code class="command">ping</code> output. The second-to-last line contains
    information about the number of transmitted packets, packet loss, and total
    time of <code class="command">ping</code> running.
   </p><p>
    As the destination, you can use a host name or IP address, for example,
    <code class="command">ping</code> <code class="option">example.com</code> or
    <code class="command">ping</code> <code class="option">192.168.3.100</code>. The program sends
    packets until you press
    <span class="keycap">Ctrl</span><span class="key-connector">–</span><span class="keycap">C</span>.
   </p><p>
    If you only need to check the functionality of the connection, you can
    limit the number of the packets with the <code class="option">-c</code> option. For
    example to limit ping to three packets, enter
    <code class="command">ping</code> <code class="option">-c 3 example.com</code>.
   </p><div class="example" id="ex-basicnet-manconf-ping" data-id-title="Output of the Command ping"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 19.11: </span><span class="title-name">Output of the Command ping </span></span><a title="Permalink" class="permalink" href="cha-network.html#ex-basicnet-manconf-ping">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_wicked.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">ping -c 3 example.com
PING example.com (192.168.3.100) 56(84) bytes of data.
64 bytes from example.com (192.168.3.100): icmp_seq=1 ttl=49 time=188 ms
64 bytes from example.com (192.168.3.100): icmp_seq=2 ttl=49 time=184 ms
64 bytes from example.com (192.168.3.100): icmp_seq=3 ttl=49 time=183 ms
--- example.com ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2007ms
rtt min/avg/max/mdev = 183.417/185.447/188.259/2.052 ms</pre></div></div></div><p>
    The default interval between two packets is one second. To change the
    interval, ping provides the option <code class="option">-i</code>. For example, to
    increase the ping interval to ten seconds, enter
    <code class="command">ping</code> <code class="option">-i 10 example.com</code>.
   </p><p>
    In a system with multiple network devices, it is sometimes useful to send
    the ping through a specific interface address. To do so, use the
    <code class="option">-I</code> option with the name of the selected device, for
    example, <code class="command">ping</code> <code class="option">-I wlan1
    example.com</code>.
   </p><p>
    For more options and information about using ping, enter
    <code class="command">ping</code> <code class="option">-h</code> or see the
    <code class="systemitem">ping (8)</code> man page.
   </p><div id="id-1.3.5.5.17.6.6.10" data-id-title="Pinging IPv6 Addresses" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Pinging IPv6 Addresses</div><p>
     For IPv6 addresses use the <code class="command">ping6</code> command. Note, to ping
     link-local addresses, you must specify the interface with
     <code class="option">-I</code>. The following command works, if the address is
     reachable via <code class="literal">eth1</code>:
    </p><div class="verbatim-wrap"><pre class="screen">ping6 -I eth1 fe80::117:21ff:feda:a425</pre></div></div></section></section><section class="sect2" id="sec-network-manconf-scripts" data-id-title="Unit Files and Start-Up Scripts"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.5.4 </span><span class="title-name">Unit Files and Start-Up Scripts</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-manconf-scripts">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_wicked.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Apart from the configuration files described above, there are also systemd
   unit files and various scripts that load the network services while the
   machine is booting. These are started when the system is switched to the
   <code class="systemitem">multi-user.target</code> target. Some of these unit files
   and scripts are described in <a class="xref" href="cha-network.html#var-net-start-scripts" title="Some Unit Files and Start-Up Scripts for Network Programs">Some Unit Files and Start-Up Scripts for Network Programs</a>. For
   more information about <code class="systemitem">systemd</code>, see
   <a class="xref" href="cha-systemd.html" title="Chapter 15. The systemd daemon">Chapter 15, <em>The <code class="systemitem">systemd</code> daemon</em></a> and for more information about the
   <code class="systemitem">systemd</code> targets, see the man page of
   <code class="systemitem">systemd.special</code> (<code class="command">man
   systemd.special</code>).
  </p><div class="variablelist" id="var-net-start-scripts" data-id-title="Some Unit Files and Start-Up Scripts for Network Programs"><div class="title-container"><div class="variablelist-title-wrap"><div class="variablelist-title"><span class="title-number-name"><span class="title-name">Some Unit Files and Start-Up Scripts for Network Programs </span></span><a title="Permalink" class="permalink" href="cha-network.html#var-net-start-scripts">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_wicked.xml" title="Edit source document"> </a></div></div><dl class="variablelist"><dt id="id-1.3.5.5.17.7.3.2"><span class="term"><code class="systemitem">network.target</code>


    </span></dt><dd><p>
      <code class="systemitem">network.target</code> is the systemd target for
      networking, but its mean depends on the settings provided by the system
      administrator.
     </p><p>
      For more information, see
      <a class="link" href="http://www.freedesktop.org/wiki/Software/systemd/NetworkTarget/" target="_blank">http://www.freedesktop.org/wiki/Software/systemd/NetworkTarget/</a>.
     </p></dd><dt id="id-1.3.5.5.17.7.3.3"><span class="term"><code class="systemitem">multi-user.target</code>
    </span></dt><dd><p>
      <code class="systemitem">multi-user.target</code> is the systemd target for a
      multiuser system with all required network services.
     </p></dd><dt id="id-1.3.5.5.17.7.3.4"><span class="term"><code class="systemitem">rpcbind</code>
    </span></dt><dd><p>
      Starts the rpcbind utility that converts RPC program numbers to universal
      addresses. It is needed for RPC services, such as an NFS server.
     </p></dd><dt id="id-1.3.5.5.17.7.3.5"><span class="term"><code class="systemitem">ypserv</code>
    </span></dt><dd><p>
      Starts the NIS server.
     </p></dd><dt id="id-1.3.5.5.17.7.3.6"><span class="term"><code class="systemitem">ypbind</code>
    </span></dt><dd><p>
      Starts the NIS client.
     </p></dd><dt id="id-1.3.5.5.17.7.3.7"><span class="term"><code class="filename">/etc/init.d/nfsserver</code>
    </span></dt><dd><p>
      Starts the NFS server.
     </p></dd><dt id="id-1.3.5.5.17.7.3.8"><span class="term"><code class="filename">/etc/init.d/postfix</code>
    </span></dt><dd><p>
      Controls the postfix process.
     </p></dd></dl></div></section></section><section class="sect1" id="sec-network-router" data-id-title="Basic Router Setup"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">19.6 </span><span class="title-name">Basic Router Setup</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-router">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_router.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  A router is a networking device that delivers and receives data (network
  packets) to or from more than one network back and forth. You often use a
  router to connect your local network to the remote network (Internet) or to
  connect local network segments. With <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> you can build a router with
  features such as NAT (Network Address Translation) or advanced firewalling.
 </p><p>
  The following are basic steps to turn <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> into a router.
 </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
    Enable forwarding, for example in
    <code class="filename">/etc/sysctl.d/50-router.conf</code>
   </p><div class="verbatim-wrap"><pre class="screen">net.ipv4.conf.all.forwarding = 1
net.ipv6.conf.all.forwarding = 1</pre></div><p>
    Then provide a static IPv4 and IPv6 IP setup for the interfaces. Enabling
    forwarding disables several mechanisms, for example IPv6 does not accept an
    IPv6 RA (router advertisement) anymore, which also prevents the creation of
    a default route.
   </p></li><li class="step"><p>
    In many situations (for example, when you can reach the same network
    via more than one interface, or when VPN usually is used and already
    on <span class="quote">“<span class="quote">normal multi-home hosts</span>”</span>), you must disable the IPv4
    reverse path filter (this feature does not currently exist for IPv6):
   </p><div class="verbatim-wrap"><pre class="screen">net.ipv4.conf.all.rp_filter = 0</pre></div><p>
    You can also filter with firewall settings instead.
   </p></li><li class="step"><p>
    To accept an IPv6 RA (from the router on an external, uplink, or ISP
    interface) and create a default (or also a more specific) IPv6 route again,
    set:
   </p><div class="verbatim-wrap"><pre class="screen">net.ipv6.conf.${ifname}.accept_ra = 2
net.ipv6.conf.${ifname}.autoconf = 0</pre></div><p>
    (Note: <span class="quote">“<span class="quote"><code class="literal">eth0.42</code></span>”</span> needs to be written as
    <code class="literal">eth0/42</code> in a dot-separated sysfs path.)
   </p></li></ol></div></div><p>
  More router behavior and forwarding dependencies are described in
  <a class="link" href="https://www.kernel.org/doc/Documentation/networking/ip-sysctl.txt" target="_blank">https://www.kernel.org/doc/Documentation/networking/ip-sysctl.txt</a>.
 </p><p>
  To provide IPv6 on your internal (DMZ) interfaces, and announce yourself as
  an IPv6 router and <span class="quote">“<span class="quote">autoconf networks</span>”</span> to the clients, install
  and configure <code class="systemitem">radvd</code> in
  <code class="filename">/etc/radvd.conf</code>, for example:
 </p><div class="verbatim-wrap"><pre class="screen">interface eth0
{
    IgnoreIfMissing on;         # do not fail if interface missed

    AdvSendAdvert on;           # enable sending RAs
    AdvManagedFlag on;          # IPv6 addresses managed via DHCPv6
    AdvOtherConfigFlag on;      # DNS, NTP... only via DHCPv6

    AdvDefaultLifetime 3600;    # client default route lifetime of 1 hour

    prefix 2001:db8:0:1::/64    # (/64 is default and required for autoconf)
    {
        AdvAutonomous off;         # Disable address autoconf (DHCPv6 only)

        AdvValidLifetime 3600;     # prefix (autoconf addr) is valid 1 h
        AdvPreferredLifetime 1800; # prefix (autoconf addr) is prefered 1/2 h
    }
}</pre></div><p>
  Configure the firewall to masquerade traffic with NAT from the LAN
  into the WAN and to block inbound traffic on the WAN interface:
 </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">firewall-cmd</code> --permanent --zone=external --change-interface=<em class="replaceable">WAN_INTERFACE</em>
<code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">firewall-cmd</code> --permanent --zone=external --add-masquerade
<code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">firewall-cmd</code> --permanent --zone=internal --change-interface=<em class="replaceable">LAN_INTERFACE</em>
<code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">firewall-cmd</code> --reload</pre></div></section><section class="sect1" id="sec-network-iface-bonding" data-id-title="Setting Up Bonding Devices"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">19.7 </span><span class="title-name">Setting Up Bonding Devices</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-iface-bonding">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_bonding.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  For some systems, there is a desire to implement network connections that
  comply to more than the standard data security or availability requirements
  of a typical Ethernet device. In these cases, several Ethernet devices can be
  aggregated to a single bonding device.
 </p><p>
  The configuration of the bonding device is done by means of bonding module
  options. The behavior is mainly affected by the mode of the bonding device.
  By default, this is <code class="systemitem">active-backup</code> which means
  that a different slave device will become active if the active slave fails.
  The following bonding modes are available:
 </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.5.5.19.5.1"><span class="term"><span class="guimenu">0</span> (balance-rr)</span></dt><dd><p>
     Packets are transmitted in round-robin fashion from the first to the last
     available interface. Provides fault tolerance and load balancing.
    </p></dd><dt id="id-1.3.5.5.19.5.2"><span class="term"><span class="guimenu">1</span> (active-backup)</span></dt><dd><p>
     Only one network interface is active. If it fails, a different interface
     becomes active. This setting is the default for <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>. Provides
     fault tolerance.
    </p></dd><dt id="id-1.3.5.5.19.5.3"><span class="term"><span class="guimenu">2</span> (balance-xor)</span></dt><dd><p>
     Traffic is split between all available interfaces based on the following
     policy: <code class="literal">[(source MAC address XOR'd with destination MAC address
     XOR packet type ID) modulo slave count]</code> Requires support from
     the switch. Provides fault tolerance and load balancing.
    </p></dd><dt id="id-1.3.5.5.19.5.4"><span class="term"><span class="guimenu">3</span> (broadcast)</span></dt><dd><p>
     All traffic is broadcast on all interfaces. Requires support from the
     switch. Provides fault tolerance.
    </p></dd><dt id="id-1.3.5.5.19.5.5"><span class="term"><span class="guimenu">4</span> (802.3ad)</span></dt><dd><p>
     Aggregates interfaces into groups that share the same speed and duplex
     settings. Requires <code class="command">ethtool</code> support in the interface
     drivers, and a switch that supports and is configured for IEEE 802.3ad
     Dynamic link aggregation. Provides fault tolerance and load balancing.
    </p></dd><dt id="id-1.3.5.5.19.5.6"><span class="term"><span class="guimenu">5</span> (balance-tlb)</span></dt><dd><p>
     Adaptive transmit load balancing. Requires <code class="command">ethtool</code>
     support in the interface drivers but not switch support. Provides fault
     tolerance and load balancing.
    </p></dd><dt id="id-1.3.5.5.19.5.7"><span class="term"><span class="guimenu">6</span> (balance-alb)</span></dt><dd><p>
     Adaptive load balancing. Requires <code class="command">ethtool</code> support in
     the interface drivers but not switch support. Provides fault tolerance and
     load balancing.
    </p></dd></dl></div><p>
  For a more detailed description of the modes, see
  <a class="link" href="https://www.kernel.org/doc/Documentation/networking/bonding.txt" target="_blank">https://www.kernel.org/doc/Documentation/networking/bonding.txt</a>.
 </p><div id="id-1.3.5.5.19.7" data-id-title="Bonding and Xen" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Bonding and Xen</div><p>
   Using bonding devices is only of interest for machines where you have
   multiple real network cards available. In most configurations, this means
   that you should use the bonding configuration only in Dom0. Only if you
   have multiple network cards assigned to a VM Guest system it may also be
   useful to set up the bond in a VM Guest.
  </p></div><div id="id-1.3.5.5.19.8" data-id-title="IBM POWER: Bonding modes 5 and 6 (balance-tlb / balance-alb) unsupported by ibmveth" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: 
   IBM POWER: Bonding modes 5 and 6 (balance-tlb / balance-alb) unsupported
   by ibmveth
  </div><p>
   There is a conflict with the tlb/alb bonding configuration and Power
   firmware.  In short, the bonding driver in tlb/alb mode sends Ethernet
   Loopback packets with both the source and destination MAC addresses listed
   as the Virtual Ethernet MAC address. These packets are not supported by
   Power firmware. Therefore bonding modes 5 and 6 are unsupported by ibmveth.
  </p></div><p>
  To configure a bonding device, use the following procedure:
 </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
    Run <span class="guimenu">YaST</span> › <span class="guimenu">System</span> › <span class="guimenu">Network Settings</span>.
   </p></li><li class="step"><p>
    Use <span class="guimenu">Add</span> and change the <span class="guimenu">Device Type</span> to
    <span class="guimenu">Bond</span>. Proceed with <span class="guimenu">Next</span>.
   </p><div class="informalfigure"><div class="mediaobject"><a href="images/bond_configuration.png"><img src="images/bond_configuration.png" width="65%" alt="Bonding configuration" title="Bonding configuration"/></a></div></div></li><li class="step"><p>
    Select how to assign the IP address to the bonding device. Three methods
    are at your disposal:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      No IP Address
     </p></li><li class="listitem"><p>
      Dynamic Address (with DHCP or Zeroconf)
     </p></li><li class="listitem"><p>
      Statically assigned IP Address
     </p></li></ul></div><p>
    Use the method that is appropriate for your environment.
   </p></li><li class="step"><p>
    In the <span class="guimenu">Bond Slaves</span> tab, select the Ethernet devices that
    should be included into the bond by activating the related check box.
   </p></li><li class="step"><p>
    Edit the <span class="guimenu">Bond Driver Options</span> and choose a bonding mode.
   </p></li><li class="step"><p>
    Make sure that the parameter <code class="literal">miimon=100</code> is added to the
    <span class="guimenu">Bond Driver Options</span>. Without this parameter, the data
    integrity is not checked regularly.
   </p></li><li class="step"><p>
    Click <span class="guimenu">Next</span> and leave YaST with <span class="guimenu">OK</span>
    to create the device.
   </p></li></ol></div></div><section class="sect2" id="sec-network-iface-bonding-hotplug" data-id-title="Hotplugging of Bonding Slaves"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.7.1 </span><span class="title-name">Hotplugging of Bonding Slaves</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-iface-bonding-hotplug">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_bonding.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   In specific network environments (such as High Availability), there are
   cases when you need to replace a bonding slave interface with another one.
   The reason may be a constantly failing network device. The solution is to
   set up hotplugging of bonding slaves.
  </p><p>
   The bond is configured as usual (according to <code class="command">man 5
   ifcfg-bonding</code>), for example:
  </p><div class="verbatim-wrap"><pre class="screen">ifcfg-bond0
          STARTMODE='auto' # or 'onboot'
          BOOTPROTO='static'
          IPADDR='192.168.0.1/24'
          BONDING_MASTER='yes'
          BONDING_SLAVE_0='eth0'
          BONDING_SLAVE_1='eth1'
          BONDING_MODULE_OPTS='mode=active-backup miimon=100'</pre></div><p>
   The slaves are specified with <code class="literal">STARTMODE=hotplug</code> and
   <code class="literal">BOOTPROTO=none</code>:
  </p><div class="verbatim-wrap"><pre class="screen">ifcfg-eth0
          STARTMODE='hotplug'
          BOOTPROTO='none'

ifcfg-eth1
          STARTMODE='hotplug'
          BOOTPROTO='none'</pre></div><p>
   <code class="literal">BOOTPROTO=none</code> uses the <code class="command">ethtool</code>
   options (when provided), but does not set the link up on <code class="command">ifup
   eth0</code>. The reason is that the slave interface is controlled by the
   bond master.
  </p><p>
   <code class="literal">STARTMODE=hotplug</code> causes the slave interface to join the
   bond automatically when it is available.
  </p><p>
   The <code class="systemitem">udev</code> rules in
   <code class="filename">/etc/udev/rules.d/70-persistent-net.rules</code> need to be
   changed to match the device by bus ID (udev <code class="systemitem">KERNELS</code>
   keyword equal to "SysFS BusID" as visible in <code class="command">hwinfo
   --netcard</code>) instead of by MAC address. This allows replacement of
   defective hardware (a network card in the same slot but with a different
   MAC) and prevents confusion when the bond changes the MAC address of all its
   slaves.
  </p><p>
   For example:
  </p><div class="verbatim-wrap"><pre class="screen">SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*",
KERNELS=="0000:00:19.0", ATTR{dev_id}=="0x0", ATTR{type}=="1",
KERNEL=="eth*", NAME="eth0"</pre></div><p>
   At boot time, the systemd <code class="systemitem">network.service</code> does not
   wait for the hotplug slaves, but for the bond to become ready, which
   requires at least one available slave. When one of the slave interfaces gets
   removed (unbind from NIC driver, <code class="command">rmmod</code> of the NIC driver
   or true PCI hotplug remove) from the system, the kernel removes it from the
   bond automatically. When a new card is added to the system (replacement of
   the hardware in the slot), <code class="systemitem">udev</code> renames it using
   the bus-based persistent name rule to the name of the slave, and calls
   <code class="command">ifup</code> for it. The <code class="command">ifup</code> call
   automatically joins it into the bond.
   
  </p></section></section><section class="sect1" id="sec-network-iface-teaming" data-id-title="Setting Up Team Devices for Network Teaming"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">19.8 </span><span class="title-name">Setting Up Team Devices for Network Teaming</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-iface-teaming">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_teaming.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The term <span class="quote">“<span class="quote">link aggregation</span>”</span> is the general term which describes
  combining (or aggregating) a network connection to provide a logical layer.
  Sometimes you find the terms <span class="quote">“<span class="quote">channel teaming</span>”</span>, <span class="quote">“<span class="quote">Ethernet
  bonding</span>”</span>, <span class="quote">“<span class="quote">port truncating</span>”</span>, etc. which are synonyms and
  refer to the same concept.
 </p><p>
  This concept is widely known as <span class="quote">“<span class="quote">bonding</span>”</span> and was originally
  integrated into the Linux kernel (see <a class="xref" href="cha-network.html#sec-network-iface-bonding" title="19.7. Setting Up Bonding Devices">Section 19.7, “Setting Up Bonding Devices”</a> for the
  original implementation). The term <span class="emphasis"><em>Network Teaming</em></span> is used to
  refer to the new implementation of this concept.
 </p><p>
  The main difference between bonding and Network Teaming is that teaming supplies a
  set of small kernel modules responsible for providing an interface
  for teamd instances. Everything else is handled in user space. This is
  different from the original bonding implementation which contains all of its
  functionality exclusively in the kernel. For a comparison refer to <a class="xref" href="cha-network.html#tab-team-comparison" title="Feature Comparison between Bonding and Team">Table 19.5, “Feature Comparison between Bonding and Team”</a>.
 </p><div class="table" id="tab-team-comparison" data-id-title="Feature Comparison between Bonding and Team"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 19.5: </span><span class="title-name">Feature Comparison between Bonding and Team </span></span><a title="Permalink" class="permalink" href="cha-network.html#tab-team-comparison">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_teaming.xml" title="Edit source document"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/><col class="c3"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Feature</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Bonding</th><th style="border-bottom: 1px solid ; ">Team</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">broadcast, round-robin TX policy</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">yes</td><td style="border-bottom: 1px solid ; ">yes</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">active-backup TX policy</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">yes</td><td style="border-bottom: 1px solid ; ">yes</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">LACP (802.3ad) support</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">yes</td><td style="border-bottom: 1px solid ; ">yes</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">hash-based TX policy</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">yes</td><td style="border-bottom: 1px solid ; ">yes</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">user can set hash function</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">no</td><td style="border-bottom: 1px solid ; ">yes</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">TX load-balancing support (TLB)</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">yes</td><td style="border-bottom: 1px solid ; ">yes</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">TX load-balancing support for LACP</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">no</td><td style="border-bottom: 1px solid ; ">yes</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Ethtool link monitoring</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">yes</td><td style="border-bottom: 1px solid ; ">yes</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ARP link monitoring</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">yes</td><td style="border-bottom: 1px solid ; ">yes</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">NS/NA (IPV6) link monitoring</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">no</td><td style="border-bottom: 1px solid ; ">yes</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">RCU locking on TX/RX paths</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">no</td><td style="border-bottom: 1px solid ; ">yes</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">port prio and stickiness</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">no</td><td style="border-bottom: 1px solid ; ">yes</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">separate per-port link monitoring setup</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">no</td><td style="border-bottom: 1px solid ; ">yes</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">multiple link monitoring setup</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">limited</td><td style="border-bottom: 1px solid ; ">yes</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">VLAN support</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">yes</td><td style="border-bottom: 1px solid ; ">yes</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">multiple device stacking</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">yes</td><td style="border-bottom: 1px solid ; ">yes</td></tr><tr><td colspan="3">Source: <a class="link" href="http://libteam.org/files/teamdev.pp.pdf" target="_blank">http://libteam.org/files/teamdev.pp.pdf</a></td></tr></tbody></table></div></div><p>
  Both implementations, bonding and Network Teaming, can be used in
  parallel. Network Teaming is an alternative to the existing bonding
  implementation. It does not replace bonding.
 </p><p>
  Network Teaming can be used for different use cases. The two most important use
  cases are explained later and involve:
 </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
    Load balancing between different network devices.
   </p></li><li class="listitem"><p>
    Failover from one network device to another in case one of the devices
    should fail.
   </p></li></ul></div><p>
  
  Currently, there is no YaST module to support creating a teaming device.
  You need to configure Network Teaming manually. The general procedure is shown
  below which can be applied for all your Network Teaming configurations:
 </p><div class="procedure" id="pro-team-general" data-id-title="General Procedure"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 19.1: </span><span class="title-name">General Procedure </span></span><a title="Permalink" class="permalink" href="cha-network.html#pro-team-general">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_teaming.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
    Install the package <span class="package">libteam-tools</span>:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">zypper in libteam-tools</code></pre></div></li><li class="step"><p>
    Create a configuration file under
    <code class="filename">/etc/sysconfig/network/</code>. Usually it will be
    <code class="filename">ifcfg-team0</code>. If you need more than one Network Teaming
    device, give them ascending numbers.
   </p><p>
    This configuration file contains several variables which are explained in
    the man pages (see <code class="command">man ifcfg</code> and <code class="command">man
    ifcfg-team</code>). An example configuration can be found in your
    system in the file <code class="filename">/etc/sysconfig/network/ifcfg.template</code>.
   </p></li><li class="step"><p>
    Remove the configuration files of the interfaces which will be used for the
    teaming device (usually <code class="filename">ifcfg-eth0</code> and
    <code class="filename">ifcfg-eth1</code>).
   </p><p>
    It is recommended to make a backup and remove both files. Wicked will
    re-create the configuration files with the necessary parameters for
    teaming.
   </p></li><li class="step"><p>
    Optionally, check if everything is included in Wicked's configuration file:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">wicked show-config</code></pre></div></li><li class="step"><p>
    Start the Network Teaming device <code class="systemitem">team0</code>:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">wicked ifup team0</code></pre></div><p>
    In case you need additional debug information, use the option
    <code class="option">--debug all</code> after the <code class="command">all</code> subcommand.
   </p></li><li class="step"><p>
    Check the status of the Network Teaming device. This can be done by the following
    commands:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      Get the state of the teamd instance from Wicked:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">wicked ifstatus --verbose team0</code></pre></div></li><li class="listitem"><p>
      Get the state of the entire instance:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">teamdctl team0 state</code></pre></div></li><li class="listitem"><p>
      Get the systemd state of the teamd instance:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">systemctl status teamd@team0</code></pre></div></li></ul></div><p>
    Each of them shows a slightly different view depending on your needs.
   </p></li><li class="step"><p>
    In case you need to change something in the
    <code class="filename">ifcfg-team0</code> file afterward, reload its configuration
    with:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">wicked ifreload team0</code></pre></div></li></ol></div></div><p>
  Do <span class="emphasis"><em>not</em></span> use <code class="command">systemctl</code> for starting or
  stopping the teaming device! Instead, use the <code class="command">wicked</code>
  command as shown above.
 </p><p>
  To completely remove the team device, use this procedure:
 </p><div class="procedure" id="id-1.3.5.5.20.15" data-id-title="Removing a Team Device"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 19.2: </span><span class="title-name">Removing a Team Device </span></span><a title="Permalink" class="permalink" href="cha-network.html#id-1.3.5.5.20.15">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_teaming.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
    Stop the Network Teaming device <code class="systemitem">team0</code>:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">wicked ifdown team0</code></pre></div></li><li class="step"><p>
    Rename the file <code class="filename">/etc/sysconfig/network/ifcfg-team0</code> to <code class="filename">/etc/sysconfig/network/.ifcfg-team0</code>.
    Inserting a dot in front of the file name makes it
    <span class="quote">“<span class="quote">invisible</span>”</span> for wicked. If you really do not need the
    configuration anymore, you can also remove the file.
   </p></li><li class="step"><p>Reload the configuration:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">wicked ifreload all</code></pre></div></li></ol></div></div><section class="sect2" id="sec-network-iface-teaming-lb" data-id-title="Use Case: Load Balancing with Network Teaming"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.8.1 </span><span class="title-name">Use Case: Load Balancing with Network Teaming</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-iface-teaming-lb">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_teaming.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Load balancing is used to improve bandwidth. Use the following configuration
   file to create a Network Teaming device with load balancing capabilities. Proceed
   with <a class="xref" href="cha-network.html#pro-team-general" title="General Procedure">Procedure 19.1, “General Procedure”</a> to set up the device. Check the
   output with <code class="command">teamdctl</code>.
  </p><div class="example" id="ex-team-lb" data-id-title="Configuration for Load Balancing with Network Teaming"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 19.12: </span><span class="title-name">Configuration for Load Balancing with Network Teaming </span></span><a title="Permalink" class="permalink" href="cha-network.html#ex-team-lb">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_teaming.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">STARTMODE=auto <span class="callout" id="co-team-lb-startmode">1</span>
BOOTPROTO=static <span class="callout" id="co-team-lb-boot-and-ip">2</span>
IPADDRESS="192.168.1.1/24" <a class="xref" href="cha-network.html#co-team-lb-boot-and-ip"><span class="callout">2</span></a>
IPADDR6="fd00:deca:fbad:50::1/64" <a class="xref" href="cha-network.html#co-team-lb-boot-and-ip"><span class="callout">2</span></a>

TEAM_RUNNER="loadbalance" <span class="callout" id="co-team-lb-loadbalance">3</span>
TEAM_LB_TX_HASH="ipv4,ipv6,eth,vlan"
TEAM_LB_TX_BALANCER_NAME="basic"
TEAM_LB_TX_BALANCER_INTERVAL="100"

TEAM_PORT_DEVICE_0="eth0" <span class="callout" id="co-team-lb-dev">4</span>
TEAM_PORT_DEVICE_1="eth1" <a class="xref" href="cha-network.html#co-team-lb-dev"><span class="callout">4</span></a>

TEAM_LW_NAME="ethtool" <span class="callout" id="co-team-lb-name">5</span>
TEAM_LW_ETHTOOL_DELAY_UP="10" <span class="callout" id="co-team-lb-ethtool-delay">6</span>
TEAM_LW_ETHTOOL_DELAY_DOWN="10" <a class="xref" href="cha-network.html#co-team-lb-ethtool-delay"><span class="callout">6</span></a></pre></div><div class="calloutlist"><table style="border: 0; "><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-team-lb-startmode"><span class="callout">1</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      Controls the start of the teaming device. The value of
      <code class="literal">auto</code> means, the interface will be set up when the
      network service is available and will be started automatically on every
      reboot.
     </p><p>
      In case you need to control the device yourself (and prevent it from
      starting automatically), set <code class="varname">STARTMODE</code> to
      <code class="literal">manual</code>.
     </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-team-lb-boot-and-ip"><span class="callout">2</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      Sets a static IP address (here
      <code class="systemitem">192.168.1.1</code>
      for IPv4 and
      <code class="systemitem">fd00:deca:fbad:50::1</code> for
      IPv6).
     </p><p>
      If the Network Teaming device should use a dynamic IP address, set
      <code class="literal">BOOTPROTO="dhcp"</code> and remove (or comment) the line with
      <code class="varname">IPADDRESS</code> and <code class="varname">IPADDR6</code>.
     </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-team-lb-loadbalance"><span class="callout">3</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      Sets <code class="varname">TEAM_RUNNER</code> to <code class="literal">loadbalance</code> to
      activate the load balancing mode.
     </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-team-lb-dev"><span class="callout">4</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      Specifies one or more devices which should be aggregated to create the
      Network Teaming device.
     </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-team-lb-name"><span class="callout">5</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      Defines a link watcher to monitor the state of subordinate devices. The
      default value <code class="literal">ethtool</code> checks only if the device is up
      and accessible. This makes this check fast enough. However, it does not
      check if the device can really send or receive packets.
     </p><p>
      If you need a higher confidence in the connection, use the
      <code class="literal">arp_ping</code> option. This sends pings to an arbitrary host
      (configured in the <code class="varname">TEAM_LW_ARP_PING_TARGET_HOST</code>
      variable). The Network Teaming device is considered to be up only if the
      replies are received.
     </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-team-lb-ethtool-delay"><span class="callout">6</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      Defines the delay in milliseconds between the link coming up (or down)
      and the runner being notified.
     </p></td></tr></table></div></div></div></section><section class="sect2" id="sec-network-iface-teaming-failover" data-id-title="Use Case: Failover with Network Teaming"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.8.2 </span><span class="title-name">Use Case: Failover with Network Teaming</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-iface-teaming-failover">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_teaming.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Failover is used to ensure high availability of a critical Network Teaming device
   by involving a parallel backup network device. The backup network device is
   running all the time and takes over if and when the main device fails.
  </p><p>
   Use the following configuration file to create a Network Teaming device with
   failover capabilities. Proceed with <a class="xref" href="cha-network.html#pro-team-general" title="General Procedure">Procedure 19.1, “General Procedure”</a> to
   set up the device. Check the output with <code class="command">teamdctl</code>.
  </p><div class="example" id="ex-team-failover" data-id-title="Configuration for DHCP Network Teaming Device"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 19.13: </span><span class="title-name">Configuration for DHCP Network Teaming Device </span></span><a title="Permalink" class="permalink" href="cha-network.html#ex-team-failover">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_teaming.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">STARTMODE=auto <span class="callout" id="co-team-failover-startmode">1</span>
BOOTPROTO=static <span class="callout" id="co-team-failover-boot-and-ip">2</span>
IPADDR="192.168.1.2/24" <a class="xref" href="cha-network.html#co-team-failover-boot-and-ip"><span class="callout">2</span></a>
IPADDR6="fd00:deca:fbad:50::2/64" <a class="xref" href="cha-network.html#co-team-failover-boot-and-ip"><span class="callout">2</span></a>

TEAM_RUNNER=activebackup <span class="callout" id="co-team-failover-activebackup">3</span>
TEAM_PORT_DEVICE_0="eth0" <span class="callout" id="co-team-failover-dev">4</span>
TEAM_PORT_DEVICE_1="eth1" <a class="xref" href="cha-network.html#co-team-failover-dev"><span class="callout">4</span></a>

TEAM_LW_NAME=ethtool <span class="callout" id="co-team-failover-name">5</span>
TEAM_LW_ETHTOOL_DELAY_UP="10" <span class="callout" id="co-team-failover-ethtool-delay">6</span>
TEAM_LW_ETHTOOL_DELAY_DOWN="10" <a class="xref" href="cha-network.html#co-team-failover-ethtool-delay"><span class="callout">6</span></a></pre></div><div class="calloutlist"><table style="border: 0; "><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-team-failover-startmode"><span class="callout">1</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      Controls the start of the teaming device. The value of
      <code class="literal">auto</code> means the interface will be set up when the
      network service is available and will be started automatically on every
      reboot.
     </p><p>
      In case you need to control the device yourself (and prevent it from
      starting automatically), set <code class="varname">STARTMODE</code> to
      <code class="literal">manual</code>.
     </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-team-failover-boot-and-ip"><span class="callout">2</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      Sets a static IP address (here
      <code class="systemitem">192.168.1.2</code>
      for IPv4 and
      <code class="systemitem">fd00:deca:fbad:50::2</code> for
      IPv6).
     </p><p>
      If the Network Teaming device should use a dynamic IP address, set
      <code class="literal">BOOTPROTO="dhcp"</code> and remove (or comment) the line with
      <code class="varname">IPADDRESS</code> and <code class="varname">IPADDR6</code>.
     </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-team-failover-activebackup"><span class="callout">3</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      Sets <code class="varname">TEAM_RUNNER</code> to <code class="literal">activebackup</code> to
      activate the failover mode.
     </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-team-failover-dev"><span class="callout">4</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      Specifies one or more devices which should be aggregated to create the
      Network Teaming device.
     </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-team-failover-name"><span class="callout">5</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      Defines a link watcher to monitor the state of subordinate devices. The
      default value <code class="literal">ethtool</code> checks only if the device is up
      and accessible. This makes this check fast enough. However, it does not
      check if the device can really send or receive packets.
     </p><p>
      If you need a higher confidence in the connection, use the
      <code class="literal">arp_ping</code> option. This sends pings to an arbitrary host
      (configured in the <code class="varname">TEAM_LW_ARP_PING_TARGET_HOST</code>
      variable). Only if the replies are received, the Network Teaming device is
      considered to be up.
     </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-team-failover-ethtool-delay"><span class="callout">6</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      Defines the delay in milliseconds between the link coming up (or down)
      and the runner being notified.
     </p></td></tr></table></div></div></div></section><section class="sect2" id="sec-network-iface-teaming-vlan" data-id-title="Use Case: VLAN over Team Device"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.8.3 </span><span class="title-name">Use Case: VLAN over Team Device</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-iface-teaming-vlan">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_teaming.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   VLAN is an abbreviation of <span class="emphasis"><em>Virtual Local Area Network</em></span>.
   It allows the running of multiple <span class="emphasis"><em>logical</em></span> (virtual)
   Ethernets over one single physical Ethernet. It logically splits the
   network into different broadcast domains so that packets are only switched
   between ports that are designated for the same VLAN.
  </p><p>
   The following use case creates two static VLANs on top of a team device:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><code class="systemitem">vlan0</code>,
      bound to the IP address <code class="systemitem">192.168.10.1</code></p></li><li class="listitem"><p><code class="systemitem">vlan1</code>,
      bound to the IP address <code class="systemitem">192.168.20.1</code></p></li></ul></div><p>Proceed as follows:</p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Enable the VLAN tags on your switch. To use load balancing
     for your team device, your switch needs to be capable of
     <span class="emphasis"><em>Link Aggregation Control Protocol</em></span> (LACP) (802.3ad).
     Consult your hardware manual about the details.
    </p></li><li class="step"><p>
     Decide if you want to use load balancing or failover for your team device.
     Set up your team device as described in <a class="xref" href="cha-network.html#sec-network-iface-teaming-lb" title="19.8.1. Use Case: Load Balancing with Network Teaming">Section 19.8.1, “Use Case: Load Balancing with Network Teaming”</a>
     or <a class="xref" href="cha-network.html#sec-network-iface-teaming-failover" title="19.8.2. Use Case: Failover with Network Teaming">Section 19.8.2, “Use Case: Failover with Network Teaming”</a>.
    </p></li><li class="step"><p>
     In <code class="filename">/etc/sysconfig/network</code> create a file
     <code class="filename">ifcfg-vlan0</code> with the following content:
    </p><div class="verbatim-wrap"><pre class="screen">STARTMODE="auto"
BOOTPROTO="static" <span class="callout" id="co-team-vlan-bootproto">1</span>
IPADDR='192.168.10.1/24' <span class="callout" id="co-team-vlan-ipaddr">2</span>
ETHERDEVICE="team0" <span class="callout" id="co-team-vlan-etherdevice">3</span>
VLAN_ID="0" <span class="callout" id="co-team-vlan-vlan-id">4</span>
VLAN='yes'</pre></div><div class="calloutlist"><table style="border: 0; "><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-team-vlan-bootproto"><span class="callout">1</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
       Defines a fixed IP address, specified in <code class="varname">IPADDR</code>.
      </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-team-vlan-ipaddr"><span class="callout">2</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
       Defines the IP address, here with its netmask.
      </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-team-vlan-etherdevice"><span class="callout">3</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
       Contains the real interface to use for the VLAN interface, here our
       team device (<code class="systemitem">team0</code>).
      </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-team-vlan-vlan-id"><span class="callout">4</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
       Specifies a unique ID for the VLAN. Preferably, the file name and the
       <code class="varname">VLAN_ID</code> corresponds to the name
       <code class="filename">ifcfg-vlan<em class="replaceable">VLAN_ID</em></code>.
       In our case <code class="varname">VLAN_ID</code> is <code class="literal">0</code> which
       leads to the file name <code class="filename">ifcfg-vlan0</code>.
      </p></td></tr></table></div></li><li class="step"><p>
     Copy the file <code class="filename">/etc/sysconfig/network/ifcfg-vlan0</code> to
     <code class="filename">/etc/sysconfig/network/ifcfg-vlan1</code> and change the
     following values:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       <code class="varname">IPADDR</code> from <code class="systemitem">192.168.10.1/24</code> to <code class="systemitem">192.168.20.1/24</code>.</p></li><li class="listitem"><p>
       <code class="varname">VLAN_ID</code> from <code class="literal">0</code> to
      <code class="literal">1</code>.
      </p></li></ul></div></li><li class="step"><p>
     Start the two VLANs:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">wicked</code> ifup vlan0 vlan1</pre></div></li><li class="step"><p>
     Check the output of <code class="command">ifconfig</code>:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">ifconfig</code> -a
[...]
vlan0     Link encap:Ethernet  HWaddr 08:00:27:DC:43:98
          inet addr:192.168.10.1 Bcast:192.168.10.255 Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fedc:4398/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:12 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 b)  TX bytes:816 (816.0 b)

vlan1     Link encap:Ethernet  HWaddr 08:00:27:DC:43:98
          inet addr:192.168.20.1 Bcast:192.168.20.255 Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fedc:4398/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:12 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 b)  TX bytes:816 (816.0 b)</pre></div></li></ol></div></div></section></section><section class="sect1" id="sec-network-openvswitch" data-id-title="Software-Defined Networking with Open vSwitch"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">19.9 </span><span class="title-name">Software-Defined Networking with <span class="productname">Open vSwitch</span></span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-openvswitch">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_sdn.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Software-defined networking (SDN) means separating the system that controls
  where traffic is sent (the <span class="emphasis"><em>control plane</em></span>) from the
  underlying system that forwards traffic to the selected destination (the
  <span class="emphasis"><em>data plane</em></span>, also called the <span class="emphasis"><em>forwarding
  plane</em></span>). This means that the functions previously fulfilled by a
  single, usually inflexible switch can now be separated between a switch (data
  plane) and its controller (control plane). In this model, the controller is
  programmable and can be very flexible and adapt quickly to changing network
  conditions.
 </p><p>
  <span class="productname">Open vSwitch</span> is software that implements a distributed virtual multilayer switch
  that is compatible with the

  <span class="productname">OpenFlow</span> protocol.
  <span class="productname">OpenFlow</span> allows a controller application
  to modify the configuration of a switch.
  <span class="productname">OpenFlow</span> is layered onto the TCP protocol
  and is implemented in a range of hardware and software. A single controller
  can thus drive multiple, very different switches.
 </p><section class="sect2" id="sec-network-openvswitch-advantage" data-id-title="Advantages of Open vSwitch"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.9.1 </span><span class="title-name">Advantages of <span class="productname">Open vSwitch</span></span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-openvswitch-advantage">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_sdn.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Software-defined networking with <span class="productname">Open vSwitch</span> brings several advantages with it,
   especially when you used together with virtual machines:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Networking states can be identified easily.
    </p></li><li class="listitem"><p>
     Networks and their live state can be moved from one host to another.
    </p></li><li class="listitem"><p>
     Network dynamics are traceable and external software can be enabled to
     respond to them.
    </p></li><li class="listitem"><p>
     You can apply and manipulate tags in network packets to identify which
     machine they are coming from or going to and maintain other networking
     context.  Tagging rules can be configured and migrated.
    </p></li><li class="listitem"><p>
     <span class="productname">Open vSwitch</span> implements the GRE protocol (<span class="emphasis"><em>Generic Routing
     Encapsulation</em></span>). This allows you, for example, to connect
     private VM networks to each other.
    </p></li><li class="listitem"><p>
     <span class="productname">Open vSwitch</span> can be used on its own, but is designed to integrate with networking
     hardware and can control hardware switches.
    </p></li></ul></div></section><section class="sect2" id="sec-network-openvswitch-install" data-id-title="Installing Open vSwitch"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.9.2 </span><span class="title-name">Installing <span class="productname">Open vSwitch</span></span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-openvswitch-install">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_sdn.xml" title="Edit source document"> </a></div></div></div></div></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Install <span class="productname">Open vSwitch</span> and supplementary packages:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">zypper</code> install openvswitch openvswitch-switch</pre></div><p>
     If you plan to use <span class="productname">Open vSwitch</span> together with the KVM hypervisor, additionally
     install
     <span class="package">tunctl</span>
     . If you plan to use <span class="productname">Open vSwitch</span> together with the Xen hypervisor,
     additionally install
     <span class="package">openvswitch-kmp-xen</span>
     .
    </p></li><li class="step"><p>
     Enable the <span class="productname">Open vSwitch</span> service:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl</code> enable openvswitch</pre></div></li><li class="step"><p>
     Either restart the computer or use <code class="command">systemctl</code> to start
     the <span class="productname">Open vSwitch</span> service immediately:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl</code> start openvswitch</pre></div></li><li class="step"><p>
     To check whether <span class="productname">Open vSwitch</span> was activated correctly, use:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl</code> status openvswitch</pre></div></li></ol></div></div></section><section class="sect2" id="sec-network-openvswitch-userspace" data-id-title="Overview of Open vSwitch Daemons and Utilities"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.9.3 </span><span class="title-name">Overview of <span class="productname">Open vSwitch</span> Daemons and Utilities</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-openvswitch-userspace">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_sdn.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   <span class="productname">Open vSwitch</span> consists of several components. Among them are a kernel module and
   various user space components. The kernel module is used for accelerating
   the data path, but is not necessary for a minimal <span class="productname">Open vSwitch</span> installation.
  </p><section class="sect3" id="sec-network-openvswitch-daemon" data-id-title="Daemons"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.9.3.1 </span><span class="title-name">Daemons</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-openvswitch-daemon">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_sdn.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The central executables of <span class="productname">Open vSwitch</span> are its two daemons. When you start the
    <code class="systemitem">openvswitch</code> service, you are indirectly starting
    them.
   </p><p>
    The main <span class="productname">Open vSwitch</span> daemon (<code class="command">ovs-vswitchd</code>) provides the
    implementation of a switch. The <span class="productname">Open vSwitch</span> database daemon
    (<code class="command">ovsdb-server</code>) serves the database that stores the
    configuration and state of <span class="productname">Open vSwitch</span>.
   </p></section><section class="sect3" id="sec-network-openvswitch-utility" data-id-title="Utilities"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">19.9.3.2 </span><span class="title-name">Utilities</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-openvswitch-utility">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_sdn.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    <span class="productname">Open vSwitch</span> also comes with several utilities that help you work with it. The
    following list is not exhaustive, but instead describes important commands
    only.
   </p><div class="variablelist" id="vl-ovs-utility"><dl class="variablelist"><dt id="id-1.3.5.5.21.7.4.3.1"><span class="term"><code class="command">ovsdb-tool</code>
     </span></dt><dd><p>
       Create, upgrade, compact, and query <span class="productname">Open vSwitch</span> databases. Do transactions on
       <span class="productname">Open vSwitch</span> databases.
      </p></dd><dt id="id-1.3.5.5.21.7.4.3.2"><span class="term"><code class="command">ovs-appctl</code>
     </span></dt><dd><p>
       Configure a running <code class="command">ovs-vswitchd</code> or
       <code class="command">ovsdb-server</code> daemon.
      </p></dd><dt id="id-1.3.5.5.21.7.4.3.3"><span class="term"><code class="command">ovs-dpctl</code>, <code class="command">ovs-dpctl-top</code>
     </span></dt><dd><p>
       Create, modify, visualize, and delete data paths. Using this tool can
       interfere with <code class="command">ovs-vswitchd</code> also performing data path
       management. Therefore, it is often used for diagnostics only.
      </p><p>
       <code class="command">ovs-dpctl-top</code> creates a <code class="command">top</code>-like
       visualization for data paths.
       
      </p></dd><dt id="id-1.3.5.5.21.7.4.3.4"><span class="term"><code class="command">ovs-ofctl</code>
     </span></dt><dd><p>
       Manage any switches adhering to the
       <span class="productname">OpenFlow</span> protocol.
       <code class="command">ovs-ofctl</code> is not limited to interacting with <span class="productname">Open vSwitch</span>.
      </p></dd><dt id="id-1.3.5.5.21.7.4.3.5"><span class="term"><code class="command">ovs-vsctl</code>
     </span></dt><dd><p>
       Provides a high-level interface to the configuration database. It can be
       used to query and modify the database. In effect, it shows the status of
       <code class="command">ovs-vswitchd</code> and can be used to configure it.
      </p></dd></dl></div></section></section><section class="sect2" id="sec-network-openvswitch-bridge" data-id-title="Creating a Bridge with Open vSwitch"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.9.4 </span><span class="title-name">Creating a Bridge with <span class="productname">Open vSwitch</span></span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-openvswitch-bridge">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_sdn.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The following example configuration uses the Wicked network service that is
   used by default on <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>. To learn more about Wicked, see
   <a class="xref" href="cha-network.html#sec-network-manconf" title="19.5. Configuring a Network Connection Manually">Section 19.5, “Configuring a Network Connection Manually”</a>.
  </p><p>
   When you have installed and started <span class="productname">Open vSwitch</span>, proceed as follows:
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     To configure a bridge for use by your virtual machine, create a file with
     content like this:
    </p><div class="verbatim-wrap"><pre class="screen">STARTMODE='auto'<span class="callout" id="ovs-ifcfg-mode">1</span>
BOOTPROTO='dhcp'<span class="callout" id="ovs-ifcfg-protocol">2</span>
OVS_BRIDGE='yes'<span class="callout" id="ovs-ifcfg-bridge">3</span>
OVS_BRIDGE_PORT_DEVICE_1='<em class="replaceable">eth0</em>'<span class="callout" id="ovs-ifcfg-port">4</span></pre></div><div class="calloutlist"><table style="border: 0; "><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#ovs-ifcfg-mode"><span class="callout">1</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
       Set up the bridge automatically when the network service is started.
      </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#ovs-ifcfg-protocol"><span class="callout">2</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
       The protocol to use for configuring the IP address.
      </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#ovs-ifcfg-bridge"><span class="callout">3</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
       Mark the configuration as an <span class="productname">Open vSwitch</span> bridge.
      </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#ovs-ifcfg-port"><span class="callout">4</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
       Choose which device/devices should be added to the bridge. To add more
       devices, append additional lines for each of them to the file:
      </p><div class="verbatim-wrap"><pre class="screen">OVS_BRIDGE_PORT_DEVICE_<em class="replaceable">SUFFIX</em>='<em class="replaceable">DEVICE</em>'</pre></div><p>
       The <em class="replaceable">SUFFIX</em> can be any alphanumeric string.
       However, to avoid overwriting a previous definition, make sure the
       <em class="replaceable">SUFFIX</em> of each device is unique.
      </p></td></tr></table></div><p>
     Save the file in the directory <code class="filename">/etc/sysconfig/network</code>
     under the name <code class="filename">ifcfg-br0</code>. Instead of
     <em class="replaceable">br0</em>, you can use any name you want. However,
     the file name needs to begin with <code class="literal">ifcfg-</code>.
    </p><p>
     To learn about further options, refer to the man pages of
     <code class="literal">ifcfg</code> (<code class="command">man 5 ifcfg</code>) and
     <code class="literal">ifcfg-ovs-bridge</code> (<code class="command">man 5
     ifcfg-ovs-bridge</code>).
    </p></li><li class="step"><p>
     Now start the bridge:
     
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">wicked</code> ifup <em class="replaceable">br0</em></pre></div><p>
     When Wicked is done, it should output the name of the bridge and next to
     it the state <code class="literal">up</code>.
    </p></li></ol></div></div></section><section class="sect2" id="sec-network-openvswitch-kvm" data-id-title="Using Open vSwitch Directly with KVM"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.9.5 </span><span class="title-name">Using <span class="productname">Open vSwitch</span> Directly with KVM</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-openvswitch-kvm">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_sdn.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   After having created the bridge as described in
   <a class="xref" href="cha-network.html#sec-network-openvswitch-bridge" title="19.9.4. Creating a Bridge with Open vSwitch">Section 19.9.4, “Creating a Bridge with <span class="productname">Open vSwitch</span>”</a>, you can use <span class="productname">Open vSwitch</span> to manage the network
   access of virtual machines created with KVM/QEMU.
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     To be able to best use the capabilities of Wicked, make some further
     changes to the bridge configured before. Open the previously created
     <code class="filename">/etc/sysconfig/network/ifcfg-br0</code> and append a line
     for another port device:
    </p><div class="verbatim-wrap"><pre class="screen">OVS_BRIDGE_PORT_DEVICE_2='<em class="replaceable">tap0</em>'</pre></div><p>
     Additionally, set <code class="literal">BOOTPROTO</code> to <code class="literal">none</code>.
     The file should now look like this:
    </p><div class="verbatim-wrap"><pre class="screen">STARTMODE='auto'
BOOTPROTO='none'
OVS_BRIDGE='yes'
OVS_BRIDGE_PORT_DEVICE_1='<em class="replaceable">eth0</em>'
OVS_BRIDGE_PORT_DEVICE_2='<em class="replaceable">tap0</em>'</pre></div><p>
     The new port device <em class="replaceable">tap0</em> will be configured in
     the next step.
    </p></li><li class="step"><p>
     Now add a configuration file for the <em class="replaceable">tap0</em>
     device:
    </p><div class="verbatim-wrap"><pre class="screen">STARTMODE='auto'
BOOTPROTO='none'
TUNNEL='tap'</pre></div><p>
     Save the file in the directory <code class="filename">/etc/sysconfig/network</code>
     under the name <code class="filename">ifcfg-tap0</code>.
    </p><div id="id-1.3.5.5.21.9.3.2.4" data-id-title="Allowing Other Users to Access the Tap Device" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Allowing Other Users to Access the Tap Device</div><p>
      To be able to use this tap device from a virtual machine started as a
      user who is not <code class="systemitem">root</code>, append:
     </p><div class="verbatim-wrap"><pre class="screen">TUNNEL_SET_OWNER=<em class="replaceable">USER_NAME</em></pre></div><p>
      To allow access for an entire group, append:
     </p><div class="verbatim-wrap"><pre class="screen">TUNNEL_SET_GROUP=<em class="replaceable">GROUP_NAME</em></pre></div></div></li><li class="step"><p>
     Finally, open the configuration for the device defined as the first
     <code class="literal">OVS_BRIDGE_PORT_DEVICE</code>. If you did not change the name,
     that should be <code class="literal">eth0</code>. Therefore, open
     <code class="filename">/etc/sysconfig/network/ifcfg-eth0</code> and make sure that
     the following options are set:
    </p><div class="verbatim-wrap"><pre class="screen">STARTMODE='auto'
BOOTPROTO='none'</pre></div><p>
     If the file does not exist yet, create it.
    </p></li><li class="step"><p>
     Restart the bridge interface using Wicked:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">wicked</code> ifreload <em class="replaceable">br0</em></pre></div><p>
     This will also trigger a reload of the newly defined bridge port devices.
    </p></li><li class="step"><p>
     To start a virtual machine, use, for example:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">qemu-kvm</code> \
-drive file=<em class="replaceable">/PATH/TO/DISK-IMAGE</em><span class="callout" id="co-ovs-pathimage">1</span> \
-m 512 -net nic,vlan=0,macaddr=00:11:22:EE:EE:EE \
-net tap,ifname=<em class="replaceable">tap0</em>,script=no,downscript=no<span class="callout" id="co-ovs-tapdevice">2</span></pre></div><div class="calloutlist"><table style="border: 0; "><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ovs-pathimage"><span class="callout">1</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
       The path to the QEMU disk image you want to start.
      </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ovs-tapdevice"><span class="callout">2</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
       Use the tap device (<code class="literal">tap0</code>) created before.
      </p></td></tr></table></div><p>
     For further information on the usage of KVM/QEMU, see
     <span class="intraxref">Book “Virtualization Guide”</span>.
    </p></li></ol></div></div></section><section class="sect2" id="sec-network-openvswitch-libvirt" data-id-title="Using Open vSwitch with libvirt"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.9.6 </span><span class="title-name">Using <span class="productname">Open vSwitch</span> with <code class="systemitem">libvirt</code></span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-openvswitch-libvirt">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_sdn.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   After having created the bridge as described before in
   <a class="xref" href="cha-network.html#sec-network-openvswitch-bridge" title="19.9.4. Creating a Bridge with Open vSwitch">Section 19.9.4, “Creating a Bridge with <span class="productname">Open vSwitch</span>”</a>, you can add the bridge to an existing
   virtual machine managed with <code class="systemitem">libvirt</code>. Since <code class="systemitem">libvirt</code> has some support for
   <span class="productname">Open vSwitch</span> bridges already, you can use the bridge created in
   <a class="xref" href="cha-network.html#sec-network-openvswitch-bridge" title="19.9.4. Creating a Bridge with Open vSwitch">Section 19.9.4, “Creating a Bridge with <span class="productname">Open vSwitch</span>”</a> without further changes to the networking
   configuration.
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Open the domain XML file for the intended virtual machine:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">virsh</code> edit <em class="replaceable">VM_NAME</em></pre></div><p>
     Replace <em class="replaceable">VM_NAME</em> with the name of the desired
     virtual machine. This will open your default text editor.
    </p></li><li class="step"><p>
     Find the networking section of the document by looking for a section
     starting with <code class="literal">&lt;interface type="..."&gt;</code> and ending
     in <code class="literal">&lt;/interface&gt;</code>.
    </p><p>
     Replace the existing section with a networking section that looks somewhat
     like this:
    </p><div class="verbatim-wrap"><pre class="screen">&lt;interface type='bridge'&gt;
  &lt;source bridge='br0'/&gt;
  &lt;virtualport type='openvswitch'/&gt;
&lt;/interface&gt;</pre></div><div id="id-1.3.5.5.21.10.3.2.4" data-id-title="Compatibility of virsh iface-* and Virtual Machine Manager with Open vSwitch" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Compatibility of <code class="command">virsh iface-*</code> and Virtual Machine Manager with <span class="productname">Open vSwitch</span></div><p>
      At the moment, the <span class="productname">Open vSwitch</span> compatibility of <code class="systemitem">libvirt</code> is not exposed
      through the <code class="command">virsh iface-*</code> tools and Virtual Machine Manager. If you use
      any of these tools, your configuration can break.
     </p></div></li><li class="step"><p>
     You can now start or restart the virtual machine as usual.
    </p></li></ol></div></div><p>
   For further information on the usage of <code class="systemitem">libvirt</code>, see
   <span class="intraxref">Book “Virtualization Guide”</span>.
  </p></section><section class="sect2" id="sec-network-openvswitch-more" data-id-title="For More Information"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">19.9.7 </span><span class="title-name">For More Information</span></span> <a title="Permalink" class="permalink" href="cha-network.html#sec-network-openvswitch-more">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE15SP2/xml/net_sdn.xml" title="Edit source document"> </a></div></div></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.5.5.21.11.2.1"><span class="term"><a class="link" href="https://openvswitch.org/support/" target="_blank">https://openvswitch.org/support/</a>
    </span></dt><dd><p>
      The documentation section of the <span class="productname">Open vSwitch</span> project Web site
     </p></dd></dl></div></section></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="cha-update-alternative.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 18 </span><code class="command">update-alternatives</code>: Managing Multiple Versions of Commands and Files</span></a> </div><div><a class="pagination-link next" href="cha-print.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 20 </span>Printer Operation</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="cha-network.html#sec-network-addresses"><span class="title-number">19.1 </span><span class="title-name">IP Addresses and Routing</span></a></span></li><li><span class="sect1"><a href="cha-network.html#sec-network-ipv6"><span class="title-number">19.2 </span><span class="title-name">IPv6—The Next Generation Internet</span></a></span></li><li><span class="sect1"><a href="cha-network.html#sec-network-nameres"><span class="title-number">19.3 </span><span class="title-name">Name Resolution</span></a></span></li><li><span class="sect1"><a href="cha-network.html#sec-network-yast"><span class="title-number">19.4 </span><span class="title-name">Configuring a Network Connection with YaST</span></a></span></li><li><span class="sect1"><a href="cha-network.html#sec-network-manconf"><span class="title-number">19.5 </span><span class="title-name">Configuring a Network Connection Manually</span></a></span></li><li><span class="sect1"><a href="cha-network.html#sec-network-router"><span class="title-number">19.6 </span><span class="title-name">Basic Router Setup</span></a></span></li><li><span class="sect1"><a href="cha-network.html#sec-network-iface-bonding"><span class="title-number">19.7 </span><span class="title-name">Setting Up Bonding Devices</span></a></span></li><li><span class="sect1"><a href="cha-network.html#sec-network-iface-teaming"><span class="title-number">19.8 </span><span class="title-name">Setting Up Team Devices for Network Teaming</span></a></span></li><li><span class="sect1"><a href="cha-network.html#sec-network-openvswitch"><span class="title-number">19.9 </span><span class="title-name">Software-Defined Networking with <span class="productname">Open vSwitch</span></span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>