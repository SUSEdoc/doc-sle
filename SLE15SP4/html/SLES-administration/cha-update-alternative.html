<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLES 15 SP4 | Administration Guide | update-alternatives: Managing multiple versions of commands and files</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="update-alternatives: Managing multiple versions of com…"/>
<meta name="description" content="Often, there are several versions of the same tool installed on a system. To give administrators a choice and to make it possible to install and use …"/>
<meta name="product-name" content="SUSE Linux Enterprise Server"/>
<meta name="product-number" content="15 SP4"/>
<meta name="book-title" content="Administration Guide"/>
<meta name="chapter-title" content="Chapter 22. update-alternatives: Managing multiple versions of commands and files"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="fs@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="PUBLIC SUSE Linux Enterprise Server 15 SP4"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Administration Guide"/>
<meta property="og:description" content="Maintain, monitor and customize SLES"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Administration Guide"/>
<meta name="twitter:description" content="Maintain, monitor and customize SLES"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "update-alternatives: Managing multiple versions of commands and files",
  
    "description": "Often, there are several versions of the same tool installed on a system. To give administrators a choice and to make it possible to install and use …",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2024-02-13T00:00+02:00",
      
    "datePublished": "2022-06-21T00:00+02:00",
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="cha-journalctl.html" title="Chapter 21. journalctl: Query the systemd journal"/><link rel="next" href="cha-network.html" title="Chapter 23. Basic networking"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sle/edit/main/xml/update-alternatives.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Administration Guide</a><span> / </span><a class="crumb" href="part-system.html">System</a><span> / </span><a class="crumb" href="cha-update-alternative.html">update-alternatives: Managing multiple versions of commands and files</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">Administration Guide</div><ol><li><a href="pre-sle.html" class=" "><span class="title-number"> </span><span class="title-name">Preface</span></a></li><li><a href="part-administration.html" class="has-children "><span class="title-number">I </span><span class="title-name">Common tasks</span></a><ol><li><a href="cha-adm-shell.html" class=" "><span class="title-number">1 </span><span class="title-name">Bash and Bash scripts</span></a></li><li><a href="cha-adm-sudo.html" class=" "><span class="title-number">2 </span><span class="title-name"><code class="command">sudo</code> basics</span></a></li><li><a href="cha-yast-gui.html" class=" "><span class="title-number">3 </span><span class="title-name">Using YaST</span></a></li><li><a href="cha-yast-text.html" class=" "><span class="title-number">4 </span><span class="title-name">YaST in text mode</span></a></li><li><a href="cha-yast-lang.html" class=" "><span class="title-number">5 </span><span class="title-name">Changing language and country settings with YaST</span></a></li><li><a href="cha-yast-userman.html" class=" "><span class="title-number">6 </span><span class="title-name">Managing users with YaST</span></a></li><li><a href="cha-onlineupdate-you.html" class=" "><span class="title-number">7 </span><span class="title-name">YaST online update</span></a></li><li><a href="cha-yast-software.html" class=" "><span class="title-number">8 </span><span class="title-name">Installing or removing software</span></a></li><li><a href="cha-sw-cl.html" class=" "><span class="title-number">9 </span><span class="title-name">Managing software with command line tools</span></a></li><li><a href="cha-snapper.html" class=" "><span class="title-number">10 </span><span class="title-name">System recovery and snapshot management with Snapper</span></a></li><li><a href="cha-klp.html" class=" "><span class="title-number">11 </span><span class="title-name">Live kernel patching with KLP</span></a></li><li><a href="cha-ulp.html" class=" "><span class="title-number">12 </span><span class="title-name">User space live patching</span></a></li><li><a href="cha-transactional-updates.html" class=" "><span class="title-number">13 </span><span class="title-name">Transactional updates</span></a></li><li><a href="cha-vnc.html" class=" "><span class="title-number">14 </span><span class="title-name">Remote graphical sessions with VNC</span></a></li><li><a href="cha-net-rsync.html" class=" "><span class="title-number">15 </span><span class="title-name">File copying with RSync</span></a></li></ol></li><li><a href="part-boot.html" class="has-children "><span class="title-number">II </span><span class="title-name">Booting a Linux system</span></a><ol><li><a href="cha-boot.html" class=" "><span class="title-number">16 </span><span class="title-name">Introduction to the boot process</span></a></li><li><a href="cha-uefi.html" class=" "><span class="title-number">17 </span><span class="title-name">UEFI (Unified Extensible Firmware Interface)</span></a></li><li><a href="cha-grub2.html" class=" "><span class="title-number">18 </span><span class="title-name">The boot loader GRUB 2</span></a></li><li><a href="cha-systemd.html" class=" "><span class="title-number">19 </span><span class="title-name">The <code class="systemitem">systemd</code> daemon</span></a></li></ol></li><li class="active"><a href="part-system.html" class="has-children you-are-here"><span class="title-number">III </span><span class="title-name">System</span></a><ol><li><a href="cha-64bit.html" class=" "><span class="title-number">20 </span><span class="title-name">32-bit and 64-bit applications in a 64-bit system environment</span></a></li><li><a href="cha-journalctl.html" class=" "><span class="title-number">21 </span><span class="title-name"><code class="command">journalctl</code>: Query the <code class="systemitem">systemd</code> journal</span></a></li><li><a href="cha-update-alternative.html" class=" you-are-here"><span class="title-number">22 </span><span class="title-name"><code class="command">update-alternatives</code>: Managing multiple versions of commands and files</span></a></li><li><a href="cha-network.html" class=" "><span class="title-number">23 </span><span class="title-name">Basic networking</span></a></li><li><a href="cha-print.html" class=" "><span class="title-number">24 </span><span class="title-name">Printer operation</span></a></li><li><a href="cha-gui-desktop.html" class=" "><span class="title-number">25 </span><span class="title-name">Graphical user interface</span></a></li><li><a href="cha-fuse.html" class=" "><span class="title-number">26 </span><span class="title-name">Accessing file systems with FUSE</span></a></li><li><a href="cha-tuning-multikernel.html" class=" "><span class="title-number">27 </span><span class="title-name">Installing multiple kernel versions</span></a></li><li><a href="cha-mod.html" class=" "><span class="title-number">28 </span><span class="title-name">Managing kernel modules</span></a></li><li><a href="cha-udev.html" class=" "><span class="title-number">29 </span><span class="title-name">Dynamic kernel device management with <code class="systemitem">udev</code></span></a></li><li><a href="cha-suse.html" class=" "><span class="title-number">30 </span><span class="title-name">Special system features</span></a></li><li><a href="cha-nm.html" class=" "><span class="title-number">31 </span><span class="title-name">Using NetworkManager</span></a></li></ol></li><li><a href="part-hardware.html" class="has-children "><span class="title-number">IV </span><span class="title-name">Hardware configuration</span></a><ol><li><a href="sec-yast-hw-keym.html" class=" "><span class="title-number">32 </span><span class="title-name">Setting up your system keyboard layout</span></a></li><li><a href="sec-yast-hw-sound.html" class=" "><span class="title-number">33 </span><span class="title-name">Setting up sound cards</span></a></li><li><a href="sec-yast-hw-print.html" class=" "><span class="title-number">34 </span><span class="title-name">Setting up a printer</span></a></li><li><a href="cha-power-mgmt.html" class=" "><span class="title-number">35 </span><span class="title-name">Power management</span></a></li><li><a href="cha-nvdimm.html" class=" "><span class="title-number">36 </span><span class="title-name">Persistent memory</span></a></li></ol></li><li><a href="part-services.html" class="has-children "><span class="title-number">V </span><span class="title-name">Services</span></a><ol><li><a href="cha-yast-serviceman.html" class=" "><span class="title-number">37 </span><span class="title-name">Service management with YaST</span></a></li><li><a href="cha-ntp.html" class=" "><span class="title-number">38 </span><span class="title-name">Time synchronization with NTP</span></a></li><li><a href="cha-dns.html" class=" "><span class="title-number">39 </span><span class="title-name">The domain name system</span></a></li><li><a href="cha-dhcp.html" class=" "><span class="title-number">40 </span><span class="title-name">DHCP</span></a></li><li><a href="cha-slp.html" class=" "><span class="title-number">41 </span><span class="title-name">SLP</span></a></li><li><a href="cha-apache2.html" class=" "><span class="title-number">42 </span><span class="title-name">The Apache HTTP server</span></a></li><li><a href="cha-ftp.html" class=" "><span class="title-number">43 </span><span class="title-name">Setting up an FTP server with YaST</span></a></li><li><a href="cha-squid.html" class=" "><span class="title-number">44 </span><span class="title-name">Squid caching proxy server</span></a></li><li><a href="cha-wbem.html" class=" "><span class="title-number">45 </span><span class="title-name">Web Based Enterprise Management using SFCB</span></a></li></ol></li><li><a href="part-trouble.html" class="has-children "><span class="title-number">VI </span><span class="title-name">Troubleshooting</span></a><ol><li><a href="cha-adminhelp.html" class=" "><span class="title-number">46 </span><span class="title-name">Help and documentation</span></a></li><li><a href="cha-adm-support.html" class=" "><span class="title-number">47 </span><span class="title-name">Gathering system information for support</span></a></li><li><a href="cha-trouble.html" class=" "><span class="title-number">48 </span><span class="title-name">Common problems and their solutions</span></a></li></ol></li><li><a href="app-nwscheme.html" class=" "><span class="title-number">A </span><span class="title-name">An example network</span></a></li><li><a href="bk01apb.html" class=" "><span class="title-number">B </span><span class="title-name">GNU licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="cha-update-alternative" data-id-title="update-alternatives: Managing multiple versions of commands and files"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">15 SP4</span></span></span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">22 </span><span class="title-name"><code class="command">update-alternatives</code>: Managing multiple versions of commands and files</span></span> <a title="Permalink" class="permalink" href="cha-update-alternative.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/update-alternatives.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
    Often, there are several versions of the same tool installed on a
    system.
    To give administrators a choice and to make it possible to install and
    use different versions side by side, the alternatives system allows
    managing such versions consistently.
   </p></div></div></div></div><section class="sect1" id="sec-ua-concept" data-id-title="Overview"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">22.1 </span><span class="title-name">Overview</span></span> <a title="Permalink" class="permalink" href="cha-update-alternative.html#sec-ua-concept">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/update-alternatives.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    On <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>, some programs perform the same or similar tasks. For example,
    if Java 1.7 and Java 1.8 are both installed on the system, the alternatives system script
    (<code class="command">update-alternatives</code>) is called from inside the RPM package.
    By default, the alternatives system will refer to version 1.8: Higher versions also have a
    higher priority. However, the administrator can change the default and
    can point the generic name to version 1.7.
   </p><p>
    The following terminology is used in this chapter:
   </p><div class="variablelist"><div class="title-container"><div class="variablelist-title-wrap"><div class="variablelist-title"><span class="title-number-name"><span class="title-name">Terminology </span></span><a title="Permalink" class="permalink" href="cha-update-alternative.html#id-1.3.5.4.3.4">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/update-alternatives.xml" title="Edit source document"> </a></div></div><dl class="variablelist"><dt id="id-1.3.5.4.3.4.2"><span class="term">Administrative directory</span></dt><dd><p>
       The default <code class="filename">/var/lib/rpm/alternatives</code> directory contains information
       about the current state of alternatives.
      </p></dd><dt id="id-1.3.5.4.3.4.3"><span class="term">Alternative</span></dt><dd><p>
       The name of a specific file in the file system, which can be made
       accessible via a generic name using the alternatives system.
      </p></dd><dt id="id-1.3.5.4.3.4.4"><span class="term">Alternatives directory</span></dt><dd><p>
       The default <code class="filename">/etc/alternatives</code>
       directory containing symbolic links.
      </p></dd><dt id="id-1.3.5.4.3.4.5"><span class="term">Generic name</span></dt><dd><p>
       A name (for example, <code class="command">/usr/bin/edit</code>) that refers to
       one file out of several available using the alternatives system.
      </p></dd><dt id="id-1.3.5.4.3.4.6"><span class="term">Link group</span></dt><dd><p>
       A set of related symbolic links that can be updated as a group.
      </p></dd><dt id="id-1.3.5.4.3.4.7"><span class="term">Master link</span></dt><dd><p>
       The link in a link group that determines how the other links in the
       group are configured.
      </p></dd><dt id="id-1.3.5.4.3.4.8"><span class="term">Slave link</span></dt><dd><p>
       A link in a link group controlled by the master link.
      </p></dd><dt id="id-1.3.5.4.3.4.9"><span class="term">Symbolic link (symlink)</span></dt><dd><p>
       A file that is a reference to another file in the same file system.
       The alternatives system uses symbolic links in the alternatives directory to switch
       between versions of a file.
      </p><p>
       Symbolic links in the alternatives directory can be modified by the
       administrator through the <code class="command">update-alternatives</code>
       command.
      </p></dd></dl></div><p>
    The alternatives system provides the <code class="command">update-alternatives</code> command to
    create, remove, maintain, and show information about symbolic links.
    While these symbolic links usually point to commands, they can also point
    to JAR archives, man pages, and other files.
    Examples in this chapter use commands and man pages, but they are also
    applicable to other file types.
   </p><p>
    The alternatives system uses the alternatives directory to collect links to possible
    alternatives. When a new package with an alternative is installed,
    the new alternative is added to the system. Whether the new package's
    alternative is selected as the default depends on its priority and on the
    mode that is set. Usually, packages
    with a higher version also have a higher priority. The alternatives system can operate
    in two modes:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="formalpara-title">Automatic mode. </span>
       In this mode, the alternatives system ensures that the links in the group point to
       the highest priority alternatives appropriate for the group.
      </p></li><li class="listitem"><p><span class="formalpara-title">Manual mode. </span>
       In this mode, the alternatives system does not make any changes to the system
       administrator's settings.
      </p></li></ul></div><p>
    For example, the <code class="command">java</code> command has the following link
    hierarchy in the alternatives system:
   </p><div class="example" id="id-1.3.5.4.3.9" data-id-title="Alternatives System of the java command"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 22.1: </span><span class="title-name">Alternatives System of the <code class="command">java</code> command </span></span><a title="Permalink" class="permalink" href="cha-update-alternative.html#id-1.3.5.4.3.9">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/update-alternatives.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">/usr/bin/java <span class="callout" id="co-ua-java-name">1</span>
 -&gt; /etc/alternatives/java <span class="callout" id="co-ua-java-symbolic-link">2</span>
     -&gt; /usr/lib64/jvm/jre-10-openjdk/bin/java <span class="callout" id="co-ua-java-alternatives">3</span></pre></div><div class="calloutlist"><table style="border: 0; "><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ua-java-name"><span class="callout">1</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
       The generic name.
      </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ua-java-symbolic-link"><span class="callout">2</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
       The symbolic link in the alternatives directory.
      </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ua-java-alternatives"><span class="callout">3</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
       One of the alternatives.
      </p></td></tr></table></div></div></div></section><section class="sect1" id="sec-ua-use-cases" data-id-title="Use cases"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">22.2 </span><span class="title-name">Use cases</span></span> <a title="Permalink" class="permalink" href="cha-update-alternative.html#sec-ua-use-cases">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/update-alternatives.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    By default, the <code class="command">update-alternatives</code> script is called
    from inside an RPM package. When a package is installed or removed, the
    script takes care of all its symbolic links.
    But you can run it manually from the command line for:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      displaying the current alternatives for a generic name.
     </p></li><li class="listitem"><p>
      changing the defaults of an alternative.
     </p></li><li class="listitem"><p>
     creating a set of related files for an alternative.
     </p></li></ul></div></section><section class="sect1" id="sec-ua-view-all" data-id-title="Getting an overview of alternatives"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">22.3 </span><span class="title-name">Getting an overview of alternatives</span></span> <a title="Permalink" class="permalink" href="cha-update-alternative.html#sec-ua-view-all">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/update-alternatives.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    To retrieve the names of all configured alternatives, use:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">ls /var/lib/alternatives</code></pre></div><p>
    To get an overview of all configured alternatives and their values, use
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">update-alternatives --get-selections</code>
asadmin                        auto     /usr/bin/asadmin-2.7
awk                            auto     /usr/bin/gawk
chardetect                     auto     /usr/bin/chardetect-3.6
dbus-launch                    auto     /usr/bin/dbus-launch.x11
default-displaymanager         auto     /usr/lib/X11/displaymanagers/gdm
[...]</pre></div></section><section class="sect1" id="sec-ua-view" data-id-title="Viewing details on specific alternatives"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">22.4 </span><span class="title-name">Viewing details on specific alternatives</span></span> <a title="Permalink" class="permalink" href="cha-update-alternative.html#sec-ua-view">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/update-alternatives.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The easiest way to check the alternatives is to follow the symbolic links of
    your command.
    For example, if you want to know what the <code class="command">java</code>
    command is referring to, use the following command:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">readlink --canonicalize /usr/bin/java</code>
/usr/lib64/jvm/jre-10-openjdk/bin/java</pre></div><p>
    If you see the same path (in our example, it is
    <code class="filename">/usr/bin/java</code>),
    there are no alternatives available for this command.
   </p><p>
    To see the full alternatives (including slaves), use the
    <code class="option">--display</code> option:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">update-alternatives --display java</code>
java - auto mode
  link best version is /usr/lib64/jvm/jre-1.8.0-openjdk/bin/java
  link currently points to /usr/lib64/jvm/jre-1.8.0-openjdk/bin/java
  link java is /usr/bin/java
  slave java.1.gz is /usr/share/man/man1/java.1.gz
  slave jre is /usr/lib64/jvm/jre
  slave jre_exports is /usr/lib64/jvm-exports/jre
  slave keytool is /usr/bin/keytool
  slave keytool.1.gz is /usr/share/man/man1/keytool.1.gz
  slave orbd is /usr/bin/orbd
  slave orbd.1.gz is /usr/share/man/man1/orbd.1.gz
[...]</pre></div></section><section class="sect1" id="sec-ua-set" data-id-title="Setting the default version of alternatives"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">22.5 </span><span class="title-name">Setting the default version of alternatives</span></span> <a title="Permalink" class="permalink" href="cha-update-alternative.html#sec-ua-set">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/update-alternatives.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    By default, commands in <code class="filename">/usr/bin</code> refer to the
    alternatives directory with the highest priority. For example,
    by default, the command <code class="command">java</code> shows the following
    version number:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">java -version</code>
openjdk version "10.0.1" 2018-04-17
OpenJDK Runtime Environment (build 10.0.1+10-suse-lp150.1.11-x8664)
OpenJDK 64-Bit Server VM (build 10.0.1+10-suse-lp150.1.11-x8664, mixed mode)</pre></div><p>
    To change the default <code class="command">java</code> command to refer
    to a previous version, run:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">update-alternatives --config java</code>
root's password:
There are 2 choices for the alternative java (providing /usr/bin/java).

  Selection    Path                                       Priority   Status
------------------------------------------------------------
* 0            /usr/lib64/jvm/jre-10-openjdk/bin/java      2005      auto mode
  1            /usr/lib64/jvm/jre-1.8.0-openjdk/bin/java   1805      manual mode
  2            /usr/lib64/jvm/jre-10-openjdk/bin/java      2005      manual mode
  3            /usr/lib64/jvm/jre-11-openjdk/bin/java      0         manual mode

Press &lt;enter&gt; to keep the current choice[*], or type selection number:</pre></div><p>
    Depending on your system and installed versions, the exact Java version
    number will be different.
    After you have selected <code class="literal">1</code>, <code class="command">java</code>
    shows the following version number:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">java -version</code>
java version "1.8.0_171"
OpenJDK Runtime Environment (IcedTea 3.8.0) (build 1.8.0_171-b11 suse-lp150.2.3.1-x86_64)
OpenJDK 64-Bit Server VM (build 25.171-b11, mixed mode)</pre></div><p>
    Also, keep in mind the following points:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      When working in manual mode and installing another Java
      version, the alternatives system neither touches the links nor changes the
      generic name.
     </p></li><li class="listitem"><p>
      When working in automatic mode and installing another Java version,
      the alternatives system changes the Java master link and all slave links (as you can
      see in <a class="xref" href="cha-update-alternative.html#sec-ua-view" title="22.4. Viewing details on specific alternatives">Section 22.4, “Viewing details on specific alternatives”</a>).
      To check the master-slave relationships, use:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">update-alternatives --display java</code></pre></div></li></ul></div></section><section class="sect1" id="sec-ua-install" data-id-title="Installing custom alternatives"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">22.6 </span><span class="title-name">Installing custom alternatives</span></span> <a title="Permalink" class="permalink" href="cha-update-alternative.html#sec-ua-install">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/update-alternatives.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    This section describes how to set up custom alternatives on a system.
   </p><div id="id-1.3.5.4.8.3" data-id-title="No custom alternatives for python3" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: No custom alternatives for python3</div><p>
       Do not install custom alternatives for python3.
       <code class="command">/usr/bin/python3</code> does not have update alternatives and
       always points to specific tested versions. Creating a custom python3
       alternative pointing to a different version—such as python
       3.11—breaks dependent system tools.
     </p></div><p>
    The example makes the following assumptions:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      There are two scripts, <code class="command">foo-2</code> and <code class="command">foo-3</code>,
      with similar functionality.
     </p></li><li class="listitem"><p>
      The scripts are stored in the <code class="filename">/usr/local/bin</code>
      directory to avoid any conflicts with the system tools in
      <code class="filename">/usr/bin</code>.
     </p></li><li class="listitem"><p>
      There is a master link <code class="command">foo</code> that points to either
      <code class="command">foo-2</code> or <code class="command">foo-3</code>.
     </p></li></ul></div><p>
    To provide alternatives on your system, follow these steps:
   </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Copy your scripts into the <code class="filename">/usr/local/bin</code> directory.
     </p></li><li class="step"><p>
      Make the scripts executable:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">chmod +x /usr/local/bin/foo-{2,3}</code></pre></div></li><li class="step"><p>
      Run <code class="command">update-alternatives</code> for both scripts:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> update-alternatives --install \
   /usr/local/bin/foo <span class="callout" id="co-ua-ua-install-usr-local-bin-foo">1</span>\
   foo <span class="callout" id="co-ua-ua-install-foo">2</span>\
   /usr/local/bin/foo-2 <span class="callout" id="co-ua-ua-install-usr-local-bin-foo-path">3</span>\
   200 <span class="callout" id="co-ua-ua-install-prio">4</span>
<code class="prompt user">&gt; </code><code class="command">sudo</code> update-alternatives --install \
   /usr/local/bin/foo <a class="xref" href="cha-update-alternative.html#co-ua-ua-install-usr-local-bin-foo"><span class="callout">1</span></a>\
   foo <a class="xref" href="cha-update-alternative.html#co-ua-ua-install-foo"><span class="callout">2</span></a>\
   /usr/local/bin/foo-3 <a class="xref" href="cha-update-alternative.html#co-ua-ua-install-usr-local-bin-foo-path"><span class="callout">3</span></a>\
   300 <a class="xref" href="cha-update-alternative.html#co-ua-ua-install-prio"><span class="callout">4</span></a></pre></div><p>
      The options after <code class="option">--install</code> have the following meanings:
     </p><div class="calloutlist"><table style="border: 0; "><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ua-ua-install-usr-local-bin-foo"><span class="callout">1</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
        The generic name. To avoid confusion, this is usually the script
        name without any version numbers.
       </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ua-ua-install-foo"><span class="callout">2</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
        The name of the master link. Must be the same.
       </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ua-ua-install-usr-local-bin-foo-path"><span class="callout">3</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
        The path to the original script(s) located in
        <code class="filename">/usr/local/bin</code>.
       </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ua-ua-install-prio"><span class="callout">4</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
        The priority.
        We give <code class="command">foo-2</code> a lower priority than
        <code class="command">foo-3</code>.
        It is good practice to use a significant number increase to separate
        priorities. For example, a priority of 200 for <code class="command">foo-2</code>
        and 300 for <code class="command">foo-3</code>.
       </p></td></tr></table></div></li><li class="step"><p>
      Check the master link:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">update-alternatives --display foo</code>
foo - auto mode
  link best version is /usr/local/bin/foo-3
  link currently points to /usr/local/bin/foo-3
  link foo is /usr/local/bin/foo
/usr/local/bin/foo-2 - priority 200
/usr/local/bin/foo-3 - priority 300</pre></div></li></ol></div></div><p>
    After you completed the described steps, you can use the master link
    <code class="command">/usr/local/bin/foo</code>.
   </p><p>
    If needed, you can install additional alternatives.
    To remove an alternative, use the following command:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">update-alternatives --remove foo /usr/local/bin/foo-2</code></pre></div><p>
    After this script has been removed, the alternatives system for the foo group looks
    like this:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">update-alternatives --display foo</code>
foo - auto mode
  link best version is /usr/local/bin/foo-3
  link currently points to /usr/local/bin/foo-3
  link foo is /usr/local/bin/foo
/usr/local/bin/foo-3 - priority 300</pre></div></section><section class="sect1" id="sec-ua-slave" data-id-title="Defining dependent alternatives"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">22.7 </span><span class="title-name">Defining dependent alternatives</span></span> <a title="Permalink" class="permalink" href="cha-update-alternative.html#sec-ua-slave">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/update-alternatives.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    If you have alternatives, the script itself is not enough. Most commands
    are not completely stand-alone: They usually ship with additional files,
    such as extensions, configurations, or man pages.
    To create alternatives which are dependent on a master
    link, use <span class="emphasis"><em>slave alternatives</em></span>.
   </p><p>
    Let us assume we want to extend our example in <a class="xref" href="cha-update-alternative.html#sec-ua-install" title="22.6. Installing custom alternatives">Section 22.6, “Installing custom alternatives”</a>
    and provide man pages and configuration files:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      Two man pages, <code class="filename">foo-2.1.gz</code> and <code class="filename">foo-3.1.gz</code>
      stored in the <code class="filename">/usr/local/man/man1</code> directory.
     </p></li><li class="listitem"><p>
      Two configuration files, <code class="filename">foo-2.conf</code> and
      <code class="filename">foo-3.conf</code>, stored in <code class="filename">/etc</code>.
     </p></li></ul></div><p>
    Follow these steps to add the additional files to your alternatives:
   </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Copy the configuration files into <code class="filename">/etc</code>:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">cp foo-{2,3}.conf /etc</code></pre></div></li><li class="step"><p>
      Copy the man pages into the <code class="filename">/usr/local/man/man1</code>
      directory:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">cp foo-{2,3}.1.gz /usr/local/man/man1/</code></pre></div></li><li class="step"><p>
      Add the slave links to the main scripts with the <code class="option">--slave</code>
      option:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">update-alternatives --install \
   /usr/local/bin/foo foo /usr/local/bin/foo-2 200 \
   --slave /usr/local/man/man1/foo.1.gz \
   foo.1.gz \
   /usr/local/man/man1/foo-2.1.gz \
   --slave /etc/foo.conf \
   foo.conf \
   /etc/foo-2.conf</code>
<code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">update-alternatives --install \
   /usr/local/bin/foo foo /usr/local/bin/foo-3 300 \
   --slave /usr/local/man/man1/foo.1.gz \
   foo.1.gz \
   /usr/local/man/man1/foo-3.1.gz \
   --slave /etc/foo.conf \
   foo.conf \
   /etc/foo-3.conf</code></pre></div></li><li class="step"><p>Check the master link:</p><div class="verbatim-wrap"><pre class="screen">foo - auto mode
  link best version is /usr/local/bin/foo-3
  link currently points to /usr/local/bin/foo-3
  link foo is /usr/local/bin/foo
  slave foo.1.gz is /usr/local/man/man1/foo.1.gz
  slave foo.conf is /etc/foo.conf
/usr/local/bin/foo-2 - priority 200
  slave foo.1.gz: /usr/local/man/man1/foo-2.1.gz
  slave foo.conf: /etc/foo-2.conf
/usr/local/bin/foo-3 - priority 300
  slave foo.1.gz: /usr/local/man/man1/foo-3.1.gz
  slave foo.conf: /etc/foo-3.conf</pre></div></li></ol></div></div><p>
    If you change the links with <code class="command">update-alternatives --config foo</code>
    to <code class="command">foo-2</code>, then all slave links will change as well.
   </p></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="cha-journalctl.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 21 </span><code class="command">journalctl</code>: Query the <code class="systemitem">systemd</code> journal</span></a> </div><div><a class="pagination-link next" href="cha-network.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 23 </span>Basic networking</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="cha-update-alternative.html#sec-ua-concept"><span class="title-number">22.1 </span><span class="title-name">Overview</span></a></span></li><li><span class="sect1"><a href="cha-update-alternative.html#sec-ua-use-cases"><span class="title-number">22.2 </span><span class="title-name">Use cases</span></a></span></li><li><span class="sect1"><a href="cha-update-alternative.html#sec-ua-view-all"><span class="title-number">22.3 </span><span class="title-name">Getting an overview of alternatives</span></a></span></li><li><span class="sect1"><a href="cha-update-alternative.html#sec-ua-view"><span class="title-number">22.4 </span><span class="title-name">Viewing details on specific alternatives</span></a></span></li><li><span class="sect1"><a href="cha-update-alternative.html#sec-ua-set"><span class="title-number">22.5 </span><span class="title-name">Setting the default version of alternatives</span></a></span></li><li><span class="sect1"><a href="cha-update-alternative.html#sec-ua-install"><span class="title-number">22.6 </span><span class="title-name">Installing custom alternatives</span></a></span></li><li><span class="sect1"><a href="cha-update-alternative.html#sec-ua-slave"><span class="title-number">22.7 </span><span class="title-name">Defining dependent alternatives</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>