<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><title>SLES 15 SP4 | Upgrade Guide</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="Upgrade Guide | SLES 15 SP4"/>
<meta name="description" content="How to upgrade SUSE Linux Enterprise Server"/>
<meta name="product-name" content="SUSE Linux Enterprise Server"/>
<meta name="product-number" content="15 SP4"/>
<meta name="book-title" content="Upgrade Guide"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="fs@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="PUBLIC SUSE Linux Enterprise Server 15 SP4"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Upgrade Guide"/>
<meta property="og:description" content="Perform a SLES upgrade"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Upgrade Guide"/>
<meta name="twitter:description" content="Perform a SLES upgrade"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "Upgrade Guide",
  
    "description": "How to upgrade SUSE Linux Enterprise Server",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2024-05-27T00:00+02:00",
      
    "datePublished": "2022-06-21T00:00+02:00",
      

    "about": [
      {
        "@type": "Thing",
        "name": "Upgrade &amp; Update"
      }
    ],
  
    "mentions": [
      
      { "@type": "SoftwareApplication",
        "name": "SUSE Linux Enterprise Server",
        "softwareVersion": "15 SP4",
        "applicationCategory": "Operating System",
        "operatingSystem": "Linux"
      }
      
    ],
    
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sle/edit/main/xml/book_upgrade.xml"/></head><body class="draft single normal offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="#book-upgrade">Upgrade Guide</a></div></div><main id="_content"><nav class="side-toc placebo" id="_side-toc-overall"> </nav><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section xml:lang="en" class="book" id="book-upgrade" data-id-title="Upgrade Guide"><div class="titlepage"><div><div class="big-version-info"><span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">15 SP4</span></span></span></div><div class="title-container"><h1 class="title">Upgrade Guide</h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/book_upgrade.xml" title="Edit source document"> </a></div></div><div class="abstract"><p>
    This book guides you through upgrades
    of <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>. <span class="phrase">If you use <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> as base system for other SLE products or
    extensions, also see their product documentation for upgrade information
    specific to this product or extension.</span>
   </p></div><div><div class="titlepage-revhistory"><a aria-label="Revision History" hreflang="en" href="rh-book-upgrade.html" target="_blank">Revision History: Upgrade Guide</a></div></div><div class="date"><span class="imprint-label">Publication Date: </span>October 10, 2024
</div></div></div><div class="toc"><ul><li><span class="preface"><a href="#preface-upgrade"><span class="title-name">Preface</span></a></span><ul><li><span class="sect1"><a href="#id-1.5.2.3"><span class="title-name">Available documentation</span></a></span></li><li><span class="sect1"><a href="#id-1.5.2.4"><span class="title-name">Improving the documentation</span></a></span></li><li><span class="sect1"><a href="#id-1.5.2.5"><span class="title-name">Documentation conventions</span></a></span></li><li><span class="sect1"><a href="#id-1.5.2.6"><span class="title-name">Support</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-upgrade-paths"><span class="title-number">1 </span><span class="title-name">Upgrade paths and methods</span></a></span><ul><li><span class="sect1"><a href="#sec-upgrade-vs-fresh-install"><span class="title-number">1.1 </span><span class="title-name">Upgrading versus fresh installation</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-paths-supported"><span class="title-number">1.2 </span><span class="title-name">Supported upgrade paths to <span class="productname"><span class="phrase">SLES</span></span> <span class="productnumber"><span class="phrase">15 SP4</span></span></span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-paths-methods"><span class="title-number">1.3 </span><span class="title-name">Online and offline upgrade</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-upgrade-background"><span class="title-number">2 </span><span class="title-name">Lifecycle and support</span></a></span><ul><li><span class="sect1"><a href="#sec-upgrade-background-terminology"><span class="title-number">2.1 </span><span class="title-name">Terminology</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-background-life-cycle"><span class="title-number">2.2 </span><span class="title-name">Product lifecycle</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-background-modules"><span class="title-number">2.3 </span><span class="title-name">Module dependencies and lifecycles</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-background-lifecyclereport"><span class="title-number">2.4 </span><span class="title-name">Generating periodic lifecycle report</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-background-supportlevel"><span class="title-number">2.5 </span><span class="title-name">Support levels</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-background-register"><span class="title-number">2.6 </span><span class="title-name">Registering and deregistering machines with SUSEConnect</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-background-enable-ltss"><span class="title-number">2.7 </span><span class="title-name">Enabling LTSS support</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-background-identify-version"><span class="title-number">2.8 </span><span class="title-name">Identifying the <span class="phrase">SLE</span> version</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-update-preparation"><span class="title-number">3 </span><span class="title-name">Preparing the upgrade</span></a></span><ul><li><span class="sect1"><a href="#sec-update-preparation-update"><span class="title-number">3.1 </span><span class="title-name">Make sure the system is up-to-date</span></a></span></li><li><span class="sect1"><a href="#sec-update-preparation-relnotes"><span class="title-number">3.2 </span><span class="title-name">Read the release notes</span></a></span></li><li><span class="sect1"><a href="#sec-update-preparation-backup"><span class="title-number">3.3 </span><span class="title-name">Make a backup</span></a></span></li><li><span class="sect1"><a href="#sec-update-preparation-disk"><span class="title-number">3.4 </span><span class="title-name">Check the available disk space</span></a></span></li><li><span class="sect1"><a href="#sec-update-preparation-packagelist"><span class="title-number">3.5 </span><span class="title-name">Listing installed packages and repositories</span></a></span></li><li><span class="sect1"><a href="#sec-update-preparation-ltss"><span class="title-number">3.6 </span><span class="title-name">Disable the LTSS extension</span></a></span></li><li><span class="sect1"><a href="#sec-update-preparation-postgresql"><span class="title-number">3.7 </span><span class="title-name">Migrate your PostgreSQL database</span></a></span></li><li><span class="sect1"><a href="#sec-update-preparation-mariadb"><span class="title-number">3.8 </span><span class="title-name">Migrate your MySQL or MariaDB database</span></a></span></li><li><span class="sect1"><a href="#sec-update-preparation-ssl"><span class="title-number">3.9 </span><span class="title-name">Create non-MD5 server certificates for Java applications</span></a></span></li><li><span class="sect1"><a href="#sec-update-preparation-vms"><span class="title-number">3.10 </span><span class="title-name">Shut down virtual machine guests</span></a></span></li><li><span class="sect1"><a href="#sec-update-preparation-rmt"><span class="title-number">3.11 </span><span class="title-name">Adjust your SMT client setup</span></a></span></li><li><span class="sect1"><a href="#sec-autoyast-profiles"><span class="title-number">3.12 </span><span class="title-name">Changes in AutoYaST profiles from SLE 12 to 15</span></a></span></li><li><span class="sect1"><a href="#sec-update-preparation-smt-to-rmt"><span class="title-number">3.13 </span><span class="title-name">Upgrading a Subscription Management Tool (SMT) server</span></a></span></li><li><span class="sect1"><a href="#sec-update-preparation-multiversion"><span class="title-number">3.14 </span><span class="title-name">Temporarily disabling kernel multiversion support</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-prepare-boot-config"><span class="title-number">3.15 </span><span class="title-name">Adjust the <code class="literal">resume</code> boot parameter</span></a></span></li><li><span class="sect1"><a href="#sec-update-preparation-zseries"><span class="title-number">3.16 </span><span class="title-name">Upgrading on IBM Z</span></a></span></li><li><span class="sect1"><a href="#sec-update-preparation-ppc"><span class="title-number">3.17 </span><span class="title-name">IBM POWER: Starting an X server</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-upgrade-offline"><span class="title-number">4 </span><span class="title-name">Upgrading offline</span></a></span><ul><li><span class="sect1"><a href="#sec-upgrade-offline-conceptual-overview"><span class="title-number">4.1 </span><span class="title-name">Conceptual overview</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-offline-dvd"><span class="title-number">4.2 </span><span class="title-name">Starting the upgrade from an installation medium</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-offline-network"><span class="title-number">4.3 </span><span class="title-name">Starting the upgrade from a network source</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-offline-yast"><span class="title-number">4.4 </span><span class="title-name">Upgrading SUSE Linux Enterprise</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-offline-automated"><span class="title-number">4.5 </span><span class="title-name">Upgrading with AutoYaST</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-offline-manager"><span class="title-number">4.6 </span><span class="title-name">Upgrading with SUSE Manager</span></a></span></li><li><span class="sect1"><a href="#sec-update-reg-status-after-rollback"><span class="title-number">4.7 </span><span class="title-name">Updating registration status after rollback</span></a></span></li><li><span class="sect1"><a href="#sec-update-registersystem"><span class="title-number">4.8 </span><span class="title-name">Registering your system</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-upgrade-online"><span class="title-number">5 </span><span class="title-name">Upgrading online</span></a></span><ul><li><span class="sect1"><a href="#sec-upgrade-online-conceptual-overview"><span class="title-number">5.1 </span><span class="title-name">Conceptual overview</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-online-workflow"><span class="title-number">5.2 </span><span class="title-name">Service pack migration workflow</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-online-cancel"><span class="title-number">5.3 </span><span class="title-name">Canceling service pack migration</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-online-yast"><span class="title-number">5.4 </span><span class="title-name">Upgrading with the online migration tool (YaST)</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-online-zypper"><span class="title-number">5.5 </span><span class="title-name">Upgrading with Zypper</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-online-zypper-plain"><span class="title-number">5.6 </span><span class="title-name">Upgrading with plain Zypper</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-online-rollback"><span class="title-number">5.7 </span><span class="title-name">Rolling back a service pack</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-online-manager"><span class="title-number">5.8 </span><span class="title-name">Upgrading with SUSE Manager</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-online-leap-to-sle"><span class="title-number">5.9 </span><span class="title-name">Upgrading from openSUSE Leap to <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-upgrade-finish"><span class="title-number">6 </span><span class="title-name">Finishing the upgrade</span></a></span><ul><li><span class="sect1"><a href="#sec-upgrade-postupgrade-checks"><span class="title-number">6.1 </span><span class="title-name">Post-upgrade checks</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-finish-python3"><span class="title-number">6.2 </span><span class="title-name">Enable the <code class="literal">Python 3</code> module</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-finish-xfs4"><span class="title-number">6.3 </span><span class="title-name">Reformat XFS v4 devices</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-update-backport"><span class="title-number">7 </span><span class="title-name">Backports of source code</span></a></span><ul><li><span class="sect1"><a href="#sec-update-backports-reasons-for"><span class="title-number">7.1 </span><span class="title-name">Reasons for backporting</span></a></span></li><li><span class="sect1"><a href="#sec-update-backports-reasons-against"><span class="title-number">7.2 </span><span class="title-name">Reasons against backports</span></a></span></li><li><span class="sect1"><a href="#sec-update-backports-implications"><span class="title-number">7.3 </span><span class="title-name">The implications of backports for interpreting version numbers</span></a></span></li><li><span class="sect1"><a href="#sec-update-backports-checks"><span class="title-number">7.4 </span><span class="title-name">Checking for fixed bugs and backported features</span></a></span></li></ul></li><li><span class="appendix"><a href="#id-1.5.10"><span class="title-number">A </span><span class="title-name">GNU licenses</span></a></span><ul><li><span class="sect1"><a href="#id-1.5.10.4"><span class="title-number">A.1 </span><span class="title-name">GNU Free Documentation License</span></a></span></li></ul></li></ul></div><div class="list-of-figures"><div class="toc-title">List of Figures</div><ul><li><span class="figure"><a href="#fig-update-sle-paths-overview"><span class="number">1.1 </span><span class="name">Overview of supported upgrade paths</span></a></span></li><li><span class="figure"><a href="#fig-update-releases-service-packs"><span class="number">2.1 </span><span class="name">Major releases and service packs</span></a></span></li><li><span class="figure"><a href="#fig-update-maintenance-long-term-service-pack"><span class="number">2.2 </span><span class="name">Long term service pack support</span></a></span></li></ul></div><div class="list-of-tables"><div class="toc-title">List of Tables</div><ul><li><span class="table"><a href="#tab-security-and-bug-fixes"><span class="number">2.1 </span><span class="name">Security updates and bug fixes</span></a></span></li></ul></div><div class="list-of-examples"><div class="toc-title">List of Examples</div><ul><li><span class="example"><a href="#ex-update-df"><span class="number">3.1 </span><span class="name">List with <code class="command">df -h</code></span></a></span></li></ul></div><div><div xml:lang="en" class="legalnotice" id="id-1.5.1.5"><p>
  Copyright © 2006–2024

  SUSE LLC and contributors. All rights reserved.
 </p><p>
  Permission is granted to copy, distribute and/or modify this document under
  the terms of the GNU Free Documentation License, Version 1.2 or (at your
  option) version 1.3; with the Invariant Section being this copyright notice
  and license. A copy of the license version 1.2 is included in the section
  entitled <span class="quote">“<span class="quote">GNU Free Documentation License</span>”</span>.
 </p><p>
  For SUSE trademarks, see
  <a class="link" href="https://www.suse.com/company/legal/" target="_blank">https://www.suse.com/company/legal/</a>. All
  third-party trademarks are the property of their respective owners. Trademark
  symbols (®, ™ etc.) denote trademarks of SUSE and its affiliates.
  Asterisks (*) denote third-party trademarks.
 </p><p>
  All information found in this book has been compiled with utmost attention to
  detail. However, this does not guarantee complete accuracy. Neither
  SUSE LLC, its affiliates, the authors nor the translators shall be
  held liable for possible errors or the consequences thereof.
 </p></div></div><section class="preface" id="preface-upgrade" data-id-title="Preface"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number"> </span><span class="title-name">Preface</span></span> <a title="Permalink" class="permalink" href="#preface-upgrade">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/upgrade_intro.xml" title="Edit source document"> </a></div></div></div></div></div><section xml:lang="en" class="sect1" id="id-1.5.2.3" data-id-title="Available documentation"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1 </span><span class="title-name">Available documentation</span></span> <a title="Permalink" class="permalink" href="#id-1.5.2.3">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/common_intro_available_doc.xml" title="Edit source document"> </a></div></div></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.5.2.3.3.1"><span class="term">Online documentation</span></dt><dd><p>
     Our documentation is available online at <a class="link" href="https://documentation.suse.com" target="_blank">https://documentation.suse.com</a>.
     Browse or download the documentation in various formats.
    </p><div id="id-1.5.2.3.3.1.2.2" data-id-title="Latest updates" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Latest updates</div><p>
      The latest updates are usually available in the English-language version of this documentation.
     </p></div></dd><dt id="id-1.5.2.3.3.2"><span class="term">SUSE Knowledgebase</span></dt><dd><p>
     If you have run into an issue, also check out the Technical Information
     Documents (TIDs) that are available online at <a class="link" href="https://www.suse.com/support/kb/" target="_blank">https://www.suse.com/support/kb/</a>.
     Search the SUSE Knowledgebase for known solutions driven by customer need.
     </p></dd><dt id="id-1.5.2.3.3.3"><span class="term">Release notes</span></dt><dd><p>
     For release notes, see
     <a class="link" href="https://www.suse.com/releasenotes/" target="_blank">https://www.suse.com/releasenotes/</a>.
    </p></dd><dt id="id-1.5.2.3.3.4"><span class="term">In your system</span></dt><dd><p>
      For offline use, the release notes are also available under
      <code class="filename">/usr/share/doc/release-notes</code> on your system.
      The documentation for individual packages is available at
      <code class="filename">/usr/share/doc/packages</code>.
    </p><p>
      Many commands are also described in their <span class="emphasis"><em>manual
      pages</em></span>. To view them, run <code class="command">man</code>, followed
      by a specific command name. If the <code class="command">man</code> command is
      not installed on your system, install it with <code class="command">sudo zypper
      install man</code>.
    </p></dd></dl></div></section><section xml:lang="en" class="sect1" id="id-1.5.2.4" data-id-title="Improving the documentation"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2 </span><span class="title-name">Improving the documentation</span></span> <a title="Permalink" class="permalink" href="#id-1.5.2.4">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/common_intro_feedback.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Your feedback and contributions to this documentation are welcome.
  The following channels for giving feedback are available:
 </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.5.2.4.4.1"><span class="term">Service requests and support</span></dt><dd><p>
     For services and support options available for your product, see
     <a class="link" href="https://www.suse.com/support/" target="_blank">https://www.suse.com/support/</a>.
    </p><p>
     To open a service request, you need a SUSE subscription registered at
     SUSE Customer Center.
     Go to <a class="link" href="https://scc.suse.com/support/requests" target="_blank">https://scc.suse.com/support/requests</a>, log
     in, and click <span class="guimenu">Create New</span>.
    </p></dd><dt id="id-1.5.2.4.4.2"><span class="term">Bug reports</span></dt><dd><p>
     Report issues with the documentation at <a class="link" href="https://bugzilla.suse.com/" target="_blank">https://bugzilla.suse.com/</a>.
    </p><p>
     To simplify this process, click the <span class="guimenu">Report
     an issue</span> icon next to a headline in the HTML
     version of this document. This preselects the right product and
     category in Bugzilla and adds a link to the current section.
     You can start typing your bug report right away.
    </p><p>
     A Bugzilla account is required.
    </p></dd><dt id="id-1.5.2.4.4.3"><span class="term">Contributions</span></dt><dd><p>
     To contribute to this documentation, click the <span class="guimenu">Edit source
     document</span> icon next to a headline in the HTML version of
     this document. This will take you to the source code on GitHub, where you
     can open a pull request.</p><p>
     A GitHub account is required.
    </p><div id="id-1.5.2.4.4.3.2.3" data-id-title="Edit source document only available for English" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: <span class="guimenu">Edit source document</span> only available for English</div><p>
      The <span class="guimenu">Edit source document</span> icons are only available for the
      English version of each document. For all other languages, use the
      <span class="guimenu">Report an issue</span> icons instead.
     </p></div><p>
     For more information about the documentation environment used for this
     documentation, see the repository's README.
    </p></dd><dt id="id-1.5.2.4.4.4"><span class="term">Mail</span></dt><dd><p>
     You can also report errors and send feedback concerning the
     documentation to &lt;<a class="email" href="mailto:doc-team@suse.com">doc-team@suse.com</a>&gt;. Include the
     document title, the product version, and the publication date of the
     document. Additionally, include the relevant section number and title (or
     provide the URL) and provide a concise description of the problem.
    </p></dd></dl></div></section><section xml:lang="en" class="sect1" id="id-1.5.2.5" data-id-title="Documentation conventions"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3 </span><span class="title-name">Documentation conventions</span></span> <a title="Permalink" class="permalink" href="#id-1.5.2.5">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/common_intro_convention.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The following notices and typographic conventions are used in this
  document:
 </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
    <code class="filename">/etc/passwd</code>: Directory names and file names
   </p></li><li class="listitem"><p>
    <em class="replaceable">PLACEHOLDER</em>: Replace
    <em class="replaceable">PLACEHOLDER</em> with the actual value
   </p></li><li class="listitem"><p>
    <code class="envar">PATH</code>: An environment variable
   </p></li><li class="listitem"><p>
    <code class="command">ls</code>, <code class="option">--help</code>: Commands, options, and
    parameters
   </p></li><li class="listitem"><p>
    <code class="systemitem">user</code>: The name of a user or group
   </p></li><li class="listitem"><p>
    <span class="package">package_name</span>: The name of a software package
   </p></li><li class="listitem"><p>
    <span class="keycap">Alt</span>, <span class="keycap">Alt</span><span class="key-connector">–</span><span class="keycap">F1</span>: A key to press or a key combination. Keys
    are shown in uppercase as on a keyboard.
   </p></li><li class="listitem"><p>
    <span class="guimenu">File</span>, <span class="guimenu">File</span> › <span class="guimenu">Save
    As</span>: menu items, buttons
   </p></li><li class="listitem"><p><strong class="arch-arrow-start">AMD/Intel</strong>
    This paragraph is only relevant for the AMD64/Intel 64 architectures. The
    arrows mark the beginning and the end of the text block.
   <strong class="arch-arrow-end"> </strong></p><p><strong class="arch-arrow-start">IBM Z, POWER</strong>
    This paragraph is only relevant for the architectures
    <code class="literal">IBM Z</code> and <code class="literal">POWER</code>. The arrows
    mark the beginning and the end of the text block.
   <strong class="arch-arrow-end"> </strong></p></li><li class="listitem"><p>
    <em class="citetitle">Chapter 1, <span class="quote">“<span class="quote">Example chapter</span>”</span></em>:
    A cross-reference to another chapter in this guide.
   </p></li><li class="listitem"><p>
    Commands that must be run with <code class="systemitem">root</code> privileges. You can also
    prefix these commands with the <code class="command">sudo</code> command to run them
    as a non-privileged user:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">command</code>
<code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">command</code></pre></div></li><li class="listitem"><p>
    Commands that can be run by non-privileged users:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">command</code></pre></div></li><li class="listitem"><p>
    Commands can be split into two or multiple lines by a backslash character
    (<code class="literal">\</code>) at the end of a line. The backslash informs the shell that
    the command invocation will continue after the line's end:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">echo</code> a b \
c d</pre></div></li><li class="listitem"><p>
     A code block that shows both the command (preceded by a prompt)
     and the respective output returned by the shell:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">command</code>
output</pre></div></li><li class="listitem"><p>
    Notices
   </p><div id="id-1.5.2.5.4.15.2" data-id-title="Warning notice" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: Warning notice</div><p>
     Vital information you must be aware of before proceeding. Warns you about
     security issues, potential loss of data, damage to hardware, or physical
     hazards.
    </p></div><div id="id-1.5.2.5.4.15.3" data-id-title="Important notice" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Important notice</div><p>
     Important information you should be aware of before proceeding.
    </p></div><div id="id-1.5.2.5.4.15.4" data-id-title="Note notice" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Note notice</div><p>
     Additional information, for example about differences in software
     versions.
    </p></div><div id="id-1.5.2.5.4.15.5" data-id-title="Tip notice" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Tip notice</div><p>
     Helpful information, like a guideline or a piece of practical advice.
    </p></div></li><li class="listitem"><p>
    Compact Notices
   </p><div id="id-1.5.2.5.4.16.2" class="admonition note compact"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><p>
     Additional information, for example about differences in software
     versions.
    </p></div><div id="id-1.5.2.5.4.16.3" class="admonition tip compact"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><p>
     Helpful information, like a guideline or a piece of practical advice.
    </p></div></li></ul></div></section><section xml:lang="en" class="sect1" id="id-1.5.2.6" data-id-title="Support"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4 </span><span class="title-name">Support</span></span> <a title="Permalink" class="permalink" href="#id-1.5.2.6">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/common_intro_support.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Find the support statement for <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> and general information about
  technology previews below.
  For details about the product lifecycle, see
  <a class="link" href="https://www.suse.com/lifecycle" target="_blank">https://www.suse.com/lifecycle</a>.
 </p><p>
  If you are entitled to support, find details on how to collect information
  for a support ticket at
  <a class="link" href="https://documentation.suse.com/sles-15/html/SLES-all/cha-adm-support.html" target="_blank">https://documentation.suse.com/sles-15/html/SLES-all/cha-adm-support.html</a>.
 </p><section class="sect2" id="id-1.5.2.6.5" data-id-title="Support statement for SUSE Linux Enterprise Server"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">4.1 </span><span class="title-name">Support statement for <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span></span> <a title="Permalink" class="permalink" href="#id-1.5.2.6.5">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/common_intro_support.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To receive support, you need an appropriate subscription with SUSE.
   To view the specific support offers available to you, go to
   <a class="link" href="https://www.suse.com/support/" target="_blank">https://www.suse.com/support/</a> and select your product.
  </p><p>
   The support levels are defined as follows:
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.5.2.6.5.4.1"><span class="term">L1</span></dt><dd><p>
      Problem determination, which means technical support designed to provide
      compatibility information, usage support, ongoing maintenance,
      information gathering and basic troubleshooting using available
      documentation.
     </p></dd><dt id="id-1.5.2.6.5.4.2"><span class="term">L2</span></dt><dd><p>
      Problem isolation, which means technical support designed to analyze
      data, reproduce customer problems, isolate a problem area and provide a
      resolution for problems not resolved by Level 1 or prepare for
      Level 3.
     </p></dd><dt id="id-1.5.2.6.5.4.3"><span class="term">L3</span></dt><dd><p>
      Problem resolution, which means technical support designed to resolve
      problems by engaging engineering to resolve product defects which have
      been identified by Level 2 Support.
     </p></dd></dl></div><p>
   For contracted customers and partners, <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> is delivered with L3
   support for all packages, except for the following:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Technology previews.
    </p></li><li class="listitem"><p>
     Sound, graphics, fonts, and artwork.
    </p></li><li class="listitem"><p>
     Packages that require an additional customer contract.
    </p></li><li class="listitem"><p>
     Some packages shipped as part of the module <span class="emphasis"><em>Workstation
     Extension</em></span> are L2-supported only.
    </p></li><li class="listitem"><p>
     Packages with names ending in <span class="package">-devel</span> (containing header
     files and similar developer resources) will only be supported together
     with their main packages.
    </p></li></ul></div><p>
   SUSE will only support the usage of original packages.
   That is, packages that are unchanged and not recompiled.
  </p></section><section class="sect2" id="id-1.5.2.6.6" data-id-title="Technology previews"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">4.2 </span><span class="title-name">Technology previews</span></span> <a title="Permalink" class="permalink" href="#id-1.5.2.6.6">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/common_intro_support.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Technology previews are packages, stacks, or features delivered by SUSE
   to provide glimpses into upcoming innovations.
   Technology previews are included for your convenience to give you a chance
   to test new technologies within your environment.
   We would appreciate your feedback.
   If you test a technology preview, please contact your SUSE representative
   and let them know about your experience and use cases.
   Your input is helpful for future development.
  </p><p>
   Technology previews have the following limitations:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Technology previews are still in development.
     Therefore, they may be functionally incomplete, unstable, or otherwise
     <span class="emphasis"><em>not</em></span> suitable for production use.
    </p></li><li class="listitem"><p>
     Technology previews are <span class="emphasis"><em>not</em></span> supported.
    </p></li><li class="listitem"><p>
     Technology previews may only be available for specific hardware
     architectures.
    </p></li><li class="listitem"><p>
     Details and functionality of technology previews are subject to change.
     As a result, upgrading to subsequent releases of a technology preview may
     be impossible and require a fresh installation.
    </p></li><li class="listitem"><p>
     SUSE may discover that a preview does not meet customer or market needs,
     or does not comply with enterprise standards.
     Technology previews can be removed from a product at any time.
     SUSE does not commit to providing a supported version of such
     technologies in the future.
    </p></li></ul></div><p>
   For an overview of technology previews shipped with your product, see the
   release notes at <a class="link" href="https://www.suse.com/releasenotes" target="_blank">https://www.suse.com/releasenotes</a>.
  </p></section></section></section><section class="chapter" id="cha-upgrade-paths" data-id-title="Upgrade paths and methods"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">1 </span><span class="title-name">Upgrade paths and methods</span></span> <a title="Permalink" class="permalink" href="#cha-upgrade-paths">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
    SUSE® Linux Enterprise (SLE) allows upgrading an existing system to a later version or
    service pack. No new installation is needed. Existing data, such as home
    and data directories and system configuration, is kept intact. You can
    update from a local CD or DVD drive or from a central network installation
    source.
   </p><p>
    This chapter explains how to manually upgrade your SUSE Linux Enterprise system, be it by
    DVD, network, an automated process, or SUSE Manager.
   </p></div></div></div></div><section class="sect1" id="sec-upgrade-vs-fresh-install" data-id-title="Upgrading versus fresh installation"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.1 </span><span class="title-name">Upgrading versus fresh installation</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-vs-fresh-install">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Upgrades between two major releases of <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> are supported by
   SUSE. Whether it is better to upgrade or perform a fresh installation
   depends on your specific scenario. While upgrades involve less work, fresh
   installations ensure you benefit from all the new features of a release such
   as disk layout changes, specific file system features, and other
   improvements. To get the most out of your system, SUSE therefore
   recommends fresh installations in most scenarios.
  </p><p>
   In both cases—upgrade as well as a fresh installation—customers
   need to check if system settings and default values still fit their
   requirements.
  </p><p>
   For updates from one service pack of a specific release to another one of
   the same codestream, SUSE recommends to do it in-place, and not to perform
   a fresh installation. Nevertheless there may be reasons and scenarios for a
   customer to perform a fresh installation in this case, too. The decision of
   which is more suitable can only be made by the customer.
  </p></section><section class="sect1" id="sec-upgrade-paths-supported" data-id-title="Supported upgrade paths to SLES 15 SP4"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.2 </span><span class="title-name">Supported upgrade paths to <span class="productname"><span class="phrase">SLES</span></span> <span class="productnumber"><span class="phrase">15 SP4</span></span></span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-paths-supported">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Before you perform any migration, read
   <a class="xref" href="#cha-update-preparation" title="Chapter 3. Preparing the upgrade">Chapter 3, <em>Preparing the upgrade</em></a>.
  </p><div id="id-1.5.3.4.3" data-id-title="Cross-architecture upgrades are not supported" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Cross-architecture upgrades are not supported</div><p>
    Cross-architecture upgrades, such as upgrading from a 32-bit version of
    <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> to the 64-bit version, or upgrading from big endian to little
    endian are <span class="emphasis"><em>not</em></span> supported!
   </p><p>
    Specifically, SLE 11 on POWER (big endian) to
    SLE <span class="productnumber"><span class="phrase">15 SP4</span></span> on POWER (new: little endian!) is
    <span class="emphasis"><em>not</em></span> supported.
   </p><p>
    Also, since SUSE Linux Enterprise 15 is 64-bit only, upgrades from any
    32-bit SUSE Linux Enterprise 11 systems to SUSE Linux Enterprise 15 and later are
    <span class="emphasis"><em>not</em></span> supported.
   </p><p>
    To make a cross-architecture upgrade, you need to perform a new
    installation.
   </p></div><div id="id-1.5.3.4.4" data-id-title="Skipping service packs" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Skipping service packs</div><p>
    The easiest upgrade path is consecutively installing all service packs. For
    the SUSE Linux Enterprise 15 product line (GA and the subsequent service
    packs) it is also supported to skip up to two service packs when upgrading.
    For example, upgrading from SLE 15 SP1 to 15 SP4 is
    supported (as long as SLE 15 SP1 is supported).
   </p></div><div class="figure" id="fig-update-sle-paths-overview"><div class="figure-contents"><div class="mediaobject"><a href="images/upgrade-paths_sles.png"><img src="images/upgrade-paths_sles.png" width="80%" alt="Overview of supported upgrade paths" title="Overview of supported upgrade paths"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 1.1: </span><span class="title-name">Overview of supported upgrade paths </span></span><a title="Permalink" class="permalink" href="#fig-update-sle-paths-overview">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div><div id="id-1.5.3.4.6" data-id-title="Upgrading databases" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: Upgrading databases</div><p>
    The upgrade paths described here apply only to SUSE Linux Enterprise as the operating
    system of a machine, not to all the applications it runs. If you have
    workloads such as PostgreSQL or MariaDB databases, intermediate OS
    upgrades may be required in order to upgrade your applications.
   </p><p>
    Before upgrading the operating system, consult the
    <a class="link" href="https://www.suse.com/releasenotes/" target="_blank">Release Notes</a>
    for information about database versions. If a new major version is shipped,
    refer to <a class="xref" href="#cha-update-preparation" title="Chapter 3. Preparing the upgrade">Chapter 3, <em>Preparing the upgrade</em></a> for upgrade instructions.
   </p></div><div class="variablelist" id="vl-update-paths-supported" data-id-title="Supported upgrade paths per version"><div class="title-container"><div class="variablelist-title-wrap"><div class="variablelist-title"><span class="title-number-name"><span class="title-name">Supported upgrade paths per version </span></span><a title="Permalink" class="permalink" href="#vl-update-paths-supported">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div><dl class="variablelist"><dt id="id-1.5.3.4.7.2"><span class="term">Upgrading from <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> 11</span></dt><dd><p>
      Upgrading from <span class="productname"><span class="phrase">SLES</span></span> 11  directly is not supported.
      You need at least <span class="productname"><span class="phrase">SLES</span></span> 11 SP4 and you can only
      upgrade to <span class="productname"><span class="phrase">SLES</span></span> 15 SP3 before you can proceed to
      <span class="productname"><span class="phrase">SLES</span></span> <span class="productnumber"><span class="phrase">15 SP4</span></span>.
     </p><p>
      If you cannot do a fresh installation, first upgrade your installed
      <span class="productname"><span class="phrase">SLES</span></span> 11 service pack to
      <span class="productname"><span class="phrase">SLES</span></span> 11 SP4. This upgrade is described in
      the <a class="link" href="https://doc.suse.com/sles/11-SP4/html/SLES-all/book-sle-deployment.html" target="_blank"><em class="citetitle"><span class="productname"><span class="phrase">SLES</span></span> 11 SP4 Deployment Guide</em></a>.
      Next, perform an offline upgrade to <span class="productname"><span class="phrase">SLES</span></span> 15 SP3.
      This upgrade is described in the <a class="link" href="https://doc.suse.com/sles/15-SP3/html/SLES-all/book-sle-deployment.html" target="_blank"><em class="citetitle"><span class="productname"><span class="phrase">SLES</span></span> 15 SP3 Deployment Guide</em></a>.
      Then follow the instructions in this guide to upgrade to
      <span class="productname"><span class="phrase">SLES</span></span> <span class="productnumber"><span class="phrase">15 SP4</span></span>.
     </p></dd><dt id="id-1.5.3.4.7.3"><span class="term">Upgrading from <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> 12 GA / SP1 / SP2 / SP3 / SP4</span></dt><dd><p>
      Upgrading from <span class="productname"><span class="phrase">SLES</span></span> 12 SP4 or older service packs
      directly is not supported. You need at least
      <span class="productname"><span class="phrase">SLES</span></span> 12 SP5 before you can proceed to
      <span class="productname"><span class="phrase">SLES</span></span> <span class="productnumber"><span class="phrase">15 SP4</span></span>.
     </p><p>
      If you cannot do a fresh installation, first upgrade your installed
      <span class="productname"><span class="phrase">SLES</span></span> 12 service pack to
      <span class="productname"><span class="phrase">SLES</span></span> 12 SP5. This upgrade is described in the
      <a class="link" href="https://doc.suse.com/sles/12-SP5/html/SLES-all/book-sle-deployment.html" target="_blank"><em class="citetitle"><span class="productname"><span class="phrase">SLES</span></span> 12 SP5 Deployment Guide</em></a>
     </p></dd><dt id="id-1.5.3.4.7.4"><span class="term">Upgrading from <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> 12 SP3 with LTSS </span></dt><dd><p>
      Upgrading from <span class="productname"><span class="phrase">SLES</span></span> 12 SP3 with LTSS directly is
      no longer supported. You need at least <span class="productname"><span class="phrase">SLES</span></span> 12 SP4
      with LTSS before you can proceed to
      <span class="productname"><span class="phrase">SLES</span></span> <span class="productnumber"><span class="phrase">15 SP4</span></span>.
     </p></dd><dt id="id-1.5.3.4.7.5"><span class="term">Upgrading from <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> 12 SP4 with LTSS</span></dt><dd><p>
      Upgrading from <span class="productname"><span class="phrase">SLES</span></span> 12  SP4 with LTSS is only
      supported via an offline upgrade. Refer to
      <a class="xref" href="#cha-upgrade-offline" title="Chapter 4. Upgrading offline">Chapter 4, <em>Upgrading offline</em></a> for details.
     </p></dd><dt id="id-1.5.3.4.7.6"><span class="term">Upgrading from <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> 12 SP5</span></dt><dd><p>
      Upgrading from <span class="productname"><span class="phrase">SLES</span></span> 12 SP5 is only supported via
      an offline upgrade. Refer to <a class="xref" href="#cha-upgrade-offline" title="Chapter 4. Upgrading offline">Chapter 4, <em>Upgrading offline</em></a> for
      details.
     </p></dd><dt id="id-1.5.3.4.7.7"><span class="term">Upgrading from <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> 15 GA / SP1 / SP2</span></dt><dd><p>
      Upgrading from <span class="productname"><span class="phrase">SLES</span></span> 15 GA, SP1, or SP2 directly is
      no longer supported. You need at least <span class="productname"><span class="phrase">SLES</span></span> 15 SP3
      before you can proceed to <span class="productname"><span class="phrase">SLES</span></span> <span class="productnumber"><span class="phrase">15 SP4</span></span>.
     </p></dd><dt id="id-1.5.3.4.7.8"><span class="term">Upgrading from <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> 15 GA / SP1 / SP2 with LTSS or ESPOS</span></dt><dd><p>
      Upgrading from <span class="productname"><span class="phrase">SLES</span></span> 15 GA, SP1, or SP2 with LTSS or ESPOS
      is supported both online and offline.
      
      
      Refer to <a class="xref" href="#sec-upgrade-paths-methods" title="1.3. Online and offline upgrade">Section 1.3, “Online and offline upgrade”</a> for details.
     </p></dd><dt id="id-1.5.3.4.7.9"><span class="term">Upgrading from <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> 15 SP3</span></dt><dd><p>
      Upgrading from <span class="productname"><span class="phrase">SLES</span></span> 15 SP3 is supported both online and offline.
      
      
      Refer to <a class="xref" href="#sec-upgrade-paths-methods" title="1.3. Online and offline upgrade">Section 1.3, “Online and offline upgrade”</a> for details.
     </p></dd><dt id="id-1.5.3.4.7.10"><span class="term">Upgrading SUSE Linux Enterprise public cloud guests</span></dt><dd><p>
      For instructions on upgrading SLE guests in public clouds, see
      <a class="link" href="https://doc.suse.com/suse-distribution-migration-system/1.0/single-html/distribution-migration-system/" target="_blank"><em class="citetitle">Using
      the SUSE Distribution Migration System</em></a>.
     </p></dd><dt id="id-1.5.3.4.7.11"><span class="term">Upgrading from openSUSE Leap 15.0 / 15.1 / 15.2</span></dt><dd><p>
      Upgrading from openSUSE Leap 15.0, 15.1, or 15.2 directly is
      no longer supported. You need at least openSUSE Leap 15.3
      before you can proceed to <span class="productname"><span class="phrase">SLES</span></span> <span class="productnumber"><span class="phrase">15 SP4</span></span>.
     </p></dd><dt id="id-1.5.3.4.7.12"><span class="term">Upgrading from openSUSE Leap 15.3 / 15.4</span></dt><dd><p>
      Upgrading from openSUSE Leap 15.3 or 15.4. is supported. See
      <a class="xref" href="#sec-upgrade-online-leap-to-sle" title="5.9. Upgrading from openSUSE Leap to SUSE Linux Enterprise Server">Section 5.9, “Upgrading from openSUSE Leap to <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>”</a>. Only the server
      installation of Leap is supported for an upgrade.
     </p></dd></dl></div><div id="id-1.5.3.4.8" data-id-title="Extended Service Pack Overlap Support (ESPOS)" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Extended Service Pack Overlap Support (ESPOS)</div><p>
    For some products, SUSE offers <span class="productname">Extended Service Pack Overlap
    Support</span> (ESPOS) under the same conditions as LTSS.
    For more information about ESPOS, refer to the documentation of the respective SUSE Linux Enterprise product
    and the <a class="link" href="https://www.suse.com/support/policy-products/" target="_blank">Product Lifecycle
     Support Policies</a> webpage.
   </p></div></section><section class="sect1" id="sec-upgrade-paths-methods" data-id-title="Online and offline upgrade"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.3 </span><span class="title-name">Online and offline upgrade</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-paths-methods">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   SUSE supports the following upgrade and migration methods. For more
   information about the terminology, see
   <a class="xref" href="#sec-upgrade-background-terminology" title="2.1. Terminology">Section 2.1, “Terminology”</a>. The methods are:
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.5.3.5.3.1"><span class="term">Online</span></dt><dd><p>
      Upgrades that are executed from the running operating system itself
      (system up and running state). Examples: online update with Zypper or
      YaST, connected through SUSE Customer Center or Repository Mirroring Tool (RMT), Salt Policy via
      SUSE Manager.
     </p><p>
      For details, see <a class="xref" href="#cha-upgrade-online" title="Chapter 5. Upgrading online">Chapter 5, <em>Upgrading online</em></a>.
     </p><p>
      When migrating between Service Packs of the same major release, we
      suggest following <a class="xref" href="#sec-upgrade-online-yast" title="5.4. Upgrading with the online migration tool (YaST)">Section 5.4, “Upgrading with the online migration tool (YaST)”</a> or
      <a class="xref" href="#sec-upgrade-online-zypper" title="5.5. Upgrading with Zypper">Section 5.5, “Upgrading with Zypper”</a>.
     </p></dd><dt id="id-1.5.3.5.3.2"><span class="term">Offline</span></dt><dd><p>
      Upgrading offline implies that the operating system to be upgraded is
      <span class="emphasis"><em>not</em></span> running (system down state). Instead, the
      installer for the target operating system is booted (for example, from
      the installation media, via network or via local boot loader), and
      performs the upgrade.
     </p><p>
      For details, see <a class="xref" href="#cha-upgrade-offline" title="Chapter 4. Upgrading offline">Chapter 4, <em>Upgrading offline</em></a>.
     </p></dd></dl></div><div id="id-1.5.3.5.4" data-id-title="SUSE Manager clients" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: SUSE Manager clients</div><p>
  If your machine is managed by SUSE Manager, update it as described in the
  SUSE Manager documentation. The <em class="citetitle">Client Migration</em>
  procedure is described in the <em class="citetitle">SUSE Manager Upgrade Guide</em>,
  available at <a class="link" href="https://documentation.suse.com/suma/" target="_blank">https://documentation.suse.com/suma/</a>.
 </p></div></section></section><section class="chapter" id="cha-upgrade-background" data-id-title="Lifecycle and support"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">2 </span><span class="title-name">Lifecycle and support</span></span> <a title="Permalink" class="permalink" href="#cha-upgrade-background">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_background.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
    This chapter provides background information on terminology, SUSE product
    lifecycles and Service Pack releases, and recommended upgrade policies.
   </p></div></div></div></div><section class="sect1" id="sec-upgrade-background-terminology" data-id-title="Terminology"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.1 </span><span class="title-name">Terminology</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-background-terminology">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_background.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   This section uses several terms. To understand the information, read the
   definitions below:
  </p><div class="variablelist"><dl class="variablelist"><dt id="vle-upgrade-background-term-backporting"><span class="term">Backporting</span></dt><dd><p>
      Backporting is the act of adapting specific changes from a newer version
      of software and applying it to an older version. The most commonly used
      case is fixing security holes in older software components. Usually it is
      also part of a maintenance model to supply enhancements or (less
      commonly) new features.
     </p></dd><dt id="vle-upgrade-background-term-deltarpm"><span class="term">Delta RPM</span></dt><dd><p>
      A delta RPM consists only of the binary diff between two defined versions
      of a package, and therefore has the smallest download size. Before being
      installed, the full RPM package is rebuilt on the local machine.
     </p></dd><dt id="vle-upgrade-background-term-downstream"><span class="term">Downstream</span></dt><dd><p>
      A metaphor of how software is developed in the open source world (compare
      it with <span class="emphasis"><em>upstream</em></span>). The term
      <span class="emphasis"><em>downstream</em></span> refers to people or organizations like
      SUSE who integrate the source code from upstream with other software to
      build a distribution which is then used by end users. Thus, the software
      flows downstream from its developers via the integrators to the end
      users.
     </p></dd><dt id="vle-upgrade-background-term-extension"><span class="term">Extension, </span><span class="term">Add-on product</span></dt><dd><p>
      Extensions and third party add-on products provide additional
      functionality of product value to <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>. They are provided by
      SUSE and by SUSE partners, and they are registered and installed on
      top of the base product <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>.
     </p></dd><dt id="vle-upgrade-background-term-ltss"><span class="term">LTSS</span></dt><dd><p>
      LTSS is the abbreviation for Long Term Service Pack Support, which is
      available as an extension for <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>.
     </p></dd><dt id="vle-upgrade-background-term-majorrelease"><span class="term">Major release, </span><span class="term">General Availability (GA) version</span></dt><dd><p>
      The major release of SUSE Linux Enterprise (or any software product) is a new version
      which brings new features and tools, decommissions previously deprecated
      components and comes with backward-incompatible changes. Major releases
      for example are SUSE Linux Enterprise 12 or 15.
     </p></dd><dt id="vle-upgrade-background-term-migration"><span class="term">Migration</span></dt><dd><p>
      Updating to a Service Pack (SP) by using the online update tools or an
      installation medium to install the respective patches. It updates all
      packages of the installed system to the latest state.
     </p></dd><dt id="vle-upgrade-background-term-migration-target"><span class="term">Migration target</span></dt><dd><p>
      A compatible product to which a system can be migrated, containing the
      version of the products/extensions and the URL of the repository.
      Migration targets can change over time and depend on installed
      extensions. It is possible to select multiple migration targets.
     </p></dd><dt id="vle-upgrade-background-term-module"><span class="term">Module</span></dt><dd><p>
      Modules are fully supported parts of <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> with a different lifecycle.
      They have a clearly defined scope and are delivered via online
      channel only. Registering at the SUSE Customer Center, RMT (Repository Mirroring Tool), or SUSE Manager is
      a prerequisite for being able to subscribe to these channels.
     </p></dd><dt id="vle-upgrade-background-term-package"><span class="term">Package</span></dt><dd><p>
      A package is a compressed file in <code class="literal">rpm</code> format that
      contains all files for a particular program, including optional
      components like configuration, examples, and documentation.
     </p></dd><dt id="vle-upgrade-background-term-patch"><span class="term">Patch</span></dt><dd><p>
      A patch consists of one or more packages and may be applied by means of
      delta RPMs. It may also introduce dependencies to packages that are not
      installed yet.
     </p></dd><dt id="vle-upgrade-background-term-servicepack"><span class="term">Service Pack (SP)</span></dt><dd><p>
      A service pack combines several patches into a form that is easy to
      install or deploy. Service packs are numbered and usually contain security
      fixes, updates, upgrades, or enhancements of programs.
     </p></dd><dt id="vle-upgrade-background-term-upstream"><span class="term">Upstream</span></dt><dd><p>
      A metaphor of how software is developed in the open source world (compare
      it with <span class="emphasis"><em>downstream</em></span>). The term
      <span class="emphasis"><em>upstream</em></span> refers to the original project, author or
      maintainer of a software that is distributed as source code. Feedback,
      patches, feature enhancements, or other improvements flow from end users
      or contributors to upstream developers. They decide if the request will
      be integrated or rejected.
     </p><p>
      If the project members decide to integrate the request, it will show up
      in newer versions of the software. An accepted request will benefit all
      parties involved.
     </p><p>
      If a request is not accepted, it may be for different reasons. Either it
      is in a state that is not compliant with the project's guidelines, it is
      invalid, it is already integrated, or it is not in the interest or
      road map of the project. An unaccepted request makes it harder for
      upstream developers as they need to synchronize their patches with the
      upstream code. This practice is generally avoided, but sometimes it is
      still needed.
     </p></dd><dt id="vle-upgrade-background-term-update"><span class="term">Update</span></dt><dd><p>
      Installation of a newer <span class="emphasis"><em>minor</em></span> version of a package,
      which usually contains security or bug fixes.
     </p></dd><dt id="vle-upgrade-background-term-upgrade"><span class="term">Upgrade</span></dt><dd><p>
      Installation of a newer <span class="emphasis"><em>major</em></span> version of a package
      or distribution, which brings <span class="emphasis"><em>new
      features</em></span>.<span class="phrase"> For a distinction between the
      upgrade options, see
      <a class="xref" href="#sec-upgrade-paths-methods" title="1.3. Online and offline upgrade">Section 1.3, “Online and offline upgrade”</a>.</span>
     </p></dd></dl></div></section><section class="sect1" id="sec-upgrade-background-life-cycle" data-id-title="Product lifecycle"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.2 </span><span class="title-name">Product lifecycle</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-background-life-cycle">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_background.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   SUSE has the following product lifecycle:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     SUSE Linux Enterprise Server has a 13-year lifecycle: 10 years of general support and three years
     of extended support.
    </p></li><li class="listitem"><p>
     SUSE Linux Enterprise Desktop has a 10-year lifecycle: seven years of general support and three
     years of extended support.
    </p></li><li class="listitem"><p>
     Major releases are made every four years. Service packs are made every
     12-14 months.
    </p></li></ul></div><p>
   SUSE supports previous service packs for six months after the release of
   the new service pack.
   <a class="xref" href="#fig-update-releases-service-packs" title="Major releases and service packs">Figure 2.1, “Major releases and service packs”</a> depicts some
   mentioned aspects.
  </p><div class="figure" id="fig-update-releases-service-packs"><div class="figure-contents"><div class="mediaobject"><a href="images/new-maintenance-model.png"><img src="images/new-maintenance-model.png" width="95%" alt="Major releases and service packs" title="Major releases and service packs"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 2.1: </span><span class="title-name">Major releases and service packs </span></span><a title="Permalink" class="permalink" href="#fig-update-releases-service-packs">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_background.xml" title="Edit source document"> </a></div></div></div><p>
   If you need additional time to design, validate and test your upgrade plans,
   Long Term Service Pack Support can extend the support you get by an
   additional 12 to 36 months in 12-month increments. This gives you a total of
   2 to 5 years of support on any service pack. For details, see
   <a class="xref" href="#fig-update-maintenance-long-term-service-pack" title="Long term service pack support">Figure 2.2, “Long term service pack support”</a>.
  </p><div class="figure" id="fig-update-maintenance-long-term-service-pack"><div class="figure-contents"><div class="mediaobject"><a href="images/new-maintenance-model+ltss.png"><img src="images/new-maintenance-model+ltss.png" width="95%" alt="Long term service pack support" title="Long term service pack support"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 2.2: </span><span class="title-name">Long term service pack support </span></span><a title="Permalink" class="permalink" href="#fig-update-maintenance-long-term-service-pack">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_background.xml" title="Edit source document"> </a></div></div></div><p>
   For more information refer to
   <a class="link" href="https://www.suse.com/products/long-term-service-pack-support/" target="_blank">https://www.suse.com/products/long-term-service-pack-support/</a>.
  </p><p>
   Refer to <a class="link" href="https://www.suse.com/lifecycle" target="_blank">https://www.suse.com/lifecycle</a> for more
   information about lifecycles, release frequency, and the overlay support
   period.
  </p></section><section class="sect1" id="sec-upgrade-background-modules" data-id-title="Module dependencies and lifecycles"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.3 </span><span class="title-name">Module dependencies and lifecycles</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-background-modules">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_background.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   For a list of modules, their dependencies, and lifecycles, see the
   <span class="intraxref">Article “Modules and Extensions Quick Start”</span>.
  </p></section><section class="sect1" id="sec-upgrade-background-lifecyclereport" data-id-title="Generating periodic lifecycle report"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.4 </span><span class="title-name">Generating periodic lifecycle report</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-background-lifecyclereport">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_background.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> can regularly check for changes in the support status of all
   installed products and send the report via e-mail in case of changes. To
   generate the report, install the <span class="package">zypper-lifecycle-plugin</span>
   with <code class="command">zypper in zypper-lifecycle-plugin</code>.
  </p><p>
   Enable the report generation on your system with
   <code class="command">systemctl</code>:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">systemctl</code> enable lifecycle-report.timer</pre></div><p>
   The recipient and subject of the report e-mail, and the report generation
   period can be configured in the file
   <code class="filename">/etc/sysconfig/lifecycle-report</code> with any text editor.
   The settings <code class="literal">MAIL_TO</code> and <code class="literal">MAIL_SUBJ</code>
   define the mail recipient and subject, while <code class="literal">DAYS</code> sets
   the interval at which the report is generated.
  </p><p>
   The report displays changes in the support status after the change occurred
   and not in advance. If the change occurs right after the generation of the
   last report, it can take up to 14 days until you are notified of the change.
   Take this into account when setting the <code class="literal">DAYS</code> option.
   Change the following configuration entries to fit your requirements:
  </p><div class="verbatim-wrap"><pre class="screen">MAIL_TO='root@localhost'
MAIL_SUBJ='Lifecycle report'
DAYS=14</pre></div><p>
   The latest report is available in the file
   <code class="filename">/var/lib/lifecycle/report</code>. The file contains two
   sections. The first section informs about the end of support for used
   products. The second section lists packages with their support end dates and
   update availability.
  </p></section><section class="sect1" id="sec-upgrade-background-supportlevel" data-id-title="Support levels"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.5 </span><span class="title-name">Support levels</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-background-supportlevel">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_background.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The range for extended support levels starts from year 10 and ends in year
   13. These contain continued L3 engineering level diagnosis and reactive
   critical bug fixes. With these support levels, you will receive updates for
   trivially exploitable root exploits in the kernel and other root exploits
   directly executable without user interaction. Furthermore, they support
   existing workloads, software stacks, and hardware with limited package
   exclusion list. Find an overview in
   <a class="xref" href="#tab-security-and-bug-fixes" title="Security updates and bug fixes">Table 2.1, “Security updates and bug fixes”</a>.
  </p><div class="table" id="tab-security-and-bug-fixes" data-id-title="Security updates and bug fixes"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 2.1: </span><span class="title-name">Security updates and bug fixes </span></span><a title="Permalink" class="permalink" href="#tab-security-and-bug-fixes">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_background.xml" title="Edit source document"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/><col class="c3"/><col class="c4"/><col class="c5"/><col class="c6"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; "> </th><th style="text-align: center; border-right: 1px solid ; border-bottom: 1px solid ; " colspan="3">
       <p>
        General Support for Most Recent Service Pack (SP)
       </p>
      </th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        General Support for Previous SP, with LTSS
       </p>
      </th><th style="border-bottom: 1px solid ; ">
       <p>
        Extended Support with LTSS
       </p>
      </th></tr><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Feature
       </p>
      </th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Year 1-5
       </p>
      </th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Year 6-7
       </p>
      </th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Year 8-10
       </p>
      </th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Year 4-10
       </p>
      </th><th style="border-bottom: 1px solid ; ">
       <p>
        Year 10-13
       </p>
      </th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Technical Services
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Access to Patches and Fixes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Access to Documentation and Knowledge Base
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Support for Existing Stacks and Workloads
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Support for New Deployments
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Limited (Based on partner and customer requests)
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Limited (Based on partner and customer requests)
       </p>
      </td><td style="border-bottom: 1px solid ; ">
       <p>
        No
       </p>
      </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Enhancement Requests
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Limited (Based on partner and customer requests)
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Limited (Based on partner and customer requests)
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        No
       </p>
      </td><td style="border-bottom: 1px solid ; ">
       <p>
        No
       </p>
      </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Hardware Enablement and Optimization
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Limited (Based on partner and customer requests)
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Limited (Based on partner and customer requests)
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        No
       </p>
      </td><td style="border-bottom: 1px solid ; ">
       <p>
        No
       </p>
      </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Driver updates via SUSE SolidDriver Program (formerly PLDP)
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Limited (Based on partner and customer requests)
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Limited (Based on partner and customer requests)
       </p>
      </td><td style="border-bottom: 1px solid ; ">
       <p>
        No
       </p>
      </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Backport of Fixes from Recent SP
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Limited (Based on partner and customer requests)
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        N/A
       </p>
      </td><td style="border-bottom: 1px solid ; ">
       <p>
        N/A
       </p>
      </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Security Updates<sup>1</sup>
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        All
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        All
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        All
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Critical only
       </p>
      </td><td style="border-bottom: 1px solid ; ">
       <p>
        Critical only
       </p>
      </td></tr><tr><td style="border-right: 1px solid ; ">
       <p>
        Defect Resolution
       </p>
      </td><td style="border-right: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; ">
       <p>
        Yes
       </p>
      </td><td style="border-right: 1px solid ; ">
       <p>
        Limited (Severity Level 1 and 2 defects only)
       </p>
      </td><td style="border-right: 1px solid ; ">
       <p>
        Limited (Severity Level 1 and 2 defects only)
       </p>
      </td><td>
       <p>
        Limited (Severity Level 1 and 2 defects only)
       </p>
      </td></tr></tbody></table></div></div><p>
   <sup>1</sup> For further information on the SUSE Linux Enterprise Update
   Policy, refer to the following
   <a class="link" href="https://www.suse.com/support/kb/doc/?id=000018318" target="_blank">knowledgebase
   article</a>.
  </p></section><section class="sect1" id="sec-upgrade-background-register" data-id-title="Registering and deregistering machines with SUSEConnect"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.6 </span><span class="title-name">Registering and deregistering machines with SUSEConnect</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-background-register">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_background.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   On registration, the system receives repositories from the SUSE Customer Center (see
   <a class="link" href="https://scc.suse.com/" target="_blank">https://scc.suse.com/</a>) or a local registration proxy like SMT. The
   repository names map to specific URIs in the customer center. To list all
   available repositories on your system, use <code class="command">zypper</code> as
   follows:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">zypper</code> repos -u</pre></div><p>
   This gives you a list of all available repositories on your system. Each
   repository is listed by its alias, name and whether it is enabled and will
   be refreshed. The option <code class="option">-u</code> gives you also the URI from
   where it originated.
  </p><p>
   To register your machine, run SUSEConnect, for example:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">SUSEConnect</code> -r <em class="replaceable">REGCODE</em></pre></div><p>
   To deregister your machine, you can use SUSEConnect too:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">SUSEConnect</code> --de-register</pre></div><p>
   To check your locally installed products and their status, use the following
   command:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">SUSEConnect</code> -s</pre></div></section><section class="sect1" id="sec-upgrade-background-enable-ltss" data-id-title="Enabling LTSS support"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.7 </span><span class="title-name">Enabling LTSS support</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-background-enable-ltss">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_background.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   <code class="literal">Long Term Service Pack Support</code> (LTSS) extends the
   lifecycle of <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>. It is available as an extension. For more
   information about LTSS, refer to <a class="link" href="https://www.suse.com/products/long-term-service-pack-support/" target="_blank">https://www.suse.com/products/long-term-service-pack-support/</a>
  </p><div class="procedure"><div class="procedure-contents"><p>To enable the LTSS extension, perform the following steps:</p><ol class="procedure" type="1"><li class="step"><p>
     Make sure your system is registered with a subscription that is eligible
     for LTSS. If the system is not yet registered, run:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">SUSEConnect -r <em class="replaceable">REGISTRATION_CODE</em> -e <em class="replaceable">EMAIL_ADDRESS</em></code></pre></div></li><li class="step"><p>
     Make sure the LTSS extension is available for your system:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">SUSEConnect --list-extensions | grep LTSS</code>
SUSE Linux Enterprise Server LTSS <span class="productnumber"><span class="phrase">15 SP4</span></span> x86_64
Activate with: SUSEConnect -p SLES-LTSS/15.4/x86_64 -r ADDITIONAL REGCODE</pre></div></li><li class="step"><p>
     Activate the module as instructed:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">SUSEConnect -p SLES-LTSS/<em class="replaceable">15.4</em>/<em class="replaceable">x86_64</em> -r <em class="replaceable">REGISTRATION_CODE</em></code></pre></div></li></ol></div></div></section><section class="sect1" id="sec-upgrade-background-identify-version" data-id-title="Identifying the SLE version"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.8 </span><span class="title-name">Identifying the <span class="phrase">SLE</span> version</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-background-identify-version">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_background.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   If you need to identify the version of an
   <span class="phrase">SLE</span>
   installation, check the content of the file
   <code class="filename">/etc/os-release</code>.
  </p><p>
   A machine readable XML output is available with <code class="command">zypper</code>:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">zypper --no-remote --no-refresh --xmlout --non-interactive products -i</code>
&lt;?xml version='1.0'?&gt;
&lt;stream&gt;
&lt;product-list&gt;
&lt;product name="SLES" version="15" release="0" epoch="0" arch="x86_64" vendor="SUSE" summary="SUSE Linux Enterprise Server 15" repo="@System" productline="sles" registerrelease="" shortname="SLES15" flavor="" isbase="true" installed="true"&gt;&lt;endoflife time_t="0" text="0"/&gt;&lt;registerflavor/&gt;&lt;description&gt;SUSE Linux Enterprise offers [...]&lt;/description&gt;&lt;/product&gt;
&lt;/product-list&gt;
&lt;/stream&gt;</pre></div></section></section><section class="chapter" id="cha-update-preparation" data-id-title="Preparing the upgrade"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">3 </span><span class="title-name">Preparing the upgrade</span></span> <a title="Permalink" class="permalink" href="#cha-update-preparation">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
    Before starting the upgrade procedure, make sure your system is properly
    prepared. Among other things, preparation involves backing up data and
    checking the release notes. The following chapter guides you through these
    steps.
   </p></div></div></div></div><section class="sect1" id="sec-update-preparation-update" data-id-title="Make sure the system is up-to-date"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.1 </span><span class="title-name">Make sure the system is up-to-date</span></span> <a title="Permalink" class="permalink" href="#sec-update-preparation-update">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   
   Upgrading the system is only supported from the most recent patch level.
   Make sure the latest system updates are installed by
   <span class="phrase">either</span> running <code class="command">zypper
   patch</code><span class="phrase"> or by starting the YaST module
   <span class="guimenu">Online-Update</span></span>.
  </p></section><section class="sect1" id="sec-update-preparation-relnotes" data-id-title="Read the release notes"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.2 </span><span class="title-name">Read the release notes</span></span> <a title="Permalink" class="permalink" href="#sec-update-preparation-relnotes">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Find a list of all changes, new features, and known issues in the
   <a class="link" href="https://www.suse.com/releasenotes/" target="_blank">release notes</a>.
   You can also find the release notes on the installation media in the
   <code class="filename">docu</code> directory.
  </p><p>
   The release notes usually only contain the changes between two subsequent
   releases. <span class="phrase">If you are skipping one or more Service
   Packs, check the release notes of the skipped Service Packs as
   well.</span>
  </p><p>
   Consult the release notes to check whether the following applies:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Your hardware needs special considerations
    </p></li><li class="listitem"><p>
     Any currently used software packages have changed significantly
    </p></li><li class="listitem"><p>
     Your installation requires special precautions
    </p></li></ul></div></section><section class="sect1" id="sec-update-preparation-backup" data-id-title="Make a backup"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.3 </span><span class="title-name">Make a backup</span></span> <a title="Permalink" class="permalink" href="#sec-update-preparation-backup">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Before upgrading, back up your data by copying the existing configuration
   files to a separate medium (such as tape device, removable hard disk, etc.).
   This primarily applies to files stored in <code class="filename">/etc</code> and some
   directories and files in <code class="filename">/var</code> and
   <code class="filename">/opt</code>. You may also want to write the user data in
   <code class="filename">/home</code> (the <code class="envar">HOME</code> directories) to a backup
   medium.
  </p><p>
   Back up all data as <code class="systemitem">root</code>. Only <code class="systemitem">root</code> has sufficient permissions
   for all local files.
  </p><p>
   
   If you have selected <span class="guimenu">Update an Existing System</span> as the
   installation mode in YaST, you can choose to do a (system) backup at a
   later point in time. You can choose to include all modified files and files
   from the <code class="filename">/etc/sysconfig</code> directory. However, this is not
   a complete backup, as all the other important directories mentioned above
   are missing. Find the backup in the <code class="filename">/var/adm/backup</code>
   directory.
  </p></section><section class="sect1" id="sec-update-preparation-disk" data-id-title="Check the available disk space"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.4 </span><span class="title-name">Check the available disk space</span></span> <a title="Permalink" class="permalink" href="#sec-update-preparation-disk">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Software tends to grow from version to version. Therefore, take a look at
   the available partition space before updating. If you suspect you are
   running short of disk space, back up your data before increasing the
   available space by resizing partitions, for example. There is no general
   rule regarding how much space each partition should have. Space requirements
   depend on your particular partitioning profile and the software selected.
  </p><div id="id-1.5.5.7.3" data-id-title="Automatic check for enough space in YaST" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Automatic check for enough space in YaST</div><p>
    During the update procedure, YaST will check how much free disk space is
    available and display a warning to the user if the installation may exceed
    the available amount. In that case, performing the update may lead to an
    <span class="emphasis"><em>unusable system</em></span>! Only if you know exactly what you are
    doing (by testing beforehand), you can skip the warning and continue the
    update.
   </p></div><section class="sect2" id="sec-update-preparation-disk-space" data-id-title="Checking disk space on non-Btrfs file systems"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">3.4.1 </span><span class="title-name">Checking disk space on non-Btrfs file systems</span></span> <a title="Permalink" class="permalink" href="#sec-update-preparation-disk-space">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Use the <code class="command">df</code> command to list available disk space. For
    example, in <a class="xref" href="#ex-update-df" title="List with df -h">Example 3.1, “List with <code class="command">df -h</code>”</a>, the root partition is
    <code class="filename">/dev/sda3</code> (mounted as <code class="filename">/</code>).
   </p><div class="example" id="ex-update-df" data-id-title="List with df -h"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 3.1: </span><span class="title-name">List with <code class="command">df -h</code> </span></span><a title="Permalink" class="permalink" href="#ex-update-df">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">Filesystem     Size  Used Avail Use% Mounted on
     /dev/sda3       74G   22G   53G  29% /
     tmpfs          506M     0  506M   0% /dev/shm
     /dev/sda5      116G  5.8G  111G   5% /home
     /dev/sda1       44G    4G   40G   9% /data</pre></div></div></div></section><section class="sect2" id="sec-update-preparation-disk-btrfs-on-root" data-id-title="Checking disk space on Btrfs root file systems"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">3.4.2 </span><span class="title-name">Checking disk space on Btrfs root file systems</span></span> <a title="Permalink" class="permalink" href="#sec-update-preparation-disk-btrfs-on-root">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    On a Btrfs file system, the output of <code class="command">df</code> can be
    misleading, because in addition to the space the raw data allocates, a
    Btrfs file system also allocates and uses space for metadata.
   </p><p>
    Consequently a Btrfs file system may report being out of space even though
    it seems that plenty of space is still available. In that case, all space
    allocated for the metadata is used up. <span class="phrase">For details on how
     to check for used and available space on a Btrfs file system, see
     <span class="intraxref">Book “Storage Administration Guide”, Chapter 1 “Overview of file systems in Linux”, Section 1.2.2.3 “Checking for free space”</span>.</span> For
    more information refer to <span class="phrase"><code class="command">man 8
     btrfs-filesystem</code> and
    </span><a class="link" href="https://btrfs.wiki.kernel.org/index.php/FAQ" target="_blank">https://btrfs.wiki.kernel.org/index.php/FAQ</a>.
   </p><p>
    When using Btrfs for root file systems on your machine, make sure there is
    enough free space. Check the available space on all mounted partitions. In
    the worst case, an upgrade needs as much disk space as the current root
    file system (without <code class="filename">/.snapshot</code>) for a new snapshot.
   </p><p>
    The following recommendations have been proven:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      For all file systems, including Btrfs, you need enough free disk space to
      download and install big RPMs. The space of old RPMs is only freed after
      new RPMs are installed.
     </p></li><li class="listitem"><p>
      For Btrfs with snapshots, you need as a minimum as much free space as
      your current installation takes. We recommend having twice as much free
      space as the current installation.
     </p><p>
      If you do not have enough free space, you can try to delete old snapshots
      with <code class="command">snapper</code>:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">snapper</code> list
      <code class="prompt root"># </code><code class="command">snapper</code> delete NUMBER</pre></div><p>
      However, this may not help in all cases. Before migration, most snapshots
      occupy only little space.
     </p></li></ul></div></section></section><section class="sect1" id="sec-update-preparation-packagelist" data-id-title="Listing installed packages and repositories"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.5 </span><span class="title-name">Listing installed packages and repositories</span></span> <a title="Permalink" class="permalink" href="#sec-update-preparation-packagelist">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   
   You can save a list of installed packages, for example when doing a fresh
   install of a new major SLE release or reverting to the old version.
  </p><div id="id-1.5.5.8.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note</div><p>
    
    Be aware that not all installed packages or used repositories are available
    in newer releases of SUSE Linux Enterprise. Some may have been renamed and others replaced.
    It is also possible that some packages are still available for legacy
    purposes while another package is used by default. Therefore some manual
    editing of the files might be necessary. This can be done with any text
    editor.
   </p></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Create a file named <code class="filename">repositories.bak.repo</code> containing
     a list of all used repositories:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">zypper</code> lr -e repositories.bak</pre></div></li><li class="step"><p>
     Also create a file named <code class="filename">installed-software.bak</code>
     containing a list of all installed packages:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">rpm</code> -qa --queryformat '%{NAME}\n' &gt; installed-software.bak</pre></div></li><li class="step"><p>
     Back up both files. The repositories and installed packages can be
     restored with the following commands:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">zypper</code> ar repositories.bak.repo
<code class="prompt root"># </code><code class="command">zypper</code> install $(cat installed-software.bak)</pre></div><div id="note-update-prep-backup-package-amount" data-id-title="Number of packages increases with an update to a new major release" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Number of packages increases with an update to a new major release</div><p>
      A system upgraded to a new major version
      (SLE <em class="replaceable">X+1</em>) may contain more packages than
      the initial system (SLE <em class="replaceable">X</em>). It will also
      contain more packages than a fresh installation of
      SLE <em class="replaceable">X+1</em> with the same pattern selection.
      Reasons for this are:
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
        Packages were split to allow a more fine-grained package selection. For
        example, 37 <span class="package">texlive</span> packages on SLE 11 were split
        into over 3000 packages on SLE 15.
       </p></li><li class="listitem"><p>
        When a package has been split, all new packages are installed in the
        upgrade case to retain the same functionality as with the previous
        version. However, the new default for a fresh installation of
        SLE <em class="replaceable">X+1</em> may be to not install all
        packages.
       </p></li><li class="listitem"><p>
        Legacy packages from SLE <em class="replaceable">X</em> may be kept
        for compatibility reasons.
       </p></li><li class="listitem"><p>
        Package dependencies and the scope of patterns may have changed.
       </p></li></ul></div></div></li></ol></div></div></section><section class="sect1" id="sec-update-preparation-ltss" data-id-title="Disable the LTSS extension"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.6 </span><span class="title-name">Disable the LTSS extension</span></span> <a title="Permalink" class="permalink" href="#sec-update-preparation-ltss">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   If you upgrade a <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> system with Long Term Service Pack Support
   (LTSS) to a version that is still under general support, the upgrade will
   fail with the error <code class="literal">No migration available</code>. This happens
   because <code class="command">zypper migration</code> tries to migrate
   <span class="emphasis"><em>all</em></span> repositories , but there is no LTSS repository for
   the new version yet.
  </p><p>
   To fix this issue, disable the LTSS extension before the upgrade.
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Check if the LTSS extension is enabled:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> SUSEConnect --list-extensions | grep LTSS
SUSE Linux Enterprise Server LTSS 12 SP4 x86_64 (Installed)
Deactivate with: SUSEConnect -d -p SLES-LTSS/12.4/x86_64</pre></div></li><li class="step"><p>
     Disable the LTSS extension with the command from the
     <code class="command">SUSEConnect</code> output above:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> SUSEConnect -d -p SLES-LTSS/12.4/x86_64
Deregistered SUSE Linux Enterprise Server LTSS 12 SP4 x86_64
To server: https://scc.suse.com/</pre></div></li><li class="step"><p>
     Verify the LTSS repository is no longer present with
     <code class="command">zypper lr</code>.
    </p></li></ol></div></div></section><section class="sect1" id="sec-update-preparation-postgresql" data-id-title="Migrate your PostgreSQL database"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.7 </span><span class="title-name">Migrate your PostgreSQL database</span></span> <a title="Permalink" class="permalink" href="#sec-update-preparation-postgresql">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   
   <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> <span class="productnumber"><span class="phrase">15 SP4</span></span> ships with the PostgreSQL database versions
   13 and 14.
   
   While version 14 is the default, versions 13 is still provided through the
   <code class="literal">Legacy</code> module for upgrades from earlier versions of
   <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>.
  </p><p>
   Because of the required migration work of the database, there is no
   automatic upgrade process. As such, the switch from one version to another
   needs to be performed manually.
  </p><p>
   The migration process is conducted by the <code class="command">pg_upgrade</code>
   command, which is an alternative method of the classic dump and reload. In
   comparison with the <span class="quote">“<span class="quote">dump and reload</span>”</span> method,
   <code class="command">pg_upgrade</code> makes the migration less time-consuming.
  </p><p>
   The program files for each PostgreSQL version are stored in different,
   version-dependent directories. For example, in
   <code class="filename">/usr/lib/postgresql96/</code> for version 9.6, in
   <code class="filename">/usr/lib/postgresql10/</code> for version 10, and in
   <code class="filename">/usr/lib/postgres13/</code> for version 13. Note that the
   versioning policy of PostgreSQL has changed between the major versions 9.6
   and 10. For details, see
   <a class="link" href="https://www.postgresql.org/support/versioning/" target="_blank">https://www.postgresql.org/support/versioning/</a>.
  </p><div id="id-1.5.5.10.6" data-id-title="Upgrading from SLE 11" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Upgrading from SLE 11</div><p>
    When upgrading from SLE 11, <code class="systemitem">postgresql94</code> will
    be uninstalled and cannot be used for the database migration to a higher
    PostgreSQL version. Therefore in this case make sure to migrate the
    PostgreSQL database <span class="emphasis"><em>before</em></span> you upgrade your system.
   </p></div><p>
   The procedure below describes the database migration from version 12 to 13.
   When using a different version as start or target, replace the version
   numbers accordingly.
  </p><p>
   To perform the database migration, do the following:
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Make sure the following preconditions are fulfilled:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       If not already done, upgrade any package of the old PostgreSQL version
       to the latest release through a maintenance update.
      </p></li><li class="listitem"><p>
       Create a backup of your existing database.
      </p></li><li class="listitem"><p>
       Install the packages of the new PostgreSQL major version. For SLE
       15 SP4 this means to install
       <span class="package">postgresql13-server</span> and all the packages it depends
       on.
      </p></li><li class="listitem"><p>
       Install the package <span class="package">postgresql13-contrib</span> which
       contains the command <code class="command">pg_upgrade</code>.
      </p></li><li class="listitem"><p>
       Make sure you have enough free space in your PostgreSQL data area,
       which is <code class="filename">/var/lib/pgsql/data</code> by default. If space
       is tight, try to reduce size with the following SQL command on each
       database (can take very long!):
      </p><div class="verbatim-wrap"><pre class="screen">VACUUM FULL</pre></div></li></ul></div></li><li class="step"><p>
     Stop the PostgreSQL server with either:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">/usr/sbin/rcpostgresql</code> stop</pre></div><p>
     or
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>systemctl stop postgresql.service</pre></div><p>
     (depending on the SLE version you use as the start version for your
     upgrade).
    </p></li><li class="step"><p>
     Rename your old data directory:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">mv</code> /var/lib/pgsql/data /var/lib/pgsql/data.old</pre></div></li><li class="step"><p>
     Initialize your new database instance either manually with
     <code class="command">initdb</code> or by starting and stopping PostgreSQL, which
     will do it automatically:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">/usr/sbin/rcpostgresql</code> start
<code class="prompt root"># </code><code class="command">/usr/sbin/rcpostgresql</code> stop</pre></div><p>
     or
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>systemctl start postgresql.service
<code class="prompt root"># </code>systemctl stop postgresql.service</pre></div><p>
     (depending on the SLE version you use as the start version for your
     upgrade).
    </p></li><li class="step"><p>
     If you have changed your configuration files in the old version, consider
     transferring these changes to the new configuration files. This may affect
     the files <code class="filename">postgresql.auto.conf</code>,
     <code class="filename">postgresql.conf</code>,<code class="filename">pg_hba.conf</code> and
     <code class="filename">pg_ident.conf</code>. The old versions of these files are
     located in <code class="filename">/var/lib/pgsql/data.old/</code>, the new versions
     can be found in <code class="filename">/var/lib/pgsql/data</code>.
    </p><p>
     Note that copying the old configuration files is not recommended, because
     this may overwrite new options, new defaults and changed comments.
    </p></li><li class="step"><p>
     Start the migration process as user
     <code class="systemitem">postgres</code>:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>su - postgres
postgres &gt; <code class="command">pg_upgrade</code> \
 --old-datadir "/var/lib/pgsql/data.old" \
 --new-datadir "/var/lib/pgsql/data" \
 --old-bindir "/usr/lib/postgresql12/bin/" \
 --new-bindir "/usr/lib/postgresql13/bin/"</pre></div></li><li class="step"><p>
     Start your new database instance with either:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">/usr/sbin/rcpostgresql</code> start</pre></div><p>
     or
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>systemctl start postgresql.service</pre></div><p>
     (depending on the SLE version you use as the start version for your
     upgrade).
    </p></li><li class="step"><p>
     Check if the migration was successful. The scope of the test depends on
     your use case and there is no general tool to automate this step.
    </p></li><li class="step"><p>
     Remove any old PostgreSQL packages and your old data directory:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">zypper</code> search -s postgresql12| xargs zypper rm -u
<code class="prompt root"># </code><code class="command">rm</code> -rf /var/lib/pgsql/data.old</pre></div></li></ol></div></div><p>
   For more information about upgrading databases or using alternative methods
   such as logical replication, refer to the official PostgreSQL
   documentation at
   <a class="link" href="https://www.postgresql.org/docs/13/upgrading.html" target="_blank">https://www.postgresql.org/docs/13/upgrading.html</a>.
  </p></section><section class="sect1" id="sec-update-preparation-mariadb" data-id-title="Migrate your MySQL or MariaDB database"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.8 </span><span class="title-name">Migrate your MySQL or MariaDB database</span></span> <a title="Permalink" class="permalink" href="#sec-update-preparation-mariadb">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   As of SUSE Linux Enterprise 12, SUSE switched from MySQL to MariaDB. Before you start any
   upgrade, it is highly recommended to back up your database.
  </p><p>
   To perform the database migration, do the following:
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Create a dump file:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">mysqldump</code> -u root -p --all-databases --add-drop-database &gt; mysql_backup.sql</pre></div><p>
     By default, <code class="command">mysqldump</code> does not dump the
     <code class="literal">INFORMATION_SCHEMA</code> or
     <code class="literal">performance_schema</code> database. For more details refer to
     <a class="link" href="https://mariadb.com/kb/en/mariadb-dumpmysqldump/" target="_blank">https://mariadb.com/kb/en/mariadb-dumpmysqldump/</a>.
    </p></li><li class="step"><p>
     Store your dump file, the configuration file
     <code class="filename">/etc/my.cnf</code>, and the directory
     <code class="filename">/etc/mysql/</code> for later investigation
     (<span class="emphasis"><em>not</em></span> installation!) in a safe place.
    </p></li><li class="step"><p>
     Perform the <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> upgrade. After the upgrade, your former
     configuration file <code class="filename">/etc/my.cnf</code> will still be intact.
     You can find the new configuration in the file
     <code class="filename">/etc/my.cnf.rpmnew</code>.
    </p></li><li class="step"><p>
     Configure your MariaDB database to your needs. Do
     <span class="emphasis"><em>not</em></span> use the former configuration file and directory,
     but use it as a reminder and adapt it.
    </p></li><li class="step"><p>
     Make sure you start the MariaDB server:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl</code> start mariadb</pre></div><p>
     If you want to start the MariaDB server on every boot, enable the
     service:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl</code> enable mariadb</pre></div></li><li class="step"><p>
     Verify that MariaDB is running properly by connecting to the database:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">mariadb</code> -u root -p</pre></div></li></ol></div></div></section><section class="sect1" id="sec-update-preparation-ssl" data-id-title="Create non-MD5 server certificates for Java applications"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.9 </span><span class="title-name">Create non-MD5 server certificates for Java applications</span></span> <a title="Permalink" class="permalink" href="#sec-update-preparation-ssl">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   As a security measure, MD5-based certificates are no longer supported in
   Java. If you have certificates created as MD5, re-create your certificates
   with the following steps:
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Open a terminal and log in as <code class="systemitem">root</code>.
    </p></li><li class="step"><p>
     Create a private key:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">openssl</code> genrsa -out server.key 1024</pre></div><p>
     If you want a stronger key, replace <code class="literal">1024</code> with a higher
     number, for example, <code class="literal">4096</code>.
    </p></li><li class="step"><p>
     Create a certificate signing request (CSR):
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">openssl</code> req -new -key server.key -out server.csr</pre></div></li><li class="step"><p>
     Self-sign the certificate:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">openssl</code> x509 -req -days 365 -in server.csr -signkey server.key -out server.crt</pre></div></li><li class="step"><p>
     Create the PEM file:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">cat</code> server.key server.crt &gt; server.pem</pre></div></li><li class="step"><p>
     Place the files <code class="filename">server.crt</code>,
     <code class="filename">server.csr</code>, <code class="filename">server.key</code>, and
     <code class="filename">server.pem</code> in the respective directories where the
     keys can be found. For Tomcat, for example, this directory is
     <code class="filename">/etc/tomcat/ssl/</code>.
    </p></li></ol></div></div></section><section class="sect1" id="sec-update-preparation-vms" data-id-title="Shut down virtual machine guests"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.10 </span><span class="title-name">Shut down virtual machine guests</span></span> <a title="Permalink" class="permalink" href="#sec-update-preparation-vms">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   If your machine serves as a VM Host Server for KVM<span class="phrase"> or
   Xen</span>, make sure to properly shut down all running VM Guests prior
   to the update. Otherwise you may not be able to access the guests after the
   update.
  </p></section><section class="sect1" id="sec-update-preparation-rmt" data-id-title="Adjust your SMT client setup"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.11 </span><span class="title-name">Adjust your SMT client setup</span></span> <a title="Permalink" class="permalink" href="#sec-update-preparation-rmt">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   If the machine you want to upgrade is registered as a client against an
   SMT server, take care of the following:
  </p><p>
   Check if the version of the <code class="command">clientSetup4SMT.sh</code> script on
   your host is up to date. <code class="command">clientSetup4SMT.sh</code> from older
   versions of SMT cannot manage SMT 12 clients. If you apply software
   patches regularly on your SMT server, you can always find the latest
   version of <code class="command">clientSetup4SMT.sh</code> at
   <code class="filename">&lt;SMT_HOSTNAME&gt;/repo/tools/clientSetup4SMT.sh</code>.
  </p><p>
   In case upgrading your machine to a higher version of <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> fails,
   deregister the machine from the SMT server as described in
   <a class="xref" href="#pro-sec-update-prep-smt-de-register" title="Deregistering a SUSE Linux Enterprise client from an SMT server">Procedure 3.1</a>.
   Afterward, restart the upgrade process.
  </p><div class="procedure" id="pro-sec-update-prep-smt-de-register" data-id-title="Deregistering a SUSE Linux Enterprise client from an SMT server"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 3.1: </span><span class="title-name">Deregistering a SUSE Linux Enterprise client from an SMT server </span></span><a title="Permalink" class="permalink" href="#pro-sec-update-prep-smt-de-register">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to the client machine.
    </p></li><li class="step"><p>
     The following step depends on the current operating system of the client:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       For SUSE Linux Enterprise 11, execute the following commands:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> suse_register -E
<code class="prompt user">&gt; </code><code class="command">sudo</code> rm -f /etc/SUSEConnect
<code class="prompt user">&gt; </code><code class="command">sudo</code> rm -rf /etc/zypp/credentials.d/*
<code class="prompt user">&gt; </code><code class="command">sudo</code> rm -rf /etc/zypp/repos.d/*
<code class="prompt user">&gt; </code><code class="command">sudo</code> rm -f /etc/zypp/services.d/*
<code class="prompt user">&gt; </code><code class="command">sudo</code> rm -f /var/cache/SuseRegister/*
<code class="prompt user">&gt; </code><code class="command">sudo</code> rm -f /etc/suseRegister*
<code class="prompt user">&gt; </code><code class="command">sudo</code> rm -f /var/cache/SuseRegister/lastzmdconfig.cache
<code class="prompt user">&gt; </code><code class="command">sudo</code> rm -f /etc/zmd/deviceid
<code class="prompt user">&gt; </code><code class="command">sudo</code> rm -f /etc/zmd/secret</pre></div></li><li class="listitem"><p>
       For SUSE Linux Enterprise 12, execute the following commands:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> SUSEConnect --de-register
<code class="prompt user">&gt; </code><code class="command">sudo</code> SUSEConnect --cleanup
<code class="prompt user">&gt; </code><code class="command">sudo</code> rm -f /etc/SUSEConnect
<code class="prompt user">&gt; </code><code class="command">sudo</code> rm -rf /etc/zypp/credentials.d/*
<code class="prompt user">&gt; </code><code class="command">sudo</code> rm -rf /etc/zypp/repos.d/*
<code class="prompt user">&gt; </code><code class="command">sudo</code> rm -f /etc/zypp/services.d/*</pre></div></li></ul></div></li><li class="step"><p>
     Log in to the SMT server.
    </p></li><li class="step"><p>
     Check if the client has successfully been deregistered by listing all
     client registrations:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> smt-list-registrations</pre></div></li><li class="step"><p>
     If the client's host name is still listed in the output of this command,
     get the client's <code class="literal">Unique ID</code> from the first column. (The
     client might be listed with multiple IDs.)
    </p></li><li class="step"><p>
     Delete the registration for this client:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> smt-delete-registration -g <em class="replaceable">UNIQUE_ID</em></pre></div></li><li class="step"><p>
     If the client is listed with multiple IDs, repeat the step above for each
     of its unique IDs.
    </p></li><li class="step"><p>
     Check if the client has now successfully been deregistered by re-running:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> smt-list-registrations</pre></div></li></ol></div></div></section><section class="sect1" id="sec-autoyast-profiles" data-id-title="Changes in AutoYaST profiles from SLE 12 to 15"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.12 </span><span class="title-name">Changes in AutoYaST profiles from SLE 12 to 15</span></span> <a title="Permalink" class="permalink" href="#sec-autoyast-profiles">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To learn how to migrate your AutoYaST profiles, see
   <span class="intraxref">Book “AutoYaST Guide”, </span>.
  </p></section><section class="sect1" id="sec-update-preparation-smt-to-rmt" data-id-title="Upgrading a Subscription Management Tool (SMT) server"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.13 </span><span class="title-name">Upgrading a Subscription Management Tool (SMT) server</span></span> <a title="Permalink" class="permalink" href="#sec-update-preparation-smt-to-rmt">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   A server running SMT requires a special upgrade procedure. Please refer to
   <span class="intraxref">Book “Repository Mirroring Tool Guide”, Chapter 3 “Migrate from SMT to RMT”</span> in the Repository Mirroring Tool Guide.
  </p></section><section class="sect1" id="sec-update-preparation-multiversion" data-id-title="Temporarily disabling kernel multiversion support"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.14 </span><span class="title-name">Temporarily disabling kernel multiversion support</span></span> <a title="Permalink" class="permalink" href="#sec-update-preparation-multiversion">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> allows installing multiple kernel versions by enabling the
   respective settings in <code class="filename">/etc/zypp/zypp.conf</code>. Support for
   this feature needs to be temporarily disabled to upgrade to a service pack.
   When the update has successfully finished, multiversion support can be
   re-enabled. To disable multiversion support, comment the respective lines in
   <code class="filename">/etc/zypp/zypp.conf</code>. The result should look similar to:
  </p><div class="verbatim-wrap"><pre class="screen">#multiversion = provides:multiversion(kernel)
#multiversion.kernels = latest,running</pre></div><p>
   To re-activate this feature after a successful update, remove the comment
   signs. For more information about multiversion support, refer to
   <span class="intraxref">Book “Administration Guide”, Chapter 27 “Installing multiple kernel versions”, Section 27.1 “Enabling and configuring multiversion support”</span>.
  </p></section><section class="sect1" id="sec-upgrade-prepare-boot-config" data-id-title="Adjust the resume boot parameter"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.15 </span><span class="title-name">Adjust the <code class="literal">resume</code> boot parameter</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-prepare-boot-config">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   On systems that have been installed with <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> 12 or older, the default  kernel command
   line in <code class="filename">/etc/default/grub</code> may contain a <em class="parameter">resume</em>
   parameter using a device node name such as <code class="filename">/dev/sda1</code> to refer to the
   hibernation ('suspend-to-disk') device. As device node names are not persistent and may
   change between reboots, it is strongly recommended to fix this, otherwise the upgraded system
   may hang on reboot.
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Find the hibernation device:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">grep resume /etc/default/grub</code>
GRUB_CMDLINE_LINUX_DEFAULT="resume=/dev/sda1 splash=silent quiet showopts"</pre></div><p>
     The hibernation device is <code class="filename">/dev/sda1</code>. If the command returns nothing,
     hibernation is not configured.
    </p></li><li class="step"><p>
     Get the UUID for <code class="filename"><em class="replaceable">/dev/sda1</em></code>:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">blkid /dev/vda1</code> 
/dev/vda1: UUID="a1d1f2e0-b0ee-4be2-83d5-78a98c585827" TYPE="swap" PARTUUID="000134b5-01"</pre></div><p>
     The UUID for <code class="filename">/dev/sda1</code> is
     <code class="literal">a1d1f2e0-b0ee-4be2-83d5-78a98c585827</code>.
    </p></li><li class="step"><p>
     Edit <code class="filename">/etc/default/grub</code> and adjust the <em class="parameter">resume</em>
     parameter. Replace <code class="literal"><em class="replaceable">/dev/sda1</em></code> with
     <code class="literal"><em class="replaceable">UUID=a1d1f2e0-b0ee-4be2-83d5-78a98c585827</em></code>. The
     result will look like this:
    </p><div class="verbatim-wrap"><pre class="screen">GRUB_CMDLINE_LINUX_DEFAULT="resume=UUID=a1d1f2e0-b0ee-4be2-83d5-78a98c585827 splash=silent quiet showopts"</pre></div></li><li class="step"><p>
     Update the configuration of the grub boot manger:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">grub2-mkconfig -o /boot/grub2/grub.cfg</code></pre></div></li></ol></div></div><p>
   If the system does not use hibernation, you can simply remove the
   <em class="parameter">resume</em> parameter and update the boot configuration.
  </p></section><section class="sect1" id="sec-update-preparation-zseries" data-id-title="Upgrading on IBM Z"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.16 </span><span class="title-name">Upgrading on IBM Z</span></span> <a title="Permalink" class="permalink" href="#sec-update-preparation-zseries">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Upgrading a SUSE Linux Enterprise installation on IBM Z requires the
   <code class="command">Upgrade=1</code> kernel parameter, for example via the parmfile.
   See <span class="intraxref">Book “Deployment Guide”, Chapter 5 “Installation on IBM Z and LinuxONE”, Section 5.5 “The parmfile—automating the system configuration”</span>.
  </p></section><section class="sect1" id="sec-update-preparation-ppc" data-id-title="IBM POWER: Starting an X server"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.17 </span><span class="title-name">IBM POWER: Starting an X server</span></span> <a title="Permalink" class="permalink" href="#sec-update-preparation-ppc">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_preparation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   On SLES 12 for IBM POWER the display manager is configured not to start a
   local X server by default. This setting was reversed on SLES 12
   SP1—the display manager now starts an X server.
  </p><p>
   To avoid problems during upgrade, the <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> setting is not changed
   automatically. If you want the display manager to start an X server after
   the upgrade, change the setting of
   <code class="envar">DISPLAYMANAGER_STARTS_XSERVER</code> in
   <code class="filename">/etc/sysconfig/displaymanager</code> as follows:
  </p><div class="verbatim-wrap"><pre class="screen">DISPLAYMANAGER_STARTS_XSERVER="yes"</pre></div></section></section><section class="chapter" id="cha-upgrade-offline" data-id-title="Upgrading offline"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">4 </span><span class="title-name">Upgrading offline</span></span> <a title="Permalink" class="permalink" href="#cha-upgrade-offline">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
    This chapter describes how to upgrade an existing SUSE Linux Enterprise installation using
    YaST which is booted from an installation medium. The YaST installer
    can, for example, be started from a DVD, over the network, or from the hard
    disk the system resides on.
   </p></div></div></div></div><section class="sect1" id="sec-upgrade-offline-conceptual-overview" data-id-title="Conceptual overview"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4.1 </span><span class="title-name">Conceptual overview</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-offline-conceptual-overview">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Before upgrading your system, read <a class="xref" href="#cha-update-preparation" title="Chapter 3. Preparing the upgrade">Chapter 3, <em>Preparing the upgrade</em></a>
   first.
  </p><p>
   To upgrade your system, boot from an installation source, as you would
   do for a fresh installation. However, when the boot
   screen appears, you need to select <span class="guimenu">Upgrade</span> (instead of
   <span class="guimenu">Installation</span>). The upgrade can be started from:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="formalpara-title">Removable media. </span>
      This includes media such as CDs, DVDs or USB mass storage devices.
      For more information, see
      <a class="xref" href="#sec-upgrade-offline-dvd" title="4.2. Starting the upgrade from an installation medium">Section 4.2, “Starting the upgrade from an installation medium”</a>.
     </p></li><li class="listitem"><p><span class="formalpara-title">Network resource. </span>
      You can either boot from the local medium
      and then select the respective network installation type, or boot via PXE.
      For more information, see
      <a class="xref" href="#sec-upgrade-offline-network" title="4.3. Starting the upgrade from a network source">Section 4.3, “Starting the upgrade from a network source”</a>.
     </p></li></ul></div></section><section class="sect1" id="sec-upgrade-offline-dvd" data-id-title="Starting the upgrade from an installation medium"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4.2 </span><span class="title-name">Starting the upgrade from an installation medium</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-offline-dvd">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The procedure below describes booting from a DVD, but you can
   also use another local installation medium like an ISO image on a USB mass
   storage device. The medium and boot method to select depends on the system
   architecture and on whether the machine has a traditional BIOS or UEFI.
  </p><div class="procedure" id="pro-update-sle12-offline-dvd" data-id-title="Manually upgrading to SUSE Linux Enterprise Server 15 SP4"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 4.1: </span><span class="title-name">Manually upgrading to <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> <span class="productnumber"><span class="phrase">15 SP4</span></span> </span></span><a title="Permalink" class="permalink" href="#pro-update-sle12-offline-dvd">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Select and prepare a boot medium, see <span class="intraxref">Book “Deployment Guide”</span>.
    </p></li><li class="step"><p>
     Insert the Unified Installer DVD for <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> <span class="productnumber"><span class="phrase">15 SP4</span></span> and boot your
     machine. A <span class="guimenu">Welcome</span> screen is displayed, followed by
     the boot screen.
    </p></li><li class="step"><p><span class="step-optional">(Optional)</span> 
     To force the installer to only install packages from the
     DVD and not from network sources, add the boot option
     <code class="option">media_upgrade=1</code>.
    </p></li><li class="step"><p>
     Start up the system by selecting <span class="emphasis"><em>Upgrade</em></span>
     in the boot menu.
    </p></li><li class="step"><p>
     Proceed with the upgrade process as described in
     <a class="xref" href="#sec-upgrade-offline-yast" title="4.4. Upgrading SUSE Linux Enterprise">Section 4.4, “Upgrading SUSE Linux Enterprise”</a>.
    </p></li></ol></div></div></section><section class="sect1" id="sec-upgrade-offline-network" data-id-title="Starting the upgrade from a network source"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4.3 </span><span class="title-name">Starting the upgrade from a network source</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-offline-network">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To start an upgrade from a network installation source, make
   sure that the following requirements are met:
  </p><div class="variablelist"><div class="title-container"><div class="variablelist-title-wrap"><div class="variablelist-title"><span class="title-number-name"><span class="title-name">Requirements for upgrading from a network installation source </span></span><a title="Permalink" class="permalink" href="#id-1.5.6.5.3">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div><dl class="variablelist"><dt id="id-1.5.6.5.3.2"><span class="term">Network installation source</span></dt><dd><p>
      A network installation source is set up according to
      <span class="intraxref">Book “Deployment Guide”, Chapter 16 “Setting up a network installation source”</span>.
     </p></dd><dt id="id-1.5.6.5.3.3"><span class="term">Network connection and network services</span></dt><dd><p>
      Both the installation server and the target machine must have a
      functioning network connection. Required network services are:
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Domain Name Service</p></li><li class="listitem"><p>DHCP (only needed for booting via PXE, IP can be set manually during setup)</p></li><li class="listitem"><p>OpenSLP (optional)</p></li></ul></div></dd><dt id="id-1.5.6.5.3.4"><span class="term">Boot medium</span></dt><dd><p>
      A bootable SUSE Linux Enterprise DVD, ISO image or functioning PXE setup. For
      details about booting via PXE, see <span class="intraxref">Book “Deployment Guide”, Chapter 17 “Preparing network boot environment”, Section 17.4 “Preparing the target system for PXE boot”</span>. Refer to <span class="intraxref">Book “Deployment Guide”, Chapter 11 “Remote installation”</span> for in-depth information on
      starting the upgrade from a remote server.
     </p></dd></dl></div><section class="sect2" id="sec-update-sle-manual-network-boot-from-dvd" data-id-title="Manually upgrading via network installation source—booting from DVD"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">4.3.1 </span><span class="title-name">Manually upgrading via network installation source—booting from DVD</span></span> <a title="Permalink" class="permalink" href="#sec-update-sle-manual-network-boot-from-dvd">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    This procedure describes booting from a DVD as an example, but you can
    also use another local installation medium like an ISO image on a USB mass
    storage device. The way to select the boot method and to start up the
    system from the medium depends on the system architecture and on whether
    the machine has a traditional BIOS or UEFI. For details, see the links
    below.
   </p><div class="procedure" id="pro-update-sle-manual-network-boot-from-dvd"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Insert the Unified Installer DVD for <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> <span class="productnumber"><span class="phrase">15 SP4</span></span> and boot your
      machine. A <span class="guimenu">Welcome</span> screen is displayed, followed by
      the boot screen.
     </p></li><li class="step"><p>
      Select the type of network installation source you want to use (FTP,
      HTTP, NFS, SMB, or SLP). Usually you get this choice by pressing
      <span class="keycap">F4</span>, but in case your machine is equipped with UEFI
      instead of a traditional BIOS, you may need to manually adjust boot
      parameters. For details, see <span class="intraxref">Book “Deployment Guide”, Chapter 7 “Boot parameters”</span> and
      <span class="intraxref">Book “Deployment Guide”, Chapter 8 “Installation steps”</span>.
     </p></li><li class="step"><p>
      Proceed with the upgrade process as described in
      <a class="xref" href="#sec-upgrade-offline-yast" title="4.4. Upgrading SUSE Linux Enterprise">Section 4.4, “Upgrading SUSE Linux Enterprise”</a>.
     </p></li></ol></div></div></section><section class="sect2" id="sec-update-sle-manual-network-pxe-boot" data-id-title="Manually upgrading via network installation source—booting via PXE"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">4.3.2 </span><span class="title-name">Manually upgrading via network installation source—booting via PXE</span></span> <a title="Permalink" class="permalink" href="#sec-update-sle-manual-network-pxe-boot">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    To perform an upgrade from a network installation source using PXE boot,
    proceed as follows:
   </p><div class="procedure" id="pro-update-sle-manual-network-pxe-boot"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Adjust the setup of your DHCP server to provide the address information
      needed for booting via PXE. For details, see
      <span class="intraxref">Book “Deployment Guide”, Chapter 17 “Preparing network boot environment”, Section 17.1.1 “Dynamic address assignment”</span>.
     </p></li><li class="step"><p>
      Set up a TFTP server to hold the boot image needed for booting via PXE.
      Use the Installer DVD for <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> <span class="productnumber"><span class="phrase">15 SP4</span></span> for this or
      follow the instructions in <span class="intraxref">Book “Deployment Guide”, Chapter 17 “Preparing network boot environment”, Section 17.2 “Setting up a TFTP server”</span>.
     </p></li><li class="step"><p>
      Prepare PXE Boot and Wake-on-LAN on the target machine.
     </p></li><li class="step"><p>
      Initiate the boot of the target system and use VNC to remotely connect to
      the installation routine running on this machine. For more information,
      see <span class="intraxref">Book “Deployment Guide”, Chapter 11 “Remote installation”, Section 11.3 “Monitoring installation via VNC”</span>.
     </p></li><li class="step"><p>
      Proceed with the upgrade process as described in
      <a class="xref" href="#sec-upgrade-offline-yast" title="4.4. Upgrading SUSE Linux Enterprise">Section 4.4, “Upgrading SUSE Linux Enterprise”</a>.
     </p></li></ol></div></div></section></section><section class="sect1" id="sec-upgrade-offline-yast" data-id-title="Upgrading SUSE Linux Enterprise"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4.4 </span><span class="title-name">Upgrading SUSE Linux Enterprise</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-offline-yast">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   
  </p><p>
   Before you upgrade your system, read <a class="xref" href="#cha-update-preparation" title="Chapter 3. Preparing the upgrade">Chapter 3, <em>Preparing the upgrade</em></a>
   first. To perform an automated migration, proceed as follows:
  </p><div class="procedure"><div class="procedure-contents"><div id="id-1.5.6.6.4.1" data-id-title="SUSE Customer Center and Internet connection" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: SUSE Customer Center and Internet connection</div><p>
     If the system you want to upgrade is registered with the SUSE Customer Center, make sure
     to have an Internet connection during the following procedure.
    </p></div><ol class="procedure" type="1"><li class="step"><p>
     After you have booted (either from an installation medium or the network),
     select the <span class="guimenu">Upgrade</span> entry on the boot screen.
    </p><div id="id-1.5.6.6.4.2.2" data-id-title="Wrong choice may lead to data loss" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: Wrong choice may lead to data loss</div><p>
      Make sure you select <span class="guimenu">Upgrade</span> at this point. If you
      select <span class="guimenu">Installation</span> by mistake, your data partition
      will be overwritten with a fresh installation.
     </p></div><p>
     YaST starts the installation system.
    </p></li><li class="step"><p>
     On the <span class="guimenu">Welcome</span> screen, choose
     <span class="guimenu">Language</span> and <span class="guimenu">Keyboard</span>.
     Proceed with <span class="guimenu">Next</span>.
    </p><p>
     YaST checks your partitions for already installed SUSE Linux Enterprise systems.
    </p></li><li class="step"><p>
     On the <span class="guimenu">Select for Upgrade</span> screen, select the partition
     to upgrade and click <span class="guimenu">Next</span>.
    </p></li><li class="step"><p>
     YaST mounts the selected partition and displays the license agreement
     for the upgraded product. To continue, accept the license.
    </p></li><li class="step"><p>
     On the <span class="guimenu">Previously Used Repositories</span> screen, adjust the
     status of the  repositories. By default all repositories are removed. If
     you have not added any custom repositories, do not change the settings.
     The packages for the upgrade will be installed from DVD, and you can
     optionally enable the default online repositories in the next step.
    </p><p>
     If you have custom repositories, you have two choices:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       Leave the repository in state Removed. Software that was installed from
       this repository will be removed during the upgrade. Use this method if
       no version of the repository that matches the new release is available.
      </p></li><li class="listitem"><p>
       Update and enable the repository if it matches the new release. Change
       its URL by clicking the repository in the list, and then click
       <span class="guimenu">Change</span>. Enable the repository by checking
       <span class="guimenu">Toggle Status</span> until it is set to
       <span class="guimenu">Enable</span>.
      </p></li></ul></div><p>
     Do not keep repositories from the previous release, as the system may be
     unstable or not work at all. Then proceed by clicking
     <span class="guimenu">Next</span>.
    </p></li><li class="step"><p>
     The next step depends on whether the upgraded system is registered with the
     SUSE Customer Center or not.
    </p><ol type="a" class="substeps"><li class="step"><p>
       If the system is not registered with the SUSE Customer Center, YaST displays a pop-up
       message suggesting using a second installation medium, the SLE-15-SP4-Full-<em class="replaceable">ARCH</em>-GM-media1.iso
       image.
      </p><p>
       If you do not have that medium, the system cannot be upgraded without
       registration.
      </p></li><li class="step"><p>
       If the system is registered with the SUSE Customer Center, YaST will show possible
       migration targets and a summary.
      </p><p>
       Select one migration target from the list and proceed with
       <span class="guimenu">Next</span>.
      </p></li></ol></li><li class="step"><p>
     In the next dialog you can optionally add an additional installation medium.
     If you have additional installation media, activate the
     <span class="guimenu">I would like to install an additional Add On Product</span>
     option and specify the media type.
    </p></li><li class="step"><p>
     Review the <span class="guimenu">Installation Settings</span> for the upgrade.
    </p></li><li class="step"><p>
     If all settings are according to your wishes, start the installation and
     removal procedure by clicking <span class="guimenu">Update</span>.
    </p><div id="id-1.5.6.6.4.10.2" data-id-title="Upgrade failure on SMT clients" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Upgrade failure on SMT clients</div><p>
      If the machine to upgrade is an SMT client, and the upgrade fails,
      see <a class="xref" href="#pro-sec-update-prep-smt-de-register" title="Deregistering a SUSE Linux Enterprise client from an SMT server">Procedure 3.1, “Deregistering a SUSE Linux Enterprise client from an SMT server”</a> and restart the
      upgrade procedure afterward.
     </p></div></li><li class="step"><p>
     After the upgrade process has finished successfully, perform post-upgrade
     checks as described in <a class="xref" href="#sec-upgrade-postupgrade-checks" title="6.1. Post-upgrade checks">Section 6.1, “Post-upgrade checks”</a>.
    </p></li></ol></div></div></section><section class="sect1" id="sec-upgrade-offline-automated" data-id-title="Upgrading with AutoYaST"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4.5 </span><span class="title-name">Upgrading with AutoYaST</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-offline-automated">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The upgrade process can be executed automatically. For details, see
   <span class="intraxref">Book “AutoYaST Guide”, Chapter 4 “Configuration and installation options”, Section 4.10 “Upgrade”</span>.
  </p></section><section class="sect1" id="sec-upgrade-offline-manager" data-id-title="Upgrading with SUSE Manager"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4.6 </span><span class="title-name">Upgrading with SUSE Manager</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-offline-manager">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   SUSE Manager is a server solution for providing updates, patches, and
   security fixes for SUSE Linux Enterprise clients. It comes with a set of tools and a
   Web-based user interface for management tasks. See <a class="link" href="https://www.suse.com/products/suse-manager/" target="_blank">https://www.suse.com/products/suse-manager/</a> for more
   information about SUSE Manager.
  </p><p>
   You can perform a system upgrade using SUSE Manager. The AutoYaST technology allows
   upgrades from one major version to the next.
  </p><p>
  If your machine is managed by SUSE Manager, update it as described in the
  SUSE Manager documentation. The <em class="citetitle">Client Migration</em>
  procedure is described in the <em class="citetitle">SUSE Manager Upgrade Guide</em>,
  available at <a class="link" href="https://documentation.suse.com/suma/" target="_blank">https://documentation.suse.com/suma/</a>.
 </p></section><section class="sect1" id="sec-update-reg-status-after-rollback" data-id-title="Updating registration status after rollback"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4.7 </span><span class="title-name">Updating registration status after rollback</span></span> <a title="Permalink" class="permalink" href="#sec-update-reg-status-after-rollback">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   When performing a service pack upgrade, it is necessary to change the
   configuration on the registration server to provide access to the new
   repositories. If the upgrade process is interrupted or reverted (via
   restoring from a backup or snapshot), the information on the registration
   server is inconsistent with the status of the system. This may lead to you
   being prevented from accessing update repositories or to wrong repositories
   being used on the client.
  </p><p>
   When a rollback is done via Snapper, the system notifies the
   registration server to ensure access to the correct repositories is
   set up during the boot process. If the system was restored with
   another method, or the communication with the registration server
   fails, trigger the rollback on the client manually. An example for
   manually triggering a rollback can be that the server was not
   accessible because of network issues. To do a rollback, execute:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">snapper</code> rollback</pre></div><p>
   We suggest always checking that the correct repositories are set up on the
   system, especially after refreshing the service using:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">zypper</code> ref -s</pre></div><p>
   This functionality is available in the
   <span class="package">rollback-helper</span>
   package.
  </p></section><section class="sect1" id="sec-update-registersystem" data-id-title="Registering your system"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4.8 </span><span class="title-name">Registering your system</span></span> <a title="Permalink" class="permalink" href="#sec-update-registersystem">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   If the system was not registered before running the upgrade you can
   register your system at any time using the <span class="guimenu">Product
   Registration</span> module in YaST.
  </p><p>
   Registering your systems has these advantages:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Eligibility for support
    </p></li><li class="listitem"><p>
     Availability of security updates and bug fixes
    </p></li><li class="listitem"><p>
     Access to SUSE Customer Center
    </p></li></ul></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Start YaST and select <span class="guimenu">Software</span> › <span class="guimenu">Product Registration</span> to open the
     <span class="guimenu">Registration</span> dialog.
    </p></li><li class="step"><p>
     Provide the <span class="guimenu">E-mail</span> address associated with the SUSE
     account you or your organization uses to manage subscriptions. In case you
     do not have a SUSE account yet, go to the SUSE Customer Center home page
     (<a class="link" href="https://scc.suse.com/" target="_blank">https://scc.suse.com/</a>) to create one.
    </p></li><li class="step"><p>
     Enter the <span class="guimenu">Registration Code</span> you received with your copy
     of <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>.
    </p></li><li class="step"><p>
      If one or more local registration servers are available on your network,
      you can choose one of them from a list.
     </p></li><li class="step" id="st-y2-register-final"><p>
     To start the registration, proceed with <span class="guimenu">Next</span>.
    </p><p>
     After successful registration, YaST lists extensions, add-ons, and
     modules that are available for your system. To select and install them,
     proceed with <span class="intraxref">Book “Deployment Guide”, Chapter 9 “Registering SUSE Linux Enterprise and managing modules/extensions”, Section 9.4 “Managing modules and extensions in a running system”</span>.
    </p></li></ol></div></div></section></section><section class="chapter" id="cha-upgrade-online" data-id-title="Upgrading online"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">5 </span><span class="title-name">Upgrading online</span></span> <a title="Permalink" class="permalink" href="#cha-upgrade-online">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_online.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
    SUSE offers an intuitive graphical and a simple command-line tool to
    upgrade a running system to a new service pack. Both provide support for
    <span class="quote">“<span class="quote">rollback</span>”</span> of service packs and more. This chapter provides
    step-by-step instructions on how to perform a service pack upgrade using
    these tools.
   </p></div></div></div></div><section class="sect1" id="sec-upgrade-online-conceptual-overview" data-id-title="Conceptual overview"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.1 </span><span class="title-name">Conceptual overview</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-online-conceptual-overview">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_online.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   SUSE releases new service packs for the SUSE Linux Enterprise family at regular intervals.
   To make it easy for customers to migrate to a new service pack and minimize
   downtime, SUSE supports migrating online while the system is running.
  </p><p>
   Starting with SLE 12, YaST Wagon has been replaced by YaST
   migration (GUI) and Zypper migration (command line). This has the following
   advantages:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     The system is always in a defined state until the first RPM is updated.
    </p></li><li class="listitem"><p>
     Canceling is possible until the first RPM is updated.
    </p></li><li class="listitem"><p>
     Simple recovery if there is an error.
    </p></li><li class="listitem"><p>
     It is possible to do a <span class="quote">“<span class="quote">rollback</span>”</span> via system tools—no
     backup or restore needed.
    </p></li><li class="listitem"><p>
     Use of all active repositories.
    </p></li><li class="listitem"><p>
     The ability to skip a service pack
    </p></li></ul></div><div id="id-1.5.7.3.5" data-id-title="Online migration not supported for major releases" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: Online migration not supported for major releases</div><p>
    The online migration is <span class="emphasis"><em>only</em></span> supported for migrating
    between service packs. Online migration is <span class="emphasis"><em>not
    supported</em></span> for upgrading to new major releases. For details, see
    <a class="xref" href="#cha-upgrade-paths" title="Chapter 1. Upgrade paths and methods">Chapter 1, <em>Upgrade paths and methods</em></a>.
   </p><p>
    Use the offline migration to upgrade to a new major release. For details,
    see <a class="xref" href="#cha-upgrade-offline" title="Chapter 4. Upgrading offline">Chapter 4, <em>Upgrading offline</em></a>.
   </p></div><div id="id-1.5.7.3.6" data-id-title="Upgrading SUSE Manager clients" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Upgrading SUSE Manager clients</div><p>
    If the system to upgrade is a SUSE Manager client, it cannot be upgraded by
    YaST online migration or <code class="command">zypper migration</code>. Use the
    <em class="citetitle">Client Migration</em> procedure instead. It is described
    in the <a class="link" href="https://documentation.suse.com/suma/" target="_blank">
    <em class="citetitle">SUSE Manager Upgrade Guide</em></a>.
   </p></div></section><section class="sect1" id="sec-upgrade-online-workflow" data-id-title="Service pack migration workflow"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.2 </span><span class="title-name">Service pack migration workflow</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-online-workflow">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_online.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   A service pack migration can be executed by either YaST,
   <code class="command">zypper</code>, or AutoYaST.
  </p><p>
   Before you can start a service pack migration, your system must be
   registered at the SUSE Customer Center or a local RMT server. SUSE Manager can also be
   used.
  </p><p>
   Regardless of the method, a service pack migration consists of the following
   steps:
  </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
     Find possible migration targets on your registered systems.
    </p></li><li class="listitem"><p>
     Select one migration target.
    </p></li><li class="listitem"><p>
     Request and enable new repositories.
    </p></li><li class="listitem"><p>
     Run the migration.
    </p></li></ol></div><p>
   The list of migration targets depends on the products you have installed and
   registered. If you have an extension installed for which the new SP is not
   yet available, it could be that no migration target is offered to you.
  </p><p>
   The list of migration targets available for your host will always be
   retrieved from the SUSE Customer Center and depend on products or extensions installed.
  </p></section><section class="sect1" id="sec-upgrade-online-cancel" data-id-title="Canceling service pack migration"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.3 </span><span class="title-name">Canceling service pack migration</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-online-cancel">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_online.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   A service pack migration can only be canceled at specific stages during the
   migration process:
  </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
     Until the package upgrade starts, there are only minimal changes on the
     system, such as changes to services and repositories. Restore
     <code class="filename">/etc/zypp/repos.d/*</code> to revert to the previous state.
    </p></li><li class="listitem"><p>
     After the package upgrade starts, you can revert to the previous state by
     using a Snapper snapshot (see <span class="intraxref">Book “Administration Guide”, Chapter 10 “System recovery and snapshot management with Snapper”</span>).
    </p></li><li class="listitem"><p>
     After the migration target was selected, SUSE Customer Center changes the repository
     data. To revert this state manually, use <code class="command">SUSEConnect</code>
     <code class="option">--rollback</code>.
    </p></li></ol></div></section><section class="sect1" id="sec-upgrade-online-yast" data-id-title="Upgrading with the online migration tool (YaST)"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.4 </span><span class="title-name">Upgrading with the online migration tool (YaST)</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-online-yast">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_online.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To perform a service pack migration with YaST, use the <span class="guimenu">Online
   Migration</span> tool. By default, YaST does not install any packages
   from a third-party repository. If a package was installed from a third-party
   repository, YaST prevents packages from being replaced with the same
   package coming from SUSE.
  </p><div id="id-1.5.7.6.3" data-id-title="Reduce installation size" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Reduce installation size</div><p>
    When performing the Service Pack migration, YaST will install all recommended
    packages. Especially in the case of custom minimal installations, this may
    increase the installation size of the system significantly.
   </p><p>
    To change this default behavior and allow only required packages,
    adjust the <code class="option">solver.onlyRequires</code> option in
    <code class="filename">/etc/zypp/zypp.conf</code>.
   </p><div class="verbatim-wrap"><pre class="screen">solver.onlyRequires = true</pre></div><p>
    Additionally, edit the file <code class="filename">/etc/zypp/zypper.conf</code> and
    change the <code class="option">installRecommends</code> option.
   </p><div class="verbatim-wrap"><pre class="screen">installRecommends=false</pre></div><p>
    This changes the behavior of all package operations, such as the
    installation of patches or new packages. To change the behavior of Zypper
    for a single invocation, use the parameter <code class="option">--no-recommends</code>.
  </p></div><p>
   To start the service pack migration, do the following:
  </p><div class="procedure" id="pro-upgrade-online-yast"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Deactivate all unused extensions on your registration server to avoid
     future dependency conflicts. If you forget an extension, YaST will later
     detect unused extension repositories and deactivate them.
    </p></li><li class="step"><p>
     If you are logged in to a GNOME session running on the machine you are
     going to update, switch to a text console. Running the update from within
     a GNOME session is not recommended. Note that this does not apply when
     being logged in from a remote machine (unless you are running a VNC
     session with GNOME).
    </p></li><li class="step"><p>
     Run YaST online update to get the latest package updates for your
     system.
    </p></li><li class="step"><p>
     Install the package <span class="package">yast2-migration</span> and its
     dependencies (in YaST under <span class="guimenu">Software</span> › <span class="guimenu">Software Management</span>).
    </p></li><li class="step"><p>
     Restart YaST, otherwise the newly installed module will not be shown in
     the control center.
    </p></li><li class="step"><p>
     In YaST, choose <span class="guimenu">Online Migration</span> (depending on the
     version of <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> that you are upgrading from, this module is
     categorized under either <span class="guimenu">System</span> or
     <span class="guimenu">Software</span>). YaST will show possible migration targets
     and a summary. If more than one migration target is available for your
     system, select one from the list.
    </p></li><li class="step"><p>
     Select one migration target from the list and proceed with
     <span class="guimenu">Next</span>.
    </p></li><li class="step"><p>
     If the migration tool offers update repositories, it is recommended
     to proceed with <span class="guimenu">Yes</span>.
    </p></li><li class="step"><p>
     
     If the online migration tool finds obsolete repositories from DVD or a
     local server, it is highly recommended to disable them. Obsolete
     repositories are for a previous service pack. Old repositories from SUSE Customer Center
     or RMT are removed automatically.
    </p><p>
     If the registration server does not offer migrations for a module or
     extension, its repository configuration will remain unchanged. This usually
     happens with 3rd party repositories such as the <span class="guimenu">NVIDIA Compute
      Module</span> that are not specific to a product version or service
     pack. If necessary, you can manually check the repository configuration
     after the migration.
    </p></li><li class="step"><p>
     Check the summary and proceed with the migration by clicking
     <span class="guimenu">Next</span>. Confirm with <span class="guimenu">Start Update</span>.
    </p></li><li class="step"><p>
     After the successful migration restart your system.
    </p></li></ol></div></div></section><section class="sect1" id="sec-upgrade-online-zypper" data-id-title="Upgrading with Zypper"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.5 </span><span class="title-name">Upgrading with Zypper</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-online-zypper">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_online.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To perform a service pack migration with Zypper, use the command line tool
   <code class="command">zypper</code> <code class="option">migration</code> from the package
   <span class="package">zypper-migration-plugin</span>.
  </p><div id="id-1.5.7.7.3" data-id-title="Reduce installation size" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Reduce installation size</div><p>
    When performing the Service Pack migration, YaST will install all recommended
    packages. Especially in the case of custom minimal installations, this may
    increase the installation size of the system significantly.
   </p><p>
    To change this default behavior and allow only required packages,
    adjust the <code class="option">solver.onlyRequires</code> option in
    <code class="filename">/etc/zypp/zypp.conf</code>.
   </p><div class="verbatim-wrap"><pre class="screen">solver.onlyRequires = true</pre></div><p>
    Additionally, edit the file <code class="filename">/etc/zypp/zypper.conf</code> and
    change the <code class="option">installRecommends</code> option.
   </p><div class="verbatim-wrap"><pre class="screen">installRecommends=false</pre></div><p>
    This changes the behavior of all package operations, such as the
    installation of patches or new packages. To change the behavior of Zypper
    for a single invocation, use the parameter <code class="option">--no-recommends</code>.
  </p></div><p>
   To start the service pack migration, do the following:
  </p><div class="procedure" id="pro-upgrade-online-zypper"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     If you are logged in to a GNOME session running on the machine you are
     going to update, switch to a text console. Running the update from within
     a GNOME session is not recommended. Note that this does not apply when
     being logged in from a remote machine (unless you are running a VNC
     session with GNOME).
    </p></li><li class="step"><p>
     Register your SUSE Linux Enterprise machine if you have not done so:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">SUSEConnect</code> --regcode <em class="replaceable">YOUR_REGISTRATION_CODE</em></pre></div></li><li class="step"><p>
     Start the migration:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">zypper migration</code></pre></div><p>
     Some notes about the migration process:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       If more than one migration target is available for your system, Zypper
       allows you to select one SP from the list. This is the same as skipping
       one or more SPs. Keep in mind, online migration for base products
       (SLES, SLED) remains available only between the SPs of a major
       version.
      </p></li><li class="listitem"><p>
       By default, Zypper uses the option
       <code class="option">--no-allow-vendor-change</code> which is passed to
       <code class="command">zypper</code> <code class="option">dup</code>. If a package was
       installed from a third-party repository, this option prevents packages
       from being replaced with the same package coming from SUSE.
      </p></li><li class="listitem"><p>
       
       If Zypper finds obsolete repositories coming from DVD or a local server,
       it is highly recommended to disable them. Old SUSE Customer Center or RMT
       repositories are removed automatically.
      </p></li></ul></div></li><li class="step"><p>
     Review all the changes, especially the packages that are going to be
     removed. Proceed by typing <code class="literal">y</code> (the exact number of
     packages to upgrade can vary on your system):
    </p><div class="verbatim-wrap"><pre class="screen">266 packages to upgrade, 54 to downgrade, 17 new, 8 to reinstall, 5 to remove, 1 to change arch.
Overall download size: 285.1 MiB. Already cached: 0 B  After the operation, additional 139.8 MiB will be used.
Continue? [y/n/? shows all options] (y):</pre></div><p>
     Use the <span class="keycap">Shift</span><span class="key-connector">–</span><span class="keycap">Page ↑</span> or <span class="keycap">Shift</span><span class="key-connector">–</span><span class="keycap">Page ↓</span> keys to scroll in your shell.
    </p></li><li class="step"><p>
     After successful migration restart your system.
    </p></li></ol></div></div></section><section class="sect1" id="sec-upgrade-online-zypper-plain" data-id-title="Upgrading with plain Zypper"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.6 </span><span class="title-name">Upgrading with plain Zypper</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-online-zypper-plain">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_online.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   If your system is not registered because you do not have access to the
   Internet or a registration server, migrating to a new service pack is not
   possible with YaST Migration or <code class="command">zypper migration</code>. In
   this case you can still migrate to a new service pack with plain Zypper and
   some manual interactions.
  </p><div id="id-1.5.7.8.3" data-id-title="For unregistered systems only" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: For unregistered systems only</div><p>
    This migration path to a new service pack is <span class="emphasis"><em>only</em></span>
    supported for unregistered systems that do not have access to the Internet
    or a registration server. This may, for example, be the case for machines
    in a specially protected network. If you have a registered system, use
    YaST or Zypper migration.
   </p></div><div id="id-1.5.7.8.4" data-id-title="Installation sources" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Installation sources</div><p>
    This migration path requires that the system you are going to migrate has
    access to the installation sources. For example, this can be done by setting up
    an RMT server or an SLP server.
   </p><p>
    It is also required that the system has access to an up-to-date update
    repository for the installed product version.
   </p></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     If you are logged in to a graphical session running on the machine you are
     going to migrate, log out of that session and switch to a text console.
     Running the update from within a graphical session is not recommended.
     Note that this does not apply when being logged in from a remote machine
     (unless you are running a VNC session with X).
    </p></li><li class="step"><p>
     Update the package management tools with the old SUSE Linux Enterprise repositories:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">zypper</code> patch --updatestack-only</pre></div></li><li class="step"><p>
     Get a list of packages that currently do not have a repository assigned to
     them (orphaned packages). These packages will not be migrated and there is
     no guarantee that they will work after the migration (because other
     packages they rely on may have changed in such a way that they are no
     longer compatible). To get the list, run:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> zypper packages --orphaned</pre></div><p>
     Carefully review the list and remove all orphaned packages that are no
     longer needed. Make a note of all remaining orphaned packages, you will
     need it later for comparison.
    </p></li><li class="step"><p>
     Get a list of all repositories that the system is currently subscribed to
     by running:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> zypper repos -u</pre></div><p>
     Update each repository URL so that its product version number is
     <code class="literal">15-SP4</code>. For example, if the URL of
     a repository is
    </p><div class="verbatim-wrap"><pre class="screen">http://rmt.example.com/repo/SUSE/Products/SLE-15-SP2-Product-SLES/x86_64/product/</pre></div><p>
     change it to
    </p><div class="verbatim-wrap"><pre class="screen">http://rmt.example.com/repo/SUSE/Products/SLE-15-SP3-Product-SLES/x86_64/product/</pre></div><p>
     This needs to be done with all repositories that are enabled. You may want
     to consider also doing this for repositories that are currently disabled,
     to avoid having wrong installation sources in the system when activating
     them at a later point in time.
    </p><p>
     To change the repository URLs you have the following options:
    </p><ol type="a" class="substeps"><li class="step"><p>
       Using <span class="guimenu">YaST</span> › <span class="guimenu">Software</span> › <span class="guimenu">Software Repositories</span>. Select a
       repository and click <span class="guimenu">Edit</span> to make the required
       change. Repeat this for all repositories.
      </p></li><li class="step"><p>
       Using Zypper. Remove the old repository by running
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> zypper removerepo <em class="replaceable">OLD_REPO_ID</em></pre></div><p>
       Then add the corresponding new repository by running
      </p><div class="verbatim-wrap"><pre class="screen"> <code class="prompt user">&gt; </code><code class="command">sudo</code> zypper addrepo -f <em class="replaceable">URL</em> <em class="replaceable">NAME</em>-15-SP4</pre></div></li><li class="step"><p>
       By editing repository configuration files in
       <code class="filename">/etc/zypp/repos.d</code>. Each repository is represented
       by one configuration file. Changing the value for the
       <code class="literal">baseurl</code> parameter is required in each file.
      </p></li></ol></li><li class="step"><p>
     Review your changes by running <code class="command">zypper repos -u</code> and
     update the repositories by running:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> zypper refresh -f -s</pre></div><p>
     In case updating a repository fails, double-check whether you entered the
     wrong URL. If the problem cannot be fixed, it is recommended to disable
     the failing repository.
    </p><p>
     If all repositories are correctly configured, run
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> zypper refresh -f -s</pre></div><p>
     again, to make sure <span class="emphasis"><em>all</em></span> repositories are up-to-date.
    </p></li><li class="step"><p>
     Before starting the migration it is recommended do a test run first:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> zypper dup -D --no-allow-vendor-change --no-recommends</pre></div><p>
     The parameter <code class="option">-D</code> will perform a dry run that simulates
     the migration without actually changing the system. If problems occur, fix
     them before proceeding. In case the test run succeeds, perform the real
     migration by running:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> zypper dup --no-allow-vendor-change --no-recommends</pre></div><p>
     <code class="option">-no-allow-vendor-change</code> ensures that third-party RPMs
     will not overwrite RPMs from the base system. The option
     <code class="option">--no-recommends</code> ensures that packages deselected during
     initial installation will not be added again.
    </p></li><li class="step"><p>
     When the migration has finished and the system has booted into the new
     service pack version, run the check for orphaned packages again:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> zypper packages --orphaned</pre></div><p>
     Compare the new list with the one you generated before starting the
     migration. If new packages appear in the list, it may be because they were
     moved to a different module in the new service pack. If you did not have
     that module in the previous installation, the package did not get updated.
    </p><p>
     You can check to which module a package belongs at
     <a class="link" href="https://scc.suse.com/packages" target="_blank">https://scc.suse.com/packages</a>. Add the missing
     modules using <code class="command">zypper addrepo</code> or the YaST Software
     Repositories module, and update the orphaned packages afterwards by
     running:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> zypper install --no-recommends <em class="replaceable">LIST OF PACKAGES</em></pre></div></li><li class="step"><p>
     You have successfully migrated to a new service pack!
    </p></li></ol></div></div></section><section class="sect1" id="sec-upgrade-online-rollback" data-id-title="Rolling back a service pack"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.7 </span><span class="title-name">Rolling back a service pack</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-online-rollback">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_online.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   If a service pack does not work for you, SUSE Linux Enterprise supports reverting the system
   to the state before the service pack migration was started. Prerequisite is
   a Btrfs root partition with snapshots enabled (this has been the default
   since SLES 12). See <span class="intraxref">Book “Administration Guide”, Chapter 10 “System recovery and snapshot management with Snapper”</span> for details.
  </p><div class="procedure" id="pro-upgrade-online-rollback"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Get a list of all Snapper snapshots:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> snapper list</pre></div><p>
     Review the output to locate the snapshot that was created immediately
     before the service pack migration was started. The column
     <span class="guimenu">Description</span> contains a corresponding statement and the
     snapshot is marked as <code class="literal">important</code> in the column
     <span class="guimenu">Userdata</span>. Memorize the snapshot number from the column
     <span class="guimenu">#</span> and its date from the column <span class="guimenu">Date</span>.
    </p></li><li class="step"><p>
     Reboot the system. From the boot menu, select <span class="guimenu">Start boot loader
     from a read-only snapshot</span> and then choose the snapshot with the
     date and number you memorized in the previous step. A second boot menu
     (the one from the snapshot) is loaded. Select the entry starting with
     SLES <span class="productnumber"><span class="phrase">15 SP4</span></span> and boot it.
    </p></li><li class="step"><p>
     The system boots into the previous state with the system partition mounted
     read-only. Log in as <code class="systemitem">root</code> and check whether you have chosen the
     correct snapshot. Also make sure everything works as expected. Note that
     since the root file system is mounted read-only, restrictions in
     functionality may apply.
    </p><p>
     In case of problems or if you have booted the wrong snapshot, reboot and
     choose a different snapshot to boot from—up to this point no
     permanent changes have been made. If the snapshot is correct and works as
     expected, make the change permanent by running the following command:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> snapper rollback</pre></div><p>
     Reboot the machine. On the boot screen, choose the default boot entry to
     reboot into the reinstated system.
    </p></li><li class="step"><p>
     Check if the repository configuration has been properly reset.
     Furthermore, check if all products are properly registered. If either one
     is not the case, updating the system at a later point in time may no
     longer work, or the system may be updated using the wrong package
     repositories.
    </p><p>
     Make sure the system can access the Internet before starting this
     procedure.
    </p><ol type="a" class="substeps"><li class="step"><p>
       Refresh services and repositories by running
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> zypper ref -fs</pre></div></li><li class="step"><p>
       Get a list of active repositories by running
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> zypper lr</pre></div><p>
       Carefully check the output of this command. No services and repositories
       that were added for the update should be listed. For example, if you are
       rolling back from SLES <span class="productnumber"><span class="phrase">15 SP4</span></span> to SLES15 GA,
       the list must contain the <code class="literal">SLES15-GA</code>
       repositories, and not the
       <code class="literal">SLES15-SP4</code> repositories.
      </p><p>
       If wrong repositories are listed, delete them and, if necessary, replace
       them with the versions matching your product or service pack version.
       For a list of repositories for the supported migration paths refer to
       <a class="xref" href="#sec-upgrade-background-modules" title="2.3. Module dependencies and lifecycles">Section 2.3, “Module dependencies and lifecycles”</a>. (Note that manual
       intervention should not be necessary, as the repositories should be
       updated automatically, but it is a best practice to verify and make any
       necessary corrections.)
      </p></li><li class="step"><p>
       Last, check the registration status for all products installed by
       running
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> SUSEConnect --status</pre></div><p>
       All products should be reported as being <code class="literal">Registered</code>.
       If this is not the case, repair the registration by running
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> SUSEConnect --rollback</pre></div></li></ol></li></ol></div></div><p>
   Now you have successfully reverted the system to the state that was captured
   immediately before the service pack migration was started.
  </p></section><section class="sect1" id="sec-upgrade-online-manager" data-id-title="Upgrading with SUSE Manager"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.8 </span><span class="title-name">Upgrading with SUSE Manager</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-online-manager">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_online.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   SUSE Manager is a server solution for providing updates, patches, and security
   fixes for SUSE Linux Enterprise clients. It comes with a set of tools and a Web-based user
   interface for management tasks. See
   <a class="link" href="https://www.suse.com/products/suse-manager/" target="_blank">https://www.suse.com/products/suse-manager/</a> for more
   information about SUSE Manager.
  </p><p>
   SP Migration allows migrating from one Service Pack (SP) to another within
   one major version (for example, from SLES 15 GA to
   SLES 15 SP4).
  </p><p>
  If your machine is managed by SUSE Manager, update it as described in the
  SUSE Manager documentation. The <em class="citetitle">Client Migration</em>
  procedure is described in the <em class="citetitle">SUSE Manager Upgrade Guide</em>,
  available at <a class="link" href="https://documentation.suse.com/suma/" target="_blank">https://documentation.suse.com/suma/</a>.
 </p></section><section class="sect1" id="sec-upgrade-online-leap-to-sle" data-id-title="Upgrading from openSUSE Leap to SUSE Linux Enterprise Server"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.9 </span><span class="title-name">Upgrading from openSUSE Leap to <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-online-leap-to-sle">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_online.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   You can upgrade an openSUSE Leap installation to <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>. To find out
   which Leap versions are supported for migration, refer to <a class="xref" href="#sec-upgrade-paths-supported" title="1.2. Supported upgrade paths to SLES 15 SP4">Section 1.2, “Supported upgrade paths to <span class="productname"><span class="phrase">SLES</span></span> <span class="productnumber"><span class="phrase">15 SP4</span></span>”</a>.
  </p><div id="id-1.5.7.11.4" data-id-title="Not all openSUSE packages can be migrated" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: Not all openSUSE packages can be migrated</div><p>
    openSUSE provides more packages than <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>. Most of the additional
    packages are available through SUSE Package Hub and will be migrated. Any additional
    packages that are not available through SUSE Package Hub will no longer receive updates
    after the migration and should therefore be removed afterward.
   </p><p>
    Make sure that all packages you need for operating your system are
    available in the <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> and SUSE Package Hub repositories. For more information
    about SUSE Package Hub, refer to <a class="link" href="https://packagehub.suse.com/" target="_blank">https://packagehub.suse.com/</a>.
   </p></div><section class="sect2" id="sle-upgrade-online-leap-to-sle-yast-migration" data-id-title="Upgraging with yast2 migration"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">5.9.1 </span><span class="title-name">Upgraging with <code class="command">yast2 migration</code></span></span> <a title="Permalink" class="permalink" href="#sle-upgrade-online-leap-to-sle-yast-migration">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_online.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The following procedure is similar to <a class="xref" href="#sec-upgrade-online-yast" title="5.4. Upgrading with the online migration tool (YaST)">Section 5.4, “Upgrading with the online migration tool (YaST)”</a>, but requires some additional steps.
    Before executing this procedure on a production system, we recommend to
    first run it on a test system that replicates your production setup.
   </p><div class="procedure" id="pro-upgrade-online-leap-to-sle" data-id-title="Upgrading openSUSE Leap to SUSE Linux Enterprise Server with with yast2 migration"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 5.1: </span><span class="title-name">Upgrading openSUSE Leap to <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> with with <code class="command">yast2 migration</code> </span></span><a title="Permalink" class="permalink" href="#pro-upgrade-online-leap-to-sle">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_online.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><p>
     To migrate from openSUSE Leap to <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>, perform the following
     steps:
    </p><ol class="procedure" type="1"><li class="step"><p>
      Close all unused applications and switch to a TTY, for example by pressing
      <span class="keycap">Ctrl</span><span class="key-connector">–</span><span class="keycap">Alt</span><span class="key-connector">–</span><span class="keycap">F1</span>. Then log in as
      <code class="systemitem">root</code>.
     </p></li><li class="step"><p>
      Install the <span class="package">yast2-migration</span> and
      <span class="package">rollback-helper</span> packages:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">zypper in yast2-migration rollback-helper</code></pre></div></li><li class="step"><p>
      Enable the <code class="systemitem">rollback-helper</code>
      service:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl enable rollback</code></pre></div></li><li class="step"><p>
      Register the system with the SUSE Customer Center:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">yast2 registration</code></pre></div></li><li class="step"><p>
      Perform the migration:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">yast2 migration</code></pre></div><p>
      In case of package conflicts, YaST presents a list of resolutions to
      choose from.
     </p></li><li class="step"><p>
      Reboot the system:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">reboot</code></pre></div></li></ol></div></div><p>
    You have now successfully migrated your system to <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>. Continue
    with <a class="xref" href="#sec-upgrade-postupgrade-checks" title="6.1. Post-upgrade checks">Section 6.1, “Post-upgrade checks”</a> and remove orphaned
    packages to ensure you are running a fully supported SUSE Linux Enterprise installation.
   </p><p>
    If you run into a problem after the migration, you can revert the migration
    like a service pack upgrade. For instructions, refer to
    <a class="xref" href="#sec-upgrade-online-rollback" title="5.7. Rolling back a service pack">Section 5.7, “Rolling back a service pack”</a>.
   </p></section><section class="sect2" id="sle-upgrade-online-leap-to-sle-yast-migration-sle" data-id-title="Upgrading with yast2 migration_sle"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">5.9.2 </span><span class="title-name">Upgrading with <code class="command">yast2 migration_sle</code></span></span> <a title="Permalink" class="permalink" href="#sle-upgrade-online-leap-to-sle-yast-migration-sle">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_online.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    A simplified migration from openSUSE Leap to <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> is available
    as a technology preview as of Leap 15.4.
   </p><div class="procedure" id="id-1.5.7.11.6.3" data-id-title="Upgrading openSUSE Leap to SUSE Linux Enterprise Server with yast2 migration_sle"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 5.2: </span><span class="title-name">Upgrading openSUSE Leap to <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> with <code class="command">yast2 migration_sle</code> </span></span><a title="Permalink" class="permalink" href="#id-1.5.7.11.6.3">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_online.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><p>
     To migrate from openSUSE Leap to <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>, perform the following
     steps:
    </p><ol class="procedure" type="1"><li class="step"><p>
      Close all unused applications (recommended).
     </p></li><li class="step"><p>
      Install the <span class="package">yast2-migration-sle</span> and
      <span class="package">rollback-helper</span> packages:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">zypper in yast2-migration-sle rollback-helper</code></pre></div></li><li class="step"><p>
      Enable the <code class="systemitem">rollback-helper</code>
      service:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">systemctl enable rollback</code></pre></div></li><li class="step"><p>
      Open YaST and select <span class="guimenu">Software</span> › <span class="guimenu">Online Migration</span> or run:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">yast2 migration_sle</code></pre></div><p>
      The wizard will guide you through the migration process. If there are
      pending updates, they can be installed before registering the system. To
      register, enter your registration code and e-mail address. To register
      with a local RMT server, provide its URL instead of the registration
      code and leave the e-mail address empty.
     </p><p>
      After the system is registered, the <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> repositories will be
      added and the SLE packages will be installed to replace the openSUSE
      ones.
     </p></li><li class="step"><p>
      Reboot the system:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">reboot</code></pre></div></li></ol></div></div><p>
    You have now successfully migrated your system to <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>. Continue
    with <a class="xref" href="#sec-upgrade-postupgrade-checks" title="6.1. Post-upgrade checks">Section 6.1, “Post-upgrade checks”</a> and remove orphaned
    packages to ensure you are running a fully supported SUSE Linux Enterprise installation.
   </p><p>
    If you run into a problem after the migration, you can revert the migration
    like a service pack upgrade. For instructions, refer to
    <a class="xref" href="#sec-upgrade-online-rollback" title="5.7. Rolling back a service pack">Section 5.7, “Rolling back a service pack”</a>.
   </p></section></section></section><section class="chapter" id="cha-upgrade-finish" data-id-title="Finishing the upgrade"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">6 </span><span class="title-name">Finishing the upgrade</span></span> <a title="Permalink" class="permalink" href="#cha-upgrade-finish">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_finish.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
    After the upgrade, you need to perform some additional tasks. The following
    chapter guides you through these steps.
   </p></div></div></div></div><section class="sect1" id="sec-upgrade-postupgrade-checks" data-id-title="Post-upgrade checks"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.1 </span><span class="title-name">Post-upgrade checks</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-postupgrade-checks">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_finish.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The first thing to do after an upgrade is to perform some checks on the
   installed system.
  </p><section class="sect2" id="sec-upgrade-finish-old-packages" data-id-title="Check for old packages"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.1.1 </span><span class="title-name">Check for old packages</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-finish-old-packages">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_finish.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Use <code class="command">zypper packages</code> to check for orphaned and unneeded packages.
   </p><p>
    Orphaned Packages are no longer available in any of the configured package repositories. The can
    no longer get updated and become unsupported.
   </p><p>
    For a list of orphaned packages, run:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">zypper packages --orphaned</code></pre></div><p>
    Unneeded packages are dependencies of packages that have been installed either explicitly by the
    user or implicitly as part a pattern or product, and that have been removed in the meantime. They
    are usually no longer needed and should be removed, too.
   </p><p>
    For a list of unneeded packages, run:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">zypper packages --unneeded</code></pre></div><div id="id-1.5.8.3.3.9" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip</div><p>
     To avoid unneeded packages, use <code class="command">zypper rm</code> with the
     <code class="option">--clean-deps</code> option or YaST with <span class="guimenu">Options</span> › <span class="guimenu">Clean up when deleting packages</span>
     enabled.
    </p></div><p>
    You can combine both lists into one:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">zypper packages --orphaned --unneeded</code></pre></div><p>
    Use these lists to determine which packages are still needed and which can
    be safely removed.
   </p><div id="id-1.5.8.3.3.13" data-id-title="Do not remove packages you need" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: Do not remove packages you need</div><p>
     If packages get renamed, or removed from a pattern or product, <code class="command">zypper</code> may no
     longer consider them explicitly installed and mark them as unneeded, even though they are still
     crucial for your installation.
    </p><p>
     Carefully review the list of packages you are removing.
    </p></div><p>
    To remove all orphaned and unneeded packages with a single command, run:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">zypper rm $(zypper --no-refresh packages --orphaned --unneeded | gawk '{print $5}' | tail -n +5)</code></pre></div><p>
    Exclude a single package or pattern from being uninstalled:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">zypper rm $(zypper --no-refresh packages --orphaned --unneeded | gawk '{print $5}' | tail -n +5 | grep -v <em class="replaceable">PACKAGE_TO_EXCLUDE</em>)</code></pre></div><p>
    Exclude multiple packages defined in a text file, separated by a newline:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">zypper rm $(zypper --no-refresh packages --orphaned --unneeded | gawk '{print $5}' | tail -n +5 | grep -v -f <em class="replaceable">/PACKAGES/TO/KEEP.txt</em>)</code></pre></div></section><section class="sect2" id="sec-uggrade-finish-config-files" data-id-title="Review your configuration files"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.1.2 </span><span class="title-name">Review your configuration files</span></span> <a title="Permalink" class="permalink" href="#sec-uggrade-finish-config-files">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_finish.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Check for any <code class="filename">*.rpmnew</code> and
    <code class="filename">*.rpmsave</code> files. When an upgrade includes changes to
    a default configuration file that has been altered after package
    installation, instead of overwriting the file, one of these file types is
    created. While <code class="filename">*.rpmnew</code> contains the new default
    configuration and leaves your altered file untouched,
    <code class="filename">*.rpmsave</code> is a copy of your altered configuration that
    has been replaced by the new default file.
   </p><p>
    If you find any of these files, examine their content and merge desirable
    changes. You do not need to search the whole file system but only the
    <code class="filename">/etc</code> directory. Use the following command:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">find /etc/ -name "*.rpmnew" -o -name "*.rpmsave"</code></pre></div></section></section><section class="sect1" id="sec-upgrade-finish-python3" data-id-title="Enable the Python 3 module"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.2 </span><span class="title-name">Enable the <code class="literal">Python 3</code> module</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-finish-python3">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_finish.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> 15 uses Python 3.6 by default. Python 3.9 was added in
   <span class="productname"><span class="phrase">SLES</span></span> 15 SP3 as a more recent alternative. This version is no
   longer supported as of <span class="productname"><span class="phrase">SLES</span></span> 15 SP4. Instead, recent Python
   versions with important updates and security fixes are available through the
   <code class="literal">Python 3</code> module.
  </p><p>
   If you installed Python 3.9 under <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> 15 SP3, enable the
   <code class="literal">Python 3</code> module with:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">SUSEConnect -p sle-module-python3/15.4/<em class="replaceable">x86_64</em></code>.</pre></div><p>
   Alternatively, you can return to the default Python version by removing 3.9
   with <code class="command">zypper remove -u python39</code>.
  </p></section><section class="sect1" id="sec-upgrade-finish-xfs4" data-id-title="Reformat XFS v4 devices"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.3 </span><span class="title-name">Reformat XFS v4 devices</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-finish-xfs4">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_finish.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> supports the <span class="quote">“<span class="quote">on-disk format</span>”</span> (v5) of the XFS file
   system. The main advantages of this format are automatic checksums of all
   XFS metadata, file type support, and support for a larger number of access
   control lists for a file.
  </p><p>
   Note that this format is not supported by SUSE Linux Enterprise kernels older than version
   3.12, by <code class="literal">xfsprogs</code> older than version 3.2.0, and GRUB 2
   versions released before SUSE Linux Enterprise 12.
  </p><div id="id-1.5.8.5.4" data-id-title="V4 is deprecated" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: V4 is deprecated</div><p>
    XFS is deprecating file systems with the V4 format. This file system
    format was created by the command:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> mkfs.xfs -m crc=0 <em class="replaceable">DEVICE</em></pre></div><p>
    The format was used in SLE 11 and older releases, and it currently creates
    a warning message by <code class="command">dmesg</code>:
   </p><div class="verbatim-wrap"><pre class="screen">Deprecated V4 format (crc=0) will not be supported after September 2030</pre></div><p>
    If you see the message above in the output of the <code class="command">dmesg</code>
    command, it is recommended that you update your file system to the V5
    format:
   </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Back up your data to another device.
     </p></li><li class="step"><p>
      Create the file system on the device.
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> mkfs.xfs -m crc=1 <em class="replaceable">DEVICE</em></pre></div></li><li class="step"><p>
      Restore the data from the backup on the updated device.
     </p></li></ol></div></div></div></section></section><section class="chapter" id="cha-update-backport" data-id-title="Backports of source code"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">7 </span><span class="title-name">Backports of source code</span></span> <a title="Permalink" class="permalink" href="#cha-update-backport">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_backporting.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
    SUSE extensively uses backports, for example for the migration of current
    software fixes and features into released SUSE Linux Enterprise packages. The information
    in this chapter explains why it can be misleading to compare
    version numbers to judge the capabilities and the security of SUSE Linux Enterprise
    software packages. This chapter also explains how SUSE keeps the system software
    secure and current while maintaining compatibility for your application
    software on top of SUSE Linux Enterprise products. You will also learn how to check which
    public security issues actually are addressed in your SUSE Linux Enterprise system
    software, and the current status of your software.

   </p></div></div></div></div><section class="sect1" id="sec-update-backports-reasons-for" data-id-title="Reasons for backporting"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">7.1 </span><span class="title-name">Reasons for backporting</span></span> <a title="Permalink" class="permalink" href="#sec-update-backports-reasons-for">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_backporting.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Upstream developers are primarily concerned with advancing the software they
   develop. Often they combine fixing bugs with introducing new features which
   have not yet received extensive testing and which may introduce new bugs.
  </p><p>
   For distribution developers, it is important to distinguish between:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     bugfixes with a limited potential for disrupting functionality; and
    </p></li><li class="listitem"><p>
     changes that may disrupt existing functionality.
    </p></li></ul></div><p>
   Usually, distribution developers do not follow all upstream changes when a
   package has become part of a released distribution. Usually they stick
   instead with the upstream version that they initially released and create
   patches based on upstream changes to fix bugs. This practice is known as
   <span class="emphasis"><em>backporting</em></span>.
  </p><p>
   Distribution developers generally will only introduce a newer version of
   software in two cases:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     when the changes between their packages and the upstream versions have
     become so large that backporting is no longer feasible, or
    </p></li><li class="listitem"><p>
     for software that inherently ages badly, like anti-malware software.
    </p></li></ul></div><p>
   SUSE uses backports extensively as we strike a good balance between
   several concerns for enterprise software. The most important of them are:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Having stable interfaces (APIs) that software vendors can rely on when
     building products for use on SUSE's enterprise products.
    </p></li><li class="listitem"><p>
     Ensuring that packages used in the release of SUSE's enterprise products
     are of the highest quality and have been thoroughly tested, both in
     themselves and as part of the whole enterprise product.
    </p></li><li class="listitem"><p>
     Maintaining the various certifications of SUSE's enterprise products by
     other vendors, like certifications for Oracle or SAP products.
    </p></li><li class="listitem"><p>
     Allowing SUSE's developers to focus on making the next product version,
     rather than spreading their focus thinly across a wide range of releases.
    </p></li><li class="listitem"><p>
     Keeping a clear view of what is in a particular enterprise release, so
     that our support can provide accurate and timely information about it.
    </p></li></ul></div></section><section class="sect1" id="sec-update-backports-reasons-against" data-id-title="Reasons against backports"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">7.2 </span><span class="title-name">Reasons against backports</span></span> <a title="Permalink" class="permalink" href="#sec-update-backports-reasons-against">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_backporting.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   It is a general policy rule that no new upstream versions of a package are
   introduced into our enterprise products. This rule is not an absolute rule
   however. For certain types of packages, in particular anti-virus software,
   security concerns weigh heavier than the conservative approach that is
   preferable from the perspective of quality assurance. For packages in that
   class, occasionally newer versions are introduced into a released version of
   an enterprise product line.
  </p><p>
   Sometimes also for other types of packages the choice is made to introduce a
   new version rather than a backport. This is done when producing a backport
   is not economically feasible or when there is a very relevant technical
   reason to introduce the newer version.
  </p></section><section class="sect1" id="sec-update-backports-implications" data-id-title="The implications of backports for interpreting version numbers"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">7.3 </span><span class="title-name">The implications of backports for interpreting version numbers</span></span> <a title="Permalink" class="permalink" href="#sec-update-backports-implications">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_backporting.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Because of the practice of backporting, one cannot simply compare version
   numbers to determine whether a SUSE package contains a fix for a
   particular issue or has had a particular feature added to it. With
   backporting, the upstream part of a SUSE package's version number merely
   indicates what upstream version the SUSE package is based on. It may
   contain bug fixes and features that are not in the corresponding upstream
   release, but that have been backported into the SUSE package.
  </p><p>
   
   One particular area where this limited value of version numbers when
   backporting is involved can cause problems is with security scanning tools.
   Some security vulnerability scanning tools (or particular tests in such
   tools) operate solely on version information. These tools and tests are therefore
   prone to generating <span class="quote">“<span class="quote">false positives</span>”</span> (when a piece of software
   is incorrectly identified as vulnerable) when
   backports are involved. When evaluating reports from security scanning
   tools, always check whether an entry is based on a version
   number or on an actual vulnerability test.
  </p></section><section class="sect1" id="sec-update-backports-checks" data-id-title="Checking for fixed bugs and backported features"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">7.4 </span><span class="title-name">Checking for fixed bugs and backported features</span></span> <a title="Permalink" class="permalink" href="#sec-update-backports-checks">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/sle_update_backporting.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Information about backported bug fixes and features is stored in several
   locations:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     The package's changelog:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>rpm -q --changelog <span class="package"><em class="replaceable">name-of-installed-package</em></span>
<code class="prompt user">&gt; </code>rpm -qp --changelog <code class="filename"><em class="replaceable">packagefile.rpm</em>packagefile.rpm</code></pre></div><p>
     The output briefly documents the change history of the package.
    </p></li><li class="listitem"><p>
     The package changelog may contain entries like <code class="literal">bsc#1234</code>
     (<span class="quote">“<span class="quote"><span class="emphasis"><em>B</em></span>ugzilla<span class="emphasis"><em>S</em></span>use.
     <span class="emphasis"><em>C</em></span>om</span>”</span>) that refer to bugs in SUSE's Bugzilla
     tracking system or links to other bugtracking systems. Because of
     confidentiality policies, not all such information may be accessible to you.
    </p></li><li class="listitem"><p>
     A package may contain a <code class="filename">/usr/share/doc/<em class="replaceable">PACKAGENAME
     </em>/README.SUSE</code> file which contains general, high-level
     information specific to the SUSE package.
    </p></li><li class="listitem"><p>
     The RPM source package contains the patches that were applied during the
     building of the regular binary RPMs as separate files that can be
     interpreted if you are familiar with reading source code. See
     <span class="intraxref">Book “Administration Guide”, Chapter 9 “Managing software with command line tools”, Section 9.1.3.5 “Installing or downloading source packages”</span> for installing sources of
     SUSE Linux Enterprise software. See <span class="intraxref">Book “Administration Guide”, Chapter 9 “Managing software with command line tools”, Section 9.2.5 “Installing and compiling source packages”</span> for building
     packages on SUSE Linux Enterprise. See the
     <a class="link" href="http://www.rpm.org/max-rpm/" target="_blank">Maximum RPM</a> book for
     details about software package builds for SUSE Linux Enterprise.
    </p></li><li class="listitem"><p>
     For security bug fixes, consult the
     <a class="link" href="https://www.suse.com/support/security/" target="_blank">SUSE security
     announcements</a>. These often refer to bugs through standardized names
     like <code class="literal">CAN-2005-2495</code> which are maintained by the
     <a class="link" href="http://cve.mitre.org" target="_blank">Common Vulnerabilities and
     Exposures (CVE)</a> project.
    </p></li></ul></div></section></section><div class="legal-section"><section class="appendix" id="id-1.5.10" data-id-title="GNU licenses"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">A </span><span class="title-name">GNU licenses</span></span> <a title="Permalink" class="permalink" href="#id-1.5.10">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/common_legal.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  This appendix contains the GNU Free Documentation License version 1.2.
 </p><section class="sect1" id="id-1.5.10.4" data-id-title="GNU Free Documentation License"><div class="titlepage"><div><div><div class="title-container"><h2 class="title legal"><span class="title-number-name"><span class="title-name">GNU Free Documentation License</span></span> <a title="Permalink" class="permalink" href="#id-1.5.10.4">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/common_license_gfdl1.2.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Copyright (C) 2000, 2001, 2002 Free Software Foundation, Inc. 51 Franklin St,
  Fifth Floor, Boston, MA 02110-1301 USA. Everyone is permitted to copy and
  distribute verbatim copies of this license document, but changing it is not
  allowed.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.5.10.4.4"><span class="name">
    0. PREAMBLE
  </span><a title="Permalink" class="permalink" href="#id-1.5.10.4.4">#</a></h5></div><p>
  The purpose of this License is to make a manual, textbook, or other
  functional and useful document "free" in the sense of freedom: to assure
  everyone the effective freedom to copy and redistribute it, with or without
  modifying it, either commercially or non-commercially. Secondarily, this
  License preserves for the author and publisher a way to get credit for their
  work, while not being considered responsible for modifications made by
  others.
 </p><p>
  This License is a kind of "copyleft", which means that derivative works of
  the document must themselves be free in the same sense. It complements the
  GNU General Public License, which is a copyleft license designed for free
  software.
 </p><p>
  We have designed this License to use it for manuals for free software,
  because free software needs free documentation: a free program should come
  with manuals providing the same freedoms that the software does. But this
  License is not limited to software manuals; it can be used for any textual
  work, regardless of subject matter or whether it is published as a printed
  book. We recommend this License principally for works whose purpose is
  instruction or reference.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.5.10.4.8"><span class="name">
    1. APPLICABILITY AND DEFINITIONS
  </span><a title="Permalink" class="permalink" href="#id-1.5.10.4.8">#</a></h5></div><p>
  This License applies to any manual or other work, in any medium, that
  contains a notice placed by the copyright holder saying it can be distributed
  under the terms of this License. Such a notice grants a world-wide,
  royalty-free license, unlimited in duration, to use that work under the
  conditions stated herein. The "Document", below, refers to any such manual or
  work. Any member of the public is a licensee, and is addressed as "you". You
  accept the license if you copy, modify or distribute the work in a way
  requiring permission under copyright law.
 </p><p>
  A "Modified Version" of the Document means any work containing the Document
  or a portion of it, either copied verbatim, or with modifications and/or
  translated into another language.
 </p><p>
  A "Secondary Section" is a named appendix or a front-matter section of the
  Document that deals exclusively with the relationship of the publishers or
  authors of the Document to the Document's overall subject (or to related
  matters) and contains nothing that could fall directly within that overall
  subject. (Thus, if the Document is in part a textbook of mathematics, a
  Secondary Section may not explain any mathematics.) The relationship could be
  a matter of historical connection with the subject or with related matters,
  or of legal, commercial, philosophical, ethical or political position
  regarding them.
 </p><p>
  The "Invariant Sections" are certain Secondary Sections whose titles are
  designated, as being those of Invariant Sections, in the notice that says
  that the Document is released under this License. If a section does not fit
  the above definition of Secondary then it is not allowed to be designated as
  Invariant. The Document may contain zero Invariant Sections. If the Document
  does not identify any Invariant Sections then there are none.
 </p><p>
  The "Cover Texts" are certain short passages of text that are listed, as
  Front-Cover Texts or Back-Cover Texts, in the notice that says that the
  Document is released under this License. A Front-Cover Text may be at most 5
  words, and a Back-Cover Text may be at most 25 words.
 </p><p>
  A "Transparent" copy of the Document means a machine-readable copy,
  represented in a format whose specification is available to the general
  public, that is suitable for revising the document straightforwardly with
  generic text editors or (for images composed of pixels) generic paint
  programs or (for drawings) some widely available drawing editor, and that is
  suitable for input to text formatters or for automatic translation to a
  variety of formats suitable for input to text formatters. A copy made in an
  otherwise Transparent file format whose markup, or absence of markup, has
  been arranged to thwart or discourage subsequent modification by readers is
  not Transparent. An image format is not Transparent if used for any
  substantial amount of text. A copy that is not "Transparent" is called
  "Opaque".
 </p><p>
  Examples of suitable formats for Transparent copies include plain ASCII
  without markup, Texinfo input format, LaTeX input format, SGML or XML using a
  publicly available DTD, and standard-conforming simple HTML, PostScript or
  PDF designed for human modification. Examples of transparent image formats
  include PNG, XCF and JPG. Opaque formats include proprietary formats that can
  be read and edited only by proprietary word processors, SGML or XML for which
  the DTD and/or processing tools are not generally available, and the
  machine-generated HTML, PostScript or PDF produced by some word processors
  for output purposes only.
 </p><p>
  The "Title Page" means, for a printed book, the title page itself, plus such
  following pages as are needed to hold, legibly, the material this License
  requires to appear in the title page. For works in formats which do not have
  any title page as such, "Title Page" means the text near the most prominent
  appearance of the work's title, preceding the beginning of the body of the
  text.
 </p><p>
  A section "Entitled XYZ" means a named subunit of the Document whose title
  either is precisely XYZ or contains XYZ in parentheses following text that
  translates XYZ in another language. (Here XYZ stands for a specific section
  name mentioned below, such as "Acknowledgements", "Dedications",
  "Endorsements", or "History".) To "Preserve the Title" of such a section when
  you modify the Document means that it remains a section "Entitled XYZ"
  according to this definition.
 </p><p>
  The Document may include Warranty Disclaimers next to the notice which states
  that this License applies to the Document. These Warranty Disclaimers are
  considered to be included by reference in this License, but only as regards
  disclaiming warranties: any other implication that these Warranty Disclaimers
  may have is void and has no effect on the meaning of this License.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.5.10.4.19"><span class="name">
    2. VERBATIM COPYING
  </span><a title="Permalink" class="permalink" href="#id-1.5.10.4.19">#</a></h5></div><p>
  You may copy and distribute the Document in any medium, either commercially
  or non-commercially, provided that this License, the copyright notices, and
  the license notice saying this License applies to the Document are reproduced
  in all copies, and that you add no other conditions whatsoever to those of
  this License. You may not use technical measures to obstruct or control the
  reading or further copying of the copies you make or distribute. However, you
  may accept compensation in exchange for copies. If you distribute a large
  enough number of copies you must also follow the conditions in section 3.
 </p><p>
  You may also lend copies, under the same conditions stated above, and you may
  publicly display copies.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.5.10.4.22"><span class="name">
    3. COPYING IN QUANTITY
  </span><a title="Permalink" class="permalink" href="#id-1.5.10.4.22">#</a></h5></div><p>
  If you publish printed copies (or copies in media that commonly have printed
  covers) of the Document, numbering more than 100, and the Document's license
  notice requires Cover Texts, you must enclose the copies in covers that
  carry, clearly and legibly, all these Cover Texts: Front-Cover Texts on the
  front cover, and Back-Cover Texts on the back cover. Both covers must also
  clearly and legibly identify you as the publisher of these copies. The front
  cover must present the full title with all words of the title equally
  prominent and visible. You may add other material on the covers in addition.
  Copying with changes limited to the covers, as long as they preserve the
  title of the Document and satisfy these conditions, can be treated as
  verbatim copying in other respects.
 </p><p>
  If the required texts for either cover are too voluminous to fit legibly, you
  should put the first ones listed (as many as fit reasonably) on the actual
  cover, and continue the rest onto adjacent pages.
 </p><p>
  If you publish or distribute Opaque copies of the Document numbering more
  than 100, you must either include a machine-readable Transparent copy along
  with each Opaque copy, or state in or with each Opaque copy a
  computer-network location from which the general network-using public has
  access to download using public-standard network protocols a complete
  Transparent copy of the Document, free of added material. If you use the
  latter option, you must take reasonably prudent steps, when you begin
  distribution of Opaque copies in quantity, to ensure that this Transparent
  copy will remain thus accessible at the stated location until at least one
  year after the last time you distribute an Opaque copy (directly or through
  your agents or retailers) of that edition to the public.
 </p><p>
  It is requested, but not required, that you contact the authors of the
  Document well before redistributing any large number of copies, to give them
  a chance to provide you with an updated version of the Document.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.5.10.4.27"><span class="name">
    4. MODIFICATIONS
  </span><a title="Permalink" class="permalink" href="#id-1.5.10.4.27">#</a></h5></div><p>
  You may copy and distribute a Modified Version of the Document under the
  conditions of sections 2 and 3 above, provided that you release the Modified
  Version under precisely this License, with the Modified Version filling the
  role of the Document, thus licensing distribution and modification of the
  Modified Version to whoever possesses a copy of it. In addition, you must do
  these things in the Modified Version:
 </p><div class="orderedlist"><ol class="orderedlist" type="A"><li class="listitem"><p>
    Use in the Title Page (and on the covers, if any) a title distinct from
    that of the Document, and from those of previous versions (which should, if
    there were any, be listed in the History section of the Document). You may
    use the same title as a previous version if the original publisher of that
    version gives permission.
   </p></li><li class="listitem"><p>
    List on the Title Page, as authors, one or more persons or entities
    responsible for authorship of the modifications in the Modified Version,
    together with at least five of the principal authors of the Document (all
    of its principal authors, if it has fewer than five), unless they release
    you from this requirement.
   </p></li><li class="listitem"><p>
    State on the Title page the name of the publisher of the Modified Version,
    as the publisher.
   </p></li><li class="listitem"><p>
    Preserve all the copyright notices of the Document.
   </p></li><li class="listitem"><p>
    Add an appropriate copyright notice for your modifications adjacent to the
    other copyright notices.
   </p></li><li class="listitem"><p>
    Include, immediately after the copyright notices, a license notice giving
    the public permission to use the Modified Version under the terms of this
    License, in the form shown in the Addendum below.
   </p></li><li class="listitem"><p>
    Preserve in that license notice the full lists of Invariant Sections and
    required Cover Texts given in the Document's license notice.
   </p></li><li class="listitem"><p>
    Include an unaltered copy of this License.
   </p></li><li class="listitem"><p>
    Preserve the section Entitled "History", Preserve its Title, and add to it
    an item stating at least the title, year, new authors, and publisher of the
    Modified Version as given on the Title Page. If there is no section
    Entitled "History" in the Document, create one stating the title, year,
    authors, and publisher of the Document as given on its Title Page, then add
    an item describing the Modified Version as stated in the previous sentence.
   </p></li><li class="listitem"><p>
    Preserve the network location, if any, given in the Document for public
    access to a Transparent copy of the Document, and likewise the network
    locations given in the Document for previous versions it was based on.
    These may be placed in the "History" section. You may omit a network
    location for a work that was published at least four years before the
    Document itself, or if the original publisher of the version it refers to
    gives permission.
   </p></li><li class="listitem"><p>
    For any section Entitled "Acknowledgements" or "Dedications", Preserve the
    Title of the section, and preserve in the section all the substance and
    tone of each of the contributor acknowledgements and/or dedications given
    therein.
   </p></li><li class="listitem"><p>
    Preserve all the Invariant Sections of the Document, unaltered in their
    text and in their titles. Section numbers or the equivalent are not
    considered part of the section titles.
   </p></li><li class="listitem"><p>
    Delete any section Entitled "Endorsements". Such a section may not be
    included in the Modified Version.
   </p></li><li class="listitem"><p>
    Do not retitle any existing section to be Entitled "Endorsements" or to
    conflict in title with any Invariant Section.
   </p></li><li class="listitem"><p>
    Preserve any Warranty Disclaimers.
   </p></li></ol></div><p>
  If the Modified Version includes new front-matter sections or appendices that
  qualify as Secondary Sections and contain no material copied from the
  Document, you may at your option designate some or all of these sections as
  invariant. To do this, add their titles to the list of Invariant Sections in
  the Modified Version's license notice. These titles must be distinct from any
  other section titles.
 </p><p>
  You may add a section Entitled "Endorsements", provided it contains nothing
  but endorsements of your Modified Version by various parties--for example,
  statements of peer review or that the text has been approved by an
  organization as the authoritative definition of a standard.
 </p><p>
  You may add a passage of up to five words as a Front-Cover Text, and a
  passage of up to 25 words as a Back-Cover Text, to the end of the list of
  Cover Texts in the Modified Version. Only one passage of Front-Cover Text and
  one of Back-Cover Text may be added by (or through arrangements made by) any
  one entity. If the Document already includes a cover text for the same cover,
  previously added by you or by arrangement made by the same entity you are
  acting on behalf of, you may not add another; but you may replace the old
  one, on explicit permission from the previous publisher that added the old
  one.
 </p><p>
  The author(s) and publisher(s) of the Document do not by this License give
  permission to use their names for publicity for or to assert or imply
  endorsement of any Modified Version.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.5.10.4.34"><span class="name">
    5. COMBINING DOCUMENTS
  </span><a title="Permalink" class="permalink" href="#id-1.5.10.4.34">#</a></h5></div><p>
  You may combine the Document with other documents released under this
  License, under the terms defined in section 4 above for modified versions,
  provided that you include in the combination all of the Invariant Sections of
  all of the original documents, unmodified, and list them all as Invariant
  Sections of your combined work in its license notice, and that you preserve
  all their Warranty Disclaimers.
 </p><p>
  The combined work need only contain one copy of this License, and multiple
  identical Invariant Sections may be replaced with a single copy. If there are
  multiple Invariant Sections with the same name but different contents, make
  the title of each such section unique by adding at the end of it, in
  parentheses, the name of the original author or publisher of that section if
  known, or else a unique number. Make the same adjustment to the section
  titles in the list of Invariant Sections in the license notice of the
  combined work.
 </p><p>
  In the combination, you must combine any sections Entitled "History" in the
  various original documents, forming one section Entitled "History"; likewise
  combine any sections Entitled "Acknowledgements", and any sections Entitled
  "Dedications". You must delete all sections Entitled "Endorsements".
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.5.10.4.38"><span class="name">
    6. COLLECTIONS OF DOCUMENTS
  </span><a title="Permalink" class="permalink" href="#id-1.5.10.4.38">#</a></h5></div><p>
  You may make a collection consisting of the Document and other documents
  released under this License, and replace the individual copies of this
  License in the various documents with a single copy that is included in the
  collection, provided that you follow the rules of this License for verbatim
  copying of each of the documents in all other respects.
 </p><p>
  You may extract a single document from such a collection, and distribute it
  individually under this License, provided you insert a copy of this License
  into the extracted document, and follow this License in all other respects
  regarding verbatim copying of that document.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.5.10.4.41"><span class="name">
    7. AGGREGATION WITH INDEPENDENT WORKS
  </span><a title="Permalink" class="permalink" href="#id-1.5.10.4.41">#</a></h5></div><p>
  A compilation of the Document or its derivatives with other separate and
  independent documents or works, in or on a volume of a storage or
  distribution medium, is called an "aggregate" if the copyright resulting from
  the compilation is not used to limit the legal rights of the compilation's
  users beyond what the individual works permit. When the Document is included
  in an aggregate, this License does not apply to the other works in the
  aggregate which are not themselves derivative works of the Document.
 </p><p>
  If the Cover Text requirement of section 3 is applicable to these copies of
  the Document, then if the Document is less than one half of the entire
  aggregate, the Document's Cover Texts may be placed on covers that bracket
  the Document within the aggregate, or the electronic equivalent of covers if
  the Document is in electronic form. Otherwise they must appear on printed
  covers that bracket the whole aggregate.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.5.10.4.44"><span class="name">
    8. TRANSLATION
  </span><a title="Permalink" class="permalink" href="#id-1.5.10.4.44">#</a></h5></div><p>
  Translation is considered a kind of modification, so you may distribute
  translations of the Document under the terms of section 4. Replacing
  Invariant Sections with translations requires special permission from their
  copyright holders, but you may include translations of some or all Invariant
  Sections in addition to the original versions of these Invariant Sections.
  You may include a translation of this License, and all the license notices in
  the Document, and any Warranty Disclaimers, provided that you also include
  the original English version of this License and the original versions of
  those notices and disclaimers. In case of a disagreement between the
  translation and the original version of this License or a notice or
  disclaimer, the original version will prevail.
 </p><p>
  If a section in the Document is Entitled "Acknowledgements", "Dedications",
  or "History", the requirement (section 4) to Preserve its Title (section 1)
  will typically require changing the actual title.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.5.10.4.47"><span class="name">
    9. TERMINATION
  </span><a title="Permalink" class="permalink" href="#id-1.5.10.4.47">#</a></h5></div><p>
  You may not copy, modify, sublicense, or distribute the Document except as
  expressly provided for under this License. Any other attempt to copy, modify,
  sublicense or distribute the Document is void, and will automatically
  terminate your rights under this License. However, parties who have received
  copies, or rights, from you under this License will not have their licenses
  terminated so long as such parties remain in full compliance.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.5.10.4.49"><span class="name">
    10. FUTURE REVISIONS OF THIS LICENSE
  </span><a title="Permalink" class="permalink" href="#id-1.5.10.4.49">#</a></h5></div><p>
  The Free Software Foundation may publish new, revised versions of the GNU
  Free Documentation License from time to time. Such new versions will be
  similar in spirit to the present version, but may differ in detail to address
  new problems or concerns. See
  <a class="link" href="https://www.gnu.org/copyleft/" target="_blank">https://www.gnu.org/copyleft/</a>.
 </p><p>
  Each version of the License is given a distinguishing version number. If the
  Document specifies that a particular numbered version of this License "or any
  later version" applies to it, you have the option of following the terms and
  conditions either of that specified version or of any later version that has
  been published (not as a draft) by the Free Software Foundation. If the
  Document does not specify a version number of this License, you may choose
  any version ever published (not as a draft) by the Free Software Foundation.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.5.10.4.52"><span class="name">
    ADDENDUM: How to use this License for your documents
  </span><a title="Permalink" class="permalink" href="#id-1.5.10.4.52">#</a></h5></div><div class="verbatim-wrap"><pre class="screen">Copyright (c) YEAR YOUR NAME.
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2
or any later version published by the Free Software Foundation;
with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
A copy of the license is included in the section entitled “GNU
Free Documentation License”.</pre></div><p>
  If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
  replace the “with...Texts.” line with this:
 </p><div class="verbatim-wrap"><pre class="screen">with the Invariant Sections being LIST THEIR TITLES, with the
Front-Cover Texts being LIST, and with the Back-Cover Texts being LIST.</pre></div><p>
  If you have Invariant Sections without Cover Texts, or some other combination
  of the three, merge those two alternatives to suit the situation.
 </p><p>
  If your document contains nontrivial examples of program code, we recommend
  releasing these examples in parallel under your choice of free software
  license, such as the GNU General Public License, to permit their use in free
  software.
 </p></section></section></div></section></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>