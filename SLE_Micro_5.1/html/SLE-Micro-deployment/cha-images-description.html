<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLE Micro 5.1 | Deployment Guide | Description of raw images</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="Description of raw images | SLE Micro 5.1"/>
<meta name="description" content="SLE Micro raw images are delivered for the AMD64/Intel 64 architecture (an image with RT kernel is available), IBM Z ZSeries (an image of the KVM hos…"/>
<meta name="product-name" content="SUSE Linux Enterprise Micro"/>
<meta name="product-number" content="5.1"/>
<meta name="book-title" content="Deployment Guide"/>
<meta name="chapter-title" content="Chapter 5. Description of raw images"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="jsindelarova@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE Linux Enterprise Micro 5.1"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Deployment Guide"/>
<meta property="og:description" content="Deployment of SLE Micro"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Deployment Guide"/>
<meta name="twitter:description" content="Deployment of SLE Micro"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "Description of raw images",
  
    "description": "Description of raw images",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2022-10-03T00:00+02:00",
      
    "datePublished": "2022-10-03T00:00+02:00",
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="part-raw-image.html" title="Part II. Raw image deployment"/><link rel="next" href="cha-images-procedure.html" title="Chapter 6. Deploying raw images"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sle/edit/main/xml/deployment_images_description.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Deployment Guide</a><span> / </span><a class="crumb" href="part-raw-image.html">Raw image deployment</a><span> / </span><a class="crumb" href="cha-images-description.html">Description of raw images</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">Deployment Guide</div><ol><li><a href="preface-deployment.html" class=" "><span class="title-number"> </span><span class="title-name">Preface</span></a></li><li><a href="part-prep.html" class="has-children "><span class="title-number">I </span><span class="title-name">Installation preparation</span></a><ol><li><a href="cha-planning.html" class=" "><span class="title-number">1 </span><span class="title-name">Planning for <span class="productname"><span class="phrase">SUSE Linux Enterprise Micro</span></span></span></a></li><li><a href="cha-x86.html" class=" "><span class="title-number">2 </span><span class="title-name">Installation on AMD64 and Intel 64</span></a></li><li><a href="cha-aarch64.html" class=" "><span class="title-number">3 </span><span class="title-name">Installation on AArch64</span></a></li><li><a href="cha-zseries.html" class=" "><span class="title-number">4 </span><span class="title-name">Installation on IBM Z and LinuxONE</span></a></li></ol></li><li class="active"><a href="part-raw-image.html" class="has-children you-are-here"><span class="title-number">II </span><span class="title-name">Raw image deployment</span></a><ol><li><a href="cha-images-description.html" class=" you-are-here"><span class="title-number">5 </span><span class="title-name">Description of raw images</span></a></li><li><a href="cha-images-procedure.html" class=" "><span class="title-number">6 </span><span class="title-name">Deploying raw images</span></a></li><li><a href="cha-images-ignition.html" class=" "><span class="title-number">7 </span><span class="title-name">Configuring with Ignition</span></a></li><li><a href="cha-images-combustion.html" class=" "><span class="title-number">8 </span><span class="title-name">Configuring with Combustion</span></a></li></ol></li><li><a href="part-manual-installation.html" class="has-children "><span class="title-number">III </span><span class="title-name">Manual installation</span></a><ol><li><a href="cha-boot-parameters.html" class=" "><span class="title-number">9 </span><span class="title-name">Boot parameters</span></a></li><li><a href="cha-install.html" class=" "><span class="title-number">10 </span><span class="title-name">Installation steps</span></a></li><li><a href="cha-remote-installation.html" class=" "><span class="title-number">11 </span><span class="title-name">Remote installation</span></a></li><li><a href="cha-installation-troubleshooting.html" class=" "><span class="title-number">12 </span><span class="title-name">Troubleshooting</span></a></li></ol></li><li><a href="bk02apa.html" class=" "><span class="title-number">A </span><span class="title-name">GNU licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="cha-images-description" data-id-title="Description of raw images"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Micro</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">5.1</span></span></span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">5 </span><span class="title-name">Description of raw images</span></span> <a title="Permalink" class="permalink" href="cha-images-description.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/deployment_images_description.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  SLE Micro raw images are delivered for the AMD64/Intel 64 architecture (an image with
  RT kernel is available), IBM Z ZSeries (an image of the KVM host, images
  to be used with FBA or DASD devices) and also AArch64. These images are
  intended to be configured on the first boot by using either Ignition or
  Combustion. The boot loader detects the first boot, see more in
  <a class="xref" href="cha-images-description.html#sec-first-boot" title="5.2. First boot detection">Section 5.2, “First boot detection”</a>. Each image has default mounted subvolumes
  as described in <a class="xref" href="cha-images-description.html#sec-default-partitioning" title="5.1. Default partitioning">Section 5.1, “Default partitioning”</a>. The procedure of
  deploying these images is described in
  <a class="xref" href="cha-images-procedure.html" title="Chapter 6. Deploying raw images">Chapter 6, <em>Deploying raw images</em></a>.
 </p><div id="id-1.4.4.2.4" data-id-title="Do not use firewall along with Podman" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Do not use firewall along with Podman</div><p>
   Using firewall along with Podman may cause missing Podman related firewall
   rules after reloading the <code class="literal">firewalld</code> service. Therefore,
   it is recommended to keep the firewall disabled if you intend to use Podman.
  </p></div><div id="id-1.4.4.2.5" data-id-title="SLE Micro as a VM Host Server" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: SLE Micro as a VM Host Server</div><p>
   SLE Micro can run as a KVM host server—Xen is not supported.
   However, there are several limitations of SLE Micro running as a VM Host Server, for
   details refer to
   <a class="link" href="https://documentation.suse.com/sles/15-SP3/html/SLES-all/cha-virt-support.html" target="_blank">virtualization
   limits and support</a>.
  </p></div><section class="sect1" id="sec-default-partitioning" data-id-title="Default partitioning"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.1 </span><span class="title-name">Default partitioning</span></span> <a title="Permalink" class="permalink" href="cha-images-description.html#sec-default-partitioning">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/deployment_images_description.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The raw images are delivered with a default partitioning scheme, which can
   be changed during the first boot by using Ignition or Combustion. For a
   procedure to repartition the system, refer to
   <a class="xref" href="cha-images-ignition.html#sec-ignition-configuration" title="7.2. config.ign">Section 7.2, “<code class="filename">config.ign</code>”</a> or
   <a class="xref" href="cha-images-combustion.html#sec-combustion-script" title="8.2. The script configuration file">Section 8.2, “The <code class="filename">script</code> configuration file”</a>.
  </p><div id="id-1.4.4.2.6.3" data-id-title="Btrfs is mandatory for the root file system" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Btrfs is mandatory for the root file system</div><p>
    If you intend to perform any changes to the default partitioning scheme,
    the root file system must be btrfs.
   </p></div><p>
   Each image has the following subvolumes:
  </p><div class="verbatim-wrap"><pre class="screen"> /home
 /root
 /opt
 /srv 
 /usr/local
 /var</pre></div><p>
   The images also have mounted subvolumes for booting by default. The specific
   subvolumes differ according to the architecture.
  </p><p>
   You can recognize the subvolumes mounted by default by the option
   <code class="literal">x-initrd.mount</code> in <code class="filename">/etc/fstab</code>. Other
   subvolumes or partitions must be configured either by Ignition or
   Combustion.
  </p></section><section class="sect1" id="sec-first-boot" data-id-title="First boot detection"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.2 </span><span class="title-name">First boot detection</span></span> <a title="Permalink" class="permalink" href="cha-images-description.html#sec-first-boot">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/deployment_images_description.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The configuration runs on the first boot only. To distinguish between the
   first and subsequent boots, the flag file
  <code class="filename">/boot/writable/firstboot_happened</code> is created
   after the first boot took place. If the file is not present in the file
   system, the attribute <code class="literal">ignition.firstboot</code> is passed to the
   kernel command line, and thus both Ignition and Combustion are
   triggered to run (in the <code class="filename">initramfs</code>). 
   After completing the first boot, the
   <code class="filename">/boot/writable/firstboot_happened</code> flag file is created.
  </p><div id="id-1.4.4.2.7.3" data-id-title="The flag file is always created" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: The flag file is always created</div><p>
    Even though the configuration may not be successful, due to improper or
    missing configuration files, the
    <code class="filename">/boot/writable/firstboot_happened</code> flag file is
    created.
   </p><p>
    You may force the first boot configuration on subsequent boot by passing
    the <code class="literal">ignition.firstboot</code> attribute to the kernel command
    line or by deleting the
    <code class="filename">/boot/writable/firstboot_happened</code> flag file.
   </p></div></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="part-raw-image.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Part II </span>Raw image deployment</span></a> </div><div><a class="pagination-link next" href="cha-images-procedure.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 6 </span>Deploying raw images</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="cha-images-description.html#sec-default-partitioning"><span class="title-number">5.1 </span><span class="title-name">Default partitioning</span></a></span></li><li><span class="sect1"><a href="cha-images-description.html#sec-first-boot"><span class="title-number">5.2 </span><span class="title-name">First boot detection</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>