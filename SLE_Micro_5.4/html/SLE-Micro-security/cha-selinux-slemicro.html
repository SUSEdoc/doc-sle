<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLE Micro 5.4 | Security and Hardening Guide | SELinux</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="SELinux | SLE Micro 5.4"/>
<meta name="description" content="This chapter gives a brief overview of SELinux implementation on SLE Micro."/>
<meta name="product-name" content="SUSE Linux Enterprise Micro"/>
<meta name="product-number" content="5.4"/>
<meta name="book-title" content="Security and Hardening Guide"/>
<meta name="chapter-title" content="Chapter 1. SELinux"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="jsindelarova@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE Linux Enterprise Micro 5.4"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="SLE Micro Security Guide"/>
<meta property="og:description" content="Using SELinux, FIPS and Keylime on SLE Micro"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="SLE Micro Security Guide"/>
<meta name="twitter:description" content="Using SELinux, FIPS and Keylime on SLE Micro"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "SELinux",
  
    "description": "This chapter gives a brief overview of SELinux implementation on SLE Micro.",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2023-04-03T00:00+02:00",
      
    "datePublished": "2023-04-03T00:00+02:00",
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="preface-security.html" title="Preface"/><link rel="next" href="cha-security-attestation.html" title="Chapter 2. Remote attestation using Keylime"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sle/edit/main/xml/slemicro_security_selinux.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Security and Hardening Guide</a><span> / </span><a class="crumb" href="cha-selinux-slemicro.html">SELinux</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">Security and Hardening Guide</div><ol><li><a href="preface-security.html" class=" "><span class="title-number"> </span><span class="title-name">Preface</span></a></li><li><a href="cha-selinux-slemicro.html" class=" you-are-here"><span class="title-number">1 </span><span class="title-name">SELinux</span></a></li><li><a href="cha-security-attestation.html" class=" "><span class="title-number">2 </span><span class="title-name">Remote attestation using Keylime</span></a></li><li><a href="cha-pam.html" class=" "><span class="title-number">3 </span><span class="title-name">Authentication with PAM</span></a></li><li><a href="cha-security-fips.html" class=" "><span class="title-number">4 </span><span class="title-name">Enabling compliance with FIPS 140-3</span></a></li><li><a href="bk05apa.html" class=" "><span class="title-number">A </span><span class="title-name">GNU licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="cha-selinux-slemicro" data-id-title="SELinux"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Micro</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">5.4</span></span></span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">1 </span><span class="title-name">SELinux</span></span> <a title="Permalink" class="permalink" href="cha-selinux-slemicro.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/slemicro_security_selinux.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
    This chapter gives a brief overview of SELinux implementation on SLE Micro.
   </p></div></div></div></div><p>
  SELinux was developed as an additional Linux security solution that uses the
  security framework in the Linux kernel. The purpose was to allow for a more
  granular security policy that goes beyond the standard Discretionary Access
  Controls (DAC), the traditional file permissions of owner/group/world, and
  read/write/execute.
 </p><p>
  SELinux uses labels attached to objects (for example, files and network
  sockets) and uses them for access decisions.
 </p><p>
  The default action of SELinux is to deny any access. SELinux allows only
  actions that were specifically allowed in the SELinux policy. Another feature
  of SELinux that increases security is that SELinux allows strict confinement
  of processes up to the point where the processes cannot access files of other
  processes on the same system.
 </p><p>
  SELinux was designed to enhance existing security solutions, not to replace
  them. For example, discretionary access control (DAC) is still applied even
  if the system is using SELinux. If DAC denies access first, SELinux is then
  not used as the access was already blocked by another mechanism.
 </p><section class="sect1" id="sec-getting-selinux" data-id-title="Getting SELinux"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.1 </span><span class="title-name">Getting SELinux</span></span> <a title="Permalink" class="permalink" href="cha-selinux-slemicro.html#sec-getting-selinux">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/slemicro_security_selinux.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   SELinux is installed by default when installing SLE Micro by YaST or is part
   of the pre-built images. The default mode is set to enforced on all
   deployment types, and the file system is labelled.
  </p><p>
   If in any case SELinux is not set up on your system, run the following command:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>transactional-update setup-selinux</pre></div><p>
   Reboot your system after the command has finished. The command installs the
   SELinux policy if it is not installed, sets the <code class="literal">enforcing</code>
   SELinux mode and rebuilds <code class="literal">initramfs</code>.
  </p></section><section class="sect1" id="sec-switching-modes" data-id-title="SELinux modes"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.2 </span><span class="title-name">SELinux modes</span></span> <a title="Permalink" class="permalink" href="cha-selinux-slemicro.html#sec-switching-modes">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/slemicro_security_selinux.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   SELinux can run in one of three modes: <code class="literal">disabled</code>,
   <code class="literal">permissive</code>, or <code class="literal">enforcing</code>.
  </p><p>
   Using the <code class="literal">disabled</code> mode means that no rules from the
   SELinux policy are applied and your system is not protected. Therefore, the
   <code class="literal">disabled</code> mode is not recommended.
  </p><p>
   In the <code class="literal">permissive</code> mode, SELinux is active, the security
   policy is loaded, the file system is labeled and access denial entries are
   logged. However, the policy is not enforced and thus no access is actually
   denied.
  </p><p>
   In the <code class="literal">enforced</code> mode, the security policy is applied.
   Each access that is not explicitly allowed by the policy is denied.
  </p><p>
   You can switch between the <code class="literal">enforcing</code> and
   <code class="literal">permissive</code> modes by using the
   <code class="command">setenforce</code> command. Alternatively, you can switch between
   all SELinux modes by editing the <code class="filename">/etc/selinux/config</code>
   configuration file. Changes performed by the <code class="command">setenforce</code>
   command are valid only until the next reboot. For persistent changes of the
   SELinux mode, edit the <code class="filename">/etc/selinux/config</code>
   configuration file.
  </p><p>
   The <code class="command">setenforce</code> command has the following syntax:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>setenforce <em class="replaceable">MODE_ID</em></pre></div><p>
   where <em class="replaceable">MODE_ID</em> is <em class="replaceable">0</em> for
   the <code class="literal">permissive</code> mode or <em class="replaceable">1</em> for
   the <code class="literal">enforced</code> mode.
  </p><p>
   To verify the mode, run the following command:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>getenforce</pre></div><p>
   The command should return <code class="literal">permissive</code> or
   <code class="literal">enforced</code>, depending on the provided
   <em class="replaceable">MODE_ID</em>.
  </p><p>
   To change the SELinux mode permanently, in the file
   <code class="filename">/etc/selinux/config</code>, change the value of
   <code class="literal">SELINUX</code> to <code class="literal">disabled</code>, or
   <code class="literal">permissive</code>, or <code class="literal">enforced</code> as follows:
  </p><div class="verbatim-wrap"><pre class="screen">SELINUX=disabled</pre></div><p>
   The changes in the file are applied after the next reboot.
  </p><div id="id-1.7.3.7.16" data-id-title="Relabeling your system after switching from the disabled mode" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Relabeling your system after switching from the <code class="literal">disabled</code> mode</div><p>
    If you disable SELinux on your system and then enable it later, make sure
    that you relabel your system. When SELinux is disabled, and you perform
    changes to your file system, the changes are not reflected in the context
    anymore (for example, new files do not have any context). Therefore, you
    need to relabel your system by using the <code class="command">restorecon</code>
    command, using the <code class="literal">autorelabel</code> boot parameter, or by
    creating a file that will trigger relabeling on the next boot. To create
    the file, run the following command:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>touch /etc/selinux/.autorelabel</pre></div><p>
    After reboot, the file <code class="filename">/etc/selinux/.autorelabel</code> is
    replaced with another flag file:
    <code class="filename">/etc/selinux/.relabelled</code> to prevent relabeling on
    subsequent reboots.
   </p></div></section><section class="sect1" id="sec-policy-overview" data-id-title="SELinux policy overview"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.3 </span><span class="title-name">SELinux policy overview</span></span> <a title="Permalink" class="permalink" href="cha-selinux-slemicro.html#sec-policy-overview">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/slemicro_security_selinux.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The policy is the key component in SELinux. Your SELinux policy defines
   rules that specify which objects can access which files, directories, ports,
   and processes on a system. To do this, a security context is defined for all
   of these.
  </p><p>
   An SELinux policy contains a huge number of rules. To make it more
   manageable, policies are often split into modules. This allows the
   administrator to switch protection on or off for different parts of the
   system.
  </p><p>
   When compiling the policy for your system, you will have a choice to either
   work with a modular policy, or a monolithic policy, where one huge policy is
   used to protect everything on your system. It is strongly recommended to use
   a modular policy and not a monolithic policy. Modular policies are much
   easier to manage.
  </p><p>
   SLE Micro is shipped with the <code class="literal">targeted</code> SELinux policy.
  </p><section class="sect2" id="sec-policy-containers" data-id-title="Creating policies for containers"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">1.3.1 </span><span class="title-name">Creating policies for containers</span></span> <a title="Permalink" class="permalink" href="cha-selinux-slemicro.html#sec-policy-containers">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/slemicro_security_selinux.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    <span class="productname"><span class="phrase">SLE Micro</span></span> is delivered with a policy that by default does not
    allow containers to access files outside the container data. On the
    other hand, all network access is allowed. Typically, containers are
    created with bind mounts and should be able to access other directories
    like <code class="filename">/home</code> or <code class="filename">/var</code>.
    You may want a possibility to allow access to these directories or, on the
    contrary, restrict some ports to the container even if SELinux is used
    on your system. In this case, you need to create new policy rules that
    enable or disable the access. <span class="productname"><span class="phrase">SLE Micro</span></span> provides the Udica tool for
    this purpose.
   </p><p>
    The following procedure describes how to create a custom policy for your
    containers:
   </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Make sure that SELinux is in the enforcing mode. For details, refer to
      <a class="xref" href="cha-selinux-slemicro.html#sec-switching-modes" title="1.2. SELinux modes">Section 1.2, “SELinux modes”</a>.
     </p></li><li class="step"><p>
      Start a container using the following parameters:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>podman run -v /home:/home:rw -v /var/:/var/:rw -p 21:21 -it sle15 bash</pre></div><p>
      The container runs with the default policy that does not allow access to
      the mount points but does not restrict other ports.
     </p></li><li class="step"><p>
      You can exit the container.
     </p></li><li class="step"><p>
      Obtain the container ID:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>podman ps -a

CONTAINER ID  IMAGE                                                                              COMMAND     CREATED        STATUS            PORTS               NAMES
e59f9d0f86f2  registry.opensuse.org/devel/bci/tumbleweed/containerfile/opensuse/bci/ruby:latest  /bin/bash   8 minutes ago  Up 8 seconds ago  0.0.0.0:21-&gt;21/tcp  zen_ramanujan</pre></div></li><li class="step"><p>
      Create a JSON file that Udica will use to create a custom policy for the
      container:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>podman inspect e59f9d0f86f2 &gt; <em class="replaceable">OUTPUT_JSON_FILE</em></pre></div><p>
      For example, substitute <em class="replaceable">OUTPUT_JSON_FILE</em> with
      <code class="filename">container.json</code>
     </p></li><li class="step"><p>
      Run Udica to generate a policy according to the container parameters:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>udica -j <em class="replaceable">OUTPUT_JSON_FILE</em>  <em class="replaceable">CUSTOM_CONTAINER_POLICY</em></pre></div><p>
      For example:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>udica -j container.json custom_policy</pre></div></li><li class="step"><p>
      According to the provided instructions, load the policy modules by
      running:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>semodule -i custom_policy.cil /usr/share/udica/templates/{base_container.cil,net_container.cil,home_container.cil}</pre></div></li><li class="step"><p>
      Run a container with the new policy module by using the
      <code class="option">--security-opt</code> option as follows:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>podman run --security-opt label=type:custom_policy.process -v /home:/home:rw -v /var/:/var/:rw -p 21:21 -it sle15 bash</pre></div></li></ol></div></div></section></section><section class="sect1" id="sec-security-context" data-id-title="SELinux security context"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.4 </span><span class="title-name">SELinux security context</span></span> <a title="Permalink" class="permalink" href="cha-selinux-slemicro.html#sec-security-context">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/slemicro_security_selinux.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The security context is a set of information assigned to a file or a
   process. It consists of SELinux user, role, type, level and category. This
   information is used to make access control decisions.
  </p><div class="variablelist"><div class="title-container"><div class="variablelist-title-wrap"><div class="variablelist-title"><span class="title-number-name"><span class="title-name">SELinux context fields </span></span><a title="Permalink" class="permalink" href="cha-selinux-slemicro.html#id-1.7.3.9.3">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/slemicro_security_selinux.xml" title="Edit source document"> </a></div></div><dl class="variablelist"><dt id="id-1.7.3.9.3.2"><span class="term">SELinux user</span></dt><dd><p>
      is an identity defined in the policy that is authorized for a specific
      set of roles and for a specific <span class="emphasis"><em>level</em></span> range. Each
      Linux user is mapped to an SELinux user. SELinux does not use the list of
      user accounts maintained by Linux in <code class="filename">/etc/passwd</code>,
      but uses its own database and mapping. By convention, the identity name
      is suffixed with <code class="literal">_u</code>, for example:
      <code class="literal">user_u</code>.
     </p></dd><dt id="id-1.7.3.9.3.3"><span class="term">role</span></dt><dd><p>
      defines a set of permissions that a user can be granted. A role defines
      which <span class="emphasis"><em>types</em></span> a user assigned to this role can access.
      By convention, the role name is suffixed with <code class="literal">_r</code>, for
      example: <code class="literal">system_r</code>.
     </p></dd><dt id="id-1.7.3.9.3.4"><span class="term">type</span></dt><dd><p>
      conveys information on how particular files and processes can interact. A
      process consists of files with a concrete SELinux type, and it cannot
      access files outside of this type. By convention, the type name is
      suffixed with <code class="literal">_t</code>, for example:
      <code class="literal">var_t</code>.
     </p></dd><dt id="id-1.7.3.9.3.5"><span class="term">level</span></dt><dd><p>
      is an optional attribute that specifies the range of levels of clearance
      in the multilevel security.
     </p></dd><dt id="id-1.7.3.9.3.6"><span class="term">category</span></dt><dd><p>
      is an optional attribute that allows you to add categories to processes,
      files, and users. A user can then access files that have the same
      category.
     </p></dd></dl></div></section><section class="sect1" id="sec-managing-modes" data-id-title="Tools for managing SELinux"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.5 </span><span class="title-name">Tools for managing SELinux</span></span> <a title="Permalink" class="permalink" href="cha-selinux-slemicro.html#sec-managing-modes">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/slemicro_security_selinux.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   SLE Micro provides you with tools to manage SELinux on your system. If, in any
   case, the below described tools are not installed on your system, install
   the tools by running:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>transactional-update pkg install policycoreutils-python-utils</pre></div><p>
   After successful installation, reboot the system.
  </p><div class="variablelist"><div class="title-container"><div class="variablelist-title-wrap"><div class="variablelist-title"><span class="title-number-name"><span class="title-name">SELinux commands </span></span><a title="Permalink" class="permalink" href="cha-selinux-slemicro.html#id-1.7.3.10.5">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/slemicro_security_selinux.xml" title="Edit source document"> </a></div></div><dl class="variablelist"><dt id="id-1.7.3.10.5.2"><span class="term"><code class="command">chcon</code></span></dt><dd><p>
      changes the security context of provided files to the context provided to
      the command
     </p></dd><dt id="id-1.7.3.10.5.3"><span class="term"><code class="command">getenforce</code></span></dt><dd><p>
      displays the current SELinux mode
     </p></dd><dt id="id-1.7.3.10.5.4"><span class="term"><code class="command">fixfiles</code></span></dt><dd><p>
      enables you to check for issues with a mismatched security context and
      then fix them
     </p></dd><dt id="id-1.7.3.10.5.5"><span class="term"><code class="command">ls -Z <em class="replaceable">PATH</em></code></span></dt><dd><p>
      shows security context of all files/directories in the specified
      <em class="replaceable">PATH</em>, for example:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>ls -Z /
system_u:object_r:bin_t:s0 bin
system_u:object_r:boot_t:s0 boot
system_u:object_r:device_t:s0 dev
system_u:object_r:etc_t:s0  etc
system_u:object_r:home_root_t:s0 home
system_u:object_r:lib_t:s0 lib
system_u:object_r:lib_t:s0 lib64
system_u:object_r:mnt_t:s0 mnt
system_u:object_r:usr_t:s0 opt
system_u:object_r:proc_t:s0 proc
system_u:object_r:default_t:s0 root
system_u:object_r:var_run_t:s0 run
system_u:object_r:bin_t:s0 sbin
system_u:object_r:var_t:s0 srv
system_u:object_r:sysfs_t:s0 sys
system_u:object_r:tmp_t:s0 tmp
system_u:object_r:usr_t:s0 usr
system_u:object_r:var_t:s0 var</pre></div></dd><dt id="id-1.7.3.10.5.6"><span class="term"><code class="command">restorecon</code></span></dt><dd><p>
      restores a file context to the default value (as stored in the SELinux
      policy)
     </p></dd><dt id="id-1.7.3.10.5.7"><span class="term"><code class="command">semanage</code></span></dt><dd><p>
      enables you to adjust context and configure certain elements of SELinux
      policy. The command provides several subcommands. For details, use:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>semanage --help</pre></div></dd><dt id="id-1.7.3.10.5.8"><span class="term"><code class="command">setenforce</code></span></dt><dd><p>
      enables you to temporarily set a SELinux mode to
      <code class="literal">permissive</code> or <code class="literal">enforcing</code>
     </p></dd><dt id="id-1.7.3.10.5.9"><span class="term"><code class="command">sestatus</code></span></dt><dd><p>
      displays the current status of SELinux, for example:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>sestatus

SELinux status:               enabled
SElinuxfs mount:              /sys/fs/selinux
SELinux root directory:       /etc/selinux
Loaded policy name:           targeted
Current mode:                 enforcing
Mode from config file:        enforcing
Policy MLS status:            enabled
Policy deny_unknown status:   allowed
Memory protection checking:   requested (insecure)
Max kernel policy version:    31</pre></div></dd></dl></div><div id="id-1.7.3.10.6" data-id-title="The Z option available to other commands" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: The <code class="literal">Z</code> option available to other commands</div><p>
    You can also use the <code class="literal">Z</code> option with other commands, for
    example: <code class="command">cp, ps</code>, and <code class="command">id</code>.
   </p></div></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="preface-security.html"><span class="pagination-relation">Previous</span><span class="pagination-label">Preface</span></a> </div><div><a class="pagination-link next" href="cha-security-attestation.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 2 </span>Remote attestation using Keylime</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="section"><a href="cha-selinux-slemicro.html#sec-getting-selinux"><span class="title-number">1.1 </span><span class="title-name">Getting SELinux</span></a></span></li><li><span class="section"><a href="cha-selinux-slemicro.html#sec-switching-modes"><span class="title-number">1.2 </span><span class="title-name">SELinux modes</span></a></span></li><li><span class="section"><a href="cha-selinux-slemicro.html#sec-policy-overview"><span class="title-number">1.3 </span><span class="title-name">SELinux policy overview</span></a></span></li><li><span class="section"><a href="cha-selinux-slemicro.html#sec-security-context"><span class="title-number">1.4 </span><span class="title-name">SELinux security context</span></a></span></li><li><span class="section"><a href="cha-selinux-slemicro.html#sec-managing-modes"><span class="title-number">1.5 </span><span class="title-name">Tools for managing SELinux</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>