<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLES 12 SP4 | Deployment Guide | Upgrading Offline</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="Upgrading Offline | SLES 12 SP4"/>
<meta name="description" content="This chapter describes how to upgrade an existing SUSE…"/>
<meta name="product-name" content="SUSE Linux Enterprise Server"/>
<meta name="product-number" content="12 SP4"/>
<meta name="book-title" content="Deployment Guide"/>
<meta name="chapter-title" content="Chapter 20. Upgrading Offline"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="fs@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE Linux Enterprise Server 12 SP4"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Upgrading Offline | SLES 12 SP4"/>
<meta property="og:description" content="This chapter describes how to upgrade an existing SUSE Linux Enterprise installation using YaST which is booted from an inst…"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Upgrading Offline | SLES 12 SP4"/>
<meta name="twitter:description" content="This chapter describes how to upgrade an existing SUSE Linux Enterprise installation using YaST which is booted from an inst…"/>
<link rel="prev" href="cha-update-sle.html" title="Chapter 19. Upgrading SUSE Linux Enterprise"/><link rel="next" href="cha-update-online.html" title="Chapter 21. Upgrading Online"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/sle_update_offline.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Deployment Guide</a><span> / </span><a class="crumb" href="part-update.html">Updating and Upgrading SUSE Linux Enterprise</a><span> / </span><a class="crumb" href="cha-update-offline.html">Upgrading Offline</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">Deployment Guide</div><ol><li><a href="preface-deployment.html" class=" "><span class="title-number"> </span><span class="title-name">About This Guide</span></a></li><li><a href="cha-planning.html" class=" "><span class="title-number">1 </span><span class="title-name">Planning for <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span></a></li><li><a href="part-prep.html" class="has-children "><span class="title-number">I </span><span class="title-name">Installation Preparation</span></a><ol><li><a href="cha-x86.html" class=" "><span class="title-number">2 </span><span class="title-name">Installation on AMD64 and Intel 64</span></a></li><li><a href="cha-power.html" class=" "><span class="title-number">3 </span><span class="title-name">Installation on IBM POWER</span></a></li><li><a href="cha-zseries.html" class=" "><span class="title-number">4 </span><span class="title-name">Installation on IBM IBM Z</span></a></li><li><a href="cha-aarch64.html" class=" "><span class="title-number">5 </span><span class="title-name">Installation on Arm AArch64</span></a></li></ol></li><li><a href="part-mandeploy.html" class="has-children "><span class="title-number">II </span><span class="title-name">The Installation Workflow</span></a><ol><li><a href="cha-inst.html" class=" "><span class="title-number">6 </span><span class="title-name">Installation with YaST</span></a></li><li><a href="cha-deployment-clone-image.html" class=" "><span class="title-number">7 </span><span class="title-name">Cloning Disk Images</span></a></li></ol></li><li><a href="part-installserver.html" class="has-children "><span class="title-number">III </span><span class="title-name">Setting Up an Installation Server</span></a><ol><li><a href="cha-deployment-instserver.html" class=" "><span class="title-number">8 </span><span class="title-name">Setting Up the Server Holding the Installation Sources</span></a></li><li><a href="cha-deployment-prep-boot.html" class=" "><span class="title-number">9 </span><span class="title-name">Preparing the Boot of the Target System</span></a></li></ol></li><li><a href="part-remoteinstall.html" class="has-children "><span class="title-number">IV </span><span class="title-name">Remote Installation</span></a><ol><li><a href="cha-deployment-remoteinst.html" class=" "><span class="title-number">10 </span><span class="title-name">Remote Installation</span></a></li></ol></li><li><a href="part-sysconfig.html" class="has-children "><span class="title-number">V </span><span class="title-name">Initial System Configuration</span></a><ol><li><a href="cha-y2-hw.html" class=" "><span class="title-number">11 </span><span class="title-name">Setting Up Hardware Components with YaST</span></a></li><li><a href="cha-advdisk.html" class=" "><span class="title-number">12 </span><span class="title-name">Advanced Disk Setup</span></a></li><li><a href="cha-y2-sw.html" class=" "><span class="title-number">13 </span><span class="title-name">Installing or Removing Software</span></a></li><li><a href="cha-add-ons.html" class=" "><span class="title-number">14 </span><span class="title-name">Installing Modules, Extensions, and Third Party Add-On Products</span></a></li><li><a href="cha-tuning-multikernel.html" class=" "><span class="title-number">15 </span><span class="title-name">Installing Multiple Kernel Versions</span></a></li><li><a href="cha-y2-userman.html" class=" "><span class="title-number">16 </span><span class="title-name">Managing Users with YaST</span></a></li><li><a href="cha-y2-lang.html" class=" "><span class="title-number">17 </span><span class="title-name">Changing Language and Country Settings with YaST</span></a></li></ol></li><li class="active"><a href="part-update.html" class="has-children you-are-here"><span class="title-number">VI </span><span class="title-name">Updating and Upgrading SUSE Linux Enterprise</span></a><ol><li><a href="cha-update-background.html" class=" "><span class="title-number">18 </span><span class="title-name">Life Cycle and Support</span></a></li><li><a href="cha-update-sle.html" class=" "><span class="title-number">19 </span><span class="title-name">Upgrading SUSE Linux Enterprise</span></a></li><li><a href="cha-update-offline.html" class=" you-are-here"><span class="title-number">20 </span><span class="title-name">Upgrading Offline</span></a></li><li><a href="cha-update-online.html" class=" "><span class="title-number">21 </span><span class="title-name">Upgrading Online</span></a></li><li><a href="cha-update-backporting.html" class=" "><span class="title-number">22 </span><span class="title-name">Backporting Source Code</span></a></li></ol></li><li><a href="app-deployment-docupdates.html" class=" "><span class="title-number">A </span><span class="title-name">Documentation Updates</span></a></li><li><a href="bk02apb.html" class=" "><span class="title-number">B </span><span class="title-name">GNU licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="cha-update-offline" data-id-title="Upgrading Offline"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">12 SP4</span></span></span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">20 </span><span class="title-name">Upgrading Offline</span></span> <a title="Permalink" class="permalink" href="cha-update-offline.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
    This chapter describes how to upgrade an existing SUSE Linux Enterprise installation using YaST which is booted from an installation medium. The YaST
    installer can, for example, be started from a DVD, over the network, or from
    the hard disk the system resides on.
   </p></div></div></div></div><section class="sect1" id="sec-update-offline-conceptual-overview" data-id-title="Conceptual Overview"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">20.1 </span><span class="title-name">Conceptual Overview</span></span> <a title="Permalink" class="permalink" href="cha-update-offline.html#sec-update-offline-conceptual-overview">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Before upgrading your system, read <a class="xref" href="cha-update-sle.html#sec-update-prep" title="19.3. Preparing the System">Section 19.3, “Preparing the System”</a>
   first.
  </p><p>
   To upgrade your system, boot from an installation source, as you would
   do for a fresh installation. However, when the boot
   screen appears, you need to select <span class="guimenu">Upgrade</span> (instead of
   <span class="guimenu">Installation</span>). The upgrade can be started from:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="formalpara-title">Removable Media. </span>
      This includes media such as CDs, DVDs or USB mass storage devices.
      For more information, see
      <a class="xref" href="cha-update-offline.html#sec-update-offline-dvd" title="20.2. Starting the Upgrade from an Installation Medium">Section 20.2, “Starting the Upgrade from an Installation Medium”</a>.
     </p></li><li class="listitem"><p><span class="formalpara-title">Network Resource. </span>
      You can either boot from the local medium
      and then select the respective network installation type, or boot via PXE.
      For more information, see
      <a class="xref" href="cha-update-offline.html#sec-update-offline-network" title="20.3. Starting the Upgrade from a Network Source">Section 20.3, “Starting the Upgrade from a Network Source”</a>.
     </p></li></ul></div></section><section class="sect1" id="sec-update-offline-dvd" data-id-title="Starting the Upgrade from an Installation Medium"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">20.2 </span><span class="title-name">Starting the Upgrade from an Installation Medium</span></span> <a title="Permalink" class="permalink" href="cha-update-offline.html#sec-update-offline-dvd">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The procedure below describes booting from a DVD, but you can
   also use another local installation medium like an ISO image on a USB mass
   storage device. The medium and boot method to select depends on the system
   architecture and on whether the machine has a traditional BIOS or UEFI.
  </p><div class="procedure" id="pro-update-sle12-offline-dvd" data-id-title="Manually Upgrading from SLE 11 SP4 to SLE 12 SP4"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 20.1: </span><span class="title-name">Manually Upgrading from SLE 11 SP4 to SLE 12 SP4 </span></span><a title="Permalink" class="permalink" href="cha-update-offline.html#pro-update-sle12-offline-dvd">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Select and prepare a boot medium, see <a class="xref" href="cha-inst.html#sec-i-yast2-startup" title="6.2. System Start-up for Installation">Section 6.2, “System Start-up for Installation”</a>.
    </p></li><li class="step"><p>
     Insert DVD 1 of the SUSE Linux Enterprise 12 SP4 installation medium and boot your
     machine. A <span class="guimenu">Welcome</span> screen is displayed, followed by
     the boot screen.
    </p></li><li class="step"><p>
     Start up the system by selecting <span class="emphasis"><em>Upgrade</em></span>
     in the boot menu.
    </p></li><li class="step"><p>
     Proceed with the upgrade process as described in
     <a class="xref" href="cha-update-offline.html#sec-update-sle12-start-upgr-after-boot" title="20.5. Upgrading SUSE Linux Enterprise">Section 20.5, “Upgrading SUSE Linux Enterprise”</a>.
    </p></li></ol></div></div></section><section class="sect1" id="sec-update-offline-network" data-id-title="Starting the Upgrade from a Network Source"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">20.3 </span><span class="title-name">Starting the Upgrade from a Network Source</span></span> <a title="Permalink" class="permalink" href="cha-update-offline.html#sec-update-offline-network">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To start an upgrade from a network installation source, make
   sure that the following requirements are met:
  </p><div class="variablelist"><div class="title-container"><div class="variablelist-title-wrap"><div class="variablelist-title"><span class="title-number-name"><span class="title-name">Requirements for Upgrading from a Network Installation Source </span></span><a title="Permalink" class="permalink" href="cha-update-offline.html#id-1.4.9.4.5.3">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div><dl class="variablelist"><dt id="id-1.4.9.4.5.3.2"><span class="term">Network Installation Source</span></dt><dd><p>
      A network installation source is set up according to
      <a class="xref" href="cha-deployment-instserver.html" title="Chapter 8. Setting Up the Server Holding the Installation Sources">Chapter 8, <em>Setting Up the Server Holding the Installation Sources</em></a>.
     </p></dd><dt id="id-1.4.9.4.5.3.3"><span class="term">Network Connection and Network Services</span></dt><dd><p>
      Both the installation server and the target machine must have a functioning
      network connection. Required network services are:
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Domain Name Service</p></li><li class="listitem"><p>DHCP (only needed for booting via PXE, IP can be set manually during setup)</p></li><li class="listitem"><p>OpenSLP (optional)</p></li></ul></div></dd><dt id="id-1.4.9.4.5.3.4"><span class="term">Boot Medium</span></dt><dd><p>
      You have a <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> DVD 1 (or a local ISO image) at hand to boot the target
      system <span class="emphasis"><em>or</em></span> a target system that is set up for
      booting via PXE according to
      <a class="xref" href="cha-deployment-prep-boot.html#sec-deployment-prep-boot-pxeprep" title="9.5. Preparing the Target System for PXE Boot">Section 9.5, “Preparing the Target System for PXE Boot”</a>.
      Refer to <a class="xref" href="cha-deployment-remoteinst.html" title="Chapter 10. Remote Installation">Chapter 10, <em>Remote Installation</em></a> for in-depth
      information on starting the upgrade from a remote server.
     </p></dd></dl></div><section class="sect2" id="sec-update-sle-manual-network-boot-from-dvd" data-id-title="Manually Upgrading via Network Installation Source—Booting from DVD"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">20.3.1 </span><span class="title-name">Manually Upgrading via Network Installation Source—Booting from DVD</span></span> <a title="Permalink" class="permalink" href="cha-update-offline.html#sec-update-sle-manual-network-boot-from-dvd">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    This procedure describes booting from a DVD as an example, but you can
    also use another local installation medium like an ISO image on a USB mass
    storage device. The way to select the boot method and to start up the
    system from the medium depends on the system architecture and on whether
    the machine has a traditional BIOS or UEFI. For details, see the links
    below.
   </p><div class="procedure" id="pro-update-sle-manual-network-boot-from-dvd"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Insert DVD 1 of the SUSE Linux Enterprise 12 SP4 installation media and boot your
      machine. A <span class="guimenu">Welcome</span> screen is displayed, followed by
      the boot screen.
     </p></li><li class="step"><p>
      Select the type of network installation source you want to use (FTP,
      HTTP, NFS, SMB, or SLP). Usually you get this choice by pressing
      <span class="keycap">F4</span>, but in case your machine is equipped with UEFI
      instead of a traditional BIOS, you may need to manually adjust boot
      parameters. For details, see <a class="xref" href="cha-inst.html#sec-i-yast2-source-net">Installing from a Network Server</a> in
      <a class="xref" href="cha-inst.html" title="Chapter 6. Installation with YaST">Chapter 6, <em>Installation with YaST</em></a>.
     </p></li><li class="step"><p>
      Proceed with the upgrade process as described in
      <a class="xref" href="cha-update-offline.html#sec-update-sle12-start-upgr-after-boot" title="20.5. Upgrading SUSE Linux Enterprise">Section 20.5, “Upgrading SUSE Linux Enterprise”</a>.
     </p></li></ol></div></div></section><section class="sect2" id="sec-update-sle-manual-network-pxe-boot" data-id-title="Manually Upgrading via Network Installation Source—Booting via PXE"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">20.3.2 </span><span class="title-name">Manually Upgrading via Network Installation Source—Booting via PXE</span></span> <a title="Permalink" class="permalink" href="cha-update-offline.html#sec-update-sle-manual-network-pxe-boot">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    To perform an upgrade from a network installation source using PXE boot,
    proceed as follows:
   </p><div class="procedure" id="pro-update-sle-manual-network-pxe-boot"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Adjust the setup of your DHCP server to provide the address information
      needed for booting via PXE. For details, see
      <a class="xref" href="cha-deployment-prep-boot.html#sec-deployment-prep-boot-pxeprep" title="9.5. Preparing the Target System for PXE Boot">Section 9.5, “Preparing the Target System for PXE Boot”</a>.
     </p></li><li class="step"><p>
      Set up a TFTP server to hold the boot image needed for booting via PXE.
      Use DVD 1 of your SUSE Linux Enterprise 12 SP4 installation media for this or follow the
      instructions in <a class="xref" href="cha-deployment-prep-boot.html#sec-deployment-prep-boot-tftp" title="9.2. Setting Up a TFTP Server">Section 9.2, “Setting Up a TFTP Server”</a>.
     </p></li><li class="step"><p>
      Prepare PXE Boot and Wake-on-LAN on the target machine.
     </p></li><li class="step"><p>
      Initiate the boot of the target system and use VNC to remotely connect to
      the installation routine running on this machine. For more information,
      see <a class="xref" href="cha-deployment-remoteinst.html#sec-deployment-remoteinst-monitor-vnc" title="10.3.1. VNC Installation">Section 10.3.1, “VNC Installation”</a>.
     </p></li><li class="step"><p>
      Proceed with the upgrade process as described in
      <a class="xref" href="cha-update-offline.html#sec-update-sle12-start-upgr-after-boot" title="20.5. Upgrading SUSE Linux Enterprise">Section 20.5, “Upgrading SUSE Linux Enterprise”</a>.
     </p></li></ol></div></div></section></section><section class="sect1" id="sec-update-offline-automated" data-id-title="Enabling Automatic Upgrade"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">20.4 </span><span class="title-name">Enabling Automatic Upgrade</span></span> <a title="Permalink" class="permalink" href="cha-update-offline.html#sec-update-offline-automated">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The upgrade process can be executed automatically. To enable the automatic
   update, the kernel parameter <code class="literal">autoupgrade=1</code>
   must be set. The parameter can be set on boot in the <code class="literal">Boot Options</code>
   field. For details, see
   <a class="link" href="https://www.suse.com/documentation/sles-12/book_autoyast/data/introduction.html" target="_blank">https://www.suse.com/documentation/sles-12/book_autoyast/data/introduction.html</a>.
  </p></section><section class="sect1" id="sec-update-sle12-start-upgr-after-boot" data-id-title="Upgrading SUSE Linux Enterprise"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">20.5 </span><span class="title-name">Upgrading SUSE Linux Enterprise</span></span> <a title="Permalink" class="permalink" href="cha-update-offline.html#sec-update-sle12-start-upgr-after-boot">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   
  </p><p>
   Before you upgrade your system, read <a class="xref" href="cha-update-sle.html#sec-update-prep" title="19.3. Preparing the System">Section 19.3, “Preparing the System”</a>
   first. To perform an automated migration, proceed as follows:
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     After you have booted (either from an installation medium or the network),
     select the <span class="guimenu">Upgrade</span> entry on the boot screen. If you want
     to do the upgrade as described in the next steps manually, you need to
     disable the automatic upgrade process. Refer to
     <a class="xref" href="cha-update-offline.html#sec-update-offline-automated" title="20.4. Enabling Automatic Upgrade">Section 20.4, “Enabling Automatic Upgrade”</a>.
    </p><div id="id-1.4.9.4.7.4.1.2" data-id-title="Wrong Choice May Lead to Data Loss" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: Wrong Choice May Lead to Data Loss</div><p>
      If you select <span class="guimenu">Installation</span> instead of
      <span class="guimenu">Upgrade</span>, data may be lost later. You need to be extra
      careful  not to destroy your data partitions by doing a fresh
      installation.
     </p><p>
      Make sure to select <span class="guimenu">Upgrade</span> here.
     </p></div><p>
     YaST starts the installation system.
    </p></li><li class="step"><p>
     On the <span class="guimenu">Welcome</span> screen, choose
     <span class="guimenu">Language</span> and <span class="guimenu">Keyboard</span> and accept the
     license agreement. Proceed with <span class="guimenu">Next</span>.
    </p><p>
     YaST checks your partitions for already installed SUSE Linux Enterprise systems.
    </p></li><li class="step"><p>
     On the <span class="guimenu">Select for Upgrade</span> screen, select the partition
     to upgrade and click <span class="guimenu">Next</span>.
    </p><p>
     YaST mounts the selected partition and displays all repositories that
     have been found on the partition that you want to upgrade.
    </p></li><li class="step"><p>
     On the <span class="guimenu">Previously Used Repositories</span> screen, adjust the
     status of the repositories: enable those you want to include in the
     upgrade process and disable any repositories that are no longer needed.
     Proceed with <span class="guimenu">Next</span>.
    </p></li><li class="step"><p>
     On the <span class="guimenu">Registration</span> screen, select whether to register
     the upgraded system now (by entering your registration data and clicking
     <span class="guimenu">Next</span>) or if to <span class="guimenu">Skip Registration</span>.
     For details on registering your system, see
     <a class="xref" href="cha-update-offline.html#sec-update-registersystem" title="20.8. Registering Your System">Section 20.8, “Registering Your System”</a>.
    </p></li><li class="step"><p>
     Review the <span class="guimenu">Installation Settings</span> for the upgrade,
     especially the <span class="guimenu">Update Options</span>. Choose between the
     following options:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       <span class="guimenu">Only Update Installed Packages</span>, in which case you
       might miss new features shipped with the latest SUSE Linux Enterprise version.
      </p></li><li class="listitem"><p>
       <span class="guimenu">Update with Installation of New Software and
       Features</span>. Click <span class="guimenu">Select Patterns</span> if you want
       to enable or disable patterns and packages according to your wishes.
      </p></li></ul></div><div id="id-1.4.9.4.7.4.6.3" data-id-title="Choice of Desktop" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Choice of Desktop</div><p>
      If you used KDE before upgrading to SUSE Linux Enterprise 12
      (<code class="varname">DEFAULT_WM</code> in
      <code class="filename">/etc/sysconfig/windowmanager</code> was set to
      <code class="literal">kde*</code>), your desktop environment will automatically be
      replaced with GNOME after the upgrade. By default, the KDM display
      manager will be replaced with GDM.
     </p><p>
      To change the choice of desktop environment or window manager, adjust the
      software selection by clicking <span class="guimenu">Select Patterns</span>.
     </p></div></li><li class="step"><p>
     If all settings are according to your wishes, start the installation and
     removal procedure by clicking <span class="guimenu">Update</span>.
    </p><div id="id-1.4.9.4.7.4.7.2" data-id-title="Upgrade Failure on SMT Clients" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Upgrade Failure on SMT Clients</div><p>
      If the machine to upgrade is an SMT client, and the upgrade fails,
      see <a class="xref" href="cha-update-sle.html#pro-sec-update-prep-smt-de-register" title="De-registering a SUSE Linux Enterprise Client from an SMT Server">Procedure 19.1, “De-registering a SUSE Linux Enterprise Client from an SMT Server”</a> and restart the
      upgrade procedure afterward.
     </p></div></li><li class="step"><p>
     After the upgrade process has finished successfully, perform post-upgrade
     checks as described in <a class="xref" href="cha-update-offline.html#sec-upgrade-postupgrade-checks" title="20.5.1. Post-upgrade Checks">Section 20.5.1, “Post-upgrade Checks”</a>.
    </p></li></ol></div></div><section class="sect2" id="sec-upgrade-postupgrade-checks" data-id-title="Post-upgrade Checks"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">20.5.1 </span><span class="title-name">Post-upgrade Checks</span></span> <a title="Permalink" class="permalink" href="cha-update-offline.html#sec-upgrade-postupgrade-checks">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      Check for any <span class="quote">“<span class="quote">orphaned packages</span>”</span>. Orphaned packages are
      packages which belong to no active repository anymore. The following
      command gives you a list of these:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>zypper packages --orphaned</pre></div><p>
      With this list, you can decide if a package is still needed or can be
      uninstalled safely.
     </p></li><li class="listitem"><p>
      Check for any <code class="filename">*.rpmnew</code> and
      <code class="filename">*.rpmsave</code> files, examine their content, and possibly
      merge desirable changes.  When an upgrade includes changes to a default
      configuration file, instead of overwriting the configuration file, the
      package will write one of these file types.  While
      <code class="filename">*.rpmnew</code> contains the new default configuration and
      leaves your original file untouched, <code class="filename">*.rpmsave</code> is a
      copy of your original configuration that has been replaced by the new
      default file.
     </p><p>
      You do not need to search the whole file system for
      <code class="filename">*.rpmnew</code> and <code class="filename">*.rpmsave</code> files,
      the most important are stored in the <code class="filename">/etc</code>
      directory.  Use the following command to list them:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>find /etc -print | egrep "rpmnew$|rpmsave$"</pre></div></li></ul></div></section></section><section class="sect1" id="sec-update-sle-manager" data-id-title="Updating via SUSE Manager"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">20.6 </span><span class="title-name">Updating via SUSE Manager</span></span> <a title="Permalink" class="permalink" href="cha-update-offline.html#sec-update-sle-manager">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   SUSE Manager is a server solution for providing updates, patches, and
   security fixes for SUSE Linux Enterprise clients. It comes with a set of tools and a
   Web-based user interface for management tasks. See <a class="link" href="https://www.suse.com/products/suse-manager/" target="_blank">https://www.suse.com/products/suse-manager/</a> for more
   information about SUSE Manager.
  </p><p>
   SUSE Manager can support you with SP Migration or a full system upgrade.
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.4.9.4.8.4.1"><span class="term">SP Migration</span></dt><dd><p>
      SP Migration allows migrating from one Service Pack (SP) to
      another within one major version (for example, from SLES 12 SP1
      to 12 SP2).  For more information, see the <em class="citetitle">SUSE Manager
      Best Practices</em>, chapter <span class="quote">“<span class="quote">Client
      Migration</span>”</span>:
     </p><p>
       <a class="link" href="https://www.suse.com/documentation/suse-manager/" target="_blank">https://www.suse.com/documentation/suse-manager/</a>,
      version 3.1.
     </p></dd><dt id="id-1.4.9.4.8.4.2"><span class="term">System Upgrade</span></dt><dd><p>
      With SUSE Manager you can perform a system upgrade.  With the
      integrated AutoYaST technology, upgrades from one major version to the
      next are possible (for example, from SLES 11 SP3 to 12 SP2).  For
      more information, see the <em class="citetitle">SUSE Manager Best
      Practices</em>, chapter <span class="quote">“<span class="quote">Client Migration</span>”</span>
     </p><p>
      <a class="link" href="https://www.suse.com/documentation/suse-manager/" target="_blank">https://www.suse.com/documentation/suse-manager/</a>:
      version 3.1.
     </p></dd></dl></div><p>
  
</p></section><section class="sect1" id="sec-update-reg-status-after-rollback" data-id-title="Updating Registration Status after Rollback"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">20.7 </span><span class="title-name">Updating Registration Status after Rollback</span></span> <a title="Permalink" class="permalink" href="cha-update-offline.html#sec-update-reg-status-after-rollback">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   When performing a service pack upgrade, it is necessary to change the
   configuration on the registration server to provide access to the new
   repositories. If the upgrade process is interrupted or reverted (via
   restoring from a backup or snapshot), the information on the registration
   server is inconsistent with the status of the system. This may lead to you
   being prevented from accessing update repositories or to wrong repositories
   being used on the client.
  </p><p>
   When a rollback is done via Snapper, the system will notify the registration
   server to ensure access to the correct repositories is set up during the
   boot process. If the system was restored any other way or the communication
   with the registration server failed for any reason (for example, because the
   server was not accessible because of network issues), trigger the rollback
   on the client manually by calling:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="command">snapper</code> rollback</pre></div><p>
   We suggest always checking that the correct repositories are set up on the
   system, especially after refreshing the service using:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="command">zypper</code> ref -s</pre></div><p>
   This functionality is available in the
   <span class="package">rollback-helper</span>
   package.
  </p></section><section class="sect1" id="sec-update-registersystem" data-id-title="Registering Your System"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">20.8 </span><span class="title-name">Registering Your System</span></span> <a title="Permalink" class="permalink" href="cha-update-offline.html#sec-update-registersystem">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/sle_update_offline.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   If you skipped the registration step during the installation, you can
   register your system at any time using the <span class="guimenu">Product
   Registration</span> module in YaST.
  </p><p>
   Registering your systems has these advantages:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Eligibility for support
    </p></li><li class="listitem"><p>
     Availability of security updates and bug fixes
    </p></li><li class="listitem"><p>
     Access to SUSE Customer Center
    </p></li></ul></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Start YaST and select <span class="guimenu">Software</span> › <span class="guimenu">Product Registration</span> to open the
     <span class="guimenu">Registration</span> dialog.
    </p></li><li class="step"><p>
     Provide the <span class="guimenu">E-mail</span> address associated with the SUSE
     account you or your organization uses to manage subscriptions. In case you
     do not have a SUSE account yet, go to the SUSE Customer Center home page
     (<a class="link" href="https://scc.suse.com/" target="_blank">https://scc.suse.com/</a>) to create one.
    </p></li><li class="step"><p>
     Enter the <span class="guimenu">Registration Code</span> you received with your copy
     of <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>.
    </p></li><li class="step" id="step-y2-register-final"><p>
     To start the registration, proceed with <span class="guimenu">Next</span>. If
     one or more local registration servers are available on your network, you
     can choose one of them from a list. Alternatively, to ignore the local
     registration servers and  register with the default SUSE registration server,
     choose <span class="guimenu">Cancel</span>.
    </p><p>
     During the registration, the online update repositories will be added to
     your upgrade setup. When finished, you can choose whether to install the
     latest available package versions from the update repositories. This
     provides a clean upgrade path for all packages and ensures that
     <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> is upgraded with the latest security updates available. If
     you choose <span class="guimenu">No</span>, all packages will be installed from the
     installation media. Proceed with <span class="guimenu">Next</span>.
    </p><p>
     After successful registration, YaST lists extensions, add-ons, and
     modules that are available for your system. To select and install them,
     proceed with <a class="xref" href="cha-add-ons.html#sec-add-ons-installation" title="14.3. Installing Modules and Extensions from Online Channels">Section 14.3, “Installing Modules and Extensions from Online Channels”</a>.
    </p></li></ol></div></div></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="cha-update-sle.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 19 </span>Upgrading SUSE Linux Enterprise</span></a> </div><div><a class="pagination-link next" href="cha-update-online.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 21 </span>Upgrading Online</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="cha-update-offline.html#sec-update-offline-conceptual-overview"><span class="title-number">20.1 </span><span class="title-name">Conceptual Overview</span></a></span></li><li><span class="sect1"><a href="cha-update-offline.html#sec-update-offline-dvd"><span class="title-number">20.2 </span><span class="title-name">Starting the Upgrade from an Installation Medium</span></a></span></li><li><span class="sect1"><a href="cha-update-offline.html#sec-update-offline-network"><span class="title-number">20.3 </span><span class="title-name">Starting the Upgrade from a Network Source</span></a></span></li><li><span class="sect1"><a href="cha-update-offline.html#sec-update-offline-automated"><span class="title-number">20.4 </span><span class="title-name">Enabling Automatic Upgrade</span></a></span></li><li><span class="sect1"><a href="cha-update-offline.html#sec-update-sle12-start-upgr-after-boot"><span class="title-number">20.5 </span><span class="title-name">Upgrading SUSE Linux Enterprise</span></a></span></li><li><span class="sect1"><a href="cha-update-offline.html#sec-update-sle-manager"><span class="title-number">20.6 </span><span class="title-name">Updating via SUSE Manager</span></a></span></li><li><span class="sect1"><a href="cha-update-offline.html#sec-update-reg-status-after-rollback"><span class="title-number">20.7 </span><span class="title-name">Updating Registration Status after Rollback</span></a></span></li><li><span class="sect1"><a href="cha-update-offline.html#sec-update-registersystem"><span class="title-number">20.8 </span><span class="title-name">Registering Your System</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>