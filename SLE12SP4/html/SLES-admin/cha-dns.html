<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLES 12 SP4 | Administration Guide | The Domain Name System</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="The Domain Name System | SLES 12 SP4"/>
<meta name="description" content="DNS (domain name system) is needed to resolve the doma…"/>
<meta name="product-name" content="SUSE Linux Enterprise Server"/>
<meta name="product-number" content="12 SP4"/>
<meta name="book-title" content="Administration Guide"/>
<meta name="chapter-title" content="Chapter 26. The Domain Name System"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="fs@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE Linux Enterprise Server 12 SP4"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="The Domain Name System | SLES 12 SP4"/>
<meta property="og:description" content="DNS (domain name system) is needed to resolve the domain names and host names into IP addresses. In this way, the IP address…"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="The Domain Name System | SLES 12 SP4"/>
<meta name="twitter:description" content="DNS (domain name system) is needed to resolve the domain names and host names into IP addresses. In this way, the IP address…"/>
<link rel="prev" href="cha-netz-xntp.html" title="Chapter 25. Time Synchronization with NTP"/><link rel="next" href="cha-dhcp.html" title="Chapter 27. DHCP"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Administration Guide</a><span> / </span><a class="crumb" href="part-services.html">Services</a><span> / </span><a class="crumb" href="cha-dns.html">The Domain Name System</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">Administration Guide</div><ol><li><a href="pre-sle.html" class=" "><span class="title-number"> </span><span class="title-name">About This Guide</span></a></li><li><a href="part-administration.html" class="has-children "><span class="title-number">I </span><span class="title-name">Common Tasks</span></a><ol><li><a href="cha-adm-shell.html" class=" "><span class="title-number">1 </span><span class="title-name">Bash and Bash Scripts</span></a></li><li><a href="cha-adm-sudo.html" class=" "><span class="title-number">2 </span><span class="title-name">sudo
</span></a></li><li><a href="cha-onlineupdate-you.html" class=" "><span class="title-number">3 </span><span class="title-name">YaST Online Update</span></a></li><li><a href="cha-yast-gui.html" class=" "><span class="title-number">4 </span><span class="title-name">YaST</span></a></li><li><a href="cha-yast-text.html" class=" "><span class="title-number">5 </span><span class="title-name">YaST in Text Mode</span></a></li><li><a href="cha-sw-cl.html" class=" "><span class="title-number">6 </span><span class="title-name">Managing Software with Command Line Tools</span></a></li><li><a href="cha-snapper.html" class=" "><span class="title-number">7 </span><span class="title-name">System Recovery and Snapshot Management with Snapper</span></a></li><li><a href="cha-vnc.html" class=" "><span class="title-number">8 </span><span class="title-name">Remote Access with VNC</span></a></li><li><a href="cha-net-sync.html" class=" "><span class="title-number">9 </span><span class="title-name">File Copying with RSync</span></a></li></ol></li><li><a href="part-boot.html" class="has-children "><span class="title-number">II </span><span class="title-name">Booting a Linux System</span></a><ol><li><a href="cha-boot.html" class=" "><span class="title-number">10 </span><span class="title-name">Introduction to the boot process</span></a></li><li><a href="cha-uefi.html" class=" "><span class="title-number">11 </span><span class="title-name">UEFI (Unified Extensible Firmware Interface)</span></a></li><li><a href="cha-grub2.html" class=" "><span class="title-number">12 </span><span class="title-name">The Boot Loader GRUB 2</span></a></li><li><a href="cha-systemd.html" class=" "><span class="title-number">13 </span><span class="title-name">The <code class="systemitem">systemd</code> daemon</span></a></li></ol></li><li><a href="part-system.html" class="has-children "><span class="title-number">III </span><span class="title-name">System</span></a><ol><li><a href="cha-64bit.html" class=" "><span class="title-number">14 </span><span class="title-name">32-Bit and 64-Bit Applications in a 64-Bit System Environment</span></a></li><li><a href="cha-journalctl.html" class=" "><span class="title-number">15 </span><span class="title-name"><code class="command">journalctl</code>: Query the <code class="systemitem">systemd</code> Journal</span></a></li><li><a href="cha-basicnet.html" class=" "><span class="title-number">16 </span><span class="title-name">Basic Networking</span></a></li><li><a href="cha-p.html" class=" "><span class="title-number">17 </span><span class="title-name">Printer Operation</span></a></li><li><a href="cha-x11.html" class=" "><span class="title-number">18 </span><span class="title-name">The X Window System</span></a></li><li><a href="cha-fuse.html" class=" "><span class="title-number">19 </span><span class="title-name">Accessing File Systems with FUSE</span></a></li><li><a href="cha-mod.html" class=" "><span class="title-number">20 </span><span class="title-name">Managing Kernel Modules</span></a></li><li><a href="cha-udev.html" class=" "><span class="title-number">21 </span><span class="title-name">Dynamic Kernel Device Management with <code class="systemitem">udev</code></span></a></li><li><a href="cha-kgraft.html" class=" "><span class="title-number">22 </span><span class="title-name">Live Patching the Linux Kernel Using kGraft</span></a></li><li><a href="cha-suse.html" class=" "><span class="title-number">23 </span><span class="title-name">Special System Features</span></a></li><li><a href="cha-nvdimm.html" class=" "><span class="title-number">24 </span><span class="title-name">Persistent Memory</span></a></li></ol></li><li class="active"><a href="part-services.html" class="has-children you-are-here"><span class="title-number">IV </span><span class="title-name">Services</span></a><ol><li><a href="cha-netz-xntp.html" class=" "><span class="title-number">25 </span><span class="title-name">Time Synchronization with NTP</span></a></li><li><a href="cha-dns.html" class=" you-are-here"><span class="title-number">26 </span><span class="title-name">The Domain Name System</span></a></li><li><a href="cha-dhcp.html" class=" "><span class="title-number">27 </span><span class="title-name">DHCP</span></a></li><li><a href="cha-nfs.html" class=" "><span class="title-number">28 </span><span class="title-name">Sharing File Systems with NFS</span></a></li><li><a href="cha-samba.html" class=" "><span class="title-number">29 </span><span class="title-name">Samba</span></a></li><li><a href="cha-autofs.html" class=" "><span class="title-number">30 </span><span class="title-name">On-Demand Mounting with Autofs</span></a></li><li><a href="cha-slp.html" class=" "><span class="title-number">31 </span><span class="title-name">SLP</span></a></li><li><a href="cha-apache2.html" class=" "><span class="title-number">32 </span><span class="title-name">The Apache HTTP Server</span></a></li><li><a href="cha-ftp.html" class=" "><span class="title-number">33 </span><span class="title-name">Setting Up an FTP Server with YaST</span></a></li><li><a href="cha-squid.html" class=" "><span class="title-number">34 </span><span class="title-name">The Proxy Server Squid</span></a></li><li><a href="cha-wbem.html" class=" "><span class="title-number">35 </span><span class="title-name">Web Based Enterprise Management Using SFCB</span></a></li></ol></li><li><a href="part-mobile.html" class="has-children "><span class="title-number">V </span><span class="title-name">Mobile Computers</span></a><ol><li><a href="cha-mobile.html" class=" "><span class="title-number">36 </span><span class="title-name">Mobile Computing with Linux</span></a></li><li><a href="cha-nm.html" class=" "><span class="title-number">37 </span><span class="title-name">Using NetworkManager</span></a></li><li><a href="cha-pmanage.html" class=" "><span class="title-number">38 </span><span class="title-name">Power Management</span></a></li></ol></li><li><a href="part-trouble.html" class="has-children "><span class="title-number">VI </span><span class="title-name">Troubleshooting</span></a><ol><li><a href="cha-adminhelp.html" class=" "><span class="title-number">39 </span><span class="title-name">Help and Documentation</span></a></li><li><a href="cha-adm-support.html" class=" "><span class="title-number">40 </span><span class="title-name">Gathering System Information for Support</span></a></li><li><a href="cha-trouble.html" class=" "><span class="title-number">41 </span><span class="title-name">Common problems and their solutions</span></a></li></ol></li><li><a href="app-admin-docupdates.html" class=" "><span class="title-number">A </span><span class="title-name">Documentation Updates</span></a></li><li><a href="app-nwscheme.html" class=" "><span class="title-number">B </span><span class="title-name">An Example Network</span></a></li><li><a href="bk01apc.html" class=" "><span class="title-number">C </span><span class="title-name">GNU licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="cha-dns" data-id-title="The Domain Name System"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">12 SP4</span></span></span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">26 </span><span class="title-name">The Domain Name System</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
    DNS (domain name system) is needed to resolve the domain names and host
    names into IP addresses. In this way, the IP address 192.168.2.100 is assigned to
    the host name <code class="literal">jupiter</code>, for example. Before setting up your
    own name server, read the general information about DNS in
    <a class="xref" href="cha-basicnet.html#sec-basicnet-nameres" title="16.3. Name Resolution">Section 16.3, “Name Resolution”</a>. The following configuration
    examples refer to BIND, the default DNS server.
   </p></div></div></div></div><section class="sect1" id="sec-dns-basic" data-id-title="DNS Terminology"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">26.1 </span><span class="title-name">DNS Terminology</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-basic">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.6.3.3.2.1"><span class="term">Zone</span></dt><dd><p>
      The domain name space is divided into regions called zones. For example,
      if you have <code class="literal">example.com</code>, you have the
      <code class="literal">example</code> section (or zone) of the
      <code class="literal">com</code> domain.
     </p></dd><dt id="id-1.3.6.3.3.2.2"><span class="term">DNS server</span></dt><dd><p>
      The DNS server is a server that maintains the name and IP information for
      a domain. You can have a primary DNS server for master zone, a secondary
      server for slave zone, or a slave server without any zones for caching.
     </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.6.3.3.2.2.2.2.1"><span class="term">Master zone DNS server</span></dt><dd><p>
         The master zone includes all hosts from your network and a DNS server
         master zone stores up-to-date records for all the hosts in your
         domain.
        </p></dd><dt id="id-1.3.6.3.3.2.2.2.2.2"><span class="term">Slave zone DNS server</span></dt><dd><p>
         A slave zone is a copy of the master zone. The slave zone DNS server
         obtains its zone data with zone transfer operations from its master
         server. The slave zone DNS server responds authoritatively for the
         zone as long as it has valid (not expired) zone data. If the slave
         cannot obtain a new copy of the zone data, it stops responding for the
         zone.
        </p></dd></dl></div></dd><dt id="id-1.3.6.3.3.2.3"><span class="term">Forwarder</span></dt><dd><p>
      Forwarders are DNS servers to which your DNS server should send queries
      it cannot answer. To enable different configuration sources in one
      configuration, <code class="literal">netconfig</code> is used (see also
      <code class="command">man 8 netconfig</code>).
     </p></dd><dt id="id-1.3.6.3.3.2.4"><span class="term">Record</span></dt><dd><p>
      The record is information about name and IP address. Supported records
      and their syntax are described in BIND documentation. Some special
      records are:
     </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.6.3.3.2.4.2.2.1"><span class="term">NS record</span></dt><dd><p>
         An NS record tells name servers which machines are in charge of a
         given domain zone.
        </p></dd><dt id="id-1.3.6.3.3.2.4.2.2.2"><span class="term">MX record</span></dt><dd><p>
         The MX (mail exchange) records describe the machines to contact for
         directing mail across the Internet.
        </p></dd><dt id="id-1.3.6.3.3.2.4.2.2.3"><span class="term">SOA record</span></dt><dd><p>
         SOA (Start of Authority) record is the first record in a zone file.
         The SOA record is used when using DNS to synchronize data between
         multiple computers.
        </p></dd></dl></div></dd></dl></div></section><section class="sect1" id="sec-dns-install" data-id-title="Installation"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">26.2 </span><span class="title-name">Installation</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-install">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To install a DNS server, start YaST and select
   <span class="guimenu">Software</span> › <span class="guimenu">Software
   Management</span>. Choose
   <span class="guimenu">View</span> › <span class="guimenu">Patterns</span>
   and select <span class="guimenu">DHCP and DNS Server</span>. Confirm the installation
   of the dependent packages to finish the installation process.
  </p><p>
   Alternatively use the following command on the command line:
  </p><div class="verbatim-wrap"><pre class="screen">zypper in -t pattern dhcp_dns_server</pre></div></section><section class="sect1" id="sec-dns-yast" data-id-title="Configuration with YaST"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">26.3 </span><span class="title-name">Configuration with YaST</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Use the YaST DNS module to configure a DNS server for the local network.
   When starting the module for the first time, a wizard starts, prompting you
   to make a few decisions concerning administration of the server. Completing
   this initial setup produces a basic server configuration. Use the expert
   mode to deal with more advanced configuration tasks, such as setting up
   ACLs, logging, TSIG keys, and other options.
  </p><section class="sect2" id="sec-dns-yast-wizard" data-id-title="Wizard Configuration"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">26.3.1 </span><span class="title-name">Wizard Configuration</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-wizard">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The wizard consists of three steps or dialogs. At the appropriate places in
    the dialogs, you can enter the expert configuration mode.
   </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>



      When starting the module for the first time, the <span class="guimenu">Forwarder
      Settings</span> dialog, shown in
      <a class="xref" href="cha-dns.html#fig-yast2-dnsinst-forwarders" title="DNS Server Installation: Forwarder Settings">Figure 26.1, “DNS Server Installation: Forwarder Settings”</a>, opens. The <span class="guimenu">Local
      DNS Resolution Policy</span> allows to set the following options:
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
        <span class="guimenu">Merging forwarders is disabled</span>

       </p></li><li class="listitem"><p>
        <span class="guimenu">Automatic merging</span>

       </p></li><li class="listitem"><p>
        <span class="guimenu">Merging forwarders is enabled</span>

       </p></li><li class="listitem"><p>

        <span class="guimenu">Custom configuration</span>—If <span class="guimenu">Custom
        configuration</span> is selected, <span class="guimenu">Custom policy</span>
        can be specified; by default (with <span class="guimenu">Automatic merging</span>
        selected), <span class="guimenu">Custom policy</span> is set to
        <code class="literal">auto</code>, but here you can either set interface names or
        select from the two special policy names <code class="literal">STATIC</code> and
        <code class="literal">STATIC_FALLBACK</code>.
       </p></li></ul></div><p>
      In <span class="guimenu">Local DNS Resolution Forwarder</span>, specify which
      service to use: <span class="guimenu">Using system name servers</span>,
      <span class="guimenu">This name server (bind)</span>, or <span class="guimenu">Local dnsmasq
      server</span>.
     </p><p>
      For more information about all these settings, see <code class="command">man 8
      netconfig</code>.
     </p><div class="figure" id="fig-yast2-dnsinst-forwarders"><div class="figure-contents"><div class="mediaobject"><a href="images/yast2_dns_wiz_forw.png"><img src="images/yast2_dns_wiz_forw.png" width="75%" alt="DNS Server Installation: Forwarder Settings" title="DNS Server Installation: Forwarder Settings"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 26.1: </span><span class="title-name">DNS Server Installation: Forwarder Settings </span></span><a title="Permalink" class="permalink" href="cha-dns.html#fig-yast2-dnsinst-forwarders">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div><p>
      Forwarders are DNS servers to which your DNS server sends queries it
      cannot answer itself. Enter their IP address and click
      <span class="guimenu">Add</span>.
     </p></li><li class="step"><p>
      The <span class="guimenu">DNS Zones</span> dialog consists of several parts and is
      responsible for the management of zone files, described in
      <a class="xref" href="cha-dns.html#sec-dns-zonefile" title="26.6. Zone Files">Section 26.6, “Zone Files”</a>. For a new zone, provide a name for it
      in <span class="guimenu">Name</span>. To add a reverse zone, the name must end in
      <code class="literal">.in-addr.arpa</code>. Finally, select the
      <span class="guimenu">Type</span> (master, slave, or forward). See
      <a class="xref" href="cha-dns.html#fig-yast2-dnsinst-zones" title="DNS Server Installation: DNS Zones">Figure 26.2, “DNS Server Installation: DNS Zones”</a>. Click <span class="guimenu">Edit </span>
      to configure other settings of an existing zone. To remove a zone, click
      <span class="guimenu">Delete</span>.
     </p><div class="figure" id="fig-yast2-dnsinst-zones"><div class="figure-contents"><div class="mediaobject"><a href="images/yast2_dns_wiz_zone.png"><img src="images/yast2_dns_wiz_zone.png" width="75%" alt="DNS Server Installation: DNS Zones" title="DNS Server Installation: DNS Zones"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 26.2: </span><span class="title-name">DNS Server Installation: DNS Zones </span></span><a title="Permalink" class="permalink" href="cha-dns.html#fig-yast2-dnsinst-zones">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></li><li class="step"><p>
      In the final dialog, you can open the DNS port in the firewall by
      clicking <span class="guimenu">Open Port in Firewall</span>. Then decide whether to
      start the DNS server when booting (<span class="guimenu">On</span> or
      <span class="guimenu">Off</span>). You can also activate LDAP support. See
      <a class="xref" href="cha-dns.html#fig-yast2-dnsinst-finish" title="DNS Server Installation: Finish Wizard">Figure 26.3, “DNS Server Installation: Finish Wizard”</a>.
     </p><div class="figure" id="fig-yast2-dnsinst-finish"><div class="figure-contents"><div class="mediaobject"><a href="images/yast2_dns_wiz_finish.png"><img src="images/yast2_dns_wiz_finish.png" width="75%" alt="DNS Server Installation: Finish Wizard" title="DNS Server Installation: Finish Wizard"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 26.3: </span><span class="title-name">DNS Server Installation: Finish Wizard </span></span><a title="Permalink" class="permalink" href="cha-dns.html#fig-yast2-dnsinst-finish">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></li></ol></div></div></section><section class="sect2" id="sec-dns-yast-expert" data-id-title="Expert Configuration"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">26.3.2 </span><span class="title-name">Expert Configuration</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    After starting the module, YaST opens a window displaying several
    configuration options. Completing it results in a DNS server configuration
    with the basic functions in place:
   </p><section class="sect3" id="sec-dns-yast-expert-startup" data-id-title="Start-Up"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">26.3.2.1 </span><span class="title-name">Start-Up</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert-startup">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     Under <span class="guimenu">Start-Up</span>, define whether the DNS server should be
     started when the booting the system or manually. To start the DNS server
     immediately, click <span class="guimenu">Start DNS Server Now</span>. To stop the
     DNS server, click <span class="guimenu">Stop DNS Server Now</span>. To save the
     current settings, select <span class="guimenu">Save Settings and Reload DNS Server
     Now</span>.

     You can open the DNS port in the firewall with <span class="guimenu">Open Port in
     Firewall</span> and modify the firewall settings with <span class="guimenu">Firewall
     Details</span>.
    </p><p>
     By selecting <span class="guimenu">LDAP Support Active</span>, the zone files are
     managed by an LDAP database. Any changes to zone data written to the LDAP
     database are picked up by the DNS server when it is restarted or prompted
     to reload its configuration.
    </p></section><section class="sect3" id="sec-dns-yast-expert-forwarders" data-id-title="Forwarders"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">26.3.2.2 </span><span class="title-name">Forwarders</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert-forwarders">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     If your local DNS server cannot answer a request, it tries to forward the
     request to a <span class="guimenu">Forwarder</span>, if configured so. This
     forwarder may be added manually to the <span class="guimenu">Forwarder List</span>.
     If the forwarder is not static like in dial-up connections,
     <span class="guimenu">netconfig</span> handles the configuration. For more
     information about netconfig, see <code class="command">man 8 netconfig</code>.
    </p></section><section class="sect3" id="sec-dns-yast-expert-basics" data-id-title="Basic Options"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">26.3.2.3 </span><span class="title-name">Basic Options</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert-basics">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     In this section, set basic server options. From the
     <span class="guimenu">Option</span> menu, select the desired item then specify the
     value in the corresponding text box. Include the new entry by selecting
     <span class="guimenu">Add</span>.
    </p></section><section class="sect3" id="sec-dns-yast-expert-logging" data-id-title="Logging"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">26.3.2.4 </span><span class="title-name">Logging</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert-logging">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     To set what the DNS server should log and how, select
     <span class="guimenu">Logging</span>. Under <span class="guimenu">Log Type</span>, specify
     where the DNS server should write the log data. Use the system-wide log by
     selecting <span class="guimenu">System Log</span> or specify a different file by
     selecting <span class="guimenu">File</span>. In the latter case, additionally
     specify a name, the maximum file size in megabytes and the number of log
     file versions to store.
    </p><p>
     Further options are available under <span class="guimenu">Additional Logging</span>.
     Enabling <span class="guimenu">Log All DNS Queries</span> causes
     <span class="emphasis"><em>every</em></span> query to be logged, in which case the log file
     could grow extremely large. For this reason, it is not a good idea to
     enable this option for other than debugging purposes. To log the data
     traffic during zone updates between DHCP and DNS server, enable
     <span class="guimenu">Log Zone Updates</span>. To log the data traffic during a zone
     transfer from master to slave, enable <span class="guimenu">Log Zone
     Transfer</span>. See <a class="xref" href="cha-dns.html#fig-yast2-dns-logging" title="DNS Server: Logging">Figure 26.4, “DNS Server: Logging”</a>.
    </p><div class="figure" id="fig-yast2-dns-logging"><div class="figure-contents"><div class="mediaobject"><a href="images/yast2_dns_def_logging.png"><img src="images/yast2_dns_def_logging.png" width="75%" alt="DNS Server: Logging" title="DNS Server: Logging"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 26.4: </span><span class="title-name">DNS Server: Logging </span></span><a title="Permalink" class="permalink" href="cha-dns.html#fig-yast2-dns-logging">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></section><section class="sect3" id="sec-dns-yast-expert-acls" data-id-title="ACLs"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">26.3.2.5 </span><span class="title-name">ACLs</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert-acls">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     Use this dialog to define ACLs (access control lists) to enforce access
     restrictions. After providing a distinct name under
     <span class="guimenu">Name</span>, specify an IP address (with or without netmask)
     under <span class="guimenu">Value</span> in the following fashion:
    </p><div class="verbatim-wrap"><pre class="screen">{ 192.168.1/24; }</pre></div><p>
     The syntax of the configuration file requires that the address ends with a
     semicolon and is put into curly braces.
    </p></section><section class="sect3" id="sec-dns-yast-expert-tsig" data-id-title="TSIG Keys"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">26.3.2.6 </span><span class="title-name">TSIG Keys</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert-tsig">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     The main purpose of TSIGs (transaction signatures) is to secure
     communications between DHCP and DNS servers. They are described in
     <a class="xref" href="cha-dns.html#sec-dns-tsig" title="26.8. Secure Transactions">Section 26.8, “Secure Transactions”</a>.
    </p><p>
     To generate a TSIG key, enter a distinctive name in the field labeled
     <span class="guimenu">Key ID</span> and specify the file where the key should be
     stored (<span class="guimenu">Filename</span>). Confirm your choices with
     <span class="guimenu">Generate</span>.
    </p><p>
     To use a previously created key, leave the <span class="guimenu">Key ID</span> field
     blank and select the file where it is stored under
     <span class="guimenu">Filename</span>. After that, confirm with
     <span class="guimenu">Add</span>.
    </p></section><section class="sect3" id="sec-dns-yast-expert-add-slave" data-id-title="DNS Zones (Adding a Slave Zone)"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">26.3.2.7 </span><span class="title-name">DNS Zones (Adding a Slave Zone)</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert-add-slave">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     To add a slave zone, select <span class="guimenu">DNS Zones</span>, choose the zone
     type <span class="guimenu">Slave</span>, write the name of the new zone, and click
     <span class="guimenu">Add</span>.
    </p><p>
     In the <span class="guimenu">Zone Editor</span> sub-dialog under <span class="guimenu">Master DNS
     Server IP</span>, specify the master from which the slave should pull
     its data. To limit access to the server, select one of the ACLs from the
     list.

    </p></section><section class="sect3" id="sec-dns-yast-expert-add-master" data-id-title="DNS Zones (Adding a Master Zone)"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">26.3.2.8 </span><span class="title-name">DNS Zones (Adding a Master Zone)</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert-add-master">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     To add a master zone, select <span class="guimenu">DNS Zones</span>, choose the zone
     type <span class="guimenu">Master</span>, write the name of the new zone, and click
     <span class="guimenu">Add</span>. When adding a master zone, a reverse zone is also
     needed. For example, when adding the zone
     <code class="systemitem">example.com</code> that points to hosts in a subnet
     <code class="literal">192.168.1.0/24</code>, you should also add a reverse zone for
     the IP-address range covered. By definition, this should be named
     <code class="literal">1.168.192.in-addr.arpa</code>.
    </p></section><section class="sect3" id="sec-dns-yast-expert-edit-master" data-id-title="DNS Zones (Editing a Master Zone)"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">26.3.2.9 </span><span class="title-name">DNS Zones (Editing a Master Zone)</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert-edit-master">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     To edit a master zone, select <span class="guimenu">DNS Zones</span>, select the
     master zone from the table, and click <span class="guimenu">Edit</span>. The dialog
     consists of several pages: <span class="guimenu">Basics</span> (the one opened
     first), <span class="guimenu">NS Records</span>, <span class="guimenu">MX Records</span>,
     <span class="guimenu">SOA</span>, and <span class="guimenu">Records</span>.
    </p><p>
     The basic dialog, shown in <a class="xref" href="cha-dns.html#fig-yast2-dns-ddns" title="DNS Server: Zone Editor (Basics)">Figure 26.5, “DNS Server: Zone Editor (Basics)”</a>, lets you
     define settings for dynamic DNS and access options for zone transfers to
     clients and slave name servers. To permit the dynamic updating of zones,
     select <span class="guimenu">Allow Dynamic Updates</span> as well as the
     corresponding TSIG key. The key must have been defined before the update
     action starts. To enable zone transfers, select the corresponding ACLs.
     ACLs must have been defined already.
    </p><p>
     In the <span class="guimenu">Basics</span> dialog, select whether to enable zone
     transfers. Use the listed ACLs to define who can download zones.
    </p><div class="figure" id="fig-yast2-dns-ddns"><div class="figure-contents"><div class="mediaobject"><a href="images/yast2_dns_def_ddns.png"><img src="images/yast2_dns_def_ddns.png" width="65%" alt="DNS Server: Zone Editor (Basics)" title="DNS Server: Zone Editor (Basics)"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 26.5: </span><span class="title-name">DNS Server: Zone Editor (Basics) </span></span><a title="Permalink" class="permalink" href="cha-dns.html#fig-yast2-dns-ddns">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.6.3.5.4.11.6.1"><span class="term">Zone Editor (NS Records)</span></dt><dd><p>
        The <span class="guimenu">NS Records</span> dialog allows you to define
        alternative name servers for the zones specified. Make sure that your
        own name server is included in the list. To add a record, enter its
        name under <span class="guimenu">Name Server to Add</span> then confirm with
        <span class="guimenu">Add</span>. See <a class="xref" href="cha-dns.html#fig-yast2-dns-nsrec" title="DNS Server: Zone Editor (NS Records)">Figure 26.6, “DNS Server: Zone Editor (NS Records)”</a>.
       </p><div class="figure" id="fig-yast2-dns-nsrec"><div class="figure-contents"><div class="mediaobject"><a href="images/yast2_dns_def_nsrec.png"><img src="images/yast2_dns_def_nsrec.png" width="65%" alt="DNS Server: Zone Editor (NS Records)" title="DNS Server: Zone Editor (NS Records)"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 26.6: </span><span class="title-name">DNS Server: Zone Editor (NS Records) </span></span><a title="Permalink" class="permalink" href="cha-dns.html#fig-yast2-dns-nsrec">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></dd><dt id="id-1.3.6.3.5.4.11.6.2"><span class="term">Zone Editor (MX Records)</span></dt><dd><p>
        To add a mail server for the current zone to the existing list, enter
        the corresponding address and priority value. After doing so, confirm
        by selecting <span class="guimenu">Add</span>. See
        <a class="xref" href="cha-dns.html#fig-yast2-dns-mxrec" title="DNS Server: Zone Editor (MX Records)">Figure 26.7, “DNS Server: Zone Editor (MX Records)”</a>.
       </p><div class="figure" id="fig-yast2-dns-mxrec"><div class="figure-contents"><div class="mediaobject"><a href="images/yast2_dns_def_mxrec.png"><img src="images/yast2_dns_def_mxrec.png" width="75%" alt="DNS Server: Zone Editor (MX Records)" title="DNS Server: Zone Editor (MX Records)"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 26.7: </span><span class="title-name">DNS Server: Zone Editor (MX Records) </span></span><a title="Permalink" class="permalink" href="cha-dns.html#fig-yast2-dns-mxrec">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></dd><dt id="id-1.3.6.3.5.4.11.6.3"><span class="term">Zone Editor (SOA)</span></dt><dd><p>
        This page allows you to create SOA (start of authority) records. For an
        explanation of the individual options, refer to
        <a class="xref" href="cha-dns.html#ex-welt-zone" title="The /var/lib/named/example.com.zone File">Example 26.6, “The /var/lib/named/example.com.zone File”</a>. <span class="phrase">Changing SOA
        records is not supported for dynamic zones managed via LDAP.</span>
       </p><div class="figure" id="fig-yast2-dns-soa"><div class="figure-contents"><div class="mediaobject"><a href="images/yast2_dns_def_soa.png"><img src="images/yast2_dns_def_soa.png" width="75%" alt="DNS Server: Zone Editor (SOA)" title="DNS Server: Zone Editor (SOA)"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 26.8: </span><span class="title-name">DNS Server: Zone Editor (SOA) </span></span><a title="Permalink" class="permalink" href="cha-dns.html#fig-yast2-dns-soa">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></dd><dt id="id-1.3.6.3.5.4.11.6.4"><span class="term">Zone Editor (Records)</span></dt><dd><p>
        This dialog manages name resolution. In <span class="guimenu">Record Key</span>,
        enter the host name then select its type. The <span class="guimenu">A</span> type
        represents the main entry. The value for this should be an IP address
        (IPv4). Use <span class="guimenu">AAAA</span> for IPv6 addresses.
        <span class="guimenu">CNAME</span> is an alias. Use the types
        <span class="guimenu">NS</span> and <span class="guimenu">MX</span> for detailed or partial
        records that expand on the information provided in the <span class="guimenu">NS
        Records</span> and <span class="guimenu">MX Records</span> tabs. These three
        types resolve to an existing <code class="literal">A</code> record.
        <span class="guimenu">PTR</span> is for reverse zones. It is the opposite of an
        <code class="literal">A</code> record, for example:
       </p><div class="verbatim-wrap"><pre class="screen">hostname.example.com. IN A 192.168.0.1
1.0.168.192.in-addr.arpa IN PTR hostname.example.com.</pre></div></dd></dl></div><section class="sect4" id="sec-dns-yast-expert-edit-master-rev" data-id-title="Adding Reverse Zones"><div class="titlepage"><div><div><div class="title-container"><h5 class="title"><span class="title-number-name"><span class="title-number">26.3.2.9.1 </span><span class="title-name">Adding Reverse Zones</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert-edit-master-rev">#</a></h5><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      To add a reverse zone, follow this procedure:
     </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
        Start <span class="guimenu">YaST</span> › <span class="guimenu">DNS
        Server</span> › <span class="guimenu">DNS Zones</span>.
       </p></li><li class="step"><p>
        If you have not added a master forward zone, add it and
        <span class="guimenu">Edit</span> it.
       </p></li><li class="step"><p>
        In the <span class="guimenu">Records</span> tab, fill the corresponding
        <span class="guimenu">Record Key</span> and <span class="guimenu">Value</span>, then add
        the record with <span class="guimenu">Add</span> and confirm with
        <span class="guimenu">OK</span>. If YaST complains about a non-existing record
        for a name server, add it in the <span class="guimenu">NS Records</span> tab.
       </p><div class="figure" id="id-1.3.6.3.5.4.11.7.3.3.2"><div class="figure-contents"><div class="mediaobject"><a href="images/yast2_dns_revzone1.png"><img src="images/yast2_dns_revzone1.png" width="70%" alt="Adding a Record for a Master Zone" title="Adding a Record for a Master Zone"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 26.9: </span><span class="title-name">Adding a Record for a Master Zone </span></span><a title="Permalink" class="permalink" href="cha-dns.html#id-1.3.6.3.5.4.11.7.3.3.2">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></li><li class="step"><p>
        Back in the <span class="guimenu">DNS Zones</span> window, add a reverse master
        zone.
       </p><div class="figure" id="id-1.3.6.3.5.4.11.7.3.4.2"><div class="figure-contents"><div class="mediaobject"><a href="images/yast2_dns_revzone2.png"><img src="images/yast2_dns_revzone2.png" width="70%" alt="Adding a Reverse Zone" title="Adding a Reverse Zone"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 26.10: </span><span class="title-name">Adding a Reverse Zone </span></span><a title="Permalink" class="permalink" href="cha-dns.html#id-1.3.6.3.5.4.11.7.3.4.2">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></li><li class="step"><p>
        <span class="guimenu">Edit</span> the reverse zone, and in the
        <span class="guimenu">Records</span> tab, you can see the <span class="guimenu">PTR: Reverse
        translation</span> record type. Add the corresponding
        <span class="guimenu">Record Key</span> and <span class="guimenu">Value</span>, then click
        <span class="guimenu">Add</span> and confirm with <span class="guimenu">OK</span>.
       </p><div class="figure" id="id-1.3.6.3.5.4.11.7.3.5.2"><div class="figure-contents"><div class="mediaobject"><a href="images/yast2_dns_revzone3.png"><img src="images/yast2_dns_revzone3.png" width="70%" alt="Adding a Reverse Record" title="Adding a Reverse Record"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 26.11: </span><span class="title-name">Adding a Reverse Record </span></span><a title="Permalink" class="permalink" href="cha-dns.html#id-1.3.6.3.5.4.11.7.3.5.2">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div><p>
        Add a name server record if needed.
       </p></li></ol></div></div><div id="id-1.3.6.3.5.4.11.7.4" data-id-title="Editing the Reverse Zone" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Editing the Reverse Zone</div><p>
       After adding a forward zone, go back to the main menu and select the
       reverse zone for editing. There in the tab <span class="guimenu">Basics</span>
       activate the check box <span class="guimenu">Automatically Generate Records
       From</span> and select your forward zone. That way, all changes to
       the forward zone are automatically updated in the reverse zone.
      </p></div></section></section></section></section><section class="sect1" id="sec-dns-bind" data-id-title="Starting the BIND Name Server"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">26.4 </span><span class="title-name">Starting the BIND Name Server</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-bind">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   On a <span class="productname"><span class="phrase">SUSE® Linux Enterprise Server</span></span> system, the name server BIND (<span class="emphasis"><em>Berkeley
   Internet Name Domain</em></span>) comes preconfigured, so it can be started
   right after installation without any problems. Normally, if you already have an Internet connection and entered
   <code class="systemitem">127.0.0.1</code> as the name server
   address for <code class="systemitem">localhost</code> in
   <code class="filename">/etc/resolv.conf</code>, you already have a working
   name resolution without needing to know the DNS of the provider. BIND
   carries out name resolution via the root name server, a notably slower
   process. Normally, the DNS of the provider should be entered with its IP
   address in the configuration file <code class="filename">/etc/named.conf</code> under
   <code class="systemitem">forwarders</code> to ensure effective and secure name
   resolution. If this works so far, the name server runs as a pure
   <span class="emphasis"><em>caching-only</em></span> name server. Only when you configure its
   own zones it becomes a proper DNS. Find a simple example documented in
   <code class="filename">/usr/share/doc/packages/bind/config</code>.
  </p><div id="id-1.3.6.3.6.3" data-id-title="Automatic Adaptation of the Name Server Information" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Automatic Adaptation of the Name Server Information</div><p>
    Depending on the type of Internet connection or the network connection, the
    name server information can automatically be adapted to the current
    conditions. To do this, set the
    <code class="systemitem">NETCONFIG_DNS_POLICY</code> variable in the
    <code class="filename">/etc/sysconfig/network/config</code> file to
    <code class="literal">auto</code>.
   </p></div><p>
   However, do not set up an official domain until one is assigned to you by
   the responsible institution. Even if you have your own domain and it is
   managed by the provider, you are better off not using it, because BIND would
   otherwise not forward requests for this domain. The Web server at the
   provider, for example, would not be accessible for this domain.
  </p><p>
   To start the name server, enter the command <code class="command">systemctl start
   named</code> as <code class="systemitem">root</code>. Check
   with <code class="command">systemctl status named</code> whether named (as the name
   server process is called) has been started successfully. Test the name
   server immediately on the local system with the <code class="command">host</code> or
   <code class="command">dig</code> programs, which should return
   <code class="systemitem">localhost</code> as the default server
   with the address <code class="systemitem">127.0.0.1</code>. If
   this is not the case, <code class="filename">/etc/resolv.conf</code> probably
   contains an incorrect name server entry or the file does not exist. For the
   first test, enter <code class="command">host</code> <code class="option">127.0.0.1</code>,
   which should always work. If you get an error message, use
   <code class="command">systemctl status named</code> to see whether the server is
   actually running. If the name server does not start or behaves unexpectedly,
   check the output of <code class="command">journalctl -e</code>.
  </p><p>
   To use the name server of the provider (or one already running on your
   network) as the forwarder, enter the corresponding IP address or addresses
   in the <code class="systemitem">options</code> section under
   <code class="systemitem">forwarders</code>. The addresses included in
   <a class="xref" href="cha-dns.html#ex-forward" title="Forwarding Options in named.conf">Example 26.1, “Forwarding Options in named.conf”</a> are examples only. Adjust these entries to your
   own setup.
  </p><div class="example" id="ex-forward" data-id-title="Forwarding Options in named.conf"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 26.1: </span><span class="title-name">Forwarding Options in named.conf </span></span><a title="Permalink" class="permalink" href="cha-dns.html#ex-forward">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">options {
        directory "/var/lib/named";
        forwarders { 10.11.12.13; 10.11.12.14; };
        listen-on { 127.0.0.1; 192.168.1.116; };
        allow-query { 127/8; 192.168/16 };
        notify no;
};</pre></div></div></div><p>
   The <code class="systemitem">options</code> entry is followed by entries for the
   zone, <code class="systemitem">localhost</code>, and
   <code class="systemitem">0.0.127.in-addr.arpa</code>. The <code class="literal">type
   hint</code> entry under <span class="quote">“<span class="quote">.</span>”</span> should always be present. The
   corresponding files do not need to be modified and should work as they are.
   Also make sure that each entry is closed with a <span class="quote">“<span class="quote">;</span>”</span> and that
   the curly braces are in the correct places. After changing the configuration
   file <code class="filename">/etc/named.conf</code> or the zone files, tell BIND to
   reread them with <code class="command">systemctl reload named</code>. Achieve the same
   by stopping and restarting the name server with <code class="command">systemctl restart
   named</code>. Stop the server at any time by entering <code class="command">systemctl
   stop named</code>.
  </p></section><section class="sect1" id="sec-dns-named" data-id-title="The /etc/named.conf Configuration File"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">26.5 </span><span class="title-name">The /etc/named.conf Configuration File</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-named">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   All the settings for the BIND name server itself are stored in the
   <code class="filename">/etc/named.conf</code> file. However, the zone data for the
   domains to handle (consisting of the host names, IP addresses, and so on)
   are stored in separate files in the <code class="filename">/var/lib/named</code>
   directory. The details of this are described later.
  </p><p>
   <code class="filename">/etc/named.conf</code> is roughly divided into two areas. One
   is the <code class="systemitem">options</code> section for general settings and the
   other consists of <code class="systemitem">zone</code> entries for the individual
   domains. A <code class="systemitem">logging</code> section and
   <code class="systemitem">acl</code> (access control list) entries are optional.
   Comment lines begin with a <code class="literal">#</code> sign or
   <code class="literal">//</code>. A minimal <code class="filename">/etc/named.conf</code> is
   shown in <a class="xref" href="cha-dns.html#ex-named-mini" title="A Basic /etc/named.conf">Example 26.2, “A Basic /etc/named.conf”</a>.
  </p><div class="example" id="ex-named-mini" data-id-title="A Basic /etc/named.conf"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 26.2: </span><span class="title-name">A Basic /etc/named.conf </span></span><a title="Permalink" class="permalink" href="cha-dns.html#ex-named-mini">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">options {
        directory "/var/lib/named";
        forwarders { 10.0.0.1; };
        notify no;
};

zone "localhost" in {
       type master;
       file "localhost.zone";
};

zone "0.0.127.in-addr.arpa" in {
        type master;
        file "127.0.0.zone";
};

zone "." in {
        type hint;
        file "root.hint";
};</pre></div></div></div><section class="sect2" id="sec-dns-named-options" data-id-title="Important Configuration Options"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">26.5.1 </span><span class="title-name">Important Configuration Options</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-named-options">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.6.3.7.5.2.1"><span class="term">directory "<em class="replaceable">FILENAME</em>";</span></dt><dd><p>
       Specifies the directory in which BIND can find the files containing the
       zone data. Usually, this is <code class="filename">/var/lib/named</code>.
      </p></dd><dt id="id-1.3.6.3.7.5.2.2"><span class="term">forwarders { <em class="replaceable">IP-ADDRESS</em>; };</span></dt><dd><p>
       Specifies the name servers (mostly of the provider) to which DNS
       requests should be forwarded if they cannot be resolved directly.
       Replace <em class="replaceable">IP-ADDRESS</em> with an IP address like
       <code class="literal">192.168.1.116</code>.
      </p></dd><dt id="id-1.3.6.3.7.5.2.3"><span class="term">forward first;</span></dt><dd><p>
       Causes DNS requests to be forwarded before an attempt is made to resolve
       them via the root name servers. Instead of <code class="systemitem">forward
       first</code>, <code class="systemitem">forward only</code> can be written
       to have all requests forwarded and none sent to the root name servers.
       This makes sense for firewall configurations.
      </p></dd><dt id="id-1.3.6.3.7.5.2.4"><span class="term">listen-on port 53 { 127.0.0.1; <em class="replaceable">IP-ADDRESS</em>; };</span></dt><dd><p>
       Tells BIND on which network interfaces and port to accept client
       queries. <code class="literal">port 53</code> does not need to be specified
       explicitly, because <code class="literal">53</code> is the default port. Enter
       <code class="literal">127.0.0.1</code> to permit requests from the local host. If
       you omit this entry entirely, all interfaces are used by default.
      </p></dd><dt id="id-1.3.6.3.7.5.2.5"><span class="term">listen-on-v6 port 53 {any; };</span></dt><dd><p>
       Tells BIND on which port it should listen for IPv6 client requests. The
       only alternative to <code class="literal">any</code> is <code class="literal">none</code>.
       As far as IPv6 is concerned, the server only accepts wild card
       addresses.
      </p></dd><dt id="id-1.3.6.3.7.5.2.6"><span class="term">query-source address * port 53;</span></dt><dd><p>
       This entry is necessary if a firewall is blocking outgoing DNS requests.
       This tells BIND to post requests externally from port 53 and not from
       any of the high ports above 1024.
      </p></dd><dt id="id-1.3.6.3.7.5.2.7"><span class="term">query-source-v6 address * port 53;</span></dt><dd><p>
       Tells BIND which port to use for IPv6 queries.
      </p></dd><dt id="id-1.3.6.3.7.5.2.8"><span class="term">allow-query { 127.0.0.1; <em class="replaceable">NET</em>; };</span></dt><dd><p>
       Defines the networks from which clients can post DNS requests. Replace
       <em class="replaceable">NET</em> with address information like
       <code class="literal">192.168.2.0/24</code>. The <code class="systemitem">/24</code> at
       the end is an abbreviated expression for the netmask (in this case
       <code class="systemitem">255.255.255.0</code>).
      </p></dd><dt id="id-1.3.6.3.7.5.2.9"><span class="term">allow-transfer  ! *;;</span></dt><dd><p>
       Controls which hosts can request zone transfers. In the example, such
       requests are completely denied with <code class="systemitem">! *</code>.
       Without this entry, zone transfers can be requested from anywhere
       without restrictions.
      </p></dd><dt id="id-1.3.6.3.7.5.2.10"><span class="term">statistics-interval 0;</span></dt><dd><p>
       In the absence of this entry, BIND generates several lines of
       statistical information per hour in the system's journal. Set it to 0 to
       suppress these statistics completely or set an interval in minutes.
      </p></dd><dt id="id-1.3.6.3.7.5.2.11"><span class="term">cleaning-interval 720;</span></dt><dd><p>
       This option defines at which time intervals BIND clears its cache. This
       triggers an entry in the system's journal each time it occurs. The time
       specification is in minutes. The default is 60 minutes.
      </p></dd><dt id="id-1.3.6.3.7.5.2.12"><span class="term">interface-interval 0;</span></dt><dd><p>
       BIND regularly searches the network interfaces for new or nonexistent
       interfaces. If this value is set to <code class="systemitem">0</code>, this is
       not done and BIND only listens at the interfaces detected at start-up.
       Otherwise, the interval can be defined in minutes. The default is sixty
       minutes.
      </p></dd><dt id="id-1.3.6.3.7.5.2.13"><span class="term">notify no;</span></dt><dd><p>
       <code class="option">no</code> prevents other name servers from being informed when
       changes are made to the zone data or when the name server is restarted.
      </p></dd></dl></div><p>
    For a list of available options, read the manual page <code class="command">man 5
    named.conf</code>.
   </p></section><section class="sect2" id="sec-dns-named-log" data-id-title="Logging"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">26.5.2 </span><span class="title-name">Logging</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-named-log">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    What, how, and where logging takes place can be extensively configured in
    BIND. Normally, the default settings should be sufficient.
    <a class="xref" href="cha-dns.html#ex-no-log" title="Entry to Disable Logging">Example 26.3, “Entry to Disable Logging”</a>, shows the simplest form of such an entry and
    completely suppresses any logging.
   </p><div class="example" id="ex-no-log" data-id-title="Entry to Disable Logging"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 26.3: </span><span class="title-name">Entry to Disable Logging </span></span><a title="Permalink" class="permalink" href="cha-dns.html#ex-no-log">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">logging {
        category default { null; };
};</pre></div></div></div></section><section class="sect2" id="sec-dns-named-zones" data-id-title="Zone Entries"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">26.5.3 </span><span class="title-name">Zone Entries</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-named-zones">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><div class="example" id="ex-meine-domain" data-id-title="Zone Entry for example.com"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 26.4: </span><span class="title-name">Zone Entry for example.com </span></span><a title="Permalink" class="permalink" href="cha-dns.html#ex-meine-domain">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">zone "example.com" in {
      type master;
      file "example.com.zone";
      notify no;
};</pre></div></div></div><p>
    After <code class="systemitem">zone</code>, specify the name of the domain to
    administer (<code class="systemitem">example.com</code>)
    followed by <code class="systemitem">in</code> and a block of relevant options
    enclosed in curly braces, as shown in <a class="xref" href="cha-dns.html#ex-meine-domain" title="Zone Entry for example.com">Example 26.4, “Zone Entry for example.com”</a>. To
    define a <span class="emphasis"><em>slave zone</em></span>, switch the
    <code class="systemitem">type</code> to <code class="literal">slave</code> and specify a
    name server that administers this zone as <code class="literal">master</code> (which,
    in turn, may be a slave of another master), as shown in
    <a class="xref" href="cha-dns.html#ex-andere-domain" title="Zone Entry for example.net">Example 26.5, “Zone Entry for example.net”</a>.
   </p><div class="example" id="ex-andere-domain" data-id-title="Zone Entry for example.net"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 26.5: </span><span class="title-name">Zone Entry for example.net </span></span><a title="Permalink" class="permalink" href="cha-dns.html#ex-andere-domain">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">zone "example.net" in {
      type slave;
      file "slave/example.net.zone";
      masters { 10.0.0.1; }; 
};</pre></div></div></div><p>
    The zone options:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.6.3.7.7.6.1"><span class="term">type master;</span></dt><dd><p>
       By specifying <code class="literal">master</code>, tell BIND that the zone is
       handled by the local name server. This assumes that a zone file has been
       created in the correct format.
      </p></dd><dt id="id-1.3.6.3.7.7.6.2"><span class="term">type slave;</span></dt><dd><p>
       This zone is transferred from another name server. It must be used
       together with <code class="systemitem">masters</code>.
      </p></dd><dt id="id-1.3.6.3.7.7.6.3"><span class="term">type hint;</span></dt><dd><p>
       The zone <code class="literal">.</code> of the <code class="literal">hint</code> type is
       used to set the root name servers. This zone definition can be left as
       is.
      </p></dd><dt id="id-1.3.6.3.7.7.6.4"><span class="term">file <code class="filename">example.com.zone</code> or file
      <span class="quote">“<span class="quote">slave/example.net.zone</span>”</span>;</span></dt><dd><p>
       This entry specifies the file where zone data for the domain is located.
       This file is not required for a slave, because this data is pulled from
       another name server. To differentiate master and slave files, use the
       directory <code class="filename">slave</code> for the slave files.
      </p></dd><dt id="id-1.3.6.3.7.7.6.5"><span class="term">masters { <em class="replaceable">SERVER_IP_ADDRESS</em>; };</span></dt><dd><p>
       This entry is only needed for slave zones. It specifies from which name
       server the zone file should be transferred.
      </p></dd><dt id="id-1.3.6.3.7.7.6.6"><span class="term">allow-update {! *; };</span></dt><dd><p>
       This option controls external write access, which would allow clients to
       make a DNS entry—something not normally desirable for security
       reasons. Without this entry, zone updates are not allowed. The above
       entry achieves the same because <code class="literal">! *</code> effectively bans
       any such activity.
      </p></dd></dl></div></section></section><section class="sect1" id="sec-dns-zonefile" data-id-title="Zone Files"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">26.6 </span><span class="title-name">Zone Files</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-zonefile">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Two types of zone files are needed. One assigns IP addresses to host names
   and the other does the reverse: it supplies a host name for an IP address.
  </p><div id="id-1.3.6.3.8.3" data-id-title="Using the Dot (Period, Fullstop) in Zone Files" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Using the Dot (Period, Fullstop) in Zone Files</div><p>
    The <code class="literal">"."</code> has an important meaning in the zone files. If
    host names are given without a final dot (<code class="literal">.</code>), the zone
    is appended. Complete host names specified with a full domain name must end
    with a dot (<code class="literal">.</code>) to avoid having the domain added to it
    again. A missing or wrongly placed "." is probably the most frequent cause
    of name server configuration errors.
   </p></div><p>
   The first case to consider is the zone file
   <code class="filename">example.com.zone</code>, responsible for the domain
   <code class="filename">example.com</code>, shown in
   <a class="xref" href="cha-dns.html#ex-welt-zone" title="The /var/lib/named/example.com.zone File">Example 26.6, “The /var/lib/named/example.com.zone File”</a>.
  </p><div class="example" id="ex-welt-zone" data-id-title="The /var/lib/named/example.com.zone File"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 26.6: </span><span class="title-name">The /var/lib/named/example.com.zone File </span></span><a title="Permalink" class="permalink" href="cha-dns.html#ex-welt-zone">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">1.  $TTL 2D
2.  example.com. IN SOA      dns  root.example.com. ( 
3.               2003072441  ; serial
4.               1D          ; refresh
5.               2H          ; retry
6.               1W          ; expiry
7.               2D )        ; minimum
8.
9.               IN NS       dns 
10.              IN MX       10 mail
11.
12. gate         IN A        192.168.5.1 
13.              IN A        10.0.0.1 
14. dns          IN A        192.168.1.116 
15. mail         IN A        192.168.3.108 
16. jupiter      IN A        192.168.2.100
17. venus        IN A        192.168.2.101
18. saturn       IN A        192.168.2.102
19. mercury      IN A        192.168.2.103
20. ntp          IN CNAME    dns 
21. dns6         IN A6  0    2002:c0a8:174::</pre></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.6.3.8.6.1"><span class="term">Line 1:</span></dt><dd><p>
      <code class="systemitem">$TTL</code> defines the default time to live that
      should apply to all the entries in this file. In this example, entries
      are valid for a period of two days (<code class="literal">2 D</code>).
     </p></dd><dt id="id-1.3.6.3.8.6.2"><span class="term">Line 2:</span></dt><dd><p>
      This is where the SOA (start of authority) control record begins:
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
        The name of the domain to administer is
        <code class="literal">example.com</code> in the first position. This ends
        with <code class="literal">"."</code>, because otherwise the zone would be
        appended a second time. Alternatively, <code class="literal">@</code> can be
        entered here, in which case the zone would be extracted from the
        corresponding entry in <code class="filename">/etc/named.conf</code>.
       </p></li><li class="listitem"><p>
        After <code class="systemitem">IN SOA</code> is the name of the name server in
        charge as master for this zone. The name is expanded from
        <code class="literal">dns</code> to <code class="literal">dns.example.com</code>, because it does
        not end with a <code class="literal">"."</code>.
       </p></li><li class="listitem"><p>
        An e-mail address of the person in charge of this name server follows.
        Because the <code class="literal">@</code> sign already has a special meaning,
        <code class="literal">"."</code> is entered here instead. For
        <code class="systemitem">root@example.com</code> the entry must read
        <code class="systemitem">root.example.com.</code>. The
        <code class="literal">"."</code> must be included at the end to prevent the zone
        from being added.
       </p></li><li class="listitem"><p>
        The <code class="literal">(</code> includes all lines up to <code class="literal">)</code>
        into the SOA record.
       </p></li></ul></div></dd><dt id="id-1.3.6.3.8.6.3"><span class="term">Line 3:</span></dt><dd><p>
      The <code class="systemitem">serial number</code> is an arbitrary number that is
      increased each time this file is changed. It is needed to inform the
      secondary name servers (slave servers) of changes. For this, a 10 digit
      number of the date and run number, written as YYYYMMDDNN, has become the
      customary format.
     </p></dd><dt id="id-1.3.6.3.8.6.4"><span class="term">Line 4:</span></dt><dd><p>
      The <code class="systemitem">refresh rate</code> specifies the time interval at
      which the secondary name servers verify the zone <code class="systemitem">serial
      number</code>. In this case, one day.
     </p></dd><dt id="id-1.3.6.3.8.6.5"><span class="term">Line 5:</span></dt><dd><p>
      The <code class="systemitem">retry rate</code> specifies the time interval at
      which a secondary name server, in case of error, attempts to contact the
      primary server again. Here, two hours.
     </p></dd><dt id="id-1.3.6.3.8.6.6"><span class="term">Line 6:</span></dt><dd><p>
      The <code class="systemitem">expiration time</code> specifies the time frame
      after which a secondary name server discards the cached data if it has
      not regained contact to the primary server. Here, a week.
     </p></dd><dt id="id-1.3.6.3.8.6.7"><span class="term">Line 7:</span></dt><dd><p>
      The last entry in the SOA record specifies the <code class="systemitem">negative
      caching TTL</code>—the time for which results of unresolved
      DNS queries from other servers may be cached.
     </p></dd><dt id="id-1.3.6.3.8.6.8"><span class="term">Line 9:</span></dt><dd><p>
      The <code class="systemitem">IN NS</code> specifies the name server responsible
      for this domain. <code class="systemitem">dns</code> is extended to
      <code class="systemitem">dns.example.com</code> because it does not end with a
      <code class="literal">"."</code>. There can be several lines like this—one
      for the primary and one for each secondary name server. If
      <code class="systemitem">notify</code> is not set to <code class="option">no</code> in
      <code class="filename">/etc/named.conf</code>, all the name servers listed here
      are informed of the changes made to the zone data.
     </p></dd><dt id="id-1.3.6.3.8.6.9"><span class="term">Line 10:</span></dt><dd><p>
      The MX record specifies the mail server that accepts, processes, and
      forwards e-mails for the domain
      <code class="systemitem">example.com</code>. In this
      example, this is the host
      <code class="systemitem">mail.example.com</code>. The number in
      front of the host name is the preference value. If there are multiple MX
      entries, the mail server with the smallest value is taken first. If
      mail delivery to this server fails, the next entry with
      higher value is used.
     </p></dd><dt id="id-1.3.6.3.8.6.10"><span class="term">Lines 12–19:</span></dt><dd><p>
      These are the actual address records where one or more IP addresses are
      assigned to host names. The names are listed here without a
      <code class="literal">"."</code> because they do not include their domain, so
      <code class="systemitem">example.com</code> is added to
      all of them. Two IP addresses are assigned to the host
      <code class="systemitem">gate</code>, as it has two network cards.


      Wherever the host address is a traditional one (IPv4), the record is
      marked with <code class="literal">A</code>. If the address is an IPv6 address, the
      entry is marked with <code class="literal">AAAA</code>.

     </p><div id="id-1.3.6.3.8.6.10.2.2" data-id-title="IPv6 Syntax" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: IPv6 Syntax</div><p>
       The IPv6 record has a slightly different syntax than IPv4. Because of
       the fragmentation possibility, it is necessary to provide information
       about missed bits before the address. To fill up the IPv6 address with
       the needed number of <span class="quote">“<span class="quote">0</span>”</span>, add two colons at the correct
       place in the address.

      </p><div class="verbatim-wrap"><pre class="screen">pluto     AAAA 2345:00C1:CA11::1234:5678:9ABC:DEF0
pluto     AAAA 2345:00D2:DA11::1234:5678:9ABC:DEF0</pre></div></div></dd><dt id="id-1.3.6.3.8.6.11"><span class="term">Line 20:</span></dt><dd><p>
      The alias <code class="literal">ntp</code> can be used to address

      <code class="literal">dns</code> (<code class="systemitem">CNAME</code> means

      <span class="emphasis"><em>canonical name</em></span>).
     </p></dd></dl></div><p>
   The pseudo domain <code class="literal">in-addr.arpa</code> is used for the reverse
   lookup of IP addresses into host names. It is appended to the network part
   of the address in reverse notation. So
   <code class="systemitem">192.168</code> is resolved into
   <code class="systemitem">168.192.in-addr.arpa</code>. See
   <a class="xref" href="cha-dns.html#dat-arpa" title="Reverse Lookup">Example 26.7, “Reverse Lookup”</a>.
  </p><div class="example" id="dat-arpa" data-id-title="Reverse Lookup"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 26.7: </span><span class="title-name">Reverse Lookup </span></span><a title="Permalink" class="permalink" href="cha-dns.html#dat-arpa">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">1.  $TTL 2D
2.  168.192.in-addr.arpa.   IN SOA dns.example.com. root.example.com. (
3.                          2003072441      ; serial
4.                          1D              ; refresh
5.                          2H              ; retry
6.                          1W              ; expiry
7.                          2D )            ; minimum
8.
9.                          IN NS           dns.example.com.
10.
11. 1.5                     IN PTR          gate.example.com. 
12. 100.3                   IN PTR          www.example.com. 
13. 253.2                   IN PTR          cups.example.com.</pre></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.6.3.8.9.1"><span class="term">Line 1:</span></dt><dd><p>
      $TTL defines the standard TTL that applies to all entries here.
     </p></dd><dt id="id-1.3.6.3.8.9.2"><span class="term">Line 2:</span></dt><dd><p>

      The configuration file should activate reverse lookup for the network
      <code class="systemitem">192.168</code>. Given

      that the zone is called <code class="systemitem">168.192.in-addr.arpa</code>, it
      should not be added to the host names. Therefore, all host names are
      entered in their complete form—with their domain and with a
      <code class="literal">"."</code> at the end. The remaining entries correspond to
      those described for the previous <code class="systemitem">example.com</code>
      example.
     </p></dd><dt id="id-1.3.6.3.8.9.3"><span class="term">Lines 3–7:</span></dt><dd><p>
      See the previous example for <code class="systemitem">example.com</code>.
     </p></dd><dt id="id-1.3.6.3.8.9.4"><span class="term">Line 9:</span></dt><dd><p>
      Again this line specifies the name server responsible for this zone. This
      time, however, the name is entered in its complete form with the domain
      and a <code class="literal">"."</code> at the end.
     </p></dd><dt id="id-1.3.6.3.8.9.5"><span class="term">Lines 11–13:</span></dt><dd><p>
      These are the pointer records hinting at the IP addresses on the
      respective hosts. Only the last part of the IP address is entered at the
      beginning of the line, without the <code class="literal">"."</code> at the end.
      Appending the zone to this (without the
      <code class="systemitem">.in-addr.arpa</code>) results in the complete IP
      address in reverse order.
     </p></dd></dl></div><p>
   Normally, zone transfers between different versions of BIND should be
   possible without any problems.
  </p></section><section class="sect1" id="sec-dns-dynupdate" data-id-title="Dynamic Update of Zone Data"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">26.7 </span><span class="title-name">Dynamic Update of Zone Data</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-dynupdate">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The term <span class="emphasis"><em>dynamic update</em></span> refers to operations by which
   entries in the zone files of a master server are added, changed, or deleted.
   This mechanism is described in RFC 2136. Dynamic update is configured
   individually for each zone entry by adding an optional
   <code class="systemitem">allow-update</code> or
   <code class="systemitem">update-policy</code> rule. Zones to update dynamically
   should not be edited by hand.
  </p><p>
   Transmit the entries to update to the server with the command
   <code class="command">nsupdate</code>. For the exact syntax of this command, check the
   manual page for nsupdate (<code class="command">man</code> <code class="option">8
   nsupdate</code>). For security reasons, any such update should be
   performed using TSIG keys as described in <a class="xref" href="cha-dns.html#sec-dns-tsig" title="26.8. Secure Transactions">Section 26.8, “Secure Transactions”</a>.
  </p></section><section class="sect1" id="sec-dns-tsig" data-id-title="Secure Transactions"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">26.8 </span><span class="title-name">Secure Transactions</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-tsig">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Secure transactions can be made with transaction signatures (TSIGs) based on
   shared secret keys (also called TSIG keys). This section describes how to
   generate and use such keys.
  </p><p>
   Secure transactions are needed for communication between different servers
   and for the dynamic update of zone data. Making the access control dependent
   on keys is much more secure than merely relying on IP addresses.
  </p><p>
   Generate a TSIG key with the following command (for details, see
   <code class="command">man</code> <code class="option">dnssec-keygen</code>):
  </p><div class="verbatim-wrap"><pre class="screen">dnssec-keygen -a hmac-md5 -b 128 -n HOST host1-host2</pre></div><p>
   This creates two files with names similar to these:
  </p><div class="verbatim-wrap"><pre class="screen">Khost1-host2.+157+34265.private Khost1-host2.+157+34265.key</pre></div><p>
   The key itself (a string like <code class="literal">ejIkuCyyGJwwuN3xAteKgg==</code>)
   is found in both files. To use it for transactions, the second file
   (<code class="filename">Khost1-host2.+157+34265.key</code>) must be transferred to
   the remote host, preferably in a secure way (using scp, for example). On the
   remote server, the key must be included in the
   <code class="filename">/etc/named.conf</code> file to enable a secure communication
   between <code class="literal">host1</code> and <code class="literal">host2</code>:
  </p><div class="verbatim-wrap"><pre class="screen">key host1-host2 {
 algorithm hmac-md5;
 secret "ejIkuCyyGJwwuN3xAteKgg==";
};</pre></div><div id="id-1.3.6.3.10.10" data-id-title="File Permissions of /etc/named.conf" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: File Permissions of <code class="filename">/etc/named.conf</code></div><p>
    Make sure that the permissions of <code class="filename">/etc/named.conf</code> are
    properly restricted. The default for this file is <code class="literal">0640</code>,
    with the owner being <code class="systemitem">root</code> and the
    group <code class="systemitem">named</code>. As an alternative,
    move the keys to an extra file with specially limited permissions, which is
    then included from <code class="filename">/etc/named.conf</code>. To include an
    external file, use:
   </p><div class="verbatim-wrap"><pre class="screen">include  "filename"</pre></div><p>
    Replace <code class="option">filename</code> with an absolute path to your file with
    keys.
   </p></div><p>





   To enable the server <code class="literal">host1</code> to use the key for
   <code class="literal">host2</code> (which has the address <code class="literal">10.1.2.3</code>
   in this example), the server's <code class="filename">/etc/named.conf</code> must
   include the following rule:
  </p><div class="verbatim-wrap"><pre class="screen">server 10.1.2.3 {
  keys { host1-host2. ;};
};</pre></div><p>
   Analogous entries must be included in the configuration files of
   <code class="literal">host2</code>.
  </p><p>
   Add TSIG keys for any ACLs (access control lists, not to be confused with
   file system ACLs) that are defined for IP addresses and address ranges to
   enable transaction security. The corresponding entry could look like this:
  </p><div class="verbatim-wrap"><pre class="screen">allow-update { key host1-host2. ;};</pre></div><p>
   This topic is discussed in more detail in the <span class="emphasis"><em>BIND Administrator
   Reference Manual</em></span> under <code class="literal">update-policy</code>.
  </p></section><section class="sect1" id="sec-dns-dnssec" data-id-title="DNS Security"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">26.9 </span><span class="title-name">DNS Security</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-dnssec">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   DNSSEC, or DNS security, is described in RFC 2535. The tools available
   for DNSSEC are discussed in the BIND Manual.
  </p><p>
   A zone considered secure must have one or several zone keys associated with
   it. These are generated with <code class="command">dnssec-keygen</code>, as are the
   host keys. The DSA encryption algorithm is currently used to generate these
   keys. The public keys generated should be included in the corresponding zone
   file with an <code class="systemitem">$INCLUDE</code> rule.
  </p><p>
   With the command <code class="command">dnssec-signzone</code>, you can create sets of
   generated keys (<code class="literal">keyset-</code> files), transfer them to the
   parent zone in a secure manner, and sign them. This generates the files to
   include for each zone in <code class="filename">/etc/named.conf</code>.
  </p></section><section class="sect1" id="sec-dns-info" data-id-title="For More Information"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">26.10 </span><span class="title-name">For More Information</span></span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-info">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP4/xml/net_dns.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   For more information, see the <span class="emphasis"><em>BIND Administrator Reference
   Manual</em></span> from the
   <code class="systemitem">bind-doc</code> package, which is
   installed under <code class="filename">/usr/share/doc/packages/bind/arm</code>.
   Consider additionally consulting the RFCs referenced by the manual and the
   manual pages included with BIND.
   <code class="filename">/usr/share/doc/packages/bind/README.SUSE</code> contains
   up-to-date information about BIND in <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>.
  </p></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="cha-netz-xntp.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 25 </span>Time Synchronization with NTP</span></a> </div><div><a class="pagination-link next" href="cha-dhcp.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 27 </span>DHCP</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="cha-dns.html#sec-dns-basic"><span class="title-number">26.1 </span><span class="title-name">DNS Terminology</span></a></span></li><li><span class="sect1"><a href="cha-dns.html#sec-dns-install"><span class="title-number">26.2 </span><span class="title-name">Installation</span></a></span></li><li><span class="sect1"><a href="cha-dns.html#sec-dns-yast"><span class="title-number">26.3 </span><span class="title-name">Configuration with YaST</span></a></span></li><li><span class="sect1"><a href="cha-dns.html#sec-dns-bind"><span class="title-number">26.4 </span><span class="title-name">Starting the BIND Name Server</span></a></span></li><li><span class="sect1"><a href="cha-dns.html#sec-dns-named"><span class="title-number">26.5 </span><span class="title-name">The /etc/named.conf Configuration File</span></a></span></li><li><span class="sect1"><a href="cha-dns.html#sec-dns-zonefile"><span class="title-number">26.6 </span><span class="title-name">Zone Files</span></a></span></li><li><span class="sect1"><a href="cha-dns.html#sec-dns-dynupdate"><span class="title-number">26.7 </span><span class="title-name">Dynamic Update of Zone Data</span></a></span></li><li><span class="sect1"><a href="cha-dns.html#sec-dns-tsig"><span class="title-number">26.8 </span><span class="title-name">Secure Transactions</span></a></span></li><li><span class="sect1"><a href="cha-dns.html#sec-dns-dnssec"><span class="title-number">26.9 </span><span class="title-name">DNS Security</span></a></span></li><li><span class="sect1"><a href="cha-dns.html#sec-dns-info"><span class="title-number">26.10 </span><span class="title-name">For More Information</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>