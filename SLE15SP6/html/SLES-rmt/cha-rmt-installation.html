<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLES 15 SP6 | Repository Mirroring Tool Guide | RMT installation and configuration</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="RMT installation and configuration | SLES 15 SP6"/>
<meta name="description" content="RMT is included in SUSE Linux Enterprise Server starting with version 15. Install RMT directly during the installation of SUSE Linux Enterprise Serve…"/>
<meta name="product-name" content="SUSE Linux Enterprise Server"/>
<meta name="product-number" content="15 SP6"/>
<meta name="book-title" content="Repository Mirroring Tool Guide"/>
<meta name="chapter-title" content="Chapter 2. RMT installation and configuration"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="taroth@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="PUBLIC SUSE Linux Enterprise Server 15 SP6"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Repository Mirroring Tool Guide"/>
<meta property="og:description" content="Use RMT, a proxy system for SUSE Customer Center"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Repository Mirroring Tool Guide"/>
<meta name="twitter:description" content="Use RMT, a proxy system for SUSE Customer Center"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "RMT installation and configuration",
  
    "description": "RMT installation and configuration",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2024-06-26T00:00+02:00",
      
    "datePublished": "2024-06-26T00:00+02:00",
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="rmt-overview.html" title="Chapter 1. Overview"/><link rel="next" href="cha-rmt-migrate.html" title="Chapter 3. Migrate from SMT to RMT"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_install.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">RMT Guide</a><span> / </span><a class="crumb" href="cha-rmt-installation.html">RMT installation and configuration</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">RMT Guide</div><ol><li><a href="rmt-preface.html" class=" "><span class="title-number"> </span><span class="title-name">Preface</span></a></li><li><a href="rmt-overview.html" class=" "><span class="title-number">1 </span><span class="title-name">Overview</span></a></li><li><a href="cha-rmt-installation.html" class=" you-are-here"><span class="title-number">2 </span><span class="title-name">RMT installation and configuration</span></a></li><li><a href="cha-rmt-migrate.html" class=" "><span class="title-number">3 </span><span class="title-name">Migrate from SMT to RMT</span></a></li><li><a href="cha-rmt-mirroring.html" class=" "><span class="title-number">4 </span><span class="title-name">Mirroring repositories on the RMT server</span></a></li><li><a href="cha-rmt-client.html" class=" "><span class="title-number">5 </span><span class="title-name">Configuring clients to use RMT</span></a></li><li><a href="cha-rmt-tools.html" class=" "><span class="title-number">6 </span><span class="title-name">RMT tools and configuration files</span></a></li><li><a href="cha-rmt-backup.html" class=" "><span class="title-number">7 </span><span class="title-name">Backing up an RMT server</span></a></li><li><a href="cha-manage-certificates.html" class=" "><span class="title-number">8 </span><span class="title-name">Managing TLS/SSL certificates</span></a></li><li><a href="bk08apa.html" class=" "><span class="title-number">A </span><span class="title-name">GNU licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="cha-rmt-installation" data-id-title="RMT installation and configuration"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">15 SP6</span></span></span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">2 </span><span class="title-name">RMT installation and configuration</span></span> <a title="Permalink" class="permalink" href="cha-rmt-installation.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_install.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    RMT is included in SUSE Linux Enterprise Server starting with version 15. Install RMT directly
    during the installation of <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> or install it on a running system.
    After the packages are installed, use YaST to do an initial
    configuration.
  </p><div id="id-1.10.4.3" data-id-title="RMT server conflicts with installation server" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: RMT server conflicts with installation server</div><p>
      Configuring a server to be an RMT server installs and configures the
      NGINX Web server, listening on port 80.
    </p><p>
      However, configuring a machine to be an installation server automatically
      installs the Apache Web server and configures it to listen on port 80.
    </p><p>
      Do not try to enable both these functions on the same server. It is not
      possible for a single server to host both simultaneously.
    </p></div><section class="sect1" id="sec-rmt-storage-requirements" data-id-title="Storage requirements"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.1 </span><span class="title-name">Storage requirements</span></span> <a title="Permalink" class="permalink" href="cha-rmt-installation.html#sec-rmt-storage-requirements">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_install.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      Downloaded packages are stored in
      <code class="filename">/usr/share/rmt/public/repo</code>, which is a symbolic link
      to <code class="filename">/var/lib/rmt/public/repo/</code>.
    </p><p>
      The amount of storage your RMT server requires depends on several
      variables: the number of repositories and architectures that you mirror,
      and the number of products that are enabled. As a general guide, 1.5
      times the total size of all enabled repositories should be sufficient.
      This is about 200 GB per SUSE Linux Enterprise release, including all extensions.
    </p></section><section class="sect1" id="sec-rmt-installation-yast" data-id-title="Installation during system installation"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.2 </span><span class="title-name">Installation during system installation</span></span> <a title="Permalink" class="permalink" href="cha-rmt-installation.html#sec-rmt-installation-yast">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_install.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      To install it during installation, select the
      <span class="package">rmt-server</span> package. Package selection can be
      found in <span class="emphasis"><em>Installation Settings</em></span> when selecting
      <span class="emphasis"><em>Software</em></span>.
    </p><div class="figure" id="id-1.10.4.5.3"><div class="figure-contents"><div class="mediaobject"><a href="images/rmt_installation.png"><img src="images/rmt_installation.png" width="70%" alt="RMT pattern" title="RMT pattern"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 2.1: </span><span class="title-name">RMT pattern </span></span><a title="Permalink" class="permalink" href="cha-rmt-installation.html#id-1.10.4.5.3">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_install.xml" title="Edit source document"> </a></div></div></div><p>
      Check for available RMT updates immediately after installing SUSE Linux Enterprise Server
      using the <code class="command">zypper patch</code> command because SUSE
      continuously releases maintenance updates for RMT.
    </p></section><section class="sect1" id="sec-rmt-installation-zypper" data-id-title="Installation on an existing system"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.3 </span><span class="title-name">Installation on an existing system</span></span> <a title="Permalink" class="permalink" href="cha-rmt-installation.html#sec-rmt-installation-zypper">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_install.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      To install RMT on a running <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> installation, use
      <code class="command">zypper</code>:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">zypper in rmt-server</code></pre></div><section class="sect2" id="sec-rmt-installation-zypper-jeos" data-id-title="Installation on SLES Minimal VM"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.3.1 </span><span class="title-name">Installation on SLES Minimal VM</span></span> <a title="Permalink" class="permalink" href="cha-rmt-installation.html#sec-rmt-installation-zypper-jeos">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_install.xml" title="Edit source document"> </a></div></div></div></div></div><p>
        SLES Minimal VM is a minimal customizable operating system that is
        designed for specific usage scenarios, for example, to be run as:
      </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
            A container host
          </p></li><li class="listitem"><p>
            A virtual machine guest
          </p></li><li class="listitem"><p>
            An appliance base system
          </p></li><li class="listitem"><p>
            A small server image
          </p></li></ul></div><p>
        SLES Minimal VM image is a good choice for being used as an RMT server. You
        can download SLES Minimal VM images for KVM, Xen, Microsoft Hyper-V, VMware,
        and OpenStack from the public SUSE Linux Enterprise Server download page at
        <a class="link" href="https://www.suse.com/download/sles/" target="_blank">https://www.suse.com/download/sles/</a>. Find more
        information on SLES Minimal VM at
        <a class="link" href="https://documentation.suse.com/smart/virtualization-cloud/html/minimal-vm/index.html" target="_blank">https://documentation.suse.com/smart/virtualization-cloud/html/minimal-vm/index.html</a>.
      </p><p>
        Installing RMT on SLES Minimal VM is the same as installing it on an
        existing system (see <a class="xref" href="cha-rmt-installation.html#sec-rmt-installation-zypper" title="2.3. Installation on an existing system">Section 2.3, “Installation on an existing system”</a>).
        To install RMT on
        SLES Minimal VM, run the following command from the SLES Minimal VM command line as
        <code class="systemitem">root</code>:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>zypper install rmt-server yast2-rmt nginx mariadb</pre></div><div id="id-1.10.4.6.4.7" data-id-title="Hardware requirements" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Hardware requirements</div><p>
          When installing RMT on SLES Minimal VM, be aware that it requires a minimum
          of 100 GB disk space, depending on the products you select to mirror.
          Another requirement is a CPU with at least two cores and 2 GB of RAM.
        </p></div></section></section><section class="sect1" id="sec-rmt-deploy-kubernetes" data-id-title="Deploying RMT on top of the Kubernetes cluster"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.4 </span><span class="title-name">Deploying RMT on top of the Kubernetes cluster</span></span> <a title="Permalink" class="permalink" href="cha-rmt-installation.html#sec-rmt-deploy-kubernetes">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_install.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      This section describes how to deploy RMT on top of the Kubernetes cluster.
      It uses <span class="emphasis"><em>Helm</em></span> as the package manager to interact with
      the Kubernetes cluster. Find more details about using Helm at
      <a class="link" href="https://helm.sh/docs/intro/using_helm/" target="_blank">https://helm.sh/docs/intro/using_helm/</a>.
    </p><section class="sect2" id="sec-rmt-deploy-kubernetes-prerequisites" data-id-title="Prerequisites"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.4.1 </span><span class="title-name">Prerequisites</span></span> <a title="Permalink" class="permalink" href="cha-rmt-installation.html#sec-rmt-deploy-kubernetes-prerequisites">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_install.xml" title="Edit source document"> </a></div></div></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
            Running Kubernetes cluster
          </p></li><li class="listitem"><p>
            <code class="command">helm</code> command configured to interact with the
            cluster
          </p></li></ul></div></section><section class="sect2" id="sec-rmt-deploy-kubernetes-components" data-id-title="Application components"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.4.2 </span><span class="title-name">Application components</span></span> <a title="Permalink" class="permalink" href="cha-rmt-installation.html#sec-rmt-deploy-kubernetes-components">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_install.xml" title="Edit source document"> </a></div></div></div></div></div><p>
        Each component of the RMT application is deployed in its own
        container. RMT consists of the following components:
      </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.10.4.7.4.3.1"><span class="term">RMT server</span></dt><dd><p>
              Containerized version of the RMT application server with the
              ability to pass its configuration via Helm values. Storage is
              done on a volume that is allocated to the Kubernetes cluster. You
              need to adjust the size of the storage depending on the number of
              repositories you need to mirror.
            </p></dd><dt id="id-1.10.4.7.4.3.2"><span class="term">MariaDB</span></dt><dd><p>
              The database back-end for RMT. No post-installation task is
              needed since RMT creates the required database and tables
              at start-up. If passwords are not
              specified in the <code class="filename">values.yaml</code> file, they are
              generated automatically.
            </p></dd><dt id="id-1.10.4.7.4.3.3"><span class="term">Nginx</span></dt><dd><p>
              A Web server configured for RMT routes. Having a properly
              configured Web server allows you to target your Ingress traffic
              (for RMT) to this Nginx service directly. You do not need to
              configure Ingress for RMT specific paths handling, as Nginx is
              configured to take care of this itself.
            </p></dd></dl></div></section><section class="sect2" id="sec-rmt-deploy-kubernetes-values" data-id-title="The values.yaml file"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.4.3 </span><span class="title-name">The <code class="filename">values.yaml</code> file</span></span> <a title="Permalink" class="permalink" href="cha-rmt-installation.html#sec-rmt-deploy-kubernetes-values">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_install.xml" title="Edit source document"> </a></div></div></div></div></div><p>
        The RMT chart includes the <code class="filename">values.yaml</code> file
        where all parameters are documented and their default values are
        defined. You can override these values by providing your own values
        file, for example:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>cat &lt;&lt; EOF &gt; rmt-config.yaml
---
app:
  storage:
    class: local-path<span class="callout" id="co-kubernetes-values-appstorage">1</span>
  scc:
    username: "UXXXXXXX"
    password: "PASSXXXX"
    products_enable:
      - SLES/15.3/x86_64
      - sle-module-python2/15.3/x86_64
    products_disable:
      - sle-module-legacy/15.3/x86_64
      - sle-module-cap-tools/15.3/x86_64
db:
  storage:
    class: local-path<span class="callout" id="co-kubernetes-values-dbstorage">2</span>
ingress:
  enabled: true
  hosts:
    - host: chart-example.local
      paths:
        - path: "/"
          pathType: Prefix
  tls:
    - secretName: rmt-cert
      hosts:
        - chart-example.local
EOF</pre></div><div class="calloutlist"><table style="border: 0; "><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-kubernetes-values-appstorage"><span class="callout">1</span></a> <a href="#co-kubernetes-values-dbstorage"><span class="callout">2</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      The <code class="literal">local-path</code> storage class is only available in
      Rancher workloads. To make the helm chart succeed, you need to install the
      <code class="literal">local-path</code> storage provisioner by running the following
      command:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>kubectl apply -f https://raw.githubusercontent.com/rancher/local-path-provisioner/v0.0.26/deploy/local-path-storage.yaml</pre></div></td></tr></table></div><p>
        And to install RMT, run:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>helm install rmtsle oci://registry.suse.com/suse/rmt-helm -f rmt-config.yaml</pre></div><section class="sect3" id="sec-rmt-helm-required-values" data-id-title="Required values"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">2.4.3.1 </span><span class="title-name">Required values</span></span> <a title="Permalink" class="permalink" href="cha-rmt-installation.html#sec-rmt-helm-required-values">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_install.xml" title="Edit source document"> </a></div></div></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.10.4.7.5.7.2.1"><span class="term"><span class="strong"><strong>Key</strong></span>: app.scc.password</span></dt><dd><p>
                <span class="strong"><strong>Type</strong></span>: string
              </p><p>
                <span class="strong"><strong>Default</strong></span>:
                <code class="literal">nil</code>
              </p><p>
                <span class="strong"><strong>Description</strong></span>: <a class="link" href="https://scc.suse.com/" target="_blank">SUSE Customer Center</a> proxy password. The password string needs to be
                put inside quotes. If the quote character <code class="literal">"</code> is part of the
                string, it has to be escaped with <code class="literal">\</code>.
              </p></dd><dt id="id-1.10.4.7.5.7.2.2"><span class="term"><span class="strong"><strong>Key</strong></span>: app.scc.username</span></dt><dd><p>
                <span class="strong"><strong>Type</strong></span>: string
              </p><p>
                <span class="strong"><strong>Default</strong></span>:
                <code class="literal">nil</code>
              </p><p>
                <span class="strong"><strong>Description</strong></span>: <a class="link" href="https://scc.suse.com/" target="_blank">SUSE Customer Center</a> proxy user name. The user name string needs to be
                put inside quotes. If the quote character <code class="literal">"</code> is part of the
                string, it has to be escaped with <code class="literal">\</code>.
              </p></dd><dt id="id-1.10.4.7.5.7.2.3"><span class="term"><span class="strong"><strong>Key</strong></span>: app.scc.products_enable</span></dt><dd><p>
                <span class="strong"><strong>Type</strong></span>: list
              </p><p>
                <span class="strong"><strong>Default</strong></span>:
                <code class="literal">[]</code>
              </p><p>
                <span class="strong"><strong>Description</strong></span>: list of
                products to enable for mirroring
              </p></dd><dt id="id-1.10.4.7.5.7.2.4"><span class="term"><span class="strong"><strong>Key</strong></span>: app.scc.products_disable</span></dt><dd><p>
                <span class="strong"><strong>Type</strong></span>: list
              </p><p>
                <span class="strong"><strong>Default</strong></span>:
                <code class="literal">[]</code>
              </p><p>
                <span class="strong"><strong>Description</strong></span>: list of
                products to disable for mirroring
              </p></dd><dt id="id-1.10.4.7.5.7.2.5"><span class="term"><span class="strong"><strong>Key</strong></span>: app.storage.class</span></dt><dd><p>
                <span class="strong"><strong>Type</strong></span>: string
              </p><p>
                <span class="strong"><strong>Default</strong></span>:
                <code class="literal">""</code>
              </p><p>
                <span class="strong"><strong>Description</strong></span>: Kubernetes
                <code class="literal">storageclass</code>.
              </p></dd><dt id="id-1.10.4.7.5.7.2.6"><span class="term"><span class="strong"><strong>Key</strong></span>: db.storage.class</span></dt><dd><p>
                <span class="strong"><strong>Type</strong></span>: string
              </p><p>
                <span class="strong"><strong>Default</strong></span>:
                <code class="literal">""</code>
              </p><p>
                <span class="strong"><strong>Description</strong></span>: Kubernetes
                <code class="literal">storageclass</code>.
              </p></dd><dt id="id-1.10.4.7.5.7.2.7"><span class="term"><span class="strong"><strong>Key</strong></span>: ingress.enabled</span></dt><dd><p>
                <span class="strong"><strong>Type</strong></span>: bool
              </p><p>
                <span class="strong"><strong>Default</strong></span>:
                <code class="literal">false</code>
              </p><p>
                <span class="strong"><strong>Description</strong></span>: Ingress Enabled
              </p></dd><dt id="id-1.10.4.7.5.7.2.8"><span class="term"><span class="strong"><strong>Key</strong></span>: ingress.hosts[0]</span></dt><dd><p>
                <span class="strong"><strong>Type</strong></span>: object
              </p><p>
                <span class="strong"><strong>Default</strong></span>:
                <code class="literal">{"host":"chart-example.local","paths":[{"path":"/","pathType":"Prefix"}]}</code>
              </p><p>
                <span class="strong"><strong>Description</strong></span>: DNS name at
                which the RMT service will be accessible from clients
              </p></dd><dt id="id-1.10.4.7.5.7.2.9"><span class="term"><span class="strong"><strong>Key</strong></span>: ingress.tls[0].hosts[0]</span></dt><dd><p>
                <span class="strong"><strong>Type</strong></span>: string
              </p><p>
                <span class="strong"><strong>Default</strong></span>:
                <code class="literal">"chart-example.local"</code>
              </p><p>
                <span class="strong"><strong>Description</strong></span>: DNS name at
                which the RMT service will be accessible from clients
              </p></dd><dt id="id-1.10.4.7.5.7.2.10"><span class="term"><span class="strong"><strong>Key</strong></span>: ingress.tls[0].secretName</span></dt><dd><p>
                <span class="strong"><strong>Type</strong></span>: string
              </p><p>
                <span class="strong"><strong>Default</strong></span>:
                <code class="literal">"rmt-cert"</code>
              </p><p>
                <span class="strong"><strong>Description</strong></span>: TLS Ingress
                Certificate
              </p></dd></dl></div></section></section></section><section class="sect1" id="sec-rmt-installation-yast-configuration" data-id-title="RMT configuration with YaST"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.5 </span><span class="title-name">RMT configuration with YaST</span></span> <a title="Permalink" class="permalink" href="cha-rmt-installation.html#sec-rmt-installation-yast-configuration">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_install.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      Configure RMT with YaST as described in the following procedure. It
      is assumed that this procedure is executed on a newly installed system.
    </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
          Start YaST with the <code class="literal">rmt</code> module.
        </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">yast2 rmt</code></pre></div><p>
          Alternatively, start YaST and select <span class="guimenu">Network
          Services</span> › <span class="guimenu">RMT Configuration</span>.
        </p></li><li class="step"><p>
          Enter your organization credentials. To retrieve your credentials,
          refer to <a class="xref" href="cha-rmt-mirroring.html#sec-rmt-mirroring-credentials" title="4.1. Mirroring credentials">Section 4.1, “Mirroring credentials”</a>.
        </p></li><li class="step"><p>
          Enter credentials for a new MariaDB user and database name, and
          confirm with <span class="guimenu">Next</span>.
        </p><p>
          If a password for the MariaDB <code class="literal">root</code> user is
          already set, you are required to enter it. If no password is set for
          <code class="literal">root</code>, you are asked to enter a new one.
        </p></li><li class="step"><p>
          Enter a common name for the SSL certificates. The common name should
          be the <span class="emphasis"><em>fully qualified domain name</em></span>
          (<span class="emphasis"><em>FQDN</em></span>) of the server. Enter all domain names and
          IP addresses with which you want to reach the RMT server as
          alternative common names.
        </p><p>
          When all common names are entered, select <span class="guimenu">Next</span>.
        </p><div id="id-1.10.4.8.3.4.3" data-id-title="Certificate locations for RMT" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Certificate locations for RMT</div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
                <code class="filename">/etc/rmt/ssl/rmt-ca.crt</code>
              </p><p>
                This is the CA certificate bundle that <code class="command">yast2
                rmt</code> uses to certify the RMT server certificate.
                <code class="command">yast2 rmt</code> only creates this file if it does
                not already exist.
              </p></li><li class="listitem"><p>
                <code class="filename">/etc/rmt/ssl/rmt-server.crt</code> and
                <code class="filename">/etc/rmt/ssl/rmt-server.key</code>
              </p><p>
                <code class="command">yast2 rmt</code> only generates a new server
                certificate and private key if one does not already exist. To
                regenerate this certificate, refer to
                <a class="xref" href="cha-manage-certificates.html#cha-manage-certificates-https" title="8.1. Regenerating HTTPS certificates">Section 8.1, “Regenerating HTTPS certificates”</a>.
              </p></li></ul></div></div></li><li class="step"><p>
          If <code class="systemitem">firewalld</code> is enabled on this system, enable the check box to
          open the required ports.
        </p><div class="figure" id="id-1.10.4.8.3.5.2"><div class="figure-contents"><div class="mediaobject"><a href="images/rmt_firewalld.png"><img src="images/rmt_firewalld.png" width="65%" alt="Enabling ports in firewalld" title="Enabling ports in firewalld"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 2.2: </span><span class="title-name">Enabling ports in <code class="systemitem">firewalld</code> </span></span><a title="Permalink" class="permalink" href="cha-rmt-installation.html#id-1.10.4.8.3.5.2">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_install.xml" title="Edit source document"> </a></div></div></div><p>
          If <code class="systemitem">firewalld</code> is not enabled now and you plan to enable it later,
          you can always open relevant ports by running the <code class="command">yast2
          rmt</code> module.
        </p><div id="id-1.10.4.8.3.5.4" data-id-title="Fine-tuning firewalld settings" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Fine-tuning <code class="systemitem">firewalld</code> settings</div><p>
            By clicking <span class="guimenu">Firewall Details</span>, you can open the
            relevant ports for specific network interfaces only.
          </p></div><p>
          Continue with <span class="guimenu">Next</span>.
        </p></li><li class="step"><p>
          To view the summary, click <span class="guimenu">Next</span>. Close YaST by
          clicking <span class="guimenu">Finish</span>. YaST then enables and starts
          all <code class="systemitem">systemd</code> services and timers.
        </p></li></ol></div></div></section><section class="sect1" id="id-1.10.4.9" data-id-title="Enabling SLP announcements"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.6 </span><span class="title-name">Enabling SLP announcements</span></span> <a title="Permalink" class="permalink" href="cha-rmt-installation.html#id-1.10.4.9">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_install.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      RMT includes the SLP service description file
      <code class="filename">/etc/slp.reg.d/rmt-server.reg</code>. To enable SLP
      announcements of the RMT service, follow these steps:
    </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
          If <code class="systemitem">firewalld</code> is running, open relevant ports and reload the
          <code class="systemitem">firewalld</code> configuration:
        </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> firewall-cmd --permanent --add-port=427/tcp
success
<code class="prompt user">&gt; </code><code class="command">sudo</code> firewall-cmd --permanent --add-port=427/udp
success
<code class="prompt user">&gt; </code><code class="command">sudo</code> firewall-cmd --reload</pre></div></li><li class="step"><p>
          Verify that the SLP server is installed and install it if it is not:
        </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> zypper install openslp-server</pre></div></li><li class="step"><p>
          Enable and start the SLP service:
        </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> systemctl enable slpd.service
<code class="prompt user">&gt; </code><code class="command">sudo</code> systemctl restart slpd.service</pre></div></li></ol></div></div></section><section class="sect1" id="rmt-self-update-firewall" data-id-title="Accessing SUSE Customer Center behind a firewall"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.7 </span><span class="title-name">Accessing SUSE Customer Center behind a firewall</span></span> <a title="Permalink" class="permalink" href="cha-rmt-installation.html#rmt-self-update-firewall">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_install.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      If the RMT server is behind a firewall and cannot access SUSE Customer Center
      directly, you need to allow connections to the following domains for both
      80 and 443 ports on the firewall.
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
          scc.suse.com
        </p></li><li class="listitem"><p>
          updates.suse.com
        </p></li><li class="listitem"><p>
          installer-updates.suse.com
        </p></li></ul></div><p>
      If the firewall you are using does not support host name
      allowlisting—such as <code class="systemitem">firewalld</code>—you need to allow connections
      to the corresponding IP addresses as described in the following steps.
    </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
          Resolve the IP address of the domain, for example,
          <code class="literal">installer-updates.suse.com</code>.
        </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">nslookup installer-updates.suse.com</code>
[...]
Address: 152.199.22.115</pre></div></li><li class="step"><p>
          Add firewall rules for ports 80 and 443 for each discovered IP
          address.
        </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">firewall-cmd --permanent --zone=public \
  --add-rich-rule='rule family="ipv4" source address="152.199.22.115" \
  port protocol="tcp" port="80" accept'</code></pre></div><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">firewall-cmd --permanent --zone=public \
  --add-rich-rule='rule family="ipv4" source address="152.199.22.115" \
  port protocol="tcp" port="443" accept'</code></pre></div></li><li class="step"><p>
          Reload the firewall configuration.
        </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> firewall-cmd --reload</pre></div></li></ol></div></div></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="rmt-overview.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 1 </span>Overview</span></a> </div><div><a class="pagination-link next" href="cha-rmt-migrate.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 3 </span>Migrate from SMT to RMT</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="cha-rmt-installation.html#sec-rmt-storage-requirements"><span class="title-number">2.1 </span><span class="title-name">Storage requirements</span></a></span></li><li><span class="sect1"><a href="cha-rmt-installation.html#sec-rmt-installation-yast"><span class="title-number">2.2 </span><span class="title-name">Installation during system installation</span></a></span></li><li><span class="sect1"><a href="cha-rmt-installation.html#sec-rmt-installation-zypper"><span class="title-number">2.3 </span><span class="title-name">Installation on an existing system</span></a></span></li><li><span class="sect1"><a href="cha-rmt-installation.html#sec-rmt-deploy-kubernetes"><span class="title-number">2.4 </span><span class="title-name">Deploying RMT on top of the Kubernetes cluster</span></a></span></li><li><span class="sect1"><a href="cha-rmt-installation.html#sec-rmt-installation-yast-configuration"><span class="title-number">2.5 </span><span class="title-name">RMT configuration with YaST</span></a></span></li><li><span class="sect1"><a href="cha-rmt-installation.html#id-1.10.4.9"><span class="title-number">2.6 </span><span class="title-name">Enabling SLP announcements</span></a></span></li><li><span class="sect1"><a href="cha-rmt-installation.html#rmt-self-update-firewall"><span class="title-number">2.7 </span><span class="title-name">Accessing SUSE Customer Center behind a firewall</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>