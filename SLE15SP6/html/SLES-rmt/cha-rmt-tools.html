<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLES 15 SP6 | Repository Mirroring Tool Guide | RMT tools and configuration files</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="RMT tools and configuration files | SLES 15 SP6"/>
<meta name="description" content="This chapter describes the most important scripts, configuration files and certificates shipped with RMT."/>
<meta name="product-name" content="SUSE Linux Enterprise Server"/>
<meta name="product-number" content="15 SP6"/>
<meta name="book-title" content="Repository Mirroring Tool Guide"/>
<meta name="chapter-title" content="Chapter 6. RMT tools and configuration files"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="taroth@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="PUBLIC SUSE Linux Enterprise Server 15 SP6"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Repository Mirroring Tool Guide"/>
<meta property="og:description" content="Use RMT, a proxy system for SUSE Customer Center"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Repository Mirroring Tool Guide"/>
<meta name="twitter:description" content="Use RMT, a proxy system for SUSE Customer Center"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "RMT tools and configuration files",
  
    "description": "RMT tools and configuration files",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2024-06-26T00:00+02:00",
      
    "datePublished": "2024-06-26T00:00+02:00",
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="cha-rmt-client.html" title="Chapter 5. Configuring clients to use RMT"/><link rel="next" href="cha-rmt-backup.html" title="Chapter 7. Backing up an RMT server"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_tools.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">RMT Guide</a><span> / </span><a class="crumb" href="cha-rmt-tools.html">RMT tools and configuration files</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">RMT Guide</div><ol><li><a href="rmt-preface.html" class=" "><span class="title-number"> </span><span class="title-name">Preface</span></a></li><li><a href="rmt-overview.html" class=" "><span class="title-number">1 </span><span class="title-name">Overview</span></a></li><li><a href="cha-rmt-installation.html" class=" "><span class="title-number">2 </span><span class="title-name">RMT installation and configuration</span></a></li><li><a href="cha-rmt-migrate.html" class=" "><span class="title-number">3 </span><span class="title-name">Migrate from SMT to RMT</span></a></li><li><a href="cha-rmt-mirroring.html" class=" "><span class="title-number">4 </span><span class="title-name">Mirroring repositories on the RMT server</span></a></li><li><a href="cha-rmt-client.html" class=" "><span class="title-number">5 </span><span class="title-name">Configuring clients to use RMT</span></a></li><li><a href="cha-rmt-tools.html" class=" you-are-here"><span class="title-number">6 </span><span class="title-name">RMT tools and configuration files</span></a></li><li><a href="cha-rmt-backup.html" class=" "><span class="title-number">7 </span><span class="title-name">Backing up an RMT server</span></a></li><li><a href="cha-manage-certificates.html" class=" "><span class="title-number">8 </span><span class="title-name">Managing TLS/SSL certificates</span></a></li><li><a href="rmt-public-cloud.html" class=" "><span class="title-number">9 </span><span class="title-name">Deploying a SUSE Linux Enterprise Server instance to support RMT in the public cloud</span></a></li><li><a href="bk08apa.html" class=" "><span class="title-number">A </span><span class="title-name">GNU licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="cha-rmt-tools" data-id-title="RMT tools and configuration files"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">15 SP6</span></span></span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">6 </span><span class="title-name">RMT tools and configuration files</span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_tools.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    This chapter describes the most important scripts, configuration files and
    certificates shipped with RMT.
  </p><p>
    The <code class="command">rmt-cli</code> command and its sub-commands are used to
    manage the mirroring of repositories, registration of clients, and
    reporting. <code class="systemitem">systemd</code> is used for starting, stopping, restarting the RMT
    service and for checking its status.
  </p><p>
    The basic configuration for RMT is stored in the
    <code class="filename">/etc/rmt.conf</code>.
  </p><section class="sect1" id="sec-rmt-tools-rmt-cli" data-id-title="RMT command line interface (rmt-cli)"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.1 </span><span class="title-name">RMT command line interface (<code class="command">rmt-cli</code>)</span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#sec-rmt-tools-rmt-cli">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_rmt-cli.xml" title="Edit source document"> </a></div></div></div></div></div><section class="sect2" id="sec-rmt-tools-rmt-cli-overview" data-id-title="Overview"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.1.1 </span><span class="title-name">Overview</span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#sec-rmt-tools-rmt-cli-overview">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_rmt-cli.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The key command to manage the RMT is <code class="command">rmt-cli</code>
   (<code class="filename">/usr/bin/rmt-cli</code>). The <code class="command">rmt-cli</code>
   command should be used together with the sub-commands described in this
   section. If the <code class="command">rmt-cli</code> command is used alone, it prints
   a list of all available sub-commands. To get help for individual
   sub-commands, use <code class="command">man rmt-cli</code> or <code class="command">rmt-cli help
   [subcommand]</code>.
  </p><p>
   The following sub-commands are available:
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.10.8.6.3.4.1"><span class="term"><code class="command">rmt-cli sync</code></span></dt><dd><p>
      Synchronize database with SUSE Customer Center.
     </p></dd><dt id="id-1.10.8.6.3.4.2"><span class="term"><code class="command">rmt-cli products</code></span></dt><dd><p>
      List and modify products.
     </p></dd><dt id="id-1.10.8.6.3.4.3"><span class="term"><code class="command">rmt-cli repos</code></span></dt><dd><p>
      List and modify repositories.
     </p></dd><dt id="id-1.10.8.6.3.4.4"><span class="term"><code class="command">rmt-cli mirror</code></span></dt><dd><p>
      Mirror repositories.
     </p></dd><dt id="id-1.10.8.6.3.4.5"><span class="term"><code class="command">rmt-cli systems</code></span></dt><dd><p>
      List and modify systems.
     </p></dd><dt id="id-1.10.8.6.3.4.6"><span class="term"><code class="command">rmt-cli import</code></span></dt><dd><p>
      Import commands for offline mode.
     </p></dd><dt id="id-1.10.8.6.3.4.7"><span class="term"><code class="command">rmt-cli export</code></span></dt><dd><p>
      Export commands for offline mode.
     </p></dd><dt id="id-1.10.8.6.3.4.8"><span class="term"><code class="command">rmt-cli version</code></span></dt><dd><p>
      Show RMT version.
     </p></dd></dl></div><p>
   The following sections explain each sub-command in detail.
  </p></section><section class="sect2" id="sec-rmt-tools-rmt-cli-sync" data-id-title="sync"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.1.2 </span><span class="title-name"><code class="command">sync</code></span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#sec-rmt-tools-rmt-cli-sync">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_rmt-cli.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   This command triggers synchronization with the SUSE Customer Center instantly. The command
   has no further options. Synchronization is also triggered each night by the
   <code class="systemitem">systemd</code> timer <code class="systemitem">rmt-server-sync.timer</code>.
  </p><p>
   During synchronization, no data is uploaded to the SUSE Customer Center. This command for
   example updates local product definitions and repository data.
  </p></section><section class="sect2" id="sec-rmt-tools-rmt-cli-products" data-id-title="products"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.1.3 </span><span class="title-name"><code class="command">products</code></span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#sec-rmt-tools-rmt-cli-products">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_rmt-cli.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   List and modify products.
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.10.8.6.5.3.1"><span class="term"><code class="command">rmt-cli products list [--all] [--csv]</code></span></dt><dd><p>
      Lists the products that are enabled for mirroring. Use the
      <code class="option">--all</code> flag to list all available products. Use the
      <code class="option">--csv</code> flag to output the list in CSV format.
      <code class="option">ls</code> can be used as a shortcut for <code class="option">list</code>.
     </p></dd><dt id="id-1.10.8.6.5.3.2"><span class="term"><code class="command">rmt-cli products enable [id | string] [--all-modules]</code></span></dt><dd><p>
      Enables mandatory repositories of a product by its ID or product string.
      The <code class="option">--all-modules</code> flag enables all modules of a product
      instead of only the recommended ones.
     </p></dd><dt id="id-1.10.8.6.5.3.3"><span class="term"><code class="command">rmt-cli products disable [id | string]</code></span></dt><dd><p>
      Disables all repositories of a product by its ID or product string.
     </p></dd></dl></div></section><section class="sect2" id="sec-rmt-tools-rmt-cli-repos" data-id-title="repos"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.1.4 </span><span class="title-name"><code class="command">repos</code></span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#sec-rmt-tools-rmt-cli-repos">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_rmt-cli.xml" title="Edit source document"> </a></div></div></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.10.8.6.6.2.1"><span class="term"><code class="command">rmt-cli repos list [--all] [--csv]</code></span></dt><dd><p>
      Lists the repositories that are enabled for mirroring. Use the
      <code class="option">--all</code> flag to list all available repositories. Use the
      <code class="option">--csv</code> flag to output the list in CSV format.
      <code class="option">ls</code> can be used as a shortcut for <code class="option">list</code>.
     </p></dd><dt id="id-1.10.8.6.6.2.2"><span class="term"><code class="command">rmt-cli repos enable [id]</code></span></dt><dd><p>
      Enables mirroring of a single repository by its ID.
     </p></dd><dt id="id-1.10.8.6.6.2.3"><span class="term"><code class="command">rmt-cli repos disable [id]</code></span></dt><dd><p>
      Disables mirroring of a single repository by its ID.
     </p></dd><dt id="id-1.10.8.6.6.2.4"><span class="term"><code class="command">rmt-cli repos clean</code></span></dt><dd><p>
      Removes locally mirrored files of repositories that are not
      marked to be mirrored.
     </p></dd></dl></div></section><section class="sect2" id="sec-rmt-tools-rmt-cli-repos-custom" data-id-title="repos custom"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.1.5 </span><span class="title-name"><code class="command">repos custom</code></span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#sec-rmt-tools-rmt-cli-repos-custom">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_rmt-cli.xml" title="Edit source document"> </a></div></div></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.10.8.6.7.2.1"><span class="term"><code class="command">rmt-cli repos custom list [--csv]</code></span></dt><dd><p>
      Lists all your custom repositories. Use the <code class="option">--csv</code> flag
      to output the list in CSV format. <code class="option">ls</code> can be used as a
      shortcut for <code class="option">list</code>.
     </p></dd><dt id="id-1.10.8.6.7.2.2"><span class="term"><code class="command">rmt-cli repos custom add [url] [name] [--id]</code></span></dt><dd><p>
      Adds a new custom repository. Use the <code class="option">--id</code> flag to
      specify a custom alphanumeric ID.
     </p></dd><dt id="id-1.10.8.6.7.2.3"><span class="term"><code class="command">rmt-cli repos custom enable [id]</code></span></dt><dd><p>
      Enables mirroring of a custom repository.
     </p></dd><dt id="id-1.10.8.6.7.2.4"><span class="term"><code class="command">rmt-cli repos custom disable [id]</code></span></dt><dd><p>
      Disables mirroring of a custom repository.
     </p></dd><dt id="id-1.10.8.6.7.2.5"><span class="term"><code class="command">rmt-cli repos custom remove [id]</code></span></dt><dd><p>
      Removes a custom repository.
     </p></dd><dt id="id-1.10.8.6.7.2.6"><span class="term"><code class="command">rmt-cli repos custom products [id]</code></span></dt><dd><p>
      Lists the products attached to the custom repository with the given ID.
     </p></dd><dt id="id-1.10.8.6.7.2.7"><span class="term"><code class="command">rmt-cli repos custom attach [id] [product id]</code></span></dt><dd><p>
      Attaches an existing custom repository to a product.
     </p></dd><dt id="id-1.10.8.6.7.2.8"><span class="term"><code class="command">rmt-cli repos custom detach [id] [product id]</code></span></dt><dd><p>
      Detaches an existing custom repository from a product.
     </p></dd></dl></div></section><section class="sect2" id="sec-rmt-tools-rmt-cli-mirror" data-id-title="mirror"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.1.6 </span><span class="title-name"><code class="command">mirror</code></span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#sec-rmt-tools-rmt-cli-mirror">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_rmt-cli.xml" title="Edit source document"> </a></div></div></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.10.8.6.8.2.1"><span class="term"><code class="command">rmt-cli mirror</code></span></dt><dd><p>
      Starts the mirroring process manually.
     </p></dd><dt id="id-1.10.8.6.8.2.2"><span class="term"><code class="command">rmt-cli mirror all</code></span></dt><dd><p>
      Mirrors all enabled repositories.
     </p></dd><dt id="id-1.10.8.6.8.2.3"><span class="term"><code class="command">rmt-cli mirror repository [IDs]</code></span></dt><dd><p>
      Mirrors enabled repositories by a list of IDs.
     </p></dd><dt id="id-1.10.8.6.8.2.4"><span class="term"><code class="command">rmt-cli mirror product [IDs]</code></span></dt><dd><p>
      Mirrors enabled repositories for a product by a list of IDs.
     </p></dd></dl></div></section><section class="sect2" id="sec-rmt-tools-rmt-cli-systems" data-id-title="systems"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.1.7 </span><span class="title-name"><code class="command">systems</code></span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#sec-rmt-tools-rmt-cli-systems">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_rmt-cli.xml" title="Edit source document"> </a></div></div></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.10.8.6.9.2.1"><span class="term"><code class="command">rmt-cli systems list</code></span></dt><dd><p>
      This command lists registered systems.
     </p></dd><dt id="id-1.10.8.6.9.2.2"><span class="term"><code class="command">rmt-cli systems scc-sync</code></span></dt><dd><p>
      This command forwards registered systems' data to SCC.
     </p></dd><dt id="id-1.10.8.6.9.2.3"><span class="term"><code class="command">rmt-cli systems remove [TARGET]</code></span></dt><dd><p>
      This command removes a system from RMT as identified by the
      <span class="guimenu">Login</span> column of the output of the <code class="command">rmt-cli
      systems list</code> command.
     </p></dd><dt id="id-1.10.8.6.9.2.4"><span class="term"><code class="command">rmt-cli systems purge</code></span></dt><dd><p>
      This command lists and provides the option to delete inactive systems.
      It has the following options:
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
        <code class="option">--before <em class="replaceable">DATE</em></code>—lists 
        systems that have been inactive since <em class="replaceable">DATE</em>
        until now. Default is the last 3 months.
       </p></li><li class="listitem"><p>
        <code class="option">--no-confirmation</code>—allows the administrator to
        delete matching systems without confirmation.
       </p></li></ul></div><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>rmt-cli systems purge --before 2021-06-16
+------------+----------+---------------------+---------------------+----------+
| Login      | Hostname | Registration time   | Last seen           | Products |
+------------+----------+---------------------+---------------------+----------+
| SCC_c5b0.. | 6e485e48b| 2021-06-11 13:38:07 | 2021-06-11 13:52:01 | SLES/15..|
| SCC_5fcf.. | node52   | 2021-06-15 13:29:24 | 2021-06-15 13:31:25 | SLES/15..|
+------------+----------+---------------------+---------------------+----------+
Do you want to delete these systems? (y/n) y
Purged systems that have not contacted this RMT since 2021-06-16.</pre></div></dd></dl></div></section><section class="sect2" id="sec-rmt-tools-rmt-cli-import" data-id-title="import"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.1.8 </span><span class="title-name"><code class="command">import</code></span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#sec-rmt-tools-rmt-cli-import">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_rmt-cli.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   This command is required for the <span class="emphasis"><em>offline mode</em></span>. For
   details, see <a class="xref" href="cha-rmt-mirroring.html#sec-rmt-mirroring-export-import" title="4.7. Exporting and importing repositories">Section 4.7, “Exporting and importing repositories”</a>.
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.10.8.6.10.3.1"><span class="term"><code class="command">rmt-cli import data [path]</code></span></dt><dd><p>
      Run this on the offline RMT to read the JSON files from the given path
      and fill the local database with data.
     </p></dd><dt id="id-1.10.8.6.10.3.2"><span class="term"><code class="command">rmt-cli import repos [path]</code></span></dt><dd><p>
      Run this on the offline RMT to import RPM packages.
     </p></dd></dl></div></section><section class="sect2" id="sec-rmt-tools-rmt-cli-export" data-id-title="export"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.1.9 </span><span class="title-name"><code class="command">export</code></span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#sec-rmt-tools-rmt-cli-export">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_rmt-cli.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   This command is required for the <span class="emphasis"><em>offline mode</em></span>. For
   details, see <a class="xref" href="cha-rmt-mirroring.html#sec-rmt-mirroring-export-import" title="4.7. Exporting and importing repositories">Section 4.7, “Exporting and importing repositories”</a>.
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.10.8.6.11.3.1"><span class="term"><code class="command">rmt-cli export data [path]</code></span></dt><dd><p>
      Run this on an online RMT to get the latest data from SUSE Customer Center and save
      the result as JSON files at the specified path.
     </p></dd><dt id="id-1.10.8.6.11.3.2"><span class="term"><code class="command">rmt-cli export settings [path]</code></span></dt><dd><p>
      Run this on the offline RMT to save the settings for enabled
      repositories at a given path as <code class="filename">repos.json</code>.
     </p></dd><dt id="id-1.10.8.6.11.3.3"><span class="term"><code class="command">rmt-cli export repos [path]</code></span></dt><dd><p>
      Run this regularly on the online RMT to mirror the set of repositories
      specified in the <code class="filename">repos.json</code> at the given path. The
      mirrored repository files are stored in subdirectories of the same path.
     </p></dd></dl></div></section><section class="sect2" id="sec-rmt-tools-rmt-cli-clean" data-id-title="clean packages"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.1.10 </span><span class="title-name"><code class="command">clean packages</code></span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#sec-rmt-tools-rmt-cli-clean">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_rmt-cli.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The <code class="command">rmt-cli clean packages</code> command removes locally
    mirrored <span class="emphasis"><em>dangling</em></span> files and their database entries. A file is
    considered to be dangling if it matches all the following characteristics:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
        It exists in a repository directory with primary and metadata
        <code class="filename">repomd.xml</code> files.
      </p></li><li class="listitem"><p>
        It is no longer referenced in the metadata files.
      </p></li><li class="listitem"><p>
        It is at least two days old.
      </p></li></ul></div><p>
    You can pass the following options to the <code class="command">rmt-cli clean
    packages</code> command:
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.10.8.6.12.5.1"><span class="term">--dry-run</span></dt><dd><p>
       Generates a report of all affected files without actually cleaning them
       or their database entries.
     </p></dd><dt id="id-1.10.8.6.12.5.2"><span class="term">--verbose</span></dt><dd><p>
          Prints detailed information about each cleaned file.
        </p></dd><dt id="id-1.10.8.6.12.5.3"><span class="term">--non-interactive</span></dt><dd><p>
          Skips confirmation before proceeding with the cleaning process.
        </p></dd></dl></div></section><section class="sect2" id="sec-rmt-tools-rmt-cli-version" data-id-title="version"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.1.11 </span><span class="title-name"><code class="command">version</code></span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#sec-rmt-tools-rmt-cli-version">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_rmt-cli.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Display the version of <code class="command">rmt-cli</code>.
  </p></section></section><section class="sect1" id="sec-rmt-tools-systemd" data-id-title="RMT systemd commands"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.2 </span><span class="title-name">RMT <code class="systemitem">systemd</code> commands</span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#sec-rmt-tools-systemd">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_systemd.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  You can manage RMT-related services with the standard <code class="systemitem">systemd</code>
  commands. The RMT server has the following services and timers:
 </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.10.8.7.3.1"><span class="term"><code class="command">rmt-server.target</code>
   </span></dt><dd><p>
     A <code class="systemitem">systemd</code> target that starts all required RMT components.
    </p></dd><dt id="id-1.10.8.7.3.2"><span class="term"><code class="command">rmt-server.service</code>
   </span></dt><dd><p>
     The RMT server.
    </p></dd><dt id="id-1.10.8.7.3.3"><span class="term"><code class="command">rmt-server-migration.service</code>
   </span></dt><dd><p>
     This service migrates the database to the newest schema, if
     required. There is no need to manually interact with this service.
    </p></dd><dt id="id-1.10.8.7.3.4"><span class="term"><code class="command">rmt-server-sync.timer</code>
   </span></dt><dd><p>
     This timer is responsible for periodically synchronizing all
     repository product data from the SUSE Customer Center.
    </p></dd><dt id="id-1.10.8.7.3.5"><span class="term"><code class="command">rmt-server-mirror.timer</code>
   </span></dt><dd><p>
     This timer is responsible for periodically synchronizing all
     RPMs from the SUSE Customer Center.
    </p></dd></dl></div><p>
  Use <code class="command">systemctl</code> to manage the RMT services and timers.
 </p></section><section class="sect1" id="sec-rmt-config" data-id-title="RMT configuration files"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.3 </span><span class="title-name">RMT configuration files</span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#sec-rmt-config">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The main RMT configuration file is <code class="filename">/etc/rmt.conf</code>.
  You can set most of the options with the YaST RMT Server module.
 </p><section class="sect2" id="sec-rmt-config-rmtconf" data-id-title="/etc/rmt.conf"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.3.1 </span><span class="title-name">/etc/rmt.conf</span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#sec-rmt-config-rmtconf">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The only supported way of doing the initial configuration is with
   <code class="command">yast2 rmt</code> as described in <a class="xref" href="cha-rmt-installation.html#sec-rmt-installation-yast-configuration" title="2.5. RMT configuration with YaST">Section 2.5, “RMT configuration with YaST”</a>. Only the proxy
   configuration needs to be entered manually. The other configuration
   parameters are documented for reference.
  </p><p>
   All available configuration options can be found in the
   <code class="filename">/etc/rmt.conf</code> file.
  </p><section class="sect3" id="sec-rmt-config-rmtconf-mirror" data-id-title="Mirroring settings"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">6.3.1.1 </span><span class="title-name">Mirroring settings</span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#sec-rmt-config-rmtconf-mirror">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The <code class="literal">mirroring</code> section lets you adjust mirroring
    behavior.
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.10.8.8.3.4.3.1"><span class="term"><code class="literal">mirror_src</code></span></dt><dd><p>
       Decides whether to mirror source RPM packages (architecture is
       <code class="literal">src</code>).
      </p></dd><dt id="id-1.10.8.8.3.4.3.2"><span class="term"><code class="literal">dedup_method</code></span></dt><dd><p>
       Creates hard links during mirroring when set to <code class="literal">hardlink</code>.
       If the file system does not support hard links, it can be set to <code class="literal">copy</code> instead.
       Possible values: <code class="literal">hardlink</code>,
       <code class="literal">copy</code>.
      </p></dd></dl></div></section><section class="sect3" id="sec-rmt-config-rmtconf-client" data-id-title="HTTP client settings"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">6.3.1.2 </span><span class="title-name">HTTP client settings</span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#sec-rmt-config-rmtconf-client">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The <code class="literal">http_client</code> section defines the global HTTP
    connection settings of RMT.
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.10.8.8.3.5.3.1"><span class="term"><code class="literal">verbose</code></span></dt><dd><p>
       Enables additional debug output to the <code class="systemitem">systemd</code> journal.
      </p></dd><dt id="id-1.10.8.8.3.5.3.2"><span class="term"><code class="literal">proxy</code></span></dt><dd><p>
       The proxy server URL including the protocol and the port number. For
       example: <code class="literal">http://proxy_url:8080</code>.
      </p></dd><dt id="id-1.10.8.8.3.5.3.3"><span class="term"><code class="literal">noproxy</code></span></dt><dd><p>
          A list of domains that should <span class="emphasis"><em>not</em></span> go through the
          proxy, separated by commas. For example:
          <code class="literal">localhost.mylocaldomain</code>.
        </p></dd><dt id="id-1.10.8.8.3.5.3.4"><span class="term"><code class="literal">proxy_auth</code></span></dt><dd><p>
       This setting determines the
       proxy authentication mechanism. Possible values are:
       <code class="option">none</code>, <code class="option">basic</code>,
       <code class="option">digest</code>, <code class="option">gssnegotiate</code>,
       <code class="option">ntlm</code>, <code class="option">digest_ie</code>,
       <code class="option">ntlm_wb</code>.
      </p></dd><dt id="id-1.10.8.8.3.5.3.5"><span class="term"><code class="literal">proxy_user</code></span></dt><dd><p>
       The proxy server user name.
      </p></dd><dt id="id-1.10.8.8.3.5.3.6"><span class="term"><code class="literal">proxy_password</code></span></dt><dd><p>
       The proxy server password.
      </p></dd><dt id="id-1.10.8.8.3.5.3.7"><span class="term"><code class="literal">low_speed_limit</code></span></dt><dd><p>
        Lower speed limit when a download should be aborted in bytes/sec.
      </p></dd><dt id="id-1.10.8.8.3.5.3.8"><span class="term"><code class="literal">low_speed_time</code></span></dt><dd><p>
        Time until a download gets aborted, when download speed is below
        <code class="literal">low_speed_limit</code>.
      </p></dd></dl></div></section><section class="sect3" id="sec-rmt-config-rmtconf-access-scc" data-id-title="Settings for accessing SUSE repositories"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">6.3.1.3 </span><span class="title-name">Settings for accessing SUSE repositories</span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#sec-rmt-config-rmtconf-access-scc">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The <code class="literal">scc</code> section contains your mirroring
    credentials for contacting the SUSE Customer Center. To obtain your mirroring
    credentials, see <a class="xref" href="cha-rmt-mirroring.html#sec-rmt-mirroring-credentials" title="4.1. Mirroring credentials">Section 4.1, “Mirroring credentials”</a>.
   </p><p>
    Valid configuration keys for the section are:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.10.8.8.3.6.4.1"><span class="term"><code class="literal">username</code></span></dt><dd><p>
       Mirroring credentials user name.
      </p></dd><dt id="id-1.10.8.8.3.6.4.2"><span class="term"><code class="literal">password</code></span></dt><dd><p>
       Mirroring credentials password.
      </p></dd></dl></div></section><section class="sect3" id="sec-rmt-config-web-server-settings" data-id-title="Web server settings"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">6.3.1.4 </span><span class="title-name">Web server settings</span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#sec-rmt-config-web-server-settings">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The <code class="literal">web_server</code> section lets you tune the performance of your RMT server.
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.10.8.8.3.7.3.1"><span class="term"><code class="literal">min_threads</code></span></dt><dd><p>
       Specifies the minimum number of threads that an RMT server worker should spawn.
      </p><p>
        Acceptable values: Integer greater than or equal to 1.
      </p></dd><dt id="id-1.10.8.8.3.7.3.2"><span class="term"><code class="literal">max_threads</code></span></dt><dd><p>
       Specifies the maximum number of threads that an RMT server worker should spawn.
      </p><p>
       Acceptable values: Integer greater than or equal to 1.
      </p></dd><dt id="id-1.10.8.8.3.7.3.3"><span class="term"><code class="literal">workers</code></span></dt><dd><p>
       Specifies the number of Web workers for RMT.
      </p><p>
       Acceptable values: Integer greater than or equal to 1.
      </p></dd></dl></div></section></section><section class="sect2" id="sec-rmt-config-ssl" data-id-title="SSL certificates and HTTPS"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.3.2 </span><span class="title-name">SSL certificates and HTTPS</span></span> <a title="Permalink" class="permalink" href="cha-rmt-tools.html#sec-rmt-config-ssl">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   By default access to API endpoints consumed by
   <code class="command">SUSEConnect</code> is limited to HTTPS only. nginx is
   configured to use an SSL certificate and a private key from the following
   locations:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Certificate: <code class="filename">/etc/rmt/ssl/rmt-server.crt</code></p></li><li class="listitem"><p>Private key: <code class="filename">/etc/rmt/ssl/rmt-server.key</code></p></li></ul></div><p>
   The YaST RMT module generates a custom certificate authority which
   is used to sign HTTPS certificates. This means that to register,
   this certificate authority must be trusted by the client machines:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     For registrations during installation from the media or with
     YaST Registration module, a message will appear, prompting to
     trust the server certificate.
    </p></li><li class="listitem"><p>
     For registering a client system on the command line, use the
     <code class="command">rmt-client-setup</code> script. For details, see
     <a class="xref" href="cha-rmt-client.html#sec-rmt-client-clientsetupscript" title="5.3. Configuring clients with rmt-client-setup">Section 5.3, “Configuring clients with <code class="command">rmt-client-setup</code>”</a>.
    </p></li></ul></div></section></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="cha-rmt-client.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 5 </span>Configuring clients to use RMT</span></a> </div><div><a class="pagination-link next" href="cha-rmt-backup.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 7 </span>Backing up an RMT server</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="cha-rmt-tools.html#sec-rmt-tools-rmt-cli"><span class="title-number">6.1 </span><span class="title-name">RMT command line interface (<code class="command">rmt-cli</code>)</span></a></span></li><li><span class="sect1"><a href="cha-rmt-tools.html#sec-rmt-tools-systemd"><span class="title-number">6.2 </span><span class="title-name">RMT <code class="systemitem">systemd</code> commands</span></a></span></li><li><span class="sect1"><a href="cha-rmt-tools.html#sec-rmt-config"><span class="title-number">6.3 </span><span class="title-name">RMT configuration files</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>