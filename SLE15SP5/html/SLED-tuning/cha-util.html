<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLED 15 SP5 | System Analysis and Tuning Guide | System monitoring utilities</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="System monitoring utilities | SLED 15 SP5"/>
<meta name="description" content="There are number of programs, tools, and utilities which you can use to examine the status of your system. This chapter introduces some and describes…"/>
<meta name="product-name" content="SUSE Linux Enterprise Desktop"/>
<meta name="product-number" content="15 SP5"/>
<meta name="book-title" content="System Analysis and Tuning Guide"/>
<meta name="chapter-title" content="Chapter 2. System monitoring utilities"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="fs@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="PUBLIC SUSE Linux Enterprise Desktop 15 SP5"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="System Analysis and Tuning Guide"/>
<meta property="og:description" content="Analyze and tune SLED systems"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="System Analysis and Tuning Guide"/>
<meta name="twitter:description" content="Analyze and tune SLED systems"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "System monitoring utilities",
  
    "description": "There are number of programs, tools, and utilities which you can use to examine the status of your system. This chapter introduces some and describes…",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2024-03-12T00:00+02:00",
      
    "datePublished": "2023-06-20T00:00+02:00",
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="part-tuning-monitoring.html" title="Part II. System monitoring"/><link rel="next" href="cha-tuning-syslog.html" title="Chapter 3. System log files"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">System Analysis and Tuning Guide</a><span> / </span><a class="crumb" href="part-tuning-monitoring.html">System monitoring</a><span> / </span><a class="crumb" href="cha-util.html">System monitoring utilities</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">System Analysis and Tuning Guide</div><ol><li><a href="preface-tuning.html" class=" "><span class="title-number"> </span><span class="title-name">Preface</span></a></li><li><a href="part-tuning-basics.html" class="has-children "><span class="title-number">I </span><span class="title-name">Basics</span></a><ol><li><a href="cha-tuning-basics.html" class=" "><span class="title-number">1 </span><span class="title-name">General notes on system tuning</span></a></li></ol></li><li class="active"><a href="part-tuning-monitoring.html" class="has-children you-are-here"><span class="title-number">II </span><span class="title-name">System monitoring</span></a><ol><li><a href="cha-util.html" class=" you-are-here"><span class="title-number">2 </span><span class="title-name">System monitoring utilities</span></a></li><li><a href="cha-tuning-syslog.html" class=" "><span class="title-number">3 </span><span class="title-name">System log files</span></a></li></ol></li><li><a href="part-tuning-kerneltrace.html" class="has-children "><span class="title-number">III </span><span class="title-name">Kernel monitoring</span></a><ol><li><a href="cha-tuning-systemtap.html" class=" "><span class="title-number">4 </span><span class="title-name">SystemTap—filtering and analyzing system data</span></a></li><li><a href="cha-tuning-kprobes.html" class=" "><span class="title-number">5 </span><span class="title-name">Kernel probes</span></a></li><li><a href="cha-perf.html" class=" "><span class="title-number">6 </span><span class="title-name">Hardware-based performance monitoring with Perf</span></a></li><li><a href="cha-tuning-oprofile.html" class=" "><span class="title-number">7 </span><span class="title-name">OProfile—system-wide profiler</span></a></li><li><a href="cha-tuning-dynamic-debug.html" class=" "><span class="title-number">8 </span><span class="title-name">Dynamic debug—kernel debugging messages</span></a></li></ol></li><li><a href="part-tuning-resources.html" class="has-children "><span class="title-number">IV </span><span class="title-name">Resource management</span></a><ol><li><a href="cha-tuning-resources.html" class=" "><span class="title-number">9 </span><span class="title-name">General system resource management</span></a></li><li><a href="cha-tuning-cgroups.html" class=" "><span class="title-number">10 </span><span class="title-name">Kernel control groups</span></a></li><li><a href="cha-tuning-numactl.html" class=" "><span class="title-number">11 </span><span class="title-name">Automatic Non-Uniform Memory Access (NUMA) balancing</span></a></li><li><a href="cha-tuning-power.html" class=" "><span class="title-number">12 </span><span class="title-name">Power management</span></a></li></ol></li><li><a href="part-tuning-kernel.html" class="has-children "><span class="title-number">V </span><span class="title-name">Kernel tuning</span></a><ol><li><a href="cha-tuning-io.html" class=" "><span class="title-number">13 </span><span class="title-name">Tuning I/O performance</span></a></li><li><a href="cha-tuning-taskscheduler.html" class=" "><span class="title-number">14 </span><span class="title-name">Tuning the task scheduler</span></a></li><li><a href="cha-tuning-memory.html" class=" "><span class="title-number">15 </span><span class="title-name">Tuning the memory management subsystem</span></a></li><li><a href="cha-tuning-network.html" class=" "><span class="title-number">16 </span><span class="title-name">Tuning the network</span></a></li></ol></li><li><a href="part-tuning-dumps.html" class="has-children "><span class="title-number">VI </span><span class="title-name">Handling system dumps</span></a><ol><li><a href="cha-tuning-tracing.html" class=" "><span class="title-number">17 </span><span class="title-name">Tracing tools</span></a></li><li><a href="cha-tuning-kexec.html" class=" "><span class="title-number">18 </span><span class="title-name">Kexec and Kdump</span></a></li><li><a href="cha-tuning-systemd-coredump.html" class=" "><span class="title-number">19 </span><span class="title-name">Using <code class="systemitem">systemd-coredump</code> to debug application crashes</span></a></li></ol></li><li><a href="part-tuning-ptp.html" class="has-children "><span class="title-number">VII </span><span class="title-name">Synchronized clocks with Precision Time Protocol</span></a><ol><li><a href="cha-tuning-ptp.html" class=" "><span class="title-number">20 </span><span class="title-name">Precision Time Protocol</span></a></li></ol></li><li><a href="bk06apa.html" class=" "><span class="title-number">A </span><span class="title-name">GNU licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="cha-util" data-id-title="System monitoring utilities"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">15 SP5</span></span></span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">2 </span><span class="title-name">System monitoring utilities</span></span> <a title="Permalink" class="permalink" href="cha-util.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
    There are number of programs, tools, and utilities which you can use to
    examine the status of your system. This chapter introduces some
    and describes their most important and frequently used parameters.
   </p></div></div></div></div><div id="id-1.8.4.2.3" data-id-title="Gathering and Analyzing System Information with supportconfig" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: 
   Gathering and Analyzing System Information with
   <code class="command">supportconfig</code>
  </div><p>
   Apart from the utilities presented in the following, <span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span>
   also contains <code class="command">supportconfig</code>, a tool to create reports
   about the system such as: current kernel version, hardware, installed
   packages, partition setup and much more. These reports are used to
   provide the SUSE support with needed information in case a support
   ticket is created. However, they can also be analyzed for known issues to
   help resolve problems faster. For this purpose, <span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span> provides
   both an appliance and a command line tool for Supportconfig Analysis
   (SCA). See <span class="intraxref">Book “Administration Guide”, Chapter 41 “Gathering system information for support”</span> for details.
  </p></div><p>
  For each of the described commands, examples of the relevant outputs are
  presented. In the examples, the first line is the command itself (after
  the <code class="systemitem">tux</code> &gt; or root #). Omissions are indicated with
  square brackets (<code class="literal">[...]</code>) and long lines are wrapped
  where necessary. Line breaks for long lines are indicated by a backslash
  (<code class="literal">\</code>).
 </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>command -x -y
output line 1
output line 2
output line 3 is annoyingly long, so long that \
    we need to break it
output line 4
[...]
output line 98
output line 99</pre></div><p>
  The descriptions have been kept short so that we can include as many
  utilities as possible. Further information for all the commands can be
  found in the manual pages. Most of the commands also understand the
  parameter <code class="option">--help</code>, which produces a brief list of possible
  parameters.
 </p><section class="sect1" id="sec-util-multi" data-id-title="Multi-purpose tools"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.1 </span><span class="title-name">Multi-purpose tools</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-multi">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   While most Linux system monitoring tools monitor only a single aspect of
   the system, there are a few tools with a broader scope. To get
   an overview and find out which part of the system to examine further, use
   these tools first.
  </p><section class="sect2" id="sec-util-multi-vmstat" data-id-title="vmstat"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.1.1 </span><span class="title-name"><code class="command">vmstat</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-multi-vmstat">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    vmstat collects information about processes, memory, I/O, interrupts and
    CPU:
   </p><div class="verbatim-wrap"><pre class="screen">vmstat [options] [delay [count]]</pre></div><p>
    When called without values for delay and count, it displays average values
    since the last reboot. When called with a value for delay (in seconds), it
    displays values for the given period (two seconds in the examples
    below). The value for count specifies the number of updates vmstat should
    perform. If not specified, it will run until manually stopped.
   </p><div class="example" id="id-1.8.4.2.7.3.5" data-id-title="vmstat output on a lightly used machine"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 2.1: </span><span class="title-name"><code class="command">vmstat</code> output on a lightly used machine </span></span><a title="Permalink" class="permalink" href="cha-util.html#id-1.8.4.2.7.3.5">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>vmstat 2
procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 1  0  44264  81520    424 935736    0    0    12    25   27   34  1  0 98   0  0
 0  0  44264  81552    424 935736    0    0     0     0   38   25  0  0 100  0  0
 0  0  44264  81520    424 935732    0    0     0     0   23   15  0  0 100  0  0
 0  0  44264  81520    424 935732    0    0     0     0   36   24  0  0 100  0  0
 0  0  44264  81552    424 935732    0    0     0     0   51   38  0  0 100  0  0</pre></div></div></div><div class="example" id="id-1.8.4.2.7.3.6" data-id-title="vmstat output on a heavily used machine (CPU bound)"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 2.2: </span><span class="title-name"><code class="command">vmstat</code> output on a heavily used machine (CPU bound) </span></span><a title="Permalink" class="permalink" href="cha-util.html#id-1.8.4.2.7.3.6">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>vmstat 2
procs -----------memory----------- ---swap-- -----io---- -system-- -----cpu------
 r  b   swpd   free   buff   cache   si   so    bi    bo   in   cs us sy id wa st
32  1  26236 459640 110240 6312648    0    0  9944     2 4552 6597 95  5  0  0  0
23  1  26236 396728 110336 6136224    0    0  9588     0 4468 6273 94  6  0  0  0
35  0  26236 554920 110508 6166508    0    0  7684 27992 4474 4700 95  5  0  0  0
28  0  26236 518184 110516 6039996    0    0 10830     4 4446 4670 94  6  0  0  0
21  5  26236 716468 110684 6074872    0    0  8734 20534 4512 4061 96  4  0  0  0</pre></div></div></div><div id="id-1.8.4.2.7.3.7" data-id-title="First line of output" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: First line of output</div><p>
     The first line of the vmstat output always displays average values
     since the last reboot.
    </p></div><p>
    The columns show the following:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.8.4.2.7.3.9.1"><span class="term"><span class="guimenu">r</span>
     </span></dt><dd><p>
       Shows the number of processes in a runnable state. These processes
       are either executing or waiting for a free CPU slot. If the number
       of processes in this column is constantly higher than the number of
       CPUs available, this may be an indication of insufficient CPU power.
      </p></dd><dt id="id-1.8.4.2.7.3.9.2"><span class="term"><span class="guimenu">b</span>
     </span></dt><dd><p>
       Shows the number of processes waiting for a resource other than a
       CPU. A high number in this column may indicate an I/O problem
       (network or disk).
      </p></dd><dt id="id-1.8.4.2.7.3.9.3"><span class="term"><span class="guimenu">swpd</span>
     </span></dt><dd><p>
       The amount of swap space (KB) currently used.
      </p></dd><dt id="id-1.8.4.2.7.3.9.4"><span class="term"><span class="guimenu">free</span>
     </span></dt><dd><p>
       The amount of unused memory (KB).
      </p></dd><dt id="id-1.8.4.2.7.3.9.5"><span class="term"><span class="guimenu">inact</span>
     </span></dt><dd><p>
       Recently unused memory that can be reclaimed. This column is only
       visible when calling <code class="command">vmstat</code> with the parameter
       <code class="option">-a</code> (recommended).
      </p></dd><dt id="id-1.8.4.2.7.3.9.6"><span class="term"><span class="guimenu">active</span>
     </span></dt><dd><p>
       Recently used memory that normally does not get reclaimed. This
       column is only visible when calling <code class="command">vmstat</code> with
       the parameter <code class="option">-a</code> (recommended).
      </p></dd><dt id="id-1.8.4.2.7.3.9.7"><span class="term"><span class="guimenu">buff</span>
     </span></dt><dd><p>
       File buffer cache (KB) in RAM that contains file system metadata. This
       column is not visible when calling <code class="command">vmstat</code> with
       the parameter <code class="option">-a</code>.
      </p></dd><dt id="id-1.8.4.2.7.3.9.8"><span class="term"><span class="guimenu">cache</span>
     </span></dt><dd><p>
       Page cache (KB) in RAM with the actual contents of files. This
       column is not visible when calling <code class="command">vmstat</code> with
       the parameter <code class="option">-a</code>.
      </p></dd><dt id="id-1.8.4.2.7.3.9.9"><span class="term"><span class="guimenu">si / so</span>
     </span></dt><dd><p>
       Amount of data (KB) that is moved from swap to RAM
       (<code class="literal">si</code>) or from RAM to swap (<code class="literal">so</code>)
       per second. High <code class="literal">so</code> values over a long period of
       time may indicate that an application is leaking memory and the
       leaked memory is being swapped out. High <code class="literal">si</code> values
       over a long period of time could mean that an application that was
       inactive for a very long time is now active again. Combined high
       <code class="literal">si</code> and <code class="literal">so</code> values for prolonged
       periods of time are evidence of swap thrashing and may indicate that
       more RAM needs to be installed in the system because there is not
       enough memory to hold the working set size.
      </p></dd><dt id="id-1.8.4.2.7.3.9.10"><span class="term"><span class="guimenu">bi</span>
     </span></dt><dd><p>
       Number of blocks per second received from a block device (for
       example, a disk read). Note that swapping also impacts the values
       shown here. The block size may vary between file systems but can
       be determined using the stat utility. If throughput data is
       required then iostat may be used.
      </p></dd><dt id="id-1.8.4.2.7.3.9.11"><span class="term"><span class="guimenu">bo</span>
     </span></dt><dd><p>
       Number of blocks per second sent to a block device (for example, a
       disk write). Note that swapping also impacts the values shown here.
      </p></dd><dt id="id-1.8.4.2.7.3.9.12"><span class="term"><span class="guimenu">in</span>
     </span></dt><dd><p>
       Interrupts per second. A high value may indicate a high I/O level
       (network and/or disk), but could also be triggered for other reasons
       such as inter-processor interrupts triggered by another activity.
       Make sure to also check <code class="filename">/proc/interrupts</code> to
       identify the source of interrupts.
      </p></dd><dt id="id-1.8.4.2.7.3.9.13"><span class="term"><span class="guimenu">cs</span>
     </span></dt><dd><p>
       Number of context switches per second. This is the number of times
       that the kernel replaces executable code of one program in memory
       with that of another program.
      </p></dd><dt id="id-1.8.4.2.7.3.9.14"><span class="term"><span class="guimenu">us</span>
     </span></dt><dd><p>
       Percentage of CPU usage executing application code.
      </p></dd><dt id="id-1.8.4.2.7.3.9.15"><span class="term"><span class="guimenu">sy</span>
     </span></dt><dd><p>
       Percentage of CPU usage executing kernel code.
      </p></dd><dt id="id-1.8.4.2.7.3.9.16"><span class="term"><span class="guimenu">id</span>
     </span></dt><dd><p>
       Percentage of CPU time spent idling. If this value is zero over a
       longer time, your CPU(s) are working to full capacity. This
       is not necessarily a bad sign—rather refer to the values in
       columns <span class="guimenu">r</span> and <span class="guimenu">b</span> to determine if
       your machine is equipped with sufficient CPU power.
      </p></dd><dt id="id-1.8.4.2.7.3.9.17"><span class="term"><span class="guimenu">wa</span>
     </span></dt><dd><p>
       If "wa" time is non-zero, it indicates throughput lost because of
       waiting for I/O. This may be inevitable, for example, if a file is
       being read for the first time, background writeback cannot keep up,
       and so on. It can also be an indicator for a hardware bottleneck
       (network or hard disk). Lastly, it can indicate a potential for
       tuning the virtual memory manager (refer to
       <a class="xref" href="cha-tuning-memory.html" title="Chapter 15. Tuning the memory management subsystem">Chapter 15, <em>Tuning the memory management subsystem</em></a>).
      </p></dd><dt id="id-1.8.4.2.7.3.9.18"><span class="term"><span class="guimenu">st</span>
     </span></dt><dd><p>
       Percentage of CPU time stolen from a virtual machine.
      </p></dd></dl></div><p>
    See <code class="command">vmstat</code> <code class="option">--help</code> for more options.
   </p></section><section class="sect2" id="sec-util-multi-dstat" data-id-title="dstat"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.1.2 </span><span class="title-name"><code class="command">dstat</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-multi-dstat">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_utilities_dstat.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  <code class="command">dstat</code> is a replacement for tools such as
  <code class="command">vmstat</code>, <code class="command">iostat</code>,
  <code class="command">netstat</code>, or <code class="command">ifstat</code>.
  <code class="command">dstat</code> displays information about the system
  resources in real time. For example, you can compare disk usage
  in combination with interrupts from the IDE controller, or compare
  network bandwidth with the disk throughput (in the same interval).
 </p><p>
  By default, its output is presented in readable tables.
  Alternatively, CSV output can be produced which is suitable as a
  spreadsheet import format.
 </p><p>
  It is written in Python and can be enhanced with plug-ins.
 </p><p>
  This is the general syntax:
 </p><div class="verbatim-wrap"><pre class="screen">dstat [-afv] [<em class="replaceable">OPTIONS</em>..] [<em class="replaceable">DELAY</em> [<em class="replaceable">COUNT</em>]]</pre></div><p>
  All options and parameters are optional.  Without any parameter, dstat
  displays statistics about CPU (<code class="option">-c</code>,
  <code class="option">--cpu</code>), disk (<code class="option">-d</code>,
  <code class="option">--disk</code>), network (<code class="option">-n</code>,
  <code class="option">--net</code>), paging (<code class="option">-g</code>,
  <code class="option">--page</code>), and the interrupts and context switches of
  the system (<code class="option">-y</code>, <code class="option">--sys</code>); it refreshes
  the output every second ad infinitum:
 </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">dstat</code>
You did not select any stats, using -cdngy by default.
----total-cpu-usage---- -dsk/total- -net/total- ---paging-- ---system--
usr sys idl wai hiq siq| read  writ| recv  send|  in   out | int   csw
  0   0 100   0   0   0|  15k   44k|   0     0 |   0    82B| 148   194
  0   0 100   0   0   0|   0     0 |5430B  170B|   0     0 | 163   187
  0   0 100   0   0   0|   0     0 |6363B  842B|   0     0 | 196   185</pre></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.8.4.2.7.4.9.1"><span class="term"><code class="option">-a</code>, <code class="option">--all</code></span></dt><dd><p>
     equal to <code class="option">-cdngy</code> (default)
    </p></dd><dt id="id-1.8.4.2.7.4.9.2"><span class="term"><code class="option">-f</code>, <code class="option">--full</code></span></dt><dd><p>
     expand <code class="option">-C</code>, <code class="option">-D</code>,
     <code class="option">-I</code>, <code class="option">-N</code> and <code class="option">-S</code>
     discovery lists
    </p></dd><dt id="id-1.8.4.2.7.4.9.3"><span class="term"><code class="option">-v</code>, <code class="option">--vmstat</code></span></dt><dd><p>
     equal to <code class="option">-pmgdsc</code>, <code class="option">-D total</code>
    </p></dd></dl></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.8.4.2.7.4.10.1"><span class="term"><em class="replaceable">DELAY</em></span></dt><dd><p>
     delay in seconds between each update
    </p></dd><dt id="id-1.8.4.2.7.4.10.2"><span class="term"><em class="replaceable">COUNT</em></span></dt><dd><p>
     the number of updates to display before exiting
    </p></dd></dl></div><p>
  The default delay is 1 and the count is unspecified (unlimited).
 </p><p>
  For more information, see the man page of <code class="command">dstat</code> and
  its Web page at <a class="link" href="http://dag.wieers.com/home-made/dstat/" target="_blank">http://dag.wieers.com/home-made/dstat/</a>.
 </p></section><section class="sect2" id="sec-util-multi-sar" data-id-title="System activity information: sar"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.1.3 </span><span class="title-name">System activity information: <code class="command">sar</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-multi-sar">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    <code class="command">sar</code> can generate extensive reports on almost all
    important system activities, among them CPU, memory, IRQ usage, I/O, and
    networking. It can also generate reports in real time.
    The <code class="command">sar</code> command gathers data from the
    <code class="filename">/proc</code> file system.
   </p><div id="id-1.8.4.2.7.5.3" data-id-title="sysstat package" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: sysstat package</div><p>
     The <code class="command">sar</code> command is a part of the
     <span class="package">sysstat</span> package. Install it with YaST, or with
     the <code class="command">zypper in sysstat</code> command. <code class="systemitem">sysstat.service</code> does not start by default,
     and must be enabled and started with the following command:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">systemctl enable --now sysstat</code></pre></div></div><section class="sect3" id="sec-util-multi-sar-report" data-id-title="Generating reports with sar"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">2.1.3.1 </span><span class="title-name">Generating reports with <code class="command">sar</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-multi-sar-report">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     To generate reports in real time, call <code class="command">sar</code> with an
     interval (seconds) and a count. To generate reports from files specify
     a file name with the option <code class="option">-f</code> instead of interval and
     count. If file name, interval and count are not specified,
     <code class="command">sar</code> attempts to generate a report from
     <code class="filename">/var/log/sa/sa<em class="replaceable">DD</em></code>, where
     <em class="replaceable">DD</em> stands for the current day. This is the
     default location to where <code class="command">sadc</code> (the system
     activity data collector) writes its data.
     Query multiple files with multiple -f options.
    </p><div class="verbatim-wrap"><pre class="screen">sar 2 10                         # real time report, 10 times every 2 seconds
sar -f ~/reports/sar_2014_07_17  # queries file sar_2014_07_17
sar                              # queries file from today in /var/log/sa/
cd /var/log/sa &amp;&amp; \
sar -f sa01 -f sa02              # queries files /var/log/sa/0[12]</pre></div><p>
     Find examples for useful <code class="command">sar</code> calls and their
     interpretation below. For detailed information on the meaning of each
     column, refer to the <code class="systemitem">man (1)</code> of
     <code class="command">sar</code>.
    </p><div id="id-1.8.4.2.7.5.4.5" data-id-title="sysstat reporting when the service stops" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: sysstat reporting when the service stops</div><p>
      When the <code class="systemitem">sysstat</code> service is stopped (for example, during
      reboot or shutdown), the tool still collects last-minute statistics by
      automatically running the <code class="command">/usr/lib64/sa/sa1 -S ALL 1 1</code>
      command. The collected binary data is stored in the system activity data
      file.
     </p></div><section class="sect4" id="sec-util-multi-sar-report-cpu" data-id-title="CPU usage report: sar"><div class="titlepage"><div><div><div class="title-container"><h5 class="title"><span class="title-number-name"><span class="title-number">2.1.3.1.1 </span><span class="title-name">CPU usage report: <code class="command">sar</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-multi-sar-report-cpu">#</a></h5><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      When called with no options, <code class="command">sar</code> shows a basic
      report about CPU usage. On multi-processor machines, results for all
      CPUs are summarized. Use the option <code class="option">-P ALL</code> to also
      see statistics for individual CPUs.
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>sar 10 5
Linux 4.4.21-64-default (jupiter)         10/12/16        _x86_64_        (2 CPU)

17:51:29        CPU     %user     %nice   %system   %iowait    %steal     %idle
17:51:39        all     57,93      0,00      9,58      1,01      0,00     31,47
17:51:49        all     32,71      0,00      3,79      0,05      0,00     63,45
17:51:59        all     47,23      0,00      3,66      0,00      0,00     49,11
17:52:09        all     53,33      0,00      4,88      0,05      0,00     41,74
17:52:19        all     56,98      0,00      5,65      0,10      0,00     37,27
Average:        all     49,62      0,00      5,51      0,24      0,00     44,62</pre></div><p>
      <span class="guimenu">%iowait</span> displays the percentage of time that the
      CPU was idle while waiting for an I/O request. If this value is
      significantly higher than zero over a longer time, there is a
      bottleneck in the I/O system (network or hard disk). If the
      <span class="guimenu">%idle</span> value is zero over a longer time,
      your CPU is working at capacity.
     </p></section><section class="sect4" id="sec-util-multi-sar-report-memory" data-id-title="Memory usage report: sar -r"><div class="titlepage"><div><div><div class="title-container"><h5 class="title"><span class="title-number-name"><span class="title-number">2.1.3.1.2 </span><span class="title-name">Memory usage report: <code class="command">sar</code> <code class="option">-r</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-multi-sar-report-memory">#</a></h5><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      Generate an overall picture of the system memory (RAM) by using the
      option <code class="option">-r</code>:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>sar -r 10 5
Linux 4.4.21-64-default (jupiter)         10/12/16        _x86_64_        (2 CPU)

17:55:27 kbmemfree kbmemused %memused kbbuffers kbcached kbcommit %commit kbactive kbinact kbdirty
17:55:37    104232   1834624    94.62        20   627340  2677656   66.24   802052  828024    1744
17:55:47     98584   1840272    94.92        20   624536  2693936   66.65   808872  826932    2012
17:55:57     87088   1851768    95.51        20   605288  2706392   66.95   827260  821304    1588
17:56:07     86268   1852588    95.55        20   599240  2739224   67.77   829764  820888    3036
17:56:17    104260   1834596    94.62        20   599864  2730688   67.56   811284  821584    3164
Average:     96086   1842770    95.04        20   611254  2709579   67.03   815846  823746    2309</pre></div><p>
      The columns <span class="guimenu">kbcommit</span> and <span class="guimenu">%commit</span>
      show an approximation of the maximum amount of memory (RAM and swap)
      that the current workload could need. While
      <span class="guimenu">kbcommit</span> displays the absolute number in kilobytes,
      <span class="guimenu">%commit</span> displays a percentage.
     </p></section><section class="sect4" id="sec-util-multi-sar-report-paging" data-id-title="Paging statistics report: sar -B"><div class="titlepage"><div><div><div class="title-container"><h5 class="title"><span class="title-number-name"><span class="title-number">2.1.3.1.3 </span><span class="title-name">Paging statistics report: <code class="command">sar</code> <code class="option">-B</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-multi-sar-report-paging">#</a></h5><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      Use the option <code class="option">-B</code> to display the kernel paging
      statistics.
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>sar -B 10 5
Linux 4.4.21-64-default (jupiter)         10/12/16        _x86_64_        (2 CPU)

18:23:01 pgpgin/s pgpgout/s fault/s majflt/s pgfree/s pgscank/s pgscand/s pgsteal/s %vmeff
18:23:11   366.80     11.60  542.50     1.10  4354.80      0.00      0.00      0.00   0.00
18:23:21     0.00    333.30 1522.40     0.00 18132.40      0.00      0.00      0.00   0.00
18:23:31    47.20    127.40 1048.30     0.10 11887.30      0.00      0.00      0.00   0.00
18:23:41    46.40      2.50  336.10     0.10  7945.00      0.00      0.00      0.00   0.00
18:23:51     0.00    583.70 2037.20     0.00 17731.90      0.00      0.00      0.00   0.00
Average:    92.08    211.70 1097.30     0.26 12010.28      0.00      0.00      0.00   0.00</pre></div><p>
      The <span class="guimenu">majflt/s</span> (major faults per second) column shows
      how many pages are loaded from disk into memory. The source of the
      faults may be file accesses or faults. At times, many
      major faults are normal. For example, during application start-up
      time. If major faults are experienced for the entire lifetime of the
      application it may be an indication that there is insufficient main
      memory, particularly if combined with large amounts of direct scanning
      (pgscand/s).
     </p><p>
      The <span class="guimenu">%vmeff</span> column shows the number of pages scanned
      (<span class="guimenu">pgscand/s</span>) in relation to the ones being reused
      from the main memory cache or the swap cache
      (<span class="guimenu">pgsteal/s</span>). It is a measurement of the efficiency
      of page reclaim. Healthy values are either near 100 (every inactive
      page swapped out is being reused) or 0 (no pages have been scanned).
      The value should not drop below 30.
     </p></section><section class="sect4" id="sec-util-multi-sar-report-disk" data-id-title="Block device statistics report: sar -d"><div class="titlepage"><div><div><div class="title-container"><h5 class="title"><span class="title-number-name"><span class="title-number">2.1.3.1.4 </span><span class="title-name">Block device statistics report: <code class="command">sar</code> <code class="option">-d</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-multi-sar-report-disk">#</a></h5><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      Use the option <code class="option">-d</code> to display the block device (hard
      disk, optical drive, USB storage device, etc.). Make sure to use the
      additional option <code class="option">-p</code> (pretty-print) to make the
      <span class="guimenu">DEV</span> column readable.
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>sar -d -p 10 5
 Linux 4.4.21-64-default (jupiter)         10/12/16        _x86_64_        (2 CPU)

18:46:09 DEV   tps rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
18:46:19 sda  1.70    33.60      0.00     19.76      0.00      0.47      0.47      0.08
18:46:19 sr0  0.00     0.00      0.00      0.00      0.00      0.00      0.00      0.00

18:46:19 DEV   tps rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
18:46:29 sda  8.60   114.40    518.10     73.55      0.06      7.12      0.93      0.80
18:46:29 sr0  0.00     0.00      0.00      0.00      0.00      0.00      0.00      0.00

18:46:29 DEV   tps rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
18:46:39 sda 40.50  3800.80    454.90    105.08      0.36      8.86      0.69      2.80
18:46:39 sr0  0.00     0.00      0.00      0.00      0.00      0.00      0.00      0.00

18:46:39 DEV   tps rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
18:46:49 sda  1.40     0.00    204.90    146.36      0.00      0.29      0.29      0.04
18:46:49 sr0  0.00     0.00      0.00      0.00      0.00      0.00      0.00      0.00

18:46:49 DEV   tps rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
18:46:59 sda  3.30     0.00    503.80    152.67      0.03      8.12      1.70      0.56
18:46:59 sr0  0.00     0.00      0.00      0.00      0.00      0.00      0.00      0.00

Average: DEV   tps rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util
Average: sda 11.10   789.76    336.34    101.45      0.09      8.07      0.77      0.86
Average: sr0  0.00     0.00      0.00      0.00      0.00      0.00      0.00      0.00</pre></div><p>
      Compare the <span class="guimenu">Average</span> values for
      <span class="guimenu">tps</span>, <span class="guimenu">rd_sec/s</span>, and
      <span class="guimenu">wr_sec/s</span> of all disks. Constantly high values in
      the <span class="guimenu">svctm</span> and <span class="guimenu">%util</span> columns
      could be an indication that I/O subsystem is a bottleneck.
     </p><p>
      If the machine uses multiple disks, then it is best if I/O is
      interleaved evenly between disks of equal speed and capacity. It will
      be necessary to take into account whether the storage has multiple
      tiers. Furthermore, if there are multiple paths to storage then
      consider what the link saturation will be when balancing how storage
      is used.
     </p></section><section class="sect4" id="sec-util-multi-sar-report-net" data-id-title="Network statistics reports: sar -n KEYWORD"><div class="titlepage"><div><div><div class="title-container"><h5 class="title"><span class="title-number-name"><span class="title-number">2.1.3.1.5 </span><span class="title-name">Network statistics reports: <code class="command">sar</code> <code class="option">-n <em class="replaceable">KEYWORD</em></code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-multi-sar-report-net">#</a></h5><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      The option <code class="option">-n</code> lets you generate multiple network
      related reports. Specify one of the following keywords along with the
      <code class="option">-n</code>:
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
        <span class="emphasis"><em>DEV</em></span>: Generates a statistic report for all
        network devices
       </p></li><li class="listitem"><p>
        <span class="emphasis"><em>EDEV</em></span>: Generates an error statistics report for
        all network devices
       </p></li><li class="listitem"><p>
        <span class="emphasis"><em>NFS</em></span>: Generates a statistic report for an NFS
        client
       </p></li><li class="listitem"><p>
        <span class="emphasis"><em>NFSD</em></span>: Generates a statistic report for an NFS
        server
       </p></li><li class="listitem"><p>
        <span class="emphasis"><em>SOCK</em></span>: Generates a statistic report on sockets
       </p></li><li class="listitem"><p>
        <span class="emphasis"><em>ALL</em></span>: Generates all network statistic reports
       </p></li></ul></div></section></section><section class="sect3" id="sec-util-multi-sar-visual" data-id-title="Visualizing sar data"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">2.1.3.2 </span><span class="title-name">Visualizing <code class="command">sar</code> data</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-multi-sar-visual">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     <code class="command">sar</code> reports are not always easy to parse for humans.
     kSar, a Java application visualizing your <code class="command">sar</code> data,
     creates easy-to-read graphs. It can even generate PDF reports. kSar
     takes data generated in real time, and past data from a file. kSar
     is licensed under the BSD license and is available from
     <a class="link" href="https://sourceforge.net/projects/ksar/" target="_blank">https://sourceforge.net/projects/ksar/</a>.
    </p></section></section></section><section class="sect1" id="sec-util-system" data-id-title="System information"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.2 </span><span class="title-name">System information</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-system">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><section class="sect2" id="sec-util-system-iostat" data-id-title="Device load information: iostat"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.2.1 </span><span class="title-name">Device load information: <code class="command">iostat</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-system-iostat">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    To monitor the system device load, use <code class="command">iostat</code>. It
    generates reports that can be useful for better balancing the load
    between physical disks attached to your system.
   </p><p>
    To be able to use <code class="command">iostat</code>, install the package
    <span class="package">sysstat</span>.
   </p><p>
    The first <code class="command">iostat</code> report shows statistics collected
    since the system was booted. Subsequent reports cover the time since the
    previous report.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>iostat
Linux 4.4.21-64-default (jupiter)         10/12/16        _x86_64_        (4 CPU)

avg-cpu:  %user   %nice %system %iowait  %steal   %idle
          17.68    4.49    4.24    0.29    0.00   73.31

Device:            tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn
sdb               2.02        36.74        45.73    3544894    4412392
sda               1.05         5.12        13.47     493753    1300276
sdc               0.02         0.14         0.00      13641         37</pre></div><p>
    Invoking <code class="command">iostat</code> in this way will help you find out
    whether throughput is different from your expectation, but not why.
    Such questions can be better answered by an extended report which can be
    generated by invoking <code class="command">iostat</code> <code class="option">-x</code>.
    Extended reports additionally include, for example, information on average
    queue sizes and average wait times.
    It may also be easier to evaluate the data if idle block devices are
    excluded using the <code class="option">-z</code> switch.
    Find definitions for each of the displayed column titles in the
    man page of <code class="command">iostat</code> (<code class="command">man 1 iostat</code>).
   </p><p>
    You can also specify that a certain device should be monitored at specified
    intervals.
    For example, to generate five reports at three-second intervals for the
    device <code class="systemitem">sda</code>, use:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">iostat</code> -p sda 3 5</pre></div><p>
    To show statistics of network file systems (NFS), there are two similar
    utilities:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      <code class="command">nfsiostat-sysstat</code> is included with the
      package <span class="package">sysstat</span>.
     </p></li><li class="listitem"><p>
      <code class="command">nfsiostat</code> is included with the package
      <span class="package">nfs-client</span>.
     </p></li></ul></div><div id="id-1.8.4.2.8.3.12" data-id-title="Using iostat in multipath setups" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Using <code class="command">iostat</code> in multipath setups</div><p>
      The <code class="command">iostat</code> command might not show all controllers
      that are listed by <code class="command">nvme list-subsys</code>. By default,
      <code class="command">iostat</code> filters out all block devices with no I/O.
      To make <code class="command">iostat</code> show <span class="emphasis"><em>all</em></span>
      devices, use the following command:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code> iostat -p ALL</pre></div></div></section><section class="sect2" id="sec-util-system-mpstat-monitoring" data-id-title="Processor activity monitoring: mpstat"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.2.2 </span><span class="title-name">Processor activity monitoring: <code class="command">mpstat</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-system-mpstat-monitoring">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The utility <code class="command">mpstat</code> examines activities of each
    available processor. If your system has one processor only, the global
    average statistics will be reported.
   </p><p>
    The timing arguments work the same way as with the
    <code class="command">iostat</code> command. Entering <code class="command">mpstat 2
    5</code> prints five reports for all processors in two-second
    intervals.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>mpstat 2 5
Linux 4.4.21-64-default (jupiter)         10/12/16        _x86_64_        (2 CPU)

13:51:10  CPU   %usr  %nice  %sys  %iowait  %irq  %soft  %steal  %guest  %gnice   %idle
13:51:12  all   8,27   0,00  0,50     0,00  0,00   0,00    0,00    0,00    0,00   91,23
13:51:14  all  46,62   0,00  3,01     0,00  0,00   0,25    0,00    0,00    0,00   50,13
13:51:16  all  54,71   0,00  3,82     0,00  0,00   0,51    0,00    0,00    0,00   40,97
13:51:18  all  78,77   0,00  5,12     0,00  0,00   0,77    0,00    0,00    0,00   15,35
13:51:20  all  51,65   0,00  4,30     0,00  0,00   0,51    0,00    0,00    0,00   43,54
Average:  all  47,85   0,00  3,34     0,00  0,00   0,40    0,00    0,00    0,00   48,41</pre></div><p>
    From the <code class="command">mpstat</code> data, you can see:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
    The ratio between the <span class="guimenu">%usr</span> and <span class="guimenu">%sys</span>.
    For example, a ratio
    of 10:1 indicates the workload is mostly running application code
    and analysis should focus on the application. A ratio of 1:10
    indicates the workload is mostly kernel-bound and tuning the kernel
    is worth considering. Alternatively, determine why the application is
    kernel-bound and see if that can be alleviated.
     </p></li><li class="listitem"><p>
    Whether there is a subset of CPUs that are nearly fully
    utilized even if the system is lightly loaded overall. Few
    hot CPUs can indicate that the workload is not parallelized and
    could benefit from executing on a machine with a smaller number of
    faster processors.
     </p></li></ul></div></section><section class="sect2" id="sec-util-system-turbostat" data-id-title="Processor frequency monitoring: turbostat"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.2.3 </span><span class="title-name">Processor frequency monitoring: <code class="command">turbostat</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-system-turbostat">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    <code class="command">turbostat</code> shows frequencies, load, temperature, and power
    of AMD64/Intel 64 processors. It can operate in two modes: If called
    with a command, the command process is forked and statistics are displayed
    upon command completion. When run without a command, it will display
    updated statistics every five seconds. Note that
    <code class="command">turbostat</code> requires the kernel module
    <code class="systemitem">msr</code> to be loaded.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> turbostat find /etc -type d -exec true {} \;
0.546880 sec
     CPU Avg_MHz   Busy% Bzy_MHz TSC_MHz
       -     416   28.43    1465    3215
       0     631   37.29    1691    3215
       1     416   27.14    1534    3215
       2     270   24.30    1113    3215
       3     406   26.57    1530    3214
       4     505   32.46    1556    3214
       5     270   22.79    1184    3214</pre></div><p>
    The output depends on the CPU type and may vary. To display more details
    such as temperature and power, use the <code class="option">--debug</code> option. For
    more command line options and an explanation of the field descriptions,
    refer to <code class="command">man 8 turbostat</code>.
   </p></section><section class="sect2" id="sec-util-system-pidstat" data-id-title="Task monitoring: pidstat"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.2.4 </span><span class="title-name">Task monitoring: <code class="command">pidstat</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-system-pidstat">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    If you need to see what load a particular task applies to your system,
    use <code class="command">pidstat</code> command. It prints activity of every
    selected task or all tasks managed by Linux kernel if no task is
    specified. You can also set the number of reports to be displayed and
    the time interval between them.
   </p><p>
    For example, <code class="command">pidstat</code> <code class="option">-C</code> firefox 2 3
    prints the load statistic for tasks whose command name includes the
    string <span class="quote">“<span class="quote">firefox</span>”</span>. There will be three reports printed at
    two second intervals.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>pidstat -C firefox 2 3
Linux 4.4.21-64-default (jupiter)         10/12/16        _x86_64_        (2 CPU)

14:09:11      UID       PID    %usr %system  %guest    %CPU   CPU  Command
14:09:13     1000       387   22,77    0,99    0,00   23,76     1  firefox

14:09:13      UID       PID    %usr %system  %guest    %CPU   CPU  Command
14:09:15     1000       387   46,50    3,00    0,00   49,50     1  firefox

14:09:15      UID       PID    %usr %system  %guest    %CPU   CPU  Command
14:09:17     1000       387   60,50    7,00    0,00   67,50     1  firefox

Average:      UID       PID    %usr %system  %guest    %CPU   CPU  Command
Average:     1000       387   43,19    3,65    0,00   46,84     -  firefox</pre></div><p>
    Similarly, <code class="command">pidstat</code> <code class="option">-d</code> can be
    used to estimate how much I/O tasks are doing, whether they are
    sleeping on that I/O and how many clock ticks the task was stalled.
   </p></section><section class="sect2" id="sec-util-dmesg" data-id-title="Kernel ring buffer: dmesg"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.2.5 </span><span class="title-name">Kernel ring buffer: <code class="command">dmesg</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-dmesg">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The Linux kernel keeps certain messages in a ring buffer. To view these
    messages, enter the command <code class="command">dmesg -T</code>.
   </p><p>
    Older events are logged in the <code class="systemitem">systemd</code> journal. See
    <span class="intraxref">Book “Administration Guide”, Chapter 21 “<code class="command">journalctl</code>: query the <code class="systemitem">systemd</code> journal”</span> for more information on the journal.
   </p></section><section class="sect2" id="sec-util-system-lsof" data-id-title="List of open files: lsof"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.2.6 </span><span class="title-name">List of open files: <code class="command">lsof</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-system-lsof">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    To view a list of all the files open for the process with process ID
    <em class="replaceable">PID</em>, use <code class="option">-p</code>. For example, to
    view all the files used by the current shell, enter:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>lsof -p $$
COMMAND  PID USER   FD   TYPE DEVICE SIZE/OFF  NODE NAME
bash    8842 root  cwd    DIR   0,32      222  6772 /root
bash    8842 root  rtd    DIR   0,32      166   256 /
bash    8842 root  txt    REG   0,32   656584 31066 /bin/bash
bash    8842 root  mem    REG   0,32  1978832 22993 /lib64/libc-2.19.so
[...]
bash    8842 root    2u   CHR  136,2      0t0     5 /dev/pts/2
bash    8842 root  255u   CHR  136,2      0t0     5 /dev/pts/2</pre></div><p>
    The special shell variable <code class="literal">$$</code>, whose value is the
    process ID of the shell, has been used.
   </p><p>
    When used with <code class="option">-i</code>, <code class="command">lsof</code> lists
    currently open Internet files as well:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>lsof -i
COMMAND    PID USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
wickedd-d  917 root    8u  IPv4  16627      0t0  UDP *:bootpc
wickedd-d  918 root    8u  IPv6  20752      0t0  UDP [fe80::5054:ff:fe72:5ead]:dhcpv6-client
sshd      3152 root    3u  IPv4  18618      0t0  TCP *:ssh (LISTEN)
sshd      3152 root    4u  IPv6  18620      0t0  TCP *:ssh (LISTEN)
master    4746 root   13u  IPv4  20588      0t0  TCP localhost:smtp (LISTEN)
master    4746 root   14u  IPv6  20589      0t0  TCP localhost:smtp (LISTEN)
sshd      8837 root    5u  IPv4 293709      0t0  TCP jupiter.suse.de:ssh-&gt;venus.suse.de:33619 (ESTABLISHED)
sshd      8837 root    9u  IPv6 294830      0t0  TCP localhost:x11 (LISTEN)
sshd      8837 root   10u  IPv4 294831      0t0  TCP localhost:x11 (LISTEN)</pre></div></section><section class="sect2" id="sec-util-system-udevmonitor" data-id-title="Kernel and udev event sequence viewer: udevadm monitor"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.2.7 </span><span class="title-name">Kernel and udev event sequence viewer: <code class="command">udevadm monitor</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-system-udevmonitor">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    <code class="command">udevadm monitor</code> listens to the kernel uevents and
    events sent out by a udev rule and prints the device path (DEVPATH) of
    the event to the console. This is a sequence of events while connecting
    a USB memory stick:
   </p><div id="id-1.8.4.2.8.9.3" data-id-title="Monitoring udev events" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Monitoring udev events</div><p>
     Only root user is allowed to monitor udev events by running the
     <code class="command">udevadm</code> command.
    </p></div><div class="verbatim-wrap"><pre class="screen">UEVENT[1138806687] add@/devices/pci0000:00/0000:00:1d.7/usb4/4-2/4-2.2
UEVENT[1138806687] add@/devices/pci0000:00/0000:00:1d.7/usb4/4-2/4-2.2/4-2.2
UEVENT[1138806687] add@/class/scsi_host/host4
UEVENT[1138806687] add@/class/usb_device/usbdev4.10
UDEV  [1138806687] add@/devices/pci0000:00/0000:00:1d.7/usb4/4-2/4-2.2
UDEV  [1138806687] add@/devices/pci0000:00/0000:00:1d.7/usb4/4-2/4-2.2/4-2.2
UDEV  [1138806687] add@/class/scsi_host/host4
UDEV  [1138806687] add@/class/usb_device/usbdev4.10
UEVENT[1138806692] add@/devices/pci0000:00/0000:00:1d.7/usb4/4-2/4-2.2/4-2.2
UEVENT[1138806692] add@/block/sdb
UEVENT[1138806692] add@/class/scsi_generic/sg1
UEVENT[1138806692] add@/class/scsi_device/4:0:0:0
UDEV  [1138806693] add@/devices/pci0000:00/0000:00:1d.7/usb4/4-2/4-2.2/4-2.2
UDEV  [1138806693] add@/class/scsi_generic/sg1
UDEV  [1138806693] add@/class/scsi_device/4:0:0:0
UDEV  [1138806693] add@/block/sdb
UEVENT[1138806694] add@/block/sdb/sdb1
UDEV  [1138806694] add@/block/sdb/sdb1
UEVENT[1138806694] mount@/block/sdb/sdb1
UEVENT[1138806697] umount@/block/sdb/sdb1</pre></div></section></section><section class="sect1" id="sec-util-processes" data-id-title="Processes"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.3 </span><span class="title-name">Processes</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-processes">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><section class="sect2" id="sec-util-processes-ipcs" data-id-title="Interprocess communication: ipcs"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.3.1 </span><span class="title-name">Interprocess communication: <code class="command">ipcs</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-processes-ipcs">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The command <code class="command">ipcs</code> produces a list of the IPC resources
    currently in use:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>ipcs
------ Message Queues --------
key        msqid      owner      perms      used-bytes   messages

------ Shared Memory Segments --------
key        shmid      owner      perms      bytes      nattch     status
0x00000000 65536      tux        600        524288     2          dest
0x00000000 98305      tux        600        4194304    2          dest
0x00000000 884738     root       600        524288     2          dest
0x00000000 786435     tux        600        4194304    2          dest
0x00000000 12058628   tux        600        524288     2          dest
0x00000000 917509     root       600        524288     2          dest
0x00000000 12353542   tux        600        196608     2          dest
0x00000000 12451847   tux        600        524288     2          dest
0x00000000 11567114   root       600        262144     1          dest
0x00000000 10911763   tux        600        2097152    2          dest
0x00000000 11665429   root       600        2336768    2          dest
0x00000000 11698198   root       600        196608     2          dest
0x00000000 11730967   root       600        524288     2          dest

------ Semaphore Arrays --------
key        semid      owner      perms      nsems
0xa12e0919 32768      tux        666        2</pre></div></section><section class="sect2" id="sec-util-processes-ps" data-id-title="Process list: ps"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.3.2 </span><span class="title-name">Process list: <code class="command">ps</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-processes-ps">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The command <code class="command">ps</code> produces a list of processes. Most
    parameters must be written without a minus sign. Refer to <code class="command">ps
    --help</code> for a brief help or to the man page for extensive help.
   </p><p>
    To list all processes with user and command line information, use
    <code class="command">ps axu</code>:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>ps axu
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root         1  0.0  0.3  34376  4608 ?        Ss   Jul24   0:02 /usr/lib/systemd/systemd
root         2  0.0  0.0      0     0 ?        S    Jul24   0:00 [kthreadd]
root         3  0.0  0.0      0     0 ?        S    Jul24   0:00 [ksoftirqd/0]
root         5  0.0  0.0      0     0 ?        S&lt;   Jul24   0:00 [kworker/0:0H]
root         6  0.0  0.0      0     0 ?        S    Jul24   0:00 [kworker/u2:0]
root         7  0.0  0.0      0     0 ?        S    Jul24   0:00 [migration/0]
[...]
tux      12583  0.0  0.1 185980  2720 ?        Sl   10:12   0:00 /usr/lib/gvfs/gvfs-mtp-volume-monitor
tux      12587  0.0  0.1 198132  3044 ?        Sl   10:12   0:00 /usr/lib/gvfs/gvfs-gphoto2-volume-monitor
tux      12591  0.0  0.1 181940  2700 ?        Sl   10:12   0:00 /usr/lib/gvfs/gvfs-goa-volume-monitor
tux      12594  8.1 10.6 1418216 163564 ?      Sl   10:12   0:03 /usr/bin/gnome-shell
tux      12600  0.0  0.3 393448  5972 ?        Sl   10:12   0:00 /usr/lib/gnome-settings-daemon-3.0/gsd-printer
tux      12625  0.0  0.6 227776 10112 ?        Sl   10:12   0:00 /usr/lib/gnome-control-center-search-provider
tux      12626  0.5  1.5 890972 23540 ?        Sl   10:12   0:00 /usr/bin/nautilus --no-default-window
[...]</pre></div><p>
    To check how many <code class="command">sshd</code> processes are running, use the
    option <code class="option">-p</code> together with the command
    <code class="command">pidof</code>, which lists the process IDs of the given
    processes.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>ps -p $(pidof sshd)
  PID TTY      STAT   TIME COMMAND
 1545 ?        Ss     0:00 /usr/sbin/sshd -D
 4608 ?        Ss     0:00 sshd: root@pts/0</pre></div><p>
    The process list can be formatted according to your needs. The option
    <code class="option">L</code> returns a list of all keywords. Enter the following
    command to issue a list of all processes sorted by memory usage:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>ps ax --format pid,rss,cmd --sort rss
  PID   RSS CMD
  PID   RSS CMD
    2     0 [kthreadd]
    3     0 [ksoftirqd/0]
    4     0 [kworker/0:0]
    5     0 [kworker/0:0H]
    6     0 [kworker/u2:0]
    7     0 [migration/0]
    8     0 [rcu_bh]
[...]
12518 22996 /usr/lib/gnome-settings-daemon-3.0/gnome-settings-daemon
12626 23540 /usr/bin/nautilus --no-default-window
12305 32188 /usr/bin/Xorg :0 -background none -verbose
12594 164900 /usr/bin/gnome-shell</pre></div><div class="variablelist"><div class="title-container"><div class="variablelist-title-wrap"><div class="variablelist-title"><span class="title-number-name"><span class="title-name">Useful <code class="command">ps</code> calls </span></span><a title="Permalink" class="permalink" href="cha-util.html#id-1.8.4.2.9.4.9">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div><dl class="variablelist"><dt id="id-1.8.4.2.9.4.9.2"><span class="term"><code class="command">ps aux</code><code class="option">--sort
       <em class="replaceable">COLUMN</em></code>
     </span></dt><dd><p>
       Sort the output by <em class="replaceable">COLUMN</em>. Replace
       <em class="replaceable">COLUMN</em> with
      </p><table style="border: 0; " class="simplelist"><tr><td><code class="option">pmem</code> for physical memory ratio</td></tr><tr><td><code class="option">pcpu</code> for CPU ratio</td></tr><tr><td><code class="option">rss</code> for resident set size (non-swapped physical
        memory)</td></tr></table></dd><dt id="id-1.8.4.2.9.4.9.3"><span class="term"><code class="command">ps axo pid,%cpu,rss,vsz,args,wchan</code>
     </span></dt><dd><p>
       Shows every process, their PID, CPU usage ratio, memory size
       (resident and virtual), name, and their syscall.
      </p></dd><dt id="id-1.8.4.2.9.4.9.4"><span class="term"><code class="command">ps axfo pid,args</code>
     </span></dt><dd><p>
       Show a process tree.
      </p></dd></dl></div></section><section class="sect2" id="sec-util-pstree" data-id-title="Process tree: pstree"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.3.3 </span><span class="title-name">Process tree: <code class="command">pstree</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-pstree">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The command <code class="command">pstree</code> produces a list of processes in
    the form of a tree:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>pstree
systemd---accounts-daemon---{gdbus}
        |                 |-{gmain}
        |-at-spi-bus-laun---dbus-daemon
        |                 |-{dconf worker}
        |                 |-{gdbus}
        |                 |-{gmain}
        |-at-spi2-registr---{gdbus}
        |-cron
        |-2*[dbus-daemon]
        |-dbus-launch
        |-dconf-service---{gdbus}
        |               |-{gmain}
        |-gconfd-2
        |-gdm---gdm-simple-slav---Xorg
        |     |                 |-gdm-session-wor---gnome-session---gnome-setti+
        |     |                 |                 |               |-gnome-shell+++
        |     |                 |                 |               |-{dconf work+
        |     |                 |                 |               |-{gdbus}
        |     |                 |                 |               |-{gmain}
        |     |                 |                 |-{gdbus}
        |     |                 |                 |-{gmain}
        |     |                 |-{gdbus}
        |     |                 |-{gmain}
        |     |-{gdbus}
        |     |-{gmain}
[...]</pre></div><p>
    The parameter <code class="option">-p</code> adds the process ID to a given name.
    To have the command lines displayed as well, use the <code class="option">-a</code>
    parameter:
   </p></section><section class="sect2" id="sec-util-processes-top" data-id-title="Table of processes: top"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.3.4 </span><span class="title-name">Table of processes: <code class="command">top</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-processes-top">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The command <code class="command">top</code> (an abbreviation of <span class="quote">“<span class="quote">table of
    processes</span>”</span>) displays a list of processes that is refreshed every
    two seconds. To terminate the program, press <span class="keycap">Q</span>. The
    parameter <code class="option">-n 1</code> terminates the program after a single
    display of the process list. The following is an example output of the
    command <code class="command">top -n 1</code>:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>top -n 1
Tasks: 128 total,   1 running, 127 sleeping,   0 stopped,   0 zombie
%Cpu(s):  2.4 us,  1.2 sy,  0.0 ni, 96.3 id,  0.1 wa,  0.0 hi,  0.0 si,  0.0 st
KiB Mem:   1535508 total,   699948 used,   835560 free,      880 buffers
KiB Swap:  1541116 total,        0 used,  1541116 free.   377000 cached Mem

  PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND
    1 root      20   0  116292   4660   2028 S 0.000 0.303   0:04.45 systemd
    2 root      20   0       0      0      0 S 0.000 0.000   0:00.00 kthreadd
    3 root      20   0       0      0      0 S 0.000 0.000   0:00.07 ksoftirqd+
    5 root       0 -20       0      0      0 S 0.000 0.000   0:00.00 kworker/0+
    6 root      20   0       0      0      0 S 0.000 0.000   0:00.00 kworker/u+
    7 root      rt   0       0      0      0 S 0.000 0.000   0:00.00 migration+
    8 root      20   0       0      0      0 S 0.000 0.000   0:00.00 rcu_bh
    9 root      20   0       0      0      0 S 0.000 0.000   0:00.24 rcu_sched
   10 root      rt   0       0      0      0 S 0.000 0.000   0:00.01 watchdog/0
   11 root       0 -20       0      0      0 S 0.000 0.000   0:00.00 khelper
   12 root      20   0       0      0      0 S 0.000 0.000   0:00.00 kdevtmpfs
   13 root       0 -20       0      0      0 S 0.000 0.000   0:00.00 netns
   14 root       0 -20       0      0      0 S 0.000 0.000   0:00.00 writeback
   15 root       0 -20       0      0      0 S 0.000 0.000   0:00.00 kintegrit+
   16 root       0 -20       0      0      0 S 0.000 0.000   0:00.00 bioset
   17 root       0 -20       0      0      0 S 0.000 0.000   0:00.00 crypto
   18 root       0 -20       0      0      0 S 0.000 0.000   0:00.00 kblockd</pre></div><p>
    By default the output is sorted by CPU usage (column
    <span class="guimenu">%CPU</span>, shortcut <span class="keycap">Shift</span><span class="key-connector">–</span><span class="keycap">P</span>). Use the following key combinations to
    change the sort field:
   </p><table style="border: 0; " class="simplelist"><tr><td><span class="keycap">Shift</span><span class="key-connector">–</span><span class="keycap">M</span>: Resident Memory (<span class="guimenu">RES</span>) </td></tr><tr><td><span class="keycap">Shift</span><span class="key-connector">–</span><span class="keycap">N</span>: Process ID (<span class="guimenu">PID</span>) </td></tr><tr><td><span class="keycap">Shift</span><span class="key-connector">–</span><span class="keycap">T</span>: Time (<span class="guimenu">TIME+</span>) </td></tr></table><p>
    To use any other field for sorting, press <span class="keycap">F</span> and select
    a field from the list. To toggle the sort order, Use <span class="keycap">Shift</span><span class="key-connector">–</span><span class="keycap">R</span>.
   </p><p>
    The parameter <code class="option">-U <em class="replaceable">UID</em></code>
    monitors only the processes associated with a particular user. Replace
    <em class="replaceable">UID</em> with the user ID of the user. Use
    <code class="command">top -U $(id -u)</code> to show processes of the current user
   </p></section><section class="sect2" id="sec-util-processes-virtualtop" data-id-title="IBM Z hypervisor monitor: hyptop"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.3.5 </span><span class="title-name">IBM Z hypervisor monitor: <code class="command">hyptop</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-processes-virtualtop">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    <code class="command">hyptop</code> provides a dynamic real-time view of an
    IBM Z hypervisor environment, using the kernel infrastructure via
    debugfs. It works with either the z/VM or the LPAR hypervisor. Depending
    on the available data it, for example, shows CPU and memory consumption
    of active LPARs or z/VM guests. It provides a curses based user
    interface similar to the <code class="command">top</code> command.
    <code class="command">hyptop</code> provides two windows:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      <span class="guimenu">sys_list</span>: Lists systems that the
      current hypervisor is running
     </p></li><li class="listitem"><p>
      <span class="guimenu">sys</span>: Shows one system in more detail
     </p></li></ul></div><p>
    You can run <code class="command">hyptop</code> in interactive mode (default) or
    in batch mode with the <code class="option">-b</code> option. Help in the
    interactive mode is available by pressing <span class="keycap">?</span> after
    <code class="command">hyptop</code> is started.
   </p><p>
    Output for the <span class="guimenu">sys_list</span> window under LPAR:
   </p><div class="verbatim-wrap"><pre class="screen">12:30:48 | CPU-T: IFL(18) CP(3) UN(3)     ?=help
system  #cpu    cpu   mgm    Cpu+  Mgm+   online
(str)    (#)    (%)   (%)    (hm)  (hm)    (dhm)
H05LP30   10 461.14 10.18 1547:41  8:15 11:05:59
H05LP33    4 133.73  7.57  220:53  6:12 11:05:54
H05LP50    4  99.26  0.01  146:24  0:12 10:04:24
H05LP02    1  99.09  0.00  269:57  0:00 11:05:58
TRX2CFA    1   2.14  0.03    3:24  0:04 11:06:01
H05LP13    6   1.36  0.34    4:23  0:54 11:05:56
TRX1      19   1.22  0.14   13:57  0:22 11:06:01
TRX2      20   1.16  0.11   26:05  0:25 11:06:00
H05LP55    2   0.00  0.00    0:22  0:00 11:05:52
H05LP56    3   0.00  0.00    0:00  0:00 11:05:52
         413 823.39 23.86 3159:57 38:08 11:06:01</pre></div><p>
    Output for the "sys_list" window under z/VM:
   </p><div class="verbatim-wrap"><pre class="screen">12:32:21 | CPU-T: UN(16)                          ?=help
system   #cpu    cpu    Cpu+   online memuse memmax wcur
(str)     (#)    (%)    (hm)    (dhm)  (GiB)  (GiB)  (#)
T6360004    6 100.31  959:47 53:05:20   1.56   2.00  100
T6360005    2   0.44    1:11  3:02:26   0.42   0.50  100
T6360014    2   0.27    0:45 10:18:41   0.54   0.75  100
DTCVSW1     1   0.00    0:00 53:16:42   0.01   0.03  100
T6360002    6   0.00  166:26 40:19:18   1.87   2.00  100
OPERATOR    1   0.00    0:00 53:16:42   0.00   0.03  100
T6360008    2   0.00    0:37 30:22:55   0.32   0.75  100
T6360003    6   0.00 3700:57 53:03:09   4.00   4.00  100
NSLCF1      1   0.00    0:02 53:16:41   0.03   0.25  500
EREP        1   0.00    0:00 53:16:42   0.00   0.03  100
PERFSVM     1   0.00    0:53  2:21:12   0.04   0.06    0
TCPIP       1   0.00    0:01 53:16:42   0.01   0.12 3000
DATAMOVE    1   0.00    0:05 53:16:42   0.00   0.03  100
DIRMAINT    1   0.00    0:04 53:16:42   0.01   0.03  100
DTCVSW2     1   0.00    0:00 53:16:42   0.01   0.03  100
RACFVM      1   0.00    0:00 53:16:42   0.01   0.02  100
           75 101.57 5239:47 53:16:42  15.46  22.50 3000</pre></div><p>
    Output for the <span class="guimenu">sys</span> window under LPAR:
   </p><div class="verbatim-wrap"><pre class="screen">14:08:41 | H05LP30 | CPU-T: IFL(18) CP(3) UN(3)                  ? = help
cpuid   type    cpu   mgm visual.
(#)    (str)    (%)   (%) (vis)
0        IFL  96.91  1.96 |############################################ |
1        IFL  81.82  1.46 |#####################################        |
2        IFL  88.00  2.43 |########################################     |
3        IFL  92.27  1.29 |##########################################   |
4        IFL  83.32  1.05 |#####################################        |
5        IFL  92.46  2.59 |##########################################   |
6        IFL   0.00  0.00 |                                             |
7        IFL   0.00  0.00 |                                             |
8        IFL   0.00  0.00 |                                             |
9        IFL   0.00  0.00 |                                             |
             534.79 10.78</pre></div><p>
    Output for the <span class="guimenu">sys</span> window under z/VM:
   </p><div class="verbatim-wrap"><pre class="screen">15:46:57 | T6360003 | CPU-T: UN(16)                  ? = help
cpuid     cpu visual
(#)       (%) (vis)
0      548.72 |#########################################    |
        548.72</pre></div></section><section class="sect2" id="sec-util-processes-iotop" data-id-title="A top-like I/O monitor: iotop"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.3.6 </span><span class="title-name">A top-like I/O monitor: <code class="command">iotop</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-processes-iotop">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The <code class="command">iotop</code> utility displays a table of I/O usage by
    processes or threads.
   </p><div id="id-1.8.4.2.9.8.3" data-id-title="Installing iotop" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Installing <code class="command">iotop</code></div><p>
     <code class="command">iotop</code> is not installed by default. You need to
     install it manually with <code class="command">zypper in iotop</code> as
     <code class="systemitem">root</code>.
    </p></div><p>
    <code class="command">iotop</code> displays columns for the I/O bandwidth read and
    written by each process during the sampling period. It also displays the
    percentage of time the process spent while swapping in and while waiting
    on I/O. For each process, its I/O priority (class/level) is shown. In
    addition, the total I/O bandwidth read and written during the sampling
    period is displayed at the top of the interface.
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      The <span class="keycap">←</span> and <span class="keycap">→</span> keys
      change the sorting.
     </p></li><li class="listitem"><p>
      <span class="keycap">R</span> reverses the sort order.
     </p></li><li class="listitem"><p>
      <span class="keycap">O</span> toggles between showing all processes and threads
      (default view) and showing only those doing I/O. (This function is
      similar to adding <code class="option">--only</code> on command line.)
     </p></li><li class="listitem"><p>
      <span class="keycap">P</span> toggles between showing threads (default view) and
      processes. (This function is similar to <code class="option">--only</code>.)
     </p></li><li class="listitem"><p>
      <span class="keycap">A</span> toggles between showing the current I/O bandwidth
      (default view) and accumulated I/O operations since
      <code class="command">iotop</code> was started. (This function is similar to
      <code class="option">--accumulated</code>.)
     </p></li><li class="listitem"><p>
      <span class="keycap">I</span> lets you change the priority of a thread or a
      process's threads.
     </p></li><li class="listitem"><p>
      <span class="keycap">Q</span> quits <code class="command">iotop</code>.
     </p></li><li class="listitem"><p>
      Pressing any other key will force a refresh.
     </p></li></ul></div><p>
    Following is an example output of the command <code class="command">iotop
    --only</code>, while <code class="command">find</code> and
    <code class="command">emacs</code> are running:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>iotop --only
Total DISK READ: 50.61 K/s | Total DISK WRITE: 11.68 K/s
  TID  PRIO  USER     DISK READ  DISK WRITE  SWAPIN     IO&gt;    COMMAND
 3416 be/4 tux         50.61 K/s    0.00 B/s  0.00 %  4.05 % find /
  275 be/3 root        0.00 B/s    3.89 K/s  0.00 %  2.34 % [jbd2/sda2-8]
 5055 be/4 tux          0.00 B/s    3.89 K/s  0.00 %  0.04 % emacs</pre></div><p>
    <code class="command">iotop</code> can be also used in a batch mode
    (<code class="literal">-b</code>) and its output stored in a file for later
    analysis. For a complete set of options, see the manual page
    (<code class="command">man 8 iotop</code>).
   </p></section><section class="sect2" id="sec-util-processes-nice" data-id-title="Modify a processs niceness: nice and renice"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.3.7 </span><span class="title-name">Modify a process's niceness: <code class="command">nice</code> and <code class="command">renice</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-processes-nice">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The kernel determines which processes require more CPU time than others
    by the process's nice level, also called niceness. The higher the
    <span class="quote">“<span class="quote">nice</span>”</span> level of a process is, the less CPU time it will
    take from other processes. Nice levels range from -20 (the least
    <span class="quote">“<span class="quote">nice</span>”</span> level) to 19. Negative values can only be set by
    <code class="systemitem">root</code>.
   </p><p>
    Adjusting the niceness level is useful when running a non time-critical
    process that lasts long and uses large amounts of CPU time. For example,
    compiling a kernel on a system that also performs other tasks. Making
    such a process <span class="quote">“<span class="quote">nicer</span>”</span>, ensures that the other tasks, for
    example a Web server, will have a higher priority.
   </p><p>
    Calling <code class="command">nice</code> without any parameters prints the
    current niceness:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>nice
0</pre></div><p>
    Running <code class="command">nice</code> <em class="replaceable">COMMAND</em>
    increments the current nice level for the given command by 10. Using
    <code class="command">nice</code> <code class="option">-n
    <em class="replaceable">LEVEL</em></code>
    <em class="replaceable">COMMAND</em> lets you specify a new niceness
    relative to the current one.
   </p><p>
    To change the niceness of a running process, use
    <code class="command">renice</code> <em class="replaceable">PRIORITY</em> <code class="option">-p
    <em class="replaceable">PROCESS_ID</em></code>, for example:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>renice +5 3266</pre></div><p>
    To renice all processes owned by a specific user, use the option
    <code class="option">-u <em class="replaceable">USER</em></code>.
    
    Process groups are reniced by the option <code class="option">-g <em class="replaceable">PROCESS_GROUP_ID</em></code>.
   </p></section></section><section class="sect1" id="sec-util-memory" data-id-title="Memory"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.4 </span><span class="title-name">Memory</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-memory">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><section class="sect2" id="sec-util-memory-free" data-id-title="Memory usage: free"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.4.1 </span><span class="title-name">Memory usage: <code class="command">free</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-memory-free">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The utility <code class="command">free</code> examines RAM and swap usage. Details
    of both free and used memory and swap areas are shown:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>free
             total       used       free     shared    buffers     cached
Mem:      32900500   32703448     197052          0     255668    5787364
-/+ buffers/cache:   26660416    6240084
Swap:      2046972     304680    1742292</pre></div><p>
    The options <code class="option">-b</code>, <code class="option">-k</code>,
    <code class="option">-m</code>, <code class="option">-g</code> show the output in bytes, KB,
    MB, or GB, respectively. The parameter <code class="option">-s delay</code> ensures
    that the display is refreshed every <em class="replaceable">DELAY</em>
    seconds. For example, <code class="command">free -s 1.5</code> produces an update
    every 1.5 seconds.
   </p></section><section class="sect2" id="sec-util-memory-meminfo" data-id-title="Detailed memory usage: /proc/meminfo"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.4.2 </span><span class="title-name">Detailed memory usage: <code class="filename">/proc/meminfo</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-memory-meminfo">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Use <code class="filename">/proc/meminfo</code> to get more detailed information
    on memory usage than with <code class="command">free</code>. Actually
    <code class="command">free</code> uses some data from this file. See an
    example output from a 64-bit system below. Note that it slightly differs
    on 32-bit systems because of different memory management:
   </p><div class="verbatim-wrap"><pre class="screen">MemTotal:        1942636 kB
MemFree:         1294352 kB
MemAvailable:    1458744 kB
Buffers:             876 kB
Cached:           278476 kB
SwapCached:            0 kB
Active:           368328 kB
Inactive:         199368 kB
Active(anon):     288968 kB
Inactive(anon):    10568 kB
Active(file):      79360 kB
Inactive(file):   188800 kB
Unevictable:          80 kB
Mlocked:              80 kB
SwapTotal:       2103292 kB
SwapFree:        2103292 kB
Dirty:                44 kB
Writeback:             0 kB
AnonPages:        288592 kB
Mapped:            70444 kB
Shmem:             11192 kB
Slab:              40916 kB
SReclaimable:      17712 kB
SUnreclaim:        23204 kB
KernelStack:        2000 kB
PageTables:        10996 kB
NFS_Unstable:          0 kB
Bounce:                0 kB
WritebackTmp:          0 kB
CommitLimit:     3074608 kB
Committed_AS:    1407208 kB
VmallocTotal:   34359738367 kB
VmallocUsed:      145996 kB
VmallocChunk:   34359588844 kB
HardwareCorrupted:     0 kB
AnonHugePages:     86016 kB
HugePages_Total:       0
HugePages_Free:        0
HugePages_Rsvd:        0
HugePages_Surp:        0
Hugepagesize:       2048 kB
DirectMap4k:       79744 kB
DirectMap2M:     2017280 kB</pre></div><p>
    These entries stand for the following:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.8.4.2.10.4.5.1"><span class="term"><span class="guimenu">MemTotal</span></span></dt><dd><p>
       Total amount of RAM.
      </p></dd><dt id="id-1.8.4.2.10.4.5.2"><span class="term"><span class="guimenu">MemFree</span></span></dt><dd><p>
       Amount of unused RAM.
      </p></dd><dt id="id-1.8.4.2.10.4.5.3"><span class="term"><span class="guimenu">MemAvailable</span></span></dt><dd><p>
       Estimate of how much memory is available for starting new applications
       without swapping.
      </p></dd><dt id="id-1.8.4.2.10.4.5.4"><span class="term"><span class="guimenu">Buffers</span></span></dt><dd><p>
       File buffer cache in RAM containing file system metadata.
      </p></dd><dt id="id-1.8.4.2.10.4.5.5"><span class="term"><span class="guimenu">Cached</span></span></dt><dd><p>
       Page cache in RAM.
       This excludes buffer cache and swap cache, but includes
       <span class="guimenu">Shmem</span> memory.
      </p></dd><dt id="id-1.8.4.2.10.4.5.6"><span class="term"><span class="guimenu">SwapCached</span></span></dt><dd><p>
       Page cache for swapped-out memory.
      </p></dd><dt id="id-1.8.4.2.10.4.5.7"><span class="term">
      <span class="guimenu">Active</span>, <span class="guimenu">Active(anon)</span>,
      <span class="guimenu">Active(file)</span>
     </span></dt><dd><p>
       Recently used memory that will not be reclaimed unless necessary or on
       explicit request.
       <span class="guimenu">Active</span> is the sum of <span class="guimenu">Active(anon)</span>
       and <span class="guimenu">Active(file)</span>:
      </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
         <span class="guimenu">Active(anon)</span> tracks swap-backed memory.
         This includes private and shared anonymous mappings and
         private file pages after copy-on-write.
        </p></li><li class="listitem"><p>
         <span class="guimenu">Active(file)</span> tracks other file system backed
         memory.
        </p></li></ul></div></dd><dt id="id-1.8.4.2.10.4.5.8"><span class="term">
      <span class="guimenu">Inactive</span>, <span class="guimenu">Inactive(anon)</span>,
      <span class="guimenu">Inactive(file)</span>
     </span></dt><dd><p>
       Less recently used memory that will usually be reclaimed first.
       <span class="guimenu">Inactive</span> is the sum of
       <span class="guimenu">Inactive(anon)</span> and <span class="guimenu">Inactive(file)</span>:
      </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
         <span class="guimenu">Inactive(anon)</span> tracks swap backed memory.
         This includes private and shared anonymous mappings and
         private file pages after copy-on-write.
        </p></li><li class="listitem"><p>
         <span class="guimenu">Inactive(file)</span> tracks other file system backed
         memory.
        </p></li></ul></div></dd><dt id="id-1.8.4.2.10.4.5.9"><span class="term"><span class="guimenu">Unevictable</span></span></dt><dd><p>
       Amount of memory that cannot be reclaimed (for example, because it is
       <span class="guimenu">Mlocked</span> or used as a RAM disk).
      </p></dd><dt id="id-1.8.4.2.10.4.5.10"><span class="term"><span class="guimenu">Mlocked</span></span></dt><dd><p>
       Amount of memory that is backed by the
       <code class="systemitem">mlock</code> system call.
       <code class="systemitem">mlock</code> allows processes to define which part of
       physical RAM their virtual memory should be mapped to.
       However, <code class="systemitem">mlock</code> does not guarantee this
       placement.
      </p></dd><dt id="id-1.8.4.2.10.4.5.11"><span class="term"><span class="guimenu">SwapTotal</span></span></dt><dd><p>
       Amount of swap space.
      </p></dd><dt id="id-1.8.4.2.10.4.5.12"><span class="term"><span class="guimenu">SwapFree</span></span></dt><dd><p>
       Amount of unused swap space.
      </p></dd><dt id="id-1.8.4.2.10.4.5.13"><span class="term"><span class="guimenu">Dirty</span>
     </span></dt><dd><p>
       Amount of memory waiting to be written to disk, because it contains
       changes compared to the backing storage. Dirty data can be explicitly
       synchronized either by the application or by the kernel after a short
       delay. A large amount of dirty data may take considerable time to write
       to disk resulting in stalls. The total amount of dirty data that can
       exist at any time can be controlled with the
       <code class="command">sysctl</code> parameters <code class="literal">vm.dirty_ratio</code>
       or <code class="literal">vm.dirty_bytes</code> (refer to <a class="xref" href="cha-tuning-memory.html#cha-tuning-memory-usage-writeback" title="15.1.5. Writeback">Section 15.1.5, “Writeback”</a> for more details).
      </p></dd><dt id="id-1.8.4.2.10.4.5.14"><span class="term"><span class="guimenu">Writeback</span>
     </span></dt><dd><p>
       Amount of memory that is currently being written to disk.
      </p></dd><dt id="id-1.8.4.2.10.4.5.15"><span class="term"><span class="guimenu">Mapped</span>
     </span></dt><dd><p>
       Memory claimed with the <code class="systemitem">mmap</code> system call.
      </p></dd><dt id="id-1.8.4.2.10.4.5.16"><span class="term"><span class="guimenu">Shmem</span></span></dt><dd><p>
       Memory shared between groups of processes, such as IPC data,
       <code class="systemitem">tmpfs</code> data, and shared anonymous memory.
      </p></dd><dt id="id-1.8.4.2.10.4.5.17"><span class="term"><span class="guimenu">Slab</span></span></dt><dd><p>
       Memory allocation for internal data structures of the kernel.
      </p></dd><dt id="id-1.8.4.2.10.4.5.18"><span class="term"><span class="guimenu">SReclaimable</span></span></dt><dd><p>
       Slab section that can be reclaimed, such as caches (inode, dentry, etc.).
      </p></dd><dt id="id-1.8.4.2.10.4.5.19"><span class="term"><span class="guimenu">SUnreclaim</span></span></dt><dd><p>
       Slab section that cannot be reclaimed.
      </p></dd><dt id="id-1.8.4.2.10.4.5.20"><span class="term"><span class="guimenu">KernelStack</span></span></dt><dd><p>
       Amount of kernel space memory used by applications (through system calls).
      </p></dd><dt id="id-1.8.4.2.10.4.5.21"><span class="term"><span class="guimenu">PageTables</span></span></dt><dd><p>
       Amount of memory dedicated to page tables of all processes.
      </p></dd><dt id="id-1.8.4.2.10.4.5.22"><span class="term"><span class="guimenu">NFS_Unstable</span></span></dt><dd><p>
       NFS pages that have already been sent to the server, but are not yet
       committed there.
      </p></dd><dt id="id-1.8.4.2.10.4.5.23"><span class="term"><span class="guimenu">Bounce</span></span></dt><dd><p>
       Memory used for bounce buffers of block devices.
      </p></dd><dt id="id-1.8.4.2.10.4.5.24"><span class="term"><span class="guimenu">WritebackTmp</span></span></dt><dd><p>
       Memory used by FUSE for temporary writeback buffers.
      </p></dd><dt id="id-1.8.4.2.10.4.5.25"><span class="term"><span class="guimenu">CommitLimit</span></span></dt><dd><p>
       Amount of memory available to the system based on the overcommit
       ratio setting. This is only enforced if strict overcommit accounting
       is enabled.
      </p></dd><dt id="id-1.8.4.2.10.4.5.26"><span class="term"><span class="guimenu">Committed_AS</span></span></dt><dd><p>
       An approximation of the total amount of memory (RAM and swap) that the
       current workload would need in the worst case.
      </p></dd><dt id="id-1.8.4.2.10.4.5.27"><span class="term"><span class="guimenu">VmallocTotal</span></span></dt><dd><p>
       Amount of allocated kernel virtual address space.
      </p></dd><dt id="id-1.8.4.2.10.4.5.28"><span class="term"><span class="guimenu">VmallocUsed</span></span></dt><dd><p>
       Amount of used kernel virtual address space.
      </p></dd><dt id="id-1.8.4.2.10.4.5.29"><span class="term"><span class="guimenu">VmallocChunk</span></span></dt><dd><p>
       The largest contiguous block of available kernel virtual address space.
      </p></dd><dt id="id-1.8.4.2.10.4.5.30"><span class="term"><span class="guimenu">HardwareCorrupted</span></span></dt><dd><p>
       Amount of failed memory (can only be detected when using ECC RAM).
      </p></dd><dt id="id-1.8.4.2.10.4.5.31"><span class="term"><span class="guimenu">AnonHugePages</span></span></dt><dd><p>
       Anonymous hugepages that are mapped into user space page tables.
       These are allocated transparently for processes without being
       specifically requested, therefore they are also known as
       <span class="emphasis"><em>transparent hugepages</em></span> (THP).
      </p></dd><dt id="id-1.8.4.2.10.4.5.32"><span class="term"><span class="guimenu">HugePages_Total</span></span></dt><dd><p>
       Number of preallocated hugepages for use by
       <code class="systemitem">SHM_HUGETLB</code> and
       <code class="systemitem">MAP_HUGETLB</code> or through the
       <code class="systemitem">hugetlbfs</code> file system, as defined in
       <code class="filename">/proc/sys/vm/nr_hugepages</code>.
      </p></dd><dt id="id-1.8.4.2.10.4.5.33"><span class="term"><span class="guimenu">HugePages_Free</span></span></dt><dd><p>
       Number of hugepages available.
      </p></dd><dt id="id-1.8.4.2.10.4.5.34"><span class="term"><span class="guimenu">HugePages_Rsvd</span></span></dt><dd><p>
       Number of hugepages that are committed.
      </p></dd><dt id="id-1.8.4.2.10.4.5.35"><span class="term"><span class="guimenu">HugePages_Surp</span></span></dt><dd><p>
       Number of hugepages available beyond
       <span class="guimenu">HugePages_Total</span> (<span class="quote">“<span class="quote">surplus</span>”</span>), as defined
       in <code class="filename">/proc/sys/vm/nr_overcommit_hugepages</code>.
      </p></dd><dt id="id-1.8.4.2.10.4.5.36"><span class="term"><span class="guimenu">Hugepagesize</span></span></dt><dd><p>
       Size of a hugepage—on AMD64/Intel 64 the default is 2048 KB.
      </p></dd><dt id="id-1.8.4.2.10.4.5.37"><span class="term"><span class="guimenu">DirectMap4k</span> etc.</span></dt><dd><p>
       Amount of kernel memory that is mapped to pages with a given size (in the
       example: 4 kB).
      </p></dd></dl></div></section><section class="sect2" id="sec-util-memory-smaps" data-id-title="Process memory usage: smaps"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.4.3 </span><span class="title-name">Process memory usage: smaps</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-memory-smaps">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Exactly determining how much memory a certain process is consuming is
    not possible with standard tools like <code class="command">top</code> or
    <code class="command">ps</code>. Use the smaps subsystem, introduced in kernel
    2.6.14, if you need exact data. It can be found at
    <code class="filename">/proc/<em class="replaceable">PID</em>/smaps</code> and
    shows you the number of clean and dirty memory pages the process with
    the ID <em class="replaceable">PID</em> is using at that time. It
    differentiates between shared and private memory, so you can see
    how much memory the process is using without including memory shared
    with other processes. For more information see
    <code class="filename">/usr/src/linux/Documentation/filesystems/proc.txt</code>
    (requires the package
    <code class="systemitem">kernel-source</code> to be
    installed).
   </p><p>
    smaps is expensive to read. Therefore it is not recommended to monitor
    it regularly, but only when closely monitoring a certain process.
   </p></section><section class="sect2" id="sec-util-memory-numatop" data-id-title="numaTOP"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.4.4 </span><span class="title-name">numaTOP</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-memory-numatop">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      numaTOP is a tool for NUMA (Non-uniform Memory Access)
      systems. The tool helps to identify NUMA-related performance
      bottlenecks by providing real-time analysis of a NUMA system.
    </p><p>
      Generally speaking, numaTOP allows you to identify and
      investigate processes and threads with poor locality (that is
      poor ratio of local versus remote memory usage) by analyzing
      the number of Remote Memory Accesses (RMA), the number of Local Memory
      Accesses (LMA), and the RMA/LMA ratio.
    </p><p>
      numaTOP is supported on PowerPC and the following Intel Xeon
      processors: 5500-series, 6500/7500-series, 5600-series,
      E7-x8xx-series, and E5-16xx/24xx/26xx/46xx-series.
    </p><p>
      numaTOP is available in the official software repositories, and
      you can install the tool using the <code class="command">sudo zypper in
      numatop</code> command. To launch numaTOP, run the
      <code class="command">numatop</code> command. To get an overview of
      numaTOP functionality and usage, use the <code class="command">man
      numatop</code> command.
    </p></section></section><section class="sect1" id="sec-util-networking" data-id-title="Networking"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.5 </span><span class="title-name">Networking</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-networking">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><div id="id-1.8.4.2.11.2" data-id-title="Traffic shaping" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Traffic shaping</div><p>
    In case the network bandwidth is lower than expected, you should first
    check if any traffic shaping rules are active for your network segment.
   </p></div><section class="sect2" id="sec-util-networking-ip" data-id-title="Basic network diagnostics: ip"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.5.1 </span><span class="title-name">Basic network diagnostics: <code class="command">ip</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-networking-ip">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    <code class="command">ip</code> is a powerful tool to set up and control network
    interfaces. You can also use it to quickly view basic statistics about
    network interfaces of the system. For example, whether the interface is
    up or how many errors, dropped packets, or packet collisions there are.
   </p><p>
    If you run <code class="command">ip</code> with no additional parameter, it
    displays a help output. To list all network interfaces, enter
    <code class="command">ip addr show</code> (or abbreviated as <code class="command">ip
    a</code>). <code class="command">ip addr show up</code> lists only running
    network interfaces. <code class="command">ip -s link show</code>
    <em class="replaceable">DEVICE</em> lists statistics for the specified
    interface only:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>ip -s link show br0
6: br0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP mode DEFAULT
    link/ether 00:19:d1:72:d4:30 brd ff:ff:ff:ff:ff:ff
    RX: bytes  packets  errors  dropped overrun mcast
    6346104756 9265517  0       10860   0       0
    TX: bytes  packets  errors  dropped carrier collsns
    3996204683 3655523  0       0       0       0</pre></div><p>
    <code class="command">ip</code> can also show interfaces
    (<code class="option">link</code>), routing tables (<code class="option">route</code>), and
    much more—refer to <code class="command">man 8 ip</code> for details.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>ip route
default via 192.168.2.1 dev eth1
192.168.2.0/24 dev eth0  proto kernel  scope link  src 192.168.2.100
192.168.2.0/24 dev eth1  proto kernel  scope link  src 192.168.2.101
192.168.2.0/24 dev eth2  proto kernel  scope link  src 192.168.2.102</pre></div><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>ip link
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 52:54:00:44:30:51 brd ff:ff:ff:ff:ff:ff
3: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 52:54:00:a3:c1:fb brd ff:ff:ff:ff:ff:ff
4: eth2: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 52:54:00:32:a4:09 brd ff:ff:ff:ff:ff:ff</pre></div></section><section class="sect2" id="sec-util-networking-nethogs" data-id-title="Show the network usage of processes: nethogs"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.5.2 </span><span class="title-name">
    Show the network usage of processes: <code class="command">nethogs</code>
   </span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-networking-nethogs">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    In some cases, for example if the network traffic suddenly becomes very
    high, it is desirable to quickly find out which application(s) is/are
    causing the traffic. <code class="command">nethogs</code>, a tool with a design
    similar to <code class="command">top</code>, shows incoming and outgoing traffic for
    all relevant processes:
   </p><div class="verbatim-wrap"><pre class="screen">PID   USER  PROGRAM                                DEV   SENT   RECEIVED
27145 root   zypper                                eth0  5.719  391.749 KB/sec
?     root   ..0:113:80c0:8080:10:160:0:100:30015        0.102    2.326 KB/sec
26635 tux    /usr/lib64/firefox/firefox            eth0  0.026    0.026 KB/sec
?     root   ..0:113:80c0:8080:10:160:0:100:30045        0.000    0.021 KB/sec
?     root   ..0:113:80c0:8080:10:160:0:100:30045        0.000    0.018 KB/sec
?     root   ..0:113:80c0:8080:10:160:0:100:30015        0.000    0.018 KB/sec
?     root   ..0:113:80c0:8080:10:160:0:100:30045        0.000    0.017 KB/sec
?     root   ..0:113:80c0:8080:10:160:0:100:30045        0.000    0.017 KB/sec
?     root   ..0:113:80c0:8080:10:160:0:100:30045        0.069    0.000 KB/sec
?     root   unknown TCP                                 0.000    0.000 KB/sec

TOTAL                                                  5.916  394.192 KB/sec</pre></div><p>
    Like in <code class="command">top</code>, <code class="command">nethogs</code> features
    interactive commands:
   </p><table style="border: 0; " class="simplelist"><tr><td><span class="keycap">M</span>: cycle between display modes (kb/s, kb, b, mb)
    </td></tr><tr><td><span class="keycap">R</span>: sort by <span class="guimenu">RECEIVED</span>
    </td></tr><tr><td><span class="keycap">S</span>: sort by <span class="guimenu">SENT</span></td></tr><tr><td><span class="keycap">Q</span>: quit</td></tr></table></section><section class="sect2" id="sec-util-networking-cards" data-id-title="Ethernet cards in detail: ethtool"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.5.3 </span><span class="title-name">Ethernet cards in detail: ethtool</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-networking-cards">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    <code class="command">ethtool</code> can display and change detailed aspects of
    your Ethernet network device. By default it prints the current setting
    of the specified device.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>ethtool eth0
Settings for eth0:
 Supported ports: [ TP ]
 Supported link modes:   10baseT/Half 10baseT/Full
                         100baseT/Half 100baseT/Full
                         1000baseT/Full
 Supports auto-negotiation: Yes
 Advertised link modes:  10baseT/Half 10baseT/Full
                         100baseT/Half 100baseT/Full
                         1000baseT/Full
 Advertised pause frame use: No
[...]
 Link detected: yes</pre></div><p>
    The following table shows <code class="command">ethtool</code> options that you
    can use to query the device for specific information:
   </p><div class="table" id="id-1.8.4.2.11.5.5" data-id-title="List of query options of ethtool"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 2.1: </span><span class="title-name">List of query options of <code class="command">ethtool</code> </span></span><a title="Permalink" class="permalink" href="cha-util.html#id-1.8.4.2.11.5.5">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="1"/><col class="2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
        <p>
         <code class="command">ethtool</code> option
        </p>
       </th><th style="border-bottom: 1px solid ; ">
        <p>
         it queries the device for
        </p>
       </th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
        <p>
         -a
        </p>
       </td><td style="border-bottom: 1px solid ; ">
        <p>
         pause parameter information
        </p>
       </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
        <p>
         -c
        </p>
       </td><td style="border-bottom: 1px solid ; ">
        <p>
         interrupt coalescing information
        </p>
       </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
        <p>
         -g
        </p>
       </td><td style="border-bottom: 1px solid ; ">
        <p>
         Rx/Tx (receive/transmit) ring parameter information
        </p>
       </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
        <p>
         -i
        </p>
       </td><td style="border-bottom: 1px solid ; ">
        <p>
         associated driver information
        </p>
       </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
        <p>
         -k
        </p>
       </td><td style="border-bottom: 1px solid ; ">
        <p>
         offload information
        </p>
       </td></tr><tr><td style="border-right: 1px solid ; ">
        <p>
         -S
        </p>
       </td><td>
        <p>
         NIC and driver-specific statistics
        </p>
       </td></tr></tbody></table></div></div></section><section class="sect2" id="sec-util-networking-netstat" data-id-title="Show the network status: ss"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.5.4 </span><span class="title-name">Show the network status: <code class="command">ss</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-networking-netstat">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    <code class="command">ss</code> is a tool to dump socket statistics and replaces
    the <code class="command">netstat</code> command. To list all
    connections use <code class="command">ss</code> without parameters:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>ss
Netid  State      Recv-Q Send-Q   Local Address:Port       Peer Address:Port
u_str  ESTAB      0      0                    * 14082                 * 14083
u_str  ESTAB      0      0                    * 18582                 * 18583
u_str  ESTAB      0      0                    * 19449                 * 19450
u_str  ESTAB      0      0      @/tmp/dbus-gmUUwXABPV 18784           * 18783
u_str  ESTAB      0      0      /var/run/dbus/system_bus_socket 19383 * 19382
u_str  ESTAB      0      0      @/tmp/dbus-gmUUwXABPV 18617           * 18616
u_str  ESTAB      0      0      @/tmp/dbus-58TPPDv8qv 19352           * 19351
u_str  ESTAB      0      0                    * 17658                 * 17657
u_str  ESTAB      0      0                    * 17693                 * 17694
[..]</pre></div><p>
    To show all network ports currently open, use the following command:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>ss -l
Netid  State      Recv-Q Send-Q      Local Address:Port  Peer Address:Port
nl     UNCONN     0      0                 rtnl:4195117                  *
nl     UNCONN     0      0       rtnl:wickedd-auto4/811                  *
nl     UNCONN     0      0       rtnl:wickedd-dhcp4/813                  *
nl     UNCONN     0      0                 rtnl:4195121                  *
nl     UNCONN     0      0                 rtnl:4195115                  *
nl     UNCONN     0      0       rtnl:wickedd-dhcp6/814                  *
nl     UNCONN     0      0                  rtnl:kernel                  *
nl     UNCONN     0      0             rtnl:wickedd/817                  *
nl     UNCONN     0      0                 rtnl:4195118                  *
nl     UNCONN     0      0                rtnl:nscd/706                  *
nl     UNCONN     4352   0              tcpdiag:ss/2381                  *
[...]</pre></div><p>
    When displaying network connections, you can specify the socket type to
    display: TCP (<code class="option">-t</code>) or UDP (<code class="option">-u</code>) for
    example. The <code class="option">-p</code> option shows the PID and name of the
    program to which each socket belongs.
   </p><p>
    The following example lists all TCP connections and the programs using
    these connections. The <code class="option">-a</code> option make sure all
    established connections (listening and non-listening) are shown. The
    <code class="option">-p</code> option shows the PID and name of the program to
    which each socket belongs.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>ss -t -a -p
State    Recv-Q Send-Q  Local Address:Port   Peer Address:Port
LISTEN   0      128                  *:ssh                 *:*  users:(("sshd",1551,3))
LISTEN   0      100         127.0.0.1:smtp                 *:*  users:(("master",1704,13))
ESTAB    0      132      10.120.65.198:ssh  10.120.4.150:55715  users:(("sshd",2103,5))
LISTEN   0      128                 :::ssh                :::*  users:(("sshd",1551,4))
LISTEN   0      100               ::1:smtp                :::*  users:(("master",1704,14))</pre></div></section></section><section class="sect1" id="sec-util-proc" data-id-title="The /proc file system"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.6 </span><span class="title-name">The <code class="filename">/proc</code> file system</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-proc">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The <code class="filename">/proc</code> file system is a pseudo file system in
   which the kernel reserves important information in the form of virtual
   files. For example, display the CPU type with this command:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>cat /proc/cpuinfo
processor       : 0
vendor_id       : GenuineIntel
cpu family      : 6
model           : 30
model name      : Intel(R) Core(TM) i5 CPU         750  @ 2.67GHz
stepping        : 5
microcode       : 0x6
cpu MHz         : 1197.000
cache size      : 8192 KB
physical id     : 0
siblings        : 4
core id         : 0
cpu cores       : 4
apicid          : 0
initial apicid  : 0
fpu             : yes
fpu_exception   : yes
cpuid level     : 11
wp              : yes
flags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc aperfmperf pni dtes64 monitor ds_cpl vmx smx est tm2 ssse3 cx16 xtpr pdcm sse4_1 sse4_2 popcnt lahf_lm ida dtherm tpr_shadow vnmi flexpriority ept vpid
bogomips        : 5333.85
clflush size    : 64
cache_alignment : 64
address sizes   : 36 bits physical, 48 bits virtual
power management:
[...]</pre></div><div id="id-1.8.4.2.12.4" data-id-title="Detailed processor information" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Detailed processor information</div><p>
    Detailed information about the processor on the AMD64/Intel 64 architecture is
    also available by running <code class="command">x86info</code>.
   </p></div><p>
   Query the allocation and use of interrupts with the following command:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>cat /proc/interrupts
           CPU0       CPU1       CPU2       CPU3
  0:        121          0          0          0   IO-APIC-edge      timer
  8:          0          0          0          1   IO-APIC-edge      rtc0
  9:          0          0          0          0   IO-APIC-fasteoi   acpi
 16:          0      11933          0          0   IO-APIC-fasteoi   ehci_hcd:+
 18:          0          0          0          0   IO-APIC-fasteoi   i801_smbus
 19:          0     117978          0          0   IO-APIC-fasteoi   ata_piix,+
 22:          0          0    3275185          0   IO-APIC-fasteoi   enp5s1
 23:     417927          0          0          0   IO-APIC-fasteoi   ehci_hcd:+
 40:    2727916          0          0          0  HPET_MSI-edge      hpet2
 41:          0    2749134          0          0  HPET_MSI-edge      hpet3
 42:          0          0    2759148          0  HPET_MSI-edge      hpet4
 43:          0          0          0    2678206  HPET_MSI-edge      hpet5
 45:          0          0          0          0   PCI-MSI-edge      aerdrv, P+
 46:          0          0          0          0   PCI-MSI-edge      PCIe PME,+
 47:          0          0          0          0   PCI-MSI-edge      PCIe PME,+
 48:          0          0          0          0   PCI-MSI-edge      PCIe PME,+
 49:          0          0          0        387   PCI-MSI-edge      snd_hda_i+
 50:     933117          0          0          0   PCI-MSI-edge      nvidia
NMI:       2102       2023       2031       1920   Non-maskable interrupts
LOC:         92         71         57         41   Local timer interrupts
SPU:          0          0          0          0   Spurious interrupts
PMI:       2102       2023       2031       1920   Performance monitoring int+
IWI:      47331      45725      52464      46775   IRQ work interrupts
RTR:          2          0          0          0   APIC ICR read retries
RES:     472911     396463     339792     323820   Rescheduling interrupts
CAL:      48389      47345      54113      50478   Function call interrupts
TLB:      28410      26804      24389      26157   TLB shootdowns
TRM:          0          0          0          0   Thermal event interrupts
THR:          0          0          0          0   Threshold APIC interrupts
MCE:          0          0          0          0   Machine check exceptions
MCP:         40         40         40         40   Machine check polls
ERR:          0
MIS:          0</pre></div><p>
   The address assignment of executables and libraries is contained in the
   <code class="filename">maps</code> file:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>cat /proc/self/maps
08048000-0804c000 r-xp 00000000 03:03 17753      /bin/cat
0804c000-0804d000 rw-p 00004000 03:03 17753      /bin/cat
0804d000-0806e000 rw-p 0804d000 00:00 0          [heap]
b7d27000-b7d5a000 r--p 00000000 03:03 11867      /usr/lib/locale/en_GB.utf8/
b7d5a000-b7e32000 r--p 00000000 03:03 11868      /usr/lib/locale/en_GB.utf8/
b7e32000-b7e33000 rw-p b7e32000 00:00 0
b7e33000-b7f45000 r-xp 00000000 03:03 8837       /lib/libc-2.3.6.so
b7f45000-b7f46000 r--p 00112000 03:03 8837       /lib/libc-2.3.6.so
b7f46000-b7f48000 rw-p 00113000 03:03 8837       /lib/libc-2.3.6.so
b7f48000-b7f4c000 rw-p b7f48000 00:00 0
b7f52000-b7f53000 r--p 00000000 03:03 11842      /usr/lib/locale/en_GB.utf8/
[...]
b7f5b000-b7f61000 r--s 00000000 03:03 9109       /usr/lib/gconv/gconv-module
b7f61000-b7f62000 r--p 00000000 03:03 9720       /usr/lib/locale/en_GB.utf8/
b7f62000-b7f76000 r-xp 00000000 03:03 8828       /lib/ld-2.3.6.so
b7f76000-b7f78000 rw-p 00013000 03:03 8828       /lib/ld-2.3.6.so
bfd61000-bfd76000 rw-p bfd61000 00:00 0          [stack]
ffffe000-fffff000 ---p 00000000 00:00 0          [vdso]</pre></div><p>
   A lot more information can be obtained from the /proc file system. Some
   important files and their contents are:
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.8.4.2.12.10.1"><span class="term"><code class="filename">/proc/devices</code>
    </span></dt><dd><p>
      Available devices
     </p></dd><dt id="id-1.8.4.2.12.10.2"><span class="term"><code class="filename">/proc/modules</code>
    </span></dt><dd><p>
      Kernel modules loaded
     </p></dd><dt id="id-1.8.4.2.12.10.3"><span class="term"><code class="filename">/proc/cmdline</code>
    </span></dt><dd><p>
      Kernel command line
     </p></dd><dt id="id-1.8.4.2.12.10.4"><span class="term"><code class="filename">/proc/meminfo</code>
    </span></dt><dd><p>
      Detailed information about memory usage
     </p></dd><dt id="id-1.8.4.2.12.10.5"><span class="term"><code class="filename">/proc/config.gz</code>
    </span></dt><dd><p>
      <code class="command">gzip</code>-compressed configuration file of the kernel
      currently running
     </p></dd><dt id="id-1.8.4.2.12.10.6"><span class="term">/proc/<em class="replaceable">PID/</em>
    </span></dt><dd><p>
      Find information about processes currently running in the
      <code class="filename">/proc/</code><em class="replaceable">NNN</em> directories,
      where <em class="replaceable">NNN</em> is the process ID (PID) of the
      relevant process. Every process can find its own characteristics in
      <code class="filename">/proc/self/</code>.
     </p></dd></dl></div><p>
   Further information is available in the text file
   <code class="filename">/usr/src/linux/Documentation/filesystems/proc.txt</code>
   (this file is available when the package
   <code class="systemitem">kernel-source</code> is installed).
  </p><section class="sect2" id="sec-util-proc-procinfo" data-id-title="procinfo"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.6.1 </span><span class="title-name"><code class="command">procinfo</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-proc-procinfo">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Important information from the <code class="filename">/proc</code> file system is
    summarized by the command <code class="command">procinfo</code>:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>procinfo
Linux 3.11.10-17-desktop (geeko@buildhost) (gcc 4.8.1 20130909) #1 4CPU [jupiter.example.com]

Memory:      Total        Used        Free      Shared     Buffers      Cached
Mem:       8181908     8000632      181276           0       85472     2850872
Swap:     10481660        1576    10480084

Bootup: Mon Jul 28 09:54:13 2014    Load average: 1.61 0.85 0.74 2/904 25949

user  :       1:54:41.84  12.7%  page in :    2107312  disk 1:    52212r   20199w
nice  :       0:00:00.46   0.0%  page out:    1714461  disk 2:    19387r   10928w
system:       0:25:38.00   2.8%  page act:     466673  disk 3:      548r      10w
IOwait:       0:04:16.45   0.4%  page dea:     272297
hw irq:       0:00:00.42   0.0%  page flt:  105754526
sw irq:       0:01:26.48   0.1%  swap in :          0
idle  :      12:14:43.65  81.5%  swap out:        394
guest :       0:02:18.59   0.2%
uptime:       3:45:22.24         context :   99809844

irq  0:       121 timer                 irq 41:   3238224 hpet3
irq  8:         1 rtc0                  irq 42:   3251898 hpet4
irq  9:         0 acpi                  irq 43:   3156368 hpet5
irq 16:     14589 ehci_hcd:usb1         irq 45:         0 aerdrv, PCIe PME
irq 18:         0 i801_smbus            irq 46:         0 PCIe PME, pciehp
irq 19:    124861 ata_piix, ata_piix, f irq 47:         0 PCIe PME, pciehp
irq 22:   3742817 enp5s1                irq 48:         0 PCIe PME, pciehp
irq 23:    479248 ehci_hcd:usb2         irq 49:       387 snd_hda_intel
irq 40:   3216894 hpet2                 irq 50:   1088673 nvidia</pre></div><p>
    To see all the information, use the parameter <code class="option">-a</code>. The
    parameter <code class="option">-nN</code> produces updates of the information every
    <em class="replaceable">N</em> seconds. In this case, terminate the
    program by pressing <span class="keycap">Q</span>.
   </p><p>
    By default, the cumulative values are displayed. The parameter
    <code class="option">-d</code> produces the differential values. <code class="command">procinfo
    -dn5</code> displays the values that have changed in the last five
    seconds:
   </p></section><section class="sect2" id="sec-util-proc-procinfo-sysctl" data-id-title="System control parameters: /proc/sys/"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.6.2 </span><span class="title-name">System control parameters: <code class="filename">/proc/sys/</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-proc-procinfo-sysctl">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    System control parameters are used to modify the Linux kernel parameters
    at runtime. They reside in <code class="filename">/proc/sys/</code> and can be
    viewed and modified with the <code class="command">sysctl</code> command. To list
    all parameters, run <code class="command">sysctl</code> <code class="option">-a</code>. A
    single parameter can be listed with <code class="command">sysctl</code>
    <em class="replaceable">PARAMETER_NAME</em>.
   </p><p>
    Parameters are grouped into categories and can be listed with
    <code class="command">sysctl</code> <em class="replaceable">CATEGORY</em> or by
    listing the contents of the respective directories. The most important
    categories are listed below. The links to further readings require the
    installation of the package
    <code class="systemitem">kernel-source</code>.
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.8.4.2.12.13.4.1"><span class="term"><code class="command">sysctl dev</code> (<code class="filename">/proc/sys/dev/</code>)</span></dt><dd><p>
       Device-specific information.
      </p></dd><dt id="id-1.8.4.2.12.13.4.2"><span class="term"><code class="command">sysctl fs</code> (<code class="filename">/proc/sys/fs/</code>)</span></dt><dd><p>
       Used file handles, quotas, and other file system-oriented parameters.
       For details see
       <code class="filename">/usr/src/linux/Documentation/sysctl/fs.txt</code>.
      </p></dd><dt id="id-1.8.4.2.12.13.4.3"><span class="term"><code class="command">sysctl kernel</code> (<code class="filename">/proc/sys/kernel/</code>)</span></dt><dd><p>
       Information about the task scheduler, system shared memory, and other
       kernel-related parameters. For details see
       <code class="filename">/usr/src/linux/Documentation/sysctl/kernel.txt</code>
      </p></dd><dt id="id-1.8.4.2.12.13.4.4"><span class="term"><code class="command">sysctl net</code> (<code class="filename">/proc/sys/net/</code>)</span></dt><dd><p>
       Information about network bridges, and general network parameters
       (mainly the <code class="filename">ipv4/</code> subdirectory). For details see
       <code class="filename">/usr/src/linux/Documentation/sysctl/net.txt</code>
      </p></dd><dt id="id-1.8.4.2.12.13.4.5"><span class="term"><code class="command">sysctl vm</code> (<code class="filename">/proc/sys/vm/</code>)</span></dt><dd><p>
       Entries in this path relate to information about the virtual memory,
       swapping, and caching. For details see
       <code class="filename">/usr/src/linux/Documentation/sysctl/vm.txt</code>
      </p></dd></dl></div><p>
    To set or change a parameter for the current session, use the command
    <code class="command">sysctl</code> <code class="option">-w</code>
    <em class="replaceable">PARAMETER</em>=<em class="replaceable">VALUE</em>.
    To permanently change a setting, add a line
    <em class="replaceable">PARAMETER</em>=<em class="replaceable">VALUE</em> to
    <code class="filename">/etc/sysctl.conf</code>.
   </p></section></section><section class="sect1" id="sec-util-hardware" data-id-title="Hardware information"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.7 </span><span class="title-name">Hardware information</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-hardware">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><section class="sect2" id="sec-util-hardware-lspci" data-id-title="PCI resources: lspci"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.7.1 </span><span class="title-name">PCI resources: <code class="command">lspci</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-hardware-lspci">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><div id="id-1.8.4.2.13.3.2" data-id-title="Accessing PCI configuration." class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Accessing PCI configuration.</div><p>
     Most operating systems require root user privileges to grant access to
     the computer's PCI configuration.
    </p></div><p>
    The command <code class="command">lspci</code> lists the PCI resources:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>lspci
00:00.0 Host bridge: Intel Corporation 82845G/GL[Brookdale-G]/GE/PE \
    DRAM Controller/Host-Hub Interface (rev 01)
00:01.0 PCI bridge: Intel Corporation 82845G/GL[Brookdale-G]/GE/PE \
    Host-to-AGP Bridge (rev 01)
00:1d.0 USB Controller: Intel Corporation 82801DB/DBL/DBM \
    (ICH4/ICH4-L/ICH4-M) USB UHCI Controller #1 (rev 01)
00:1d.1 USB Controller: Intel Corporation 82801DB/DBL/DBM \
    (ICH4/ICH4-L/ICH4-M) USB UHCI Controller #2 (rev 01)
00:1d.2 USB Controller: Intel Corporation 82801DB/DBL/DBM \
    (ICH4/ICH4-L/ICH4-M) USB UHCI Controller #3 (rev 01)
00:1d.7 USB Controller: Intel Corporation 82801DB/DBM \
    (ICH4/ICH4-M) USB2 EHCI Controller (rev 01)
00:1e.0 PCI bridge: Intel Corporation 82801 PCI Bridge (rev 81)
00:1f.0 ISA bridge: Intel Corporation 82801DB/DBL (ICH4/ICH4-L) \
    LPC Interface Bridge (rev 01)
00:1f.1 IDE interface: Intel Corporation 82801DB (ICH4) IDE \
    Controller (rev 01)
00:1f.3 SMBus: Intel Corporation 82801DB/DBL/DBM (ICH4/ICH4-L/ICH4-M) \
    SMBus Controller (rev 01)
00:1f.5 Multimedia audio controller: Intel Corporation 82801DB/DBL/DBM \
    (ICH4/ICH4-L/ICH4-M) AC'97 Audio Controller (rev 01)
01:00.0 VGA compatible controller: Matrox Graphics, Inc. G400/G450 (rev 85)
02:08.0 Ethernet controller: Intel Corporation 82801DB PRO/100 VE (LOM) \
    Ethernet Controller (rev 81)</pre></div><p>
    Using <code class="option">-v</code> results in a more detailed listing:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>lspci -v
[...]
00:03.0 Ethernet controller: Intel Corporation 82540EM Gigabit Ethernet \
Controller (rev 02)
  Subsystem: Intel Corporation PRO/1000 MT Desktop Adapter
  Flags: bus master, 66MHz, medium devsel, latency 64, IRQ 19
  Memory at f0000000 (32-bit, non-prefetchable) [size=128K]
  I/O ports at d010 [size=8]
  Capabilities: [dc] Power Management version 2
  Capabilities: [e4] PCI-X non-bridge device
  Kernel driver in use: e1000
  Kernel modules: e1000</pre></div><p>
    Information about device name resolution is obtained from the file
    <code class="filename">/usr/share/pci.ids</code>. PCI IDs not listed in this file
    are marked <span class="quote">“<span class="quote">Unknown device.</span>”</span>
   </p><p>
    The parameter <code class="option">-vv</code> produces all the information that
    could be queried by the program. To view the pure numeric values, use
    the parameter <code class="option">-n</code>.
   </p></section><section class="sect2" id="sec-util-hardware-lsusb" data-id-title="USB devices: lsusb"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.7.2 </span><span class="title-name">USB devices: <code class="command">lsusb</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-hardware-lsusb">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The command <code class="command">lsusb</code> lists all USB devices. With the
    option <code class="option">-v</code>, print a more detailed list. The detailed
    information is read from the directory
    <code class="filename">/proc/bus/usb/</code>. The following is the output of
    <code class="command">lsusb</code> with these USB devices attached: hub, memory
    stick, hard disk and mouse.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>lsusb
Bus 004 Device 007: ID 0ea0:2168 Ours Technology, Inc. Transcend JetFlash \
    2.0 / Astone USB Drive
Bus 004 Device 006: ID 04b4:6830 Cypress Semiconductor Corp. USB-2.0 IDE \
    Adapter
Bus 004 Device 005: ID 05e3:0605 Genesys Logic, Inc.
Bus 004 Device 001: ID 0000:0000
Bus 003 Device 001: ID 0000:0000
Bus 002 Device 001: ID 0000:0000
Bus 001 Device 005: ID 046d:c012 Logitech, Inc. Optical Mouse
Bus 001 Device 001: ID 0000:0000</pre></div></section><section class="sect2" id="sec-util-hardware-tmon" data-id-title="Monitoring and tuning the thermal subsystem: tmon"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.7.3 </span><span class="title-name">
    Monitoring and tuning the thermal subsystem: <code class="command">tmon</code>
   </span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-hardware-tmon">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    <code class="command">tmon</code> is a tool to help visualize, tune, and test the
    complex thermal subsystem. When started without parameters,
    <code class="command">tmon</code> runs in monitoring mode:
   </p><div class="verbatim-wrap"><pre class="screen">┌──────THERMAL ZONES(SENSORS)──────────────────────────────┐
│Thermal Zones:                 acpitz00                   │
│Trip Points:                   PC                         │
└──────────────────────────────────────────────────────────┘
┌─────────── COOLING DEVICES ──────────────────────────────┐
│ID  Cooling Dev   Cur    Max   Thermal Zone Binding       │
│00    Processor     0      3   ││││││││││││               │
│01    Processor     0      3   ││││││││││││               │
│02    Processor     0      3   ││││││││││││               │
│03    Processor     0      3   ││││││││││││               │
│04 intel_powerc    -1     50   ││││││││││││               │
└──────────────────────────────────────────────────────────┘
┌──────────────────────────────────────────────────────────┐
│                         10        20        30        40 │
│acpitz 0:[  8][&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;P9                    C31         │
└──────────────────────────────────────────────────────────┘
┌────────────────── CONTROLS ──────────────────────────────┐
│PID gain: kp=0.36 ki=5.00 kd=0.19 Output 0.00             │
│Target Temp: 65.0C, Zone: 0, Control Device: None         │
└──────────────────────────────────────────────────────────┘

Ctrl-c - Quit   TAB - Tuning</pre></div><p>
    For detailed information on how to interpret the data, how to log thermal
    data and how to use <code class="command">tmon</code> to test and tune cooling
    devices and sensors, refer to the man page: <code class="command">man 8
    tmon</code>. The package <span class="package">tmon</span> is not installed by
    default.
   </p></section><section class="sect2" id="sec-util-hardware-mcelog" data-id-title="MCELog: machine check exceptions (MCE)"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.7.4 </span><span class="title-name">MCELog: machine check exceptions (MCE)</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-hardware-mcelog">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><div id="id-1.8.4.2.13.6.2" data-id-title="Availability" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Availability</div><p>This tool is only available on AMD64/Intel 64 systems.</p></div><p>
    The <code class="systemitem">mcelog</code> package logs and
    parses/translates Machine Check Exceptions (MCE) on hardware errors, including
    I/O, CPU, and memory errors. In addition, mcelog handles predictive bad page
    offlining and automatic core offlining when cache errors happen.
    Formerly this was managed by a cron job executed hourly. Now hardware
    errors are immediately processed by an mcelog daemon.
   </p><div id="id-1.8.4.2.13.6.4" data-id-title="Support for AMD scalable MCA" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Support for AMD scalable MCA</div><p>
     <span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span> supports AMD's Scalable Machine Check
     Architecture (Scalable MCA). Scalable MCA improves hardware error
     reporting in AMD Zen processors. It expands information logged in
     MCA banks for improved error handling and better diagnosability.
    </p><p>
     <code class="systemitem">mcelog</code> captures MCA messages
     (<code class="systemitem">rasdaemon</code> and
     <code class="systemitem">dmesg</code> also capture MCA messages).
     See section 3.1, <em class="citetitle">Machine Check Architecture</em> of
     <em class="citetitle">Processor Programming Reference (PPR) for AMD Family
     17h Model 01h, Revision B1 Processors</em> for detailed
     information,
     <a class="link" href="https://developer.amd.com/wordpress/media/2017/11/54945_PPR_Family_17h_Models_00h-0Fh.pdf" target="_blank">https://developer.amd.com/wordpress/media/2017/11/54945_PPR_Family_17h_Models_00h-0Fh.pdf</a>.
    </p></div><p>
    mcelog is configured in <code class="filename">/etc/mcelog/mcelog.conf</code>.
    Configuration options are documented in
    <code class="command">man mcelog</code>, and at
    <a class="link" href="https://mcelog.org/" target="_blank">https://mcelog.org/</a>. The following example shows
    only changes to the default file:
   </p><div class="verbatim-wrap"><pre class="screen">daemon = yes
filter = yes
filter-memory-errors = yes
no-syslog = yes
logfile = /var/log/mcelog
run-credentials-user = root
run-credentials-group = nobody
client-group = root
socket-path = /var/run/mcelog-client</pre></div><p>
    The mcelog service is not enabled by default. The service can either be
    enabled and started via the YaST system services editor, or via command line:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>systemctl enable mcelog
<code class="prompt root"># </code>systemctl start mcelog</pre></div></section><section class="sect2" id="sec-util-hardware-dmicecode" data-id-title="AMD64/Intel 64: dmidecode: DMI table decoder"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.7.5 </span><span class="title-name">AMD64/Intel 64: dmidecode: DMI table decoder</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-hardware-dmicecode">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    <code class="command">dmidecode</code> shows the machine's DMI table containing
    information such as serial numbers and BIOS revisions of the hardware.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>dmidecode
# dmidecode 2.12
SMBIOS 2.5 present.
27 structures occupying 1298 bytes.
Table at 0x000EB250.

Handle 0x0000, DMI type 4, 35 bytes
Processor Information
        Socket Designation: J1PR
        Type: Central Processor
        Family: Other
        Manufacturer: Intel(R) Corporation
        ID: E5 06 01 00 FF FB EB BF
        Version: Intel(R) Core(TM) i5 CPU         750  @ 2.67GHz
        Voltage: 1.1 V
        External Clock: 133 MHz
        Max Speed: 4000 MHz
        Current Speed: 2667 MHz
        Status: Populated, Enabled
        Upgrade: Other
        L1 Cache Handle: 0x0004
        L2 Cache Handle: 0x0003
        L3 Cache Handle: 0x0001
        Serial Number: Not Specified
        Asset Tag: Not Specified
        Part Number: Not Specified
[..]</pre></div></section><section class="sect2" id="sec-util-hardware-lshw" data-id-title="POWER: list hardware"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.7.6 </span><span class="title-name">POWER: list hardware</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-hardware-lshw">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    <code class="command">lshw</code> extracts and displays the hardware
    configuration of the machine.
   </p></section></section><section class="sect1" id="sec-util-file" data-id-title="Files and file systems"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.8 </span><span class="title-name">Files and file systems</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-file">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><section class="sect2" id="sec-util-file-file" data-id-title="Determine the file type: file"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.8.1 </span><span class="title-name">Determine the file type: <code class="command">file</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-file-file">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The command <code class="command">file</code> determines the type of a file or a
    list of files by checking <code class="filename">/usr/share/misc/magic</code>.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>file /usr/bin/file
/usr/bin/file: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), \
    for GNU/Linux 2.6.4, dynamically linked (uses shared libs), stripped</pre></div><p>
    The parameter <code class="option">-f <em class="replaceable">LIST</em></code>
    specifies a file with a list of file names to examine. The
    <code class="option">-z</code> allows <code class="command">file</code> to look inside
    compressed files:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>file /usr/share/man/man1/file.1.gz
/usr/share/man/man1/file.1.gz: gzip compressed data, from Unix, max compression
<code class="prompt user">&gt; </code>file -z /usr/share/man/man1/file.1.gz
/usr/share/man/man1/file.1.gz: troff or preprocessor input text \
    (gzip compressed data, from Unix, max compression)</pre></div><p>
    The parameter <code class="option">-i</code> outputs a mime type string rather than
    the traditional description.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>file -i /usr/share/misc/magic
/usr/share/misc/magic: text/plain charset=utf-8</pre></div></section><section class="sect2" id="sec-util-file-mount-dudf" data-id-title="File systems and their usage: mount, df and du"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.8.2 </span><span class="title-name">File systems and their usage: <code class="command">mount</code>, <code class="command">df</code> and <code class="command">du</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-file-mount-dudf">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The command <code class="command">mount</code> shows which file system (device and
    type) is mounted at which mount point:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>mount
/dev/sda2 on / type ext4 (rw,acl,user_xattr)
proc on /proc type proc (rw)
sysfs on /sys type sysfs (rw)
debugfs on /sys/kernel/debug type debugfs (rw)
devtmpfs on /dev type devtmpfs (rw,mode=0755)
tmpfs on /dev/shm type tmpfs (rw,mode=1777)
devpts on /dev/pts type devpts (rw,mode=0620,gid=5)
/dev/sda3 on /home type ext3 (rw)
securityfs on /sys/kernel/security type securityfs (rw)
fusectl on /sys/fs/fuse/connections type fusectl (rw)
gvfs-fuse-daemon on /home/tux/.gvfs type fuse.gvfs-fuse-daemon \
(rw,nosuid,nodev,user=tux)</pre></div><p>
    Obtain information about total usage of the file systems with the
    command <code class="command">df</code>. The parameter <code class="option">-h</code> (or
    <code class="option">--human-readable</code>) transforms the output into a form
    understandable for common users.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>df -h
Filesystem            Size  Used Avail Use% Mounted on
/dev/sda2              20G  5,9G   13G  32% /
devtmpfs              1,6G  236K  1,6G   1% /dev
tmpfs                 1,6G  668K  1,6G   1% /dev/shm
/dev/sda3             208G   40G  159G  20% /home</pre></div><p>
    Display the total size of all the files in a given directory and its
    subdirectories with the command <code class="command">du</code>. The parameter
    <code class="option">-s</code> suppresses the output of detailed information and
    gives only a total for each argument. <code class="option">-h</code> again
    transforms the output into a human-readable form:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>du -sh /opt
192M    /opt</pre></div></section><section class="sect2" id="sec-util-file-readelf" data-id-title="Additional information about ELF binaries"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.8.3 </span><span class="title-name">Additional information about ELF binaries</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-file-readelf">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Read the content of binaries with the <code class="command">readelf</code>
    utility. This even works with ELF files that were built for other
    hardware architectures:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>readelf --file-header /bin/ls
ELF Header:
  Magic:   7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00
  Class:                             ELF64
  Data:                              2's complement, little endian
  Version:                           1 (current)
  OS/ABI:                            UNIX - System V
  ABI Version:                       0
  Type:                              EXEC (Executable file)
  Machine:                           Advanced Micro Devices X86-64
  Version:                           0x1
  Entry point address:               0x402540
  Start of program headers:          64 (bytes into file)
  Start of section headers:          95720 (bytes into file)
  Flags:                             0x0
  Size of this header:               64 (bytes)
  Size of program headers:           56 (bytes)
  Number of program headers:         9
  Size of section headers:           64 (bytes)
  Number of section headers:         32
  Section header string table index: 31</pre></div></section><section class="sect2" id="sec-util-file-stat" data-id-title="File properties: stat"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.8.4 </span><span class="title-name">File properties: <code class="command">stat</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-file-stat">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The command <code class="command">stat</code> displays file properties:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>stat /etc/profile
  File: `/etc/profile'
  Size: 9662            Blocks: 24         IO Block: 4096   regular file
Device: 802h/2050d      Inode: 132349      Links: 1
Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)
Access: 2009-03-20 07:51:17.000000000 +0100
Modify: 2009-01-08 19:21:14.000000000 +0100
Change: 2009-03-18 12:55:31.000000000 +0100</pre></div><p>
    The parameter <code class="option">--file-system</code> produces details of the
    properties of the file system in which the specified file is located:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>stat /etc/profile --file-system
  File: "/etc/profile"
    ID: d4fb76e70b4d1746 Namelen: 255     Type: ext2/ext3
Block size: 4096       Fundamental block size: 4096
Blocks: Total: 2581445    Free: 1717327    Available: 1586197
Inodes: Total: 655776     Free: 490312</pre></div></section></section><section class="sect1" id="sec-util-user" data-id-title="User information"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.9 </span><span class="title-name">User information</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-user">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><section class="sect2" id="sec-util-system-fuser" data-id-title="User accessing files: fuser"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.9.1 </span><span class="title-name">User accessing files: <code class="command">fuser</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-system-fuser">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    It can be useful to determine what processes or users are currently
    accessing certain files. Suppose, for example, you want to unmount a
    file system mounted at <code class="filename">/mnt</code>.
    <code class="command">umount</code> returns "device is busy." The command
    <code class="command">fuser</code> can then be used to determine what processes
    are accessing the device:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>fuser -v /mnt/*

                     USER        PID ACCESS COMMAND
/mnt/notes.txt       tux    26597 f....  less</pre></div><p>
    Following termination of the <code class="command">less</code> process, which was
    running on another terminal, the file system can successfully be
    unmounted. When used with <code class="option">-k</code> option,
    <code class="command">fuser</code> will terminate processes accessing the file as
    well.
   </p></section><section class="sect2" id="sec-util-user-w" data-id-title="Who is doing what: w"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.9.2 </span><span class="title-name">Who is doing what: <code class="command">w</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-user-w">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    With the command <code class="command">w</code>, find out who is logged in to the
    system and what each user is doing. For example:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>w
 16:00:59 up 1 day,  2:41,  3 users,  load average: 0.00, 0.01, 0.05
USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT
tux      :0       console          Wed13   ?xdm?   8:15   0.03s /usr/lib/gdm/gd
tux      console  :0               Wed13   26:41m  0.00s  0.03s /usr/lib/gdm/gd
tux      pts/0    :0               Wed13   20:11   0.10s  2.89s /usr/lib/gnome-</pre></div><p>
    If any users of other systems have logged in remotely, the parameter
    <code class="option">-f</code> shows the computers from which they have established
    the connection.
    
   </p></section></section><section class="sect1" id="sec-util-time" data-id-title="Time and date"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.10 </span><span class="title-name">Time and date</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-time">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><section class="sect2" id="sec-util-time-time" data-id-title="Time measurement with time"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.10.1 </span><span class="title-name">Time measurement with <code class="command">time</code></span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-time-time">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Determine the time spent by commands with the <code class="command">time</code>
    utility. This utility is available in two versions: as a Bash built-in
    and as a program (<code class="command">/usr/bin/time</code>).
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>time find . &gt; /dev/null

real    0m4.051s<span class="callout" id="co-util-time-real">1</span>
user    0m0.042s<span class="callout" id="co-util-time-user">2</span>
sys     0m0.205s<span class="callout" id="co-util-time-sys">3</span></pre></div><div class="calloutlist"><table style="border: 0; "><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-util-time-real"><span class="callout">1</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      The real time that elapsed from the command's start-up until it
      finished.
     </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-util-time-user"><span class="callout">2</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      CPU time of the user as reported by the <code class="literal">times</code>
      system call.
     </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-util-time-sys"><span class="callout">3</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      CPU time of the system as reported by the <code class="literal">times</code>
      system call.
     </p></td></tr></table></div><p>
    The output of <code class="filename">/usr/bin/time</code> is much more detailed.
    It is recommended to run it with the <code class="option">-v</code> switch to
    produce human-readable output.
   </p><div class="verbatim-wrap"><pre class="screen">/usr/bin/time -v find . &gt; /dev/null
        Command being timed: "find ."
        User time (seconds): 0.24
        System time (seconds): 2.08
        Percent of CPU this job got: 25%
        Elapsed (wall clock) time (h:mm:ss or m:ss): 0:09.03
        Average shared text size (kbytes): 0
        Average unshared data size (kbytes): 0
        Average stack size (kbytes): 0
        Average total size (kbytes): 0
        Maximum resident set size (kbytes): 2516
        Average resident set size (kbytes): 0
        Major (requiring I/O) page faults: 0
        Minor (reclaiming a frame) page faults: 1564
        Voluntary context switches: 36660
        Involuntary context switches: 496
        Swaps: 0
        File system inputs: 0
        File system outputs: 0
        Socket messages sent: 0
        Socket messages received: 0
        Signals delivered: 0
        Page size (bytes): 4096
        Exit status: 0</pre></div></section></section><section class="sect1" id="sec-util-rrdtool" data-id-title="Graph your data: RRDtool"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.11 </span><span class="title-name">Graph your data: RRDtool</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-rrdtool">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   There are a lot of data in the world around you, which can be easily
   measured in time. For example, changes in the temperature, or the number
   of data sent or received by your computer's network interface. RRDtool
   can help you store and visualize such data in detailed and customizable
   graphs.
  </p><p>
   RRDtool is available for most Unix platforms and Linux distributions.
   <span class="productname"><span class="phrase">SUSE® Linux Enterprise Desktop</span></span> ships RRDtool as well. Install it either with
   YaST or by entering
  </p><p>
   <code class="command">zypper</code> <code class="option">install</code>
   <em class="replaceable">rrdtool</em> in the command line as <code class="systemitem">root</code>.
  </p><div id="id-1.8.4.2.17.5" data-id-title="Bindings" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Bindings</div><p>
    There are Perl, Python, Ruby, and PHP bindings available for RRDtool, so
    that you can write your own monitoring scripts in your preferred
    scripting language.
   </p></div><section class="sect2" id="sec-util-rrdtool-howitworks" data-id-title="How RRDtool works"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.11.1 </span><span class="title-name">How RRDtool works</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-rrdtool-howitworks">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    RRDtool is an abbreviation of <span class="emphasis"><em>Round Robin Database
    tool</em></span>. <span class="emphasis"><em>Round Robin</em></span> is a method for
    manipulating with a constant amount of data. It uses the principle of a
    circular buffer, where there is no end nor beginning to the data row
    which is being read. RRDtool uses Round Robin Databases to store and
    read its data.
   </p><p>
    As mentioned above, RRDtool is designed to work with data that change in
    time. The ideal case is a sensor which repeatedly reads measured data
    (like temperature, speed etc.) in constant periods of time, and then
    exports them in a given format. Such data are perfectly ready for
    RRDtool, and it is easy to process them and create the desired output.
   </p><p>
    Sometimes it is not possible to obtain the data automatically and
    regularly. Their format needs to be pre-processed before it is supplied
    to RRDtool, and often you need to manipulate RRDtool even manually.
   </p><p>
    The following is a simple example of basic RRDtool usage. It illustrates
    all three important phases of the usual RRDtool workflow:
    <span class="emphasis"><em>creating</em></span> a database, <span class="emphasis"><em>updating</em></span>
    measured values, and <span class="emphasis"><em>viewing</em></span> the output.
   </p></section><section class="sect2" id="sec-util-rrdtool-example" data-id-title="A practical example"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.11.2 </span><span class="title-name">A practical example</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-rrdtool-example">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Suppose we want to collect and view information about the memory usage
    in the Linux system as it changes in time. To make the example more
    vivid, we measure the currently free memory over a period of 40 seconds
    in 4-second intervals. Three applications that usually consume a lot of
    system memory are started and closed: the Firefox Web browser, the
    Evolution e-mail client, and the Eclipse development framework.
   </p><section class="sect3" id="sec-util-rrdtool-example-collect" data-id-title="Collecting data"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">2.11.2.1 </span><span class="title-name">Collecting data</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-rrdtool-example-collect">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     RRDtool is very often used to measure and visualize network traffic. In
     such case, the Simple Network Management Protocol (SNMP) is used. This
     protocol can query network devices for relevant values of their
     internal counters. Exactly these values are to be stored with RRDtool.
     For more information on SNMP, see
     <a class="link" href="http://www.net-snmp.org/" target="_blank">http://www.net-snmp.org/</a>.
    </p><p>
     Our situation is different—we need to obtain the data
     manually. A helper script <code class="command">free_mem.sh</code> repetitively
     reads the current state of free memory and writes it to the standard
     output.
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>cat free_mem.sh
INTERVAL=4
for steps in {1..10}
do
    DATE=`date +%s`
    FREEMEM=`free -b | grep "Mem" | awk '{ print $4 }'`
    sleep $INTERVAL
    echo "rrdtool update free_mem.rrd $DATE:$FREEMEM"
done</pre></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       The time interval is set to 4 seconds, and is implemented with the
       <code class="command">sleep</code> command.
      </p></li><li class="listitem"><p>
       RRDtool accepts time information in a special format - so called
       <span class="emphasis"><em>Unix time</em></span>. It is defined as the number of
       seconds since the midnight of January 1, 1970 (UTC). For example,
       1272907114 represents 2010-05-03 17:18:34.
      </p></li><li class="listitem"><p>
       The free memory information is reported in bytes with
       <code class="command">free</code> <code class="option">-b</code>. Prefer to supply basic
       units (bytes) instead of multiple units (like kilobytes).
      </p></li><li class="listitem"><p>
       The line with the <code class="command">echo ...</code> command contains the
       future name of the database file (<code class="literal">free_mem.rrd</code>),
       and together creates a command line for updating
       RRDtool values.
      </p></li></ul></div><p>
     After running <code class="command">free_mem.sh</code>, you see an output similar
     to this:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>sh free_mem.sh
rrdtool update free_mem.rrd 1272974835:1182994432
rrdtool update free_mem.rrd 1272974839:1162817536
rrdtool update free_mem.rrd 1272974843:1096269824
rrdtool update free_mem.rrd 1272974847:1034219520
rrdtool update free_mem.rrd 1272974851:909438976
rrdtool update free_mem.rrd 1272974855:832454656
rrdtool update free_mem.rrd 1272974859:829120512
rrdtool update free_mem.rrd 1272974863:1180377088
rrdtool update free_mem.rrd 1272974867:1179369472
rrdtool update free_mem.rrd 1272974871:1181806592</pre></div><p>
     It is convenient to redirect the command's output to a file with
    </p><p>
     <code class="command">sh free_mem.sh &gt; free_mem_updates.log</code>
    </p><p>
     to simplify its future execution.
    </p></section><section class="sect3" id="sec-util-rrdtool-example-create" data-id-title="Creating the database"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">2.11.2.2 </span><span class="title-name">Creating the database</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-rrdtool-example-create">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     Create the initial Robin Round database for our example with the
     following command:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>rrdtool create free_mem.rrd --start 1272974834 --step=4 \
DS:memory:GAUGE:600:U:U RRA:AVERAGE:0.5:1:24</pre></div><div class="itemizedlist"><div class="title-container"><div class="itemizedlist-title-wrap"><div class="itemizedlist-title"><span class="title-number-name"><span class="title-name">Points to notice </span></span><a title="Permalink" class="permalink" href="cha-util.html#id-1.8.4.2.17.7.4.4">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div><ul class="itemizedlist"><li class="listitem"><p>
       This command creates a file called <code class="filename">free_mem.rrd</code>
       for storing our measured values in a Round Robin type database.
      </p></li><li class="listitem"><p>
       The <code class="option">--start</code> option specifies the time (in Unix time)
       when the first value will be added to the database. In this example,
       it is one less than the first time value of the
       <code class="command">free_mem.sh</code> output (1272974835).
      </p></li><li class="listitem"><p>
       The <code class="option">--step</code> specifies the time interval in seconds
       with which the measured data will be supplied to the database.
      </p></li><li class="listitem"><p>
       The <code class="literal">DS:memory:GAUGE:600:U:U</code> part introduces a new
       data source for the database. It is called
       <span class="emphasis"><em>memory</em></span>, its type is <span class="emphasis"><em>gauge</em></span>,
       the maximum number between two updates is 600 seconds, and the
       <span class="emphasis"><em>minimal</em></span> and <span class="emphasis"><em>maximal</em></span> value
       in the measured range are unknown (U).
      </p></li><li class="listitem"><p>
       <code class="literal">RRA:AVERAGE:0.5:1:24</code> creates Round Robin archive
       (RRA) whose stored data are processed with the
       <span class="emphasis"><em>consolidation functions</em></span> (CF) that calculates the
       <span class="emphasis"><em>average</em></span> of data points. 3 arguments of the
       consolidation function are appended to the end of the line.
      </p></li></ul></div><p>
     If no error message is displayed, then
     <code class="filename">free_mem.rrd</code> database is created in the current
     directory:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>ls -l free_mem.rrd
-rw-r--r-- 1 tux users 776 May  5 12:50 free_mem.rrd</pre></div></section><section class="sect3" id="sec-util-rrdtool-example-update" data-id-title="Updating database values"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">2.11.2.3 </span><span class="title-name">Updating database values</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-rrdtool-example-update">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     After the database is created, you need to fill it with the measured
     data. In <a class="xref" href="cha-util.html#sec-util-rrdtool-example-collect" title="2.11.2.1. Collecting data">Section 2.11.2.1, “Collecting data”</a>, we already
     prepared the file <code class="filename">free_mem_updates.log</code> which
     consists of <code class="command">rrdtool update</code> commands. These commands
     do the update of database values for us.
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>sh free_mem_updates.log; ls -l free_mem.rrd
-rw-r--r--  1 tux users  776 May  5 13:29 free_mem.rrd</pre></div><p>
     As you can see, the size of <code class="filename">free_mem.rrd</code> remained
     the same even after updating its data.
    </p></section><section class="sect3" id="sec-util-rrdtool-example-view" data-id-title="Viewing measured values"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">2.11.2.4 </span><span class="title-name">Viewing measured values</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-rrdtool-example-view">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     We have already measured the values, created the database, and stored
     the measured value in it. Now we can play with the database, and
     retrieve or view its values.
    </p><p>
     To retrieve all the values from our database, enter the following on
     the command line:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>rrdtool fetch free_mem.rrd AVERAGE --start 1272974830 \
--end 1272974871
          memory
1272974832: nan
1272974836: 1.1729059840e+09
1272974840: 1.1461806080e+09
1272974844: 1.0807572480e+09
1272974848: 1.0030243840e+09
1272974852: 8.9019289600e+08
1272974856: 8.3162112000e+08
1272974860: 9.1693465600e+08
1272974864: 1.1801251840e+09
1272974868: 1.1799787520e+09
1272974872: nan</pre></div><div class="itemizedlist"><div class="title-container"><div class="itemizedlist-title-wrap"><div class="itemizedlist-title"><span class="title-number-name"><span class="title-name">Points to notice </span></span><a title="Permalink" class="permalink" href="cha-util.html#id-1.8.4.2.17.7.6.5">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div><ul class="itemizedlist"><li class="listitem"><p>
       <code class="literal">AVERAGE</code> will fetch average value points from the
       database, because only one data source is defined
       (<a class="xref" href="cha-util.html#sec-util-rrdtool-example-create" title="2.11.2.2. Creating the database">Section 2.11.2.2, “Creating the database”</a>) with
       <code class="literal">AVERAGE</code> processing and no other function is
       available.
      </p></li><li class="listitem"><p>
       The first line of the output prints the name of the data source as
       defined in <a class="xref" href="cha-util.html#sec-util-rrdtool-example-create" title="2.11.2.2. Creating the database">Section 2.11.2.2, “Creating the database”</a>.
      </p></li><li class="listitem"><p>
       The left results column represents individual points in time, while
       the right one represents corresponding measured average values in
       scientific notation.
      </p></li><li class="listitem"><p>
       The <code class="literal">nan</code> in the last line stands for <span class="quote">“<span class="quote">not a
       number</span>”</span>.
      </p></li></ul></div><p>
     Now a graph representing the values stored in the database is drawn:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>rrdtool graph free_mem.png \
--start 1272974830 \
--end 1272974871 \
--step=4 \
DEF:free_memory=free_mem.rrd:memory:AVERAGE \
LINE2:free_memory#FF0000 \
--vertical-label "GB" \
--title "Free System Memory in Time" \
--zoom 1.5 \
--x-grid SECOND:1:SECOND:4:SECOND:10:0:%X</pre></div><div class="itemizedlist"><div class="title-container"><div class="itemizedlist-title-wrap"><div class="itemizedlist-title"><span class="title-number-name"><span class="title-name">Points to notice </span></span><a title="Permalink" class="permalink" href="cha-util.html#id-1.8.4.2.17.7.6.8">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div><ul class="itemizedlist"><li class="listitem"><p>
       <code class="filename">free_mem.png</code> is the file name of the graph to be
       created.
      </p></li><li class="listitem"><p>
       <code class="option">--start</code> and <code class="option">--end</code> limit the time
       range within which the graph will be drawn.
      </p></li><li class="listitem"><p>
       <code class="option">--step</code> specifies the time resolution (in seconds) of
       the graph.
      </p></li><li class="listitem"><p>
       The <code class="literal">DEF:...</code> part is a data definition called
       <span class="emphasis"><em>free_memory</em></span>. Its data are read from the
       <code class="filename">free_mem.rrd</code> database and its data source called
       <span class="emphasis"><em>memory</em></span>. The <span class="emphasis"><em>average</em></span> value
       points are calculated, because no others were defined in
       <a class="xref" href="cha-util.html#sec-util-rrdtool-example-create" title="2.11.2.2. Creating the database">Section 2.11.2.2, “Creating the database”</a>.
      </p></li><li class="listitem"><p>
       The <code class="literal">LINE...</code> part specifies properties of the line
       to be drawn into the graph. It is 2 pixels wide, its data come from
       the <span class="emphasis"><em>free_memory</em></span> definition, and its color is
       red.
      </p></li><li class="listitem"><p>
       <code class="option">--vertical-label</code> sets the label to be printed along
       the <span class="emphasis"><em>y</em></span> axis, and <code class="option">--title</code> sets
       the main label for the whole graph.
      </p></li><li class="listitem"><p>
       <code class="option">--zoom</code> specifies the zoom factor for the graph. This
       value must be greater than zero.
      </p></li><li class="listitem"><p>
       <code class="option">--x-grid</code> specifies how to draw grid lines and their
       labels into the graph. Our example places them every second, while
       major grid lines are placed every 4 seconds. Labels are placed every
       10 seconds under the major grid lines.
      </p></li></ul></div><div class="figure" id="util-rrdtool-example-create-graph1"><div class="figure-contents"><div class="mediaobject"><a href="images/rrdtool_graph1.png"><img src="images/rrdtool_graph1.png" width="55%" alt="Example graph created with RRDtool" title="Example graph created with RRDtool"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 2.1: </span><span class="title-name">Example graph created with RRDtool </span></span><a title="Permalink" class="permalink" href="cha-util.html#util-rrdtool-example-create-graph1">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></section></section><section class="sect2" id="sec-util-rrdtool-moreinfo" data-id-title="More information"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.11.3 </span><span class="title-name">More information</span></span> <a title="Permalink" class="permalink" href="cha-util.html#sec-util-rrdtool-moreinfo">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/utilities.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    RRDtool is a very complex tool with a lot of sub-commands and command
    line options. Some are easy to understand, but to make it
    produce the results you want and fine-tune them according to your liking
    may require a lot of effort.
   </p><p>
    Apart from RRDtool's man page (<code class="command">man 1 rrdtool</code>) which
    gives you only basic information, you should have a look at the
    <a class="link" href="https://oss.oetiker.ch/rrdtool/" target="_blank">RRDtool home
    page</a>. There is a detailed
    <a class="link" href="https://oss.oetiker.ch/rrdtool/doc/index.en.html" target="_blank">documentation</a>
    of the <code class="command">rrdtool</code> command and all its sub-commands.
    There are also several
    <a class="link" href="https://oss.oetiker.ch/rrdtool/tut/index.en.html" target="_blank">tutorials</a>
    to help you understand the common RRDtool workflow.
   </p><p>
    If you are interested in monitoring network traffic, have a look at
    <a class="link" href="https://oss.oetiker.ch/mrtg/" target="_blank">MRTG (Multi Router
    Traffic Grapher)</a>. MRTG can graph the activity of many network
    devices. It can use RRDtool.
   </p></section></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="part-tuning-monitoring.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Part II </span>System monitoring</span></a> </div><div><a class="pagination-link next" href="cha-tuning-syslog.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 3 </span>System log files</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="cha-util.html#sec-util-multi"><span class="title-number">2.1 </span><span class="title-name">Multi-purpose tools</span></a></span></li><li><span class="sect1"><a href="cha-util.html#sec-util-system"><span class="title-number">2.2 </span><span class="title-name">System information</span></a></span></li><li><span class="sect1"><a href="cha-util.html#sec-util-processes"><span class="title-number">2.3 </span><span class="title-name">Processes</span></a></span></li><li><span class="sect1"><a href="cha-util.html#sec-util-memory"><span class="title-number">2.4 </span><span class="title-name">Memory</span></a></span></li><li><span class="sect1"><a href="cha-util.html#sec-util-networking"><span class="title-number">2.5 </span><span class="title-name">Networking</span></a></span></li><li><span class="sect1"><a href="cha-util.html#sec-util-proc"><span class="title-number">2.6 </span><span class="title-name">The <code class="filename">/proc</code> file system</span></a></span></li><li><span class="sect1"><a href="cha-util.html#sec-util-hardware"><span class="title-number">2.7 </span><span class="title-name">Hardware information</span></a></span></li><li><span class="sect1"><a href="cha-util.html#sec-util-file"><span class="title-number">2.8 </span><span class="title-name">Files and file systems</span></a></span></li><li><span class="sect1"><a href="cha-util.html#sec-util-user"><span class="title-number">2.9 </span><span class="title-name">User information</span></a></span></li><li><span class="sect1"><a href="cha-util.html#sec-util-time"><span class="title-number">2.10 </span><span class="title-name">Time and date</span></a></span></li><li><span class="sect1"><a href="cha-util.html#sec-util-rrdtool"><span class="title-number">2.11 </span><span class="title-name">Graph your data: RRDtool</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>