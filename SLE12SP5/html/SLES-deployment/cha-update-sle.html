<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLES 12 SP5 | Deployment Guide | Upgrading SUSE Linux Enterprise</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="Upgrading SUSE Linux Enterprise | SLES 12 SP5"/>
<meta name="description" content="SUSE® Linux Enterprise (SLE) allows upgrading an existing system to a later version or service pack. No new installation is needed. Existing data, su…"/>
<meta name="product-name" content="SUSE Linux Enterprise Server"/>
<meta name="product-number" content="12 SP5"/>
<meta name="book-title" content="Deployment Guide"/>
<meta name="chapter-title" content="Chapter 20. Upgrading SUSE Linux Enterprise"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="fs@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE Linux Enterprise Server 12 SP5"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Deployment Guide"/>
<meta property="og:description" content="Install single or multiple systems"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Deployment Guide"/>
<meta name="twitter:description" content="Install single or multiple systems"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "Upgrading SUSE Linux Enterprise",
  
    "description": "SUSE® Linux Enterprise (SLE) allows upgrading an existing system to a later version or service pack. No new installation is needed. Existing data, su…",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2019-12-09T00:00+02:00",
      
    "datePublished": "2019-12-09T00:00+02:00",
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="cha-update-background.html" title="Chapter 19. Lifecycle and Support"/><link rel="next" href="cha-update-offline.html" title="Chapter 21. Upgrading Offline"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Deployment Guide</a><span> / </span><a class="crumb" href="part-update.html">Updating and Upgrading SUSE Linux Enterprise</a><span> / </span><a class="crumb" href="cha-update-sle.html">Upgrading SUSE Linux Enterprise</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">Deployment Guide</div><ol><li><a href="preface-deployment.html" class=" "><span class="title-number"> </span><span class="title-name">About This Guide</span></a></li><li><a href="cha-planning.html" class=" "><span class="title-number">1 </span><span class="title-name">Planning for <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span></a></li><li><a href="part-prep.html" class="has-children "><span class="title-number">I </span><span class="title-name">Installation Preparation</span></a><ol><li><a href="cha-x86.html" class=" "><span class="title-number">2 </span><span class="title-name">Installation on AMD64 and Intel 64</span></a></li><li><a href="cha-power.html" class=" "><span class="title-number">3 </span><span class="title-name">Installation on IBM POWER</span></a></li><li><a href="cha-zseries.html" class=" "><span class="title-number">4 </span><span class="title-name">Installation on IBM IBM Z and LinuxONE</span></a></li><li><a href="cha-aarch64.html" class=" "><span class="title-number">5 </span><span class="title-name">Installation on Arm AArch64</span></a></li></ol></li><li><a href="part-mandeploy.html" class="has-children "><span class="title-number">II </span><span class="title-name">The Installation Workflow</span></a><ol><li><a href="cha-inst.html" class=" "><span class="title-number">6 </span><span class="title-name">Installation with YaST</span></a></li><li><a href="cha-deployment-clone-image.html" class=" "><span class="title-number">7 </span><span class="title-name">Cloning Disk Images</span></a></li></ol></li><li><a href="part-installserver.html" class="has-children "><span class="title-number">III </span><span class="title-name">Setting Up an Installation Server</span></a><ol><li><a href="cha-deployment-instserver.html" class=" "><span class="title-number">8 </span><span class="title-name">Setting Up the Server Holding the Installation Sources</span></a></li><li><a href="cha-deployment-prep-boot.html" class=" "><span class="title-number">9 </span><span class="title-name">Preparing the Boot of the Target System</span></a></li><li><a href="cha-deployment-firstboot.html" class=" "><span class="title-number">10 </span><span class="title-name">Deploying Customized Preinstallations</span></a></li></ol></li><li><a href="part-remoteinstall.html" class="has-children "><span class="title-number">IV </span><span class="title-name">Remote Installation</span></a><ol><li><a href="cha-deployment-remoteinst.html" class=" "><span class="title-number">11 </span><span class="title-name">Remote Installation</span></a></li></ol></li><li><a href="part-sysconfig.html" class="has-children "><span class="title-number">V </span><span class="title-name">Initial System Configuration</span></a><ol><li><a href="cha-y2-hw.html" class=" "><span class="title-number">12 </span><span class="title-name">Setting Up Hardware Components with YaST</span></a></li><li><a href="cha-advdisk.html" class=" "><span class="title-number">13 </span><span class="title-name">Advanced Disk Setup</span></a></li><li><a href="cha-y2-sw.html" class=" "><span class="title-number">14 </span><span class="title-name">Installing or Removing Software</span></a></li><li><a href="cha-add-ons.html" class=" "><span class="title-number">15 </span><span class="title-name">Installing Modules, Extensions, and Third Party Add-On Products</span></a></li><li><a href="cha-tuning-multikernel.html" class=" "><span class="title-number">16 </span><span class="title-name">Installing Multiple Kernel Versions</span></a></li><li><a href="cha-y2-userman.html" class=" "><span class="title-number">17 </span><span class="title-name">Managing Users with YaST</span></a></li><li><a href="cha-y2-lang.html" class=" "><span class="title-number">18 </span><span class="title-name">Changing Language and Country Settings with YaST</span></a></li></ol></li><li class="active"><a href="part-update.html" class="has-children you-are-here"><span class="title-number">VI </span><span class="title-name">Updating and Upgrading SUSE Linux Enterprise</span></a><ol><li><a href="cha-update-background.html" class=" "><span class="title-number">19 </span><span class="title-name">Lifecycle and Support</span></a></li><li><a href="cha-update-sle.html" class=" you-are-here"><span class="title-number">20 </span><span class="title-name">Upgrading SUSE Linux Enterprise</span></a></li><li><a href="cha-update-offline.html" class=" "><span class="title-number">21 </span><span class="title-name">Upgrading Offline</span></a></li><li><a href="cha-update-online.html" class=" "><span class="title-number">22 </span><span class="title-name">Upgrading Online</span></a></li><li><a href="cha-update-backporting.html" class=" "><span class="title-number">23 </span><span class="title-name">Backporting Source Code</span></a></li></ol></li><li><a href="bk02apa.html" class=" "><span class="title-number">A </span><span class="title-name">GNU licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="cha-update-sle" data-id-title="Upgrading SUSE Linux Enterprise"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber">12 SP5</span></span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">20 </span><span class="title-name">Upgrading SUSE Linux Enterprise</span></span> <a title="Permalink" class="permalink" href="cha-update-sle.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
    SUSE® Linux Enterprise (SLE) allows upgrading an existing system to a later version or
    service pack. No new installation is needed. Existing data, such as home and
    data directories and system configuration, is kept intact. You can update
    from a local CD or DVD drive or from a central network installation source.
   </p><p>
    This chapter explains how to manually upgrade your SUSE Linux Enterprise system, be it by
    DVD, network, an automated process, or SUSE Manager.
   </p></div></div></div></div><section class="sect1" id="sec-update-sle-paths" data-id-title="Supported Upgrade Paths to SLE 12 SP5"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">20.1 </span><span class="title-name">Supported Upgrade Paths to SLE 12 SP5</span></span> <a title="Permalink" class="permalink" href="cha-update-sle.html#sec-update-sle-paths">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><div class="figure" id="fig-update-sle-paths-overview"><div class="figure-contents"><div class="mediaobject"><a href="images/upgrade-paths.png"><img src="images/upgrade-paths.png" width="80%" alt="Overview of Supported Upgrade Paths" title="Overview of Supported Upgrade Paths"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 20.1: </span><span class="title-name">Overview of Supported Upgrade Paths </span></span><a title="Permalink" class="permalink" href="cha-update-sle.html#fig-update-sle-paths-overview">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div><div id="id-1.4.9.3.3.3" data-id-title="Cross-architecture Upgrades Are Not Supported" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Cross-architecture Upgrades Are Not Supported</div><p>
    Cross-architecture upgrades, such as upgrading from a 32-bit version of
    <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> to the 64-bit version, or upgrading from big endian to little
    endian are <span class="emphasis"><em>not</em></span> supported!
   </p><p>
    Specifically, SLE 11 on POWER (big endian) to SLE 12 SP2 on POWER
    (new: little endian!), is <span class="emphasis"><em>not</em></span> supported.
   </p><p>
    Also, since SUSE Linux Enterprise 12 is 64-bit only, upgrades from any 32-bit SUSE Linux Enterprise 11
    systems to SUSE Linux Enterprise 12 and later are <span class="emphasis"><em>not</em></span> supported.
   </p><p>
    To make a cross-architecture upgrade, you need to perform
    a new installation.
   </p></div><div id="id-1.4.9.3.3.4" data-id-title="Skipping Service Packs" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Skipping Service Packs</div><p>
    The safest upgrade path is to go step by step and to consecutively install all Service Packs.
    In some cases it is supported to skip 1 or 2 Service Packs when
    upgrading. For details, see <a class="xref" href="cha-update-sle.html#vl-update-paths-sle-supported" title="Supported Upgrade Paths per Version">Supported Upgrade Paths per Version</a> and <a class="xref" href="cha-update-sle.html#fig-update-sle-paths-overview" title="Overview of Supported Upgrade Paths">Figure 20.1, “Overview of Supported Upgrade Paths”</a>. However, we recommend to
    <span class="emphasis"><em>not</em></span> skip any Service Pack.
   </p></div><div id="id-1.4.9.3.3.5" data-id-title="Upgrading to Major Releases" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Upgrading to Major Releases</div><p>
    We recommend to do a fresh install when upgrading to a new major release.
   </p></div><div class="variablelist" id="vl-update-paths-sle-supported" data-id-title="Supported Upgrade Paths per Version"><div class="title-container"><div class="variablelist-title-wrap"><div class="variablelist-title"><span class="title-number-name"><span class="title-name">Supported Upgrade Paths per Version </span></span><a title="Permalink" class="permalink" href="cha-update-sle.html#vl-update-paths-sle-supported">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div><dl class="variablelist"><dt id="id-1.4.9.3.3.6.2"><span class="term">Upgrading from SUSE Linux Enterprise 10 (any Service Pack)</span></dt><dd><p>
      There is no supported direct migration path to SUSE Linux Enterprise 12. We recommend a
      fresh installation in this case.
     </p></dd><dt id="id-1.4.9.3.3.6.3"><span class="term">Upgrading from SUSE Linux Enterprise 11 GA/SP1/SP2/SP3</span></dt><dd><p>
      There is no supported direct migration path to SUSE Linux Enterprise 12. You need at
      least SLE 11 SP4 before you can proceed to SLE 12 SP5.
     </p><p>
      If you cannot do a fresh install, first upgrade your installed SLE
      11 Service Pack to SLE 11 SP4. These steps are described in the
      <em class="citetitle">Deployment Guide</em> for SUSE Linux Enterprise 11:
      <a class="link" href="https://documentation.suse.com/sles-11/" target="_blank">https://documentation.suse.com/sles-11/</a>
      .
     </p></dd><dt id="id-1.4.9.3.3.6.4"><span class="term">Upgrading from SUSE Linux Enterprise 11 SP4</span></dt><dd><p>
      Upgrading from SLE 11 SP4 to SLE 12 SP5 is only supported via an
      offline upgrade. Refer to <a class="xref" href="cha-update-offline.html" title="Chapter 21. Upgrading Offline">Chapter 21, <em>Upgrading Offline</em></a> for
      details.
     </p></dd><dt id="id-1.4.9.3.3.6.5"><span class="term">Upgrading from SUSE Linux Enterprise 12 GA/SP1/SP2/SP3 to SP5</span></dt><dd><p>
      Direct upgrades from SLE 12 GA, SP1, SP2, or SP3 to SP5 are not
      supported.  Upgrade to SLE 12 SP4 first.
     </p></dd><dt id="id-1.4.9.3.3.6.6"><span class="term">Upgrading from SUSE Linux Enterprise 12 SP4 to SP5</span></dt><dd><p>
      Upgrading from SUSE Linux Enterprise 12 SP4 to SP5 is supported.
     </p></dd><dt id="id-1.4.9.3.3.6.7"><span class="term">Upgrading from SUSE Linux Enterprise 12 LTSS GA/SP1/SP2 to SP5</span></dt><dd><p>
      Direct upgrades from SUSE Linux Enterprise 12 LTSS GA, SP1, or SP2 to SP5 are not
      supported.  Upgrade to SLE 12 LTSS SP3 or SP4 first.
     </p></dd><dt id="id-1.4.9.3.3.6.8"><span class="term">Upgrading from SUSE Linux Enterprise 12 LTSS SP3/SP4 to SP5</span></dt><dd><p>
      Upgrading from SUSE Linux Enterprise 12 LTSS SP3, or SP4 to SP5 is supported.
     </p></dd></dl></div></section><section class="sect1" id="sec-update-sle-methods" data-id-title="Online and Offline Upgrade"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">20.2 </span><span class="title-name">Online and Offline Upgrade</span></span> <a title="Permalink" class="permalink" href="cha-update-sle.html#sec-update-sle-methods">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   SUSE supports two different upgrade and migration methods. For more
   information about the terminology, see <a class="xref" href="cha-update-background.html#sec-update-sle-terminology" title="19.1. Terminology">Section 19.1, “Terminology”</a>.
   The methods are:
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.4.9.3.4.3.1"><span class="term">Online</span></dt><dd><p>
      All upgrades that are executed from the running system are considered
      to be online. Examples: Connected through SUSE Customer Center, Subscription Management Tool (SMT), SUSE Manager
      using Zypper or YaST.
     </p><p>
      When migrating between Service Packs of the same major release,
      we suggest following <a class="xref" href="cha-update-online.html#sec-update-migr-yast-onlinemigr" title="22.4. Upgrading with the Online Migration Tool (YaST)">Section 22.4, “Upgrading with the Online Migration Tool (YaST)”</a>
      or <a class="xref" href="cha-update-online.html#sec-update-migr-zypper-onlinemigr" title="22.5. Upgrading with Zypper">Section 22.5, “Upgrading with Zypper”</a>.
     </p></dd><dt id="id-1.4.9.3.4.3.2"><span class="term">Offline</span></dt><dd><p>
      Offline methods usually boot another operating system from which the
      installed SLE version is upgraded. Examples are: DVD, flash disk,
      ISO image, AutoYaST, <span class="quote">“<span class="quote">plain RPM</span>”</span> or PXE boot.
     </p></dd></dl></div><div id="id-1.4.9.3.4.4" data-id-title="SUSE Manager Clients" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: SUSE Manager Clients</div><p>
    If your machine is managed by SUSE Manager, the upgrade procedure
    should be started in the management interface. For details, see
    <a class="xref" href="cha-update-offline.html#sec-update-sle-manager" title="21.6. Updating via SUSE Manager">Section 21.6, “Updating via SUSE Manager”</a>.
   </p></div></section><section class="sect1" id="sec-update-prep" data-id-title="Preparing the System"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">20.3 </span><span class="title-name">Preparing the System</span></span> <a title="Permalink" class="permalink" href="cha-update-sle.html#sec-update-prep">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Before starting the upgrade procedure, make sure your system is properly
   prepared. Among others, preparation involves backing up data and checking
   the release notes.
  </p><section class="sect2" id="sec-update-prep-update" data-id-title="Make Sure the Current System Is Up-To-Date"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">20.3.1 </span><span class="title-name">Make Sure the Current System Is Up-To-Date</span></span> <a title="Permalink" class="permalink" href="cha-update-sle.html#sec-update-prep-update">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Upgrading the system is only supported from the most recent
    patch level. Make sure the latest system updates are installed by either
    running <code class="command">zypper patch</code> or by starting the YaST module
    <span class="guimenu">Online-Update</span>.
   </p></section><section class="sect2" id="sec-update-prep-relnotes" data-id-title="Read the Release Notes"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">20.3.2 </span><span class="title-name">Read the Release Notes</span></span> <a title="Permalink" class="permalink" href="cha-update-sle.html#sec-update-prep-relnotes">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    In the release notes you can find additional information on changes
    since the previous release of <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>. Check the release notes
    to see whether:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      your hardware needs special considerations;
     </p></li><li class="listitem"><p>
      any used software packages have changed significantly;
     </p></li><li class="listitem"><p>
      special precautions are necessary for your installation.
     </p></li></ul></div><p>
    The release notes also provide information that could not make it
    into the manual on time. They also contain notes about known issues.
   </p><p>
    If you are skipping one or more Service Packs, check the release
    notes of the skipped Service Packs as well. The release notes
    usually only contain the changes between two subsequent releases.
    You can miss important changes if you are only reading the
    current release notes.
   </p><p>
    Find the release notes locally in the directory
    <code class="filename">/usr/share/doc/release-notes</code> or online at
    <a class="link" href="https://www.suse.com/releasenotes/" target="_blank">https://www.suse.com/releasenotes/</a>.
   </p></section><section class="sect2" id="sec-update-prep-backup" data-id-title="Make a Backup"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">20.3.3 </span><span class="title-name">Make a Backup</span></span> <a title="Permalink" class="permalink" href="cha-update-sle.html#sec-update-prep-backup">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Before updating, copy existing configuration files to a separate medium
    (such as tape device, removable hard disk, etc.) to back up the data. This
    primarily applies to files stored in <code class="filename">/etc</code> and some
    directories and files in <code class="filename">/var</code> and
    <code class="filename">/opt</code>. You may also want to write the user data in
    <code class="filename">/home</code> (the <code class="envar">HOME</code> directories) to a
    backup medium. Back up this data as <code class="systemitem">root</code>. Only <code class="systemitem">root</code> has read
    permissions for all local files.
   </p><p>
    If you have selected <span class="guimenu">Update an Existing System</span> as the
    installation mode in YaST, you can choose to do a (system) backup at a
    later point in time. You can choose to include all modified files and files
    from the <code class="filename">/etc/sysconfig</code> directory. However, this is
    not a complete backup, as all the other important directories mentioned
    above are missing. Find the backup in the
    <code class="filename">/var/adm/backup</code> directory.
   </p><section class="sect3" id="sec-update-prep-backup-packagelist" data-id-title="Listing Installed Packages and Repositories"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">20.3.3.1 </span><span class="title-name">Listing Installed Packages and Repositories</span></span> <a title="Permalink" class="permalink" href="cha-update-sle.html#sec-update-prep-backup-packagelist">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     It is often useful to have a list of installed packages,
     for example when doing a fresh install of a new major SLE release or reverting
     to the old version.
    </p><p>
     Be aware that not all installed packages or used repositories are
     available in newer releases of SUSE Linux Enterprise. Some may have been renamed and
     others replaced. It is also possible that some packages are still
     available for legacy purposes while another package is used by
     default. Therefore some manual editing of the files might be
     necessary. This can be done with any text editor.
    </p><p>
     Create a file named <code class="filename">repositories.bak</code> containing a
     list of all used repositories:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">zypper</code> lr -e repositories.bak</pre></div><p>
     Also create a file named <code class="filename">installed-software.bak</code>
     containing a list of all installed packages:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">rpm</code> -qa --queryformat '%{NAME}\n' &gt; installed-software.bak</pre></div><p>
     Back up both files. The repositories and installed packages can be
     restored with the following commands:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">zypper</code> ar repositories.bak
<code class="prompt root">root # </code><code class="command">zypper</code> install $(cat installed-software.bak)</pre></div><div id="note-update-prep-backup-package-amount" data-id-title="Amount of Packages Increases with an Update to a New Major Release" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: 
      Amount of Packages Increases with an Update to a New Major Release
     </div><p>
      A system upgraded to a new major version
      (SLE <em class="replaceable">X+1</em>) may contain more packages than
      the initial system (SLE <em class="replaceable">X</em>). It will also
      contain more packages than a fresh installation of
      SLE <em class="replaceable">X+1</em> with the same pattern
      selection. Reasons for this are:
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
        Packages got split to allow a more fine-grained package selection. For
        example, 37 <span class="package">texlive</span> packages on SLE 11 were split
        into 422 packages on SLE 12.
       </p></li><li class="listitem"><p>
        When a package got split into other packages all new packages are
        installed in the upgrade case to retain the same functionality as with
        the previous version. However, the new default for a fresh installation
        of SLE <em class="replaceable">X+1</em> may be to not install all
        packages.
       </p></li><li class="listitem"><p>
        Legacy packages from SLE <em class="replaceable">X</em> may be kept
        for compatibility reasons.
       </p></li><li class="listitem"><p>
        Package dependencies and the scope of patterns may have changed.
       </p></li></ul></div></div></section></section><section class="sect2" id="sec-update-preparation-ltss" data-id-title="Disable the LTSS Extension"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">20.3.4 </span><span class="title-name">Disable the LTSS Extension</span></span> <a title="Permalink" class="permalink" href="cha-update-sle.html#sec-update-preparation-ltss">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    If you upgrade a <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> system with Long Term Service Pack Support
    (LTSS) to a version that is still under general support, the upgrade will
    fail with the error <code class="literal">No migration available</code>. This happens
    because <code class="command">zypper migration</code> tries to migrate
    <span class="emphasis"><em>all</em></span> repositories , but there is no LTSS repository for
    the new version yet.
   </p><p>
    To fix this issue, disable the LTSS extension before the upgrade.
   </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Check if the LTSS extension is enabled:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> SUSEConnect --list-extensions | grep LTSS
      SUSE Linux Enterprise Server LTSS 12 SP2 x86_64 (Installed)
      Deactivate with: SUSEConnect -d -p SLES-LTSS/12.2/x86_64</pre></div></li><li class="step"><p>
      Disable the LTSS extension with the command from the
      <code class="command">SUSEConnect</code> output above:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> SUSEConnect -d -p SLES-LTSS/12.2/x86_64
Deregistered SUSE Linux Enterprise Server LTSS 12 SP2 x86_64
To server: https://scc.suse.com/</pre></div></li><li class="step"><p>
      Verify the LTSS repository is no longer present with
      <code class="command">zypper lr</code>.
     </p></li></ol></div></div></section><section class="sect2" id="sec-update-prep-mariadb" data-id-title="Migrate your MySQL Database"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">20.3.5 </span><span class="title-name">Migrate your MySQL Database</span></span> <a title="Permalink" class="permalink" href="cha-update-sle.html#sec-update-prep-mariadb">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    As of SUSE Linux Enterprise 12, SUSE switched from MySQL to MariaDB. Before you start any
    upgrade, it is highly recommended to back up your database.
   </p><p>
    To perform the database migration, do the following:
   </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Log in to your SUSE Linux Enterprise 11 machine.
     </p></li><li class="step"><p>
      Create a dump file:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">mysqldump</code> -u root -p --all-databases &gt; mysql_backup.sql</pre></div><p>
      By default, <code class="command">mysqldump</code> does not dump the
      <code class="literal">INFORMATION_SCHEMA</code> or
      <code class="literal">performance_schema</code> database. For more details refer to
      <a class="link" href="https://dev.mysql.com/doc/refman/5.5/en/mysqldump.html" target="_blank">https://dev.mysql.com/doc/refman/5.5/en/mysqldump.html</a>.
     </p></li><li class="step"><p>
      Store your dump file, the configuration file
      <code class="filename">/etc/my.cnf</code>, and the directory
      <code class="filename">/etc/mysql/</code> for later investigation
      (<span class="emphasis"><em>NOT</em></span> installation!) in a safe place.
     </p></li><li class="step"><p>
      Perform your upgrade. After the upgrade, your former configuration file
      <code class="filename">/etc/my.cnf</code> is still intact. You can find the new
      configuration in the file <code class="filename">/etc/my.cnf.rpmnew</code>.
     </p></li><li class="step"><p>
      Configure your MariaDB database to your needs. Do
      <span class="emphasis"><em>NOT</em></span> use the former configuration file and directory,
      but use it as a reminder and adapt it.
     </p></li><li class="step"><p>
      Make sure you start the MariaDB server:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">systemctl</code> start mysql</pre></div><p>
      If you want to start the MariaDB server on every boot, enable the
      service:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">systemctl</code> enable mysql</pre></div></li><li class="step"><p>
      Verify that MariaDB is running properly by connecting to the database:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">mysql</code> -u root -p</pre></div></li></ol></div></div></section><section class="sect2" id="sec-update-prep-postgresql" data-id-title="Migrate your PostgreSQL Database"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">20.3.6 </span><span class="title-name">Migrate your PostgreSQL Database</span></span> <a title="Permalink" class="permalink" href="cha-update-sle.html#sec-update-prep-postgresql">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    A newer version of the PostgreSQL database is shipped as a maintenance update.
    Because of the required migration work of
    the database, there is no automatic upgrade process. As such, the switch
    from one version to another needs to be done manually.
   </p><p>
    The migration process is conducted by the <code class="command">pg_upgrade</code>
    command which is an alternative method of the classic dump and reload. In
    comparison with the <span class="quote">“<span class="quote">dump &amp; reload</span>”</span> method,
    <code class="command">pg_upgrade</code> makes the migration less time-consuming.
   </p><p>
    The program files for each PostgreSQL version are stored in different,
    version-dependent directories. For example, in <code class="filename">/usr/lib/postgresql96/</code>
    for version 9.6 and in <code class="filename">/usr/lib/postgresql10/</code> for version 10.
    Note that the versioning policy of PostgreSQL has changed between the major
    versions 9.6 and 10. For details, see <a class="link" href="https://www.postgresql.org/support/versioning/" target="_blank">https://www.postgresql.org/support/versioning/</a>.
   </p><div id="id-1.4.9.3.5.8.5" data-id-title="Upgrading from SLE 11" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Upgrading from SLE 11</div><p>
      When upgrading from SLE 11, <code class="systemitem">postgresql94</code> will
      be uninstalled and cannot be used for the database migration to a higher
      PostgreSQL version. Therefore in this case make sure to migrate the
      PostgreSQL database <span class="emphasis"><em>before</em></span> you upgrade your system.
    </p></div><p>
    The procedure below describes the database migration from version 9.6 to 10. When
    using a different version as start or target, replace the version numbers
    accordingly.
   </p><p>
    To perform the database migration, do the following:
   </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Make sure the following preconditions are fulfilled:
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
        If not already done, upgrade any package of the old PostgreSQL
        version to the latest release through a maintenance update.
       </p></li><li class="listitem"><p>
        Create a backup of your existing database.
       </p></li><li class="listitem"><p>
        Install the packages of the new PostgreSQL major version. For
        SLE12 SP5 this means to install
        <span class="package">postgresql10-server</span>
        and all the packages it depends on.
       </p></li><li class="listitem"><p>
        Install the package
        <span class="package">postgresql10-contrib</span>
        which contains the command <code class="command">pg_upgrade</code>.
       </p></li><li class="listitem"><p>
        Make sure you have enough free space in your PostgreSQL data area,
        which is <code class="filename">/var/lib/pgsql/data</code> by default. If space
        is tight, try to reduce size with the following SQL command on each
        database (can take very long!):
       </p><div class="verbatim-wrap"><pre class="screen">VACUUM FULL</pre></div></li></ul></div></li><li class="step"><p>
      Stop the PostgreSQL server with either:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">/usr/sbin/rcpostgresql</code> stop</pre></div><p>or</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code>systemctl stop postgresql.service</pre></div><p>(depending on the SLE version you use as the starting point for your upgrade).</p></li><li class="step"><p>
      Rename your old data directory:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">mv</code> /var/lib/pgsql/data /var/lib/pgsql/data.old</pre></div></li><li class="step"><p>
      Initialize your new database instance either manually with <code class="command">initdb</code>
      or by starting and stopping PostgreSQL, which will do it automatically:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">/usr/sbin/rcpostgresql</code> start
<code class="prompt root">root # </code><code class="command">/usr/sbin/rcpostgresql</code> stop</pre></div><p>or</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code>systemctl start postgresql.service
<code class="prompt root">root # </code>systemctl stop postgresql.service</pre></div><p>(depending on the SLE version you use as the start version for your upgrade).</p></li><li class="step"><p>
      If you have changed your configuration files in the old version, consider
      transferring these changes to the new configuration files. This may affect
      the files <code class="filename">postgresql.auto.conf</code>, <code class="filename">postgresql.conf</code>,
      <code class="filename">pg_hba.conf</code> and <code class="filename">pg_ident.conf</code>.
       The old versions of these files are located in
       <code class="filename">/var/lib/pgsql/data.old/</code>, the new versions can be
       found in <code class="filename">/var/lib/pgsql/data</code>.
     </p><p>
      Note that just copying the old configuration files is not recommended,
      because this may overwrite new options, new defaults and changed comments.
     </p></li><li class="step"><p>
      Start the migration process as user <code class="systemitem">postgres</code>:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code>su - postgres
postgres &gt; <code class="command">pg_upgrade</code> \
   --old-datadir "/var/lib/pgsql/data.old" \
   --new-datadir "/var/lib/pgsql/data" \
   --old-bindir "/usr/lib/postgresql96/bin/" \
   --new-bindir "/usr/lib/postgresql10/bin/"</pre></div></li><li class="step"><p>
      Start your new database instance with either:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">/usr/sbin/rcpostgresql</code> start</pre></div><p>or</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code>systemctl start postgresql.service</pre></div><p>(depending on the SLE version you use as the start version for your upgrade).</p></li><li class="step"><p>
      Check if the migration was successful. The scope of the test depends on
      your use case. There is no general tool to automate this step.
     </p></li><li class="step"><p>
      Remove any old PostgreSQL packages and your old data directory:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">zypper</code> search -s postgresql96 | xargs zypper rm -u
<code class="prompt root">root # </code><code class="command">rm</code> -rf /var/lib/pgsql/data.old</pre></div></li></ol></div></div><p>
    To connect to PostgreSQL via the <code class="systemitem">unixODBC</code> driver
    the <span class="package">psqlODBC</span> package needs to be installed.
   </p></section><section class="sect2" id="sec-update-prep-ssl" data-id-title="Create Non-MD5 Server Certificates for Java Applications"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">20.3.7 </span><span class="title-name">Create Non-MD5 Server Certificates for Java Applications</span></span> <a title="Permalink" class="permalink" href="cha-update-sle.html#sec-update-prep-ssl">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    During the update from SP1 to SP2, MD5-based certificates were disabled as
    part of a security fix. If you have certificates created as MD5, re-create
    your certificates with the following steps:
   </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Open a terminal and log in as <code class="systemitem">root</code>.
     </p></li><li class="step"><p>
      Create a private key:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">openssl</code> genrsa -out server.key 1024</pre></div><p>
      If you want a stronger key, replace <code class="literal">1024</code> with a
      higher number, for example, <code class="literal">4096</code>.
     </p></li><li class="step"><p>
      Create a certificate signing request (CSR):
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">openssl</code> req -new -key server.key -out server.csr</pre></div></li><li class="step"><p>
      Self-sign the certificate:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">openssl</code> x509 -req -days 365 -in server.csr -signkey server.key -out server.crt</pre></div></li><li class="step"><p>
      Create the PEM file:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">cat</code> server.key server.crt &gt; server.pem</pre></div></li><li class="step"><p>Place the files <code class="filename">server.crt</code>,
      <code class="filename">server.csr</code>, <code class="filename">server.key</code>, and
      <code class="filename">server.pem</code> in the respective directories where
      the keys can be found. For Tomcat, for example, this directory is
      <code class="filename">/etc/tomcat/ssl/</code>.
     </p></li></ol></div></div></section><section class="sect2" id="sec-update-prep-vms" data-id-title="Shut Down Virtual Machine Guests"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">20.3.8 </span><span class="title-name">Shut Down Virtual Machine Guests</span></span> <a title="Permalink" class="permalink" href="cha-update-sle.html#sec-update-prep-vms">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    If your machine serves as a VM Host Server for KVM or Xen, make sure to
    properly shut down all running VM Guests prior to the update. Otherwise
    you may not be able to access the guests after the update.
   </p></section><section class="sect2" id="sec-update-prep-smt" data-id-title="Adjust Your SMT Client Setup"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">20.3.9 </span><span class="title-name">Adjust Your SMT Client Setup</span></span> <a title="Permalink" class="permalink" href="cha-update-sle.html#sec-update-prep-smt">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    If the machine you want to upgrade is registered as a client against an
    SMT server, take care of the following:
   </p><p>
    Check if the version of the <code class="command">clientSetup4SMT.sh</code> script on
    your host is up to date. <code class="command">clientSetup4SMT.sh</code> from older
    versions of SMT cannot manage SMT 12 clients. If you apply software
    patches regularly on your SMT server, you can always find the latest version
    of <code class="command">clientSetup4SMT.sh</code> at
    <code class="filename">&lt;SMT_HOSTNAME&gt;/repo/tools/clientSetup4SMT.sh</code>.
   </p><p>
    In case upgrading your machine to a higher version of <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> fails,
    de-register the machine from the SMT server as described in
    <a class="xref" href="cha-update-sle.html#pro-sec-update-prep-smt-de-register" title="De-registering a SUSE Linux Enterprise Client from an SMT Server">Procedure 20.1</a>.
    Afterward, restart the upgrade process.</p><div class="procedure" id="pro-sec-update-prep-smt-de-register" data-id-title="De-registering a SUSE Linux Enterprise Client from an SMT Server"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 20.1: </span><span class="title-name">De-registering a SUSE Linux Enterprise Client from an SMT Server </span></span><a title="Permalink" class="permalink" href="cha-update-sle.html#pro-sec-update-prep-smt-de-register">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
       Log in to the client machine.
      </p></li><li class="step"><p>The following step depends on the current operating system of the client:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
        For SUSE Linux Enterprise 11, execute the following commands:
       </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> suse_register -E
<code class="prompt user">tux &gt; </code><code class="command">sudo</code> rm -f /etc/SUSEConnect
<code class="prompt user">tux &gt; </code><code class="command">sudo</code> rm -rf /etc/zypp/credentials.d/*
<code class="prompt user">tux &gt; </code><code class="command">sudo</code> rm -rf /etc/zypp/repos.d/*
<code class="prompt user">tux &gt; </code><code class="command">sudo</code> rm -f /etc/zypp/services.d/*
<code class="prompt user">tux &gt; </code><code class="command">sudo</code> rm -f /var/cache/SuseRegister/*
<code class="prompt user">tux &gt; </code><code class="command">sudo</code> rm -f /etc/suseRegister*
<code class="prompt user">tux &gt; </code><code class="command">sudo</code> rm -f /var/cache/SuseRegister/lastzmdconfig.cache
<code class="prompt user">tux &gt; </code><code class="command">sudo</code> rm -f /etc/zmd/deviceid
<code class="prompt user">tux &gt; </code><code class="command">sudo</code> rm -f /etc/zmd/secret</pre></div></li><li class="listitem"><p>
        For SUSE Linux Enterprise 12, execute the following commands:
       </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> SUSEConnect --de-register
<code class="prompt user">tux &gt; </code><code class="command">sudo</code> SUSEConnect --cleanup
<code class="prompt user">tux &gt; </code><code class="command">sudo</code> rm -f /etc/SUSEConnect
<code class="prompt user">tux &gt; </code><code class="command">sudo</code> rm -rf /etc/zypp/credentials.d/*
<code class="prompt user">tux &gt; </code><code class="command">sudo</code> rm -rf /etc/zypp/repos.d/*
<code class="prompt user">tux &gt; </code><code class="command">sudo</code> rm -f /etc/zypp/services.d/*</pre></div></li></ul></div></li><li class="step"><p>
      Log in to the SMT server.
     </p></li><li class="step"><p>
      Check if the client has successfully been de-registered by listing all
      client registrations:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> smt-list-registrations</pre></div></li><li class="step"><p>
      If the client's host name is still listed in the output of this command,
      get the client's <code class="literal">Unique ID</code> from the first column. (The
      client might be listed with multiple IDs.)
     </p></li><li class="step"><p>
      Delete the registration for this client:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> smt-delete-registration -g <em class="replaceable">UNIQUE_ID</em></pre></div></li><li class="step"><p>
      If the client is listed with multiple IDs, repeat the step above for each
      of its unique IDs.
     </p></li><li class="step"><p>
      Check if the client has now successfully been de-registered by re-running:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> smt-list-registrations</pre></div></li></ol></div></div></section><section class="sect2" id="sec-update-disk" data-id-title="Disk Space"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">20.3.10 </span><span class="title-name">Disk Space</span></span> <a title="Permalink" class="permalink" href="cha-update-sle.html#sec-update-disk">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Software tends to grow from version to version. Therefore,
    take a look at the available partition space before updating. If you suspect
    you are running short of disk space, back up your data before increasing the
    available space by resizing partitions, for example. There is no general
    rule regarding how much space each partition should have. Space requirements
    depend on your particular partitioning profile and the software selected.
   </p><div id="id-1.4.9.3.5.12.3" data-id-title="Automatic Check for Enough Space in YaST" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Automatic Check for Enough Space in YaST</div><p>
     During the update procedure, YaST will check how much free disk space is
     available and display a warning to the user if the installation may exceed
     the available amount. In that case, performing the update may lead to an
     <span class="emphasis"><em>unusable system</em></span>! Only if you know exactly what you are
     doing (by testing beforehand), you can skip the warning and continue the
     update.
    </p></div><section class="sect3" id="sec-update-disk-space" data-id-title="Checking Disk Space on Non-Btrfs File Systems"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">20.3.10.1 </span><span class="title-name">Checking Disk Space on Non-Btrfs File Systems</span></span> <a title="Permalink" class="permalink" href="cha-update-sle.html#sec-update-disk-space">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     Use the <code class="command">df</code> command to list available disk space. For
     example, in <a class="xref" href="cha-update-sle.html#aus-update-df" title="List with df -h">Example 20.1, “List with <code class="command">df -h</code>”</a>, the root partition is
     <code class="filename">/dev/sda3</code> (mounted as <code class="filename">/</code>).
    </p><div class="example" id="aus-update-df" data-id-title="List with df -h"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 20.1: </span><span class="title-name">List with <code class="command">df -h</code> </span></span><a title="Permalink" class="permalink" href="cha-update-sle.html#aus-update-df">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">Filesystem     Size  Used Avail Use% Mounted on
/dev/sda3       74G   22G   53G  29% /
tmpfs          506M     0  506M   0% /dev/shm
/dev/sda5      116G  5.8G  111G   5% /home
/dev/sda1       44G    4G   40G   9% /data</pre></div></div></div></section><section class="sect3" id="sec-update-disk-btrfs-on-root" data-id-title="Checking Disk Space on Btrfs Root File Systems"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">20.3.10.2 </span><span class="title-name">Checking Disk Space on Btrfs Root File Systems</span></span> <a title="Permalink" class="permalink" href="cha-update-sle.html#sec-update-disk-btrfs-on-root">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     If you use Btrfs as root file systems on your machine, make sure there is
     enough free space. In the worst case, an upgrade needs as much disk space as the current root
     file system (without <code class="filename">/.snapshot</code>) for a new snapshot.
     To display available disk space use the command:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">df</code> -h /</pre></div><p>
     Check the available space on all other mounted partitions as well. The
     following recommendations have been proven:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       For all file systems including Btrfs you need enough free disk space to
       download and install big RPMs. The space of old RPMs are only freed after
       new RPMs are installed.
      </p></li><li class="listitem"><p>
       For Btrfs with snapshots, you need at minimum as much free space as your
       current installation takes. We recommend to have twice as much free
       space as the current installation.
      </p><p>
       If you do not have enough free space, you can try to delete old snapshots
       with <code class="command">snapper</code>:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">snapper</code> list
<code class="prompt root">root # </code><code class="command">snapper</code> delete NUMBER</pre></div><p>
       However, this may not help in all cases. Before migration, most snapshots
       occupy only little space.
      </p></li></ul></div></section></section><section class="sect2" id="sec-update-prep-multiversion" data-id-title="Temporarily Disabling Kernel Multiversion Support"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">20.3.11 </span><span class="title-name">Temporarily Disabling Kernel Multiversion Support</span></span> <a title="Permalink" class="permalink" href="cha-update-sle.html#sec-update-prep-multiversion">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> allows installing multiple kernel versions by enabling the
    respective settings in <code class="filename">/etc/zypp/zypp.conf</code>. Support
    for this feature needs to be temporarily disabled to upgrade to a service
    pack. When the update has successfully finished, multiversion support can be
    re-enabled. To disable multiversion support, comment the respective
    lines in <code class="filename">/etc/zypp/zypp.conf</code>. The result should look
    similar to:
   </p><div class="verbatim-wrap"><pre class="screen">#multiversion = provides:multiversion(kernel)
#multiversion.kernels = latest,running</pre></div><p>
    To re-activate this feature after a successful update, remove the comment
    signs. For more information about multiversion support, refer to
    <a class="xref" href="cha-tuning-multikernel.html#cha-tuning-multikernel-enable" title="16.1. Enabling and Configuring Multiversion Support">Section 16.1, “Enabling and Configuring Multiversion Support”</a>.
   </p></section></section><section class="sect1" id="sec-update-sle-sle12zseries" data-id-title="Upgrading on IBM IBM Z"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">20.4 </span><span class="title-name">Upgrading on IBM IBM Z</span></span> <a title="Permalink" class="permalink" href="cha-update-sle.html#sec-update-sle-sle12zseries">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>Upgrading a SUSE Linux Enterprise installation on IBM IBM Z requires the
   <code class="command">Upgrade=1</code> kernel parameter, for example via the
   parmfile. See <a class="xref" href="cha-zseries.html#sec-appdendix-parm" title="4.3. The parmfile—Automating the System Configuration">Section 4.3, “The parmfile—Automating the System Configuration”</a>.
  </p></section><section class="sect1" id="sec-update-prep-ppc-x" data-id-title="IBM POWER: Starting an X Server"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">20.5 </span><span class="title-name">IBM POWER: Starting an X Server</span></span> <a title="Permalink" class="permalink" href="cha-update-sle.html#sec-update-prep-ppc-x">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/sle_update_upgrading.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   On SLES 12 for IBM POWER the display manager is configured not to start a
   local X Server by default. This setting was reversed on SLES 12
   SP1—the display manager now starts an X Server.
  </p><p>
   To avoid problems during upgrade, the <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> setting is not changed
   automatically. If you want the display manager to start an X Server after
   the upgrade, change the setting of
   <code class="envar">DISPLAYMANAGER_STARTS_XSERVER</code> in
   <code class="filename">/etc/sysconfig/displaymanager</code> as follows:
  </p><div class="verbatim-wrap"><pre class="screen">DISPLAYMANAGER_STARTS_XSERVER="yes"</pre></div></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="cha-update-background.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 19 </span>Lifecycle and Support</span></a> </div><div><a class="pagination-link next" href="cha-update-offline.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 21 </span>Upgrading Offline</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="cha-update-sle.html#sec-update-sle-paths"><span class="title-number">20.1 </span><span class="title-name">Supported Upgrade Paths to SLE 12 SP5</span></a></span></li><li><span class="sect1"><a href="cha-update-sle.html#sec-update-sle-methods"><span class="title-number">20.2 </span><span class="title-name">Online and Offline Upgrade</span></a></span></li><li><span class="sect1"><a href="cha-update-sle.html#sec-update-prep"><span class="title-number">20.3 </span><span class="title-name">Preparing the System</span></a></span></li><li><span class="sect1"><a href="cha-update-sle.html#sec-update-sle-sle12zseries"><span class="title-number">20.4 </span><span class="title-name">Upgrading on IBM IBM Z</span></a></span></li><li><span class="sect1"><a href="cha-update-sle.html#sec-update-prep-ppc-x"><span class="title-number">20.5 </span><span class="title-name">IBM POWER: Starting an X Server</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>