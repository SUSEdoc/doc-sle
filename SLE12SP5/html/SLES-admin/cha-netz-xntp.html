<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLES 12 SP5 | Administration Guide | Time Synchronization with NTP</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="Time Synchronization with NTP | SLES 12 SP5"/>
<meta name="description" content="The NTP (network time protocol) mechanism is a protocol for synchronizing the system time over the network. First, a machine can obtain the time from…"/>
<meta name="product-name" content="SUSE Linux Enterprise Server"/>
<meta name="product-number" content="12 SP5"/>
<meta name="book-title" content="Administration Guide"/>
<meta name="chapter-title" content="Chapter 26. Time Synchronization with NTP"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="fs@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE Linux Enterprise Server 12 SP5"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Administration Guide"/>
<meta property="og:description" content="Maintain, monitor and customize SLES"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Administration Guide"/>
<meta name="twitter:description" content="Maintain, monitor and customize SLES"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "Time Synchronization with NTP",
  
    "description": "The NTP (network time protocol) mechanism is a protocol for synchronizing the system time over the network. First, a machine can obtain the time from…",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2019-12-09T00:00+02:00",
      
    "datePublished": "2019-12-09T00:00+02:00",
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="part-services.html" title="Part IV. Services"/><link rel="next" href="cha-dns.html" title="Chapter 27. The Domain Name System"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/net_xntp.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Administration Guide</a><span> / </span><a class="crumb" href="part-services.html">Services</a><span> / </span><a class="crumb" href="cha-netz-xntp.html">Time Synchronization with NTP</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">Administration Guide</div><ol><li><a href="pre-sle.html" class=" "><span class="title-number"> </span><span class="title-name">About This Guide</span></a></li><li><a href="part-administration.html" class="has-children "><span class="title-number">I </span><span class="title-name">Common Tasks</span></a><ol><li><a href="cha-adm-shell.html" class=" "><span class="title-number">1 </span><span class="title-name">Bash and Bash Scripts</span></a></li><li><a href="cha-adm-sudo.html" class=" "><span class="title-number">2 </span><span class="title-name">sudo
</span></a></li><li><a href="cha-onlineupdate-you.html" class=" "><span class="title-number">3 </span><span class="title-name">YaST Online Update</span></a></li><li><a href="cha-yast-gui.html" class=" "><span class="title-number">4 </span><span class="title-name">YaST</span></a></li><li><a href="cha-yast-text.html" class=" "><span class="title-number">5 </span><span class="title-name">YaST in Text Mode</span></a></li><li><a href="cha-sw-cl.html" class=" "><span class="title-number">6 </span><span class="title-name">Managing Software with Command Line Tools</span></a></li><li><a href="cha-snapper.html" class=" "><span class="title-number">7 </span><span class="title-name">System Recovery and Snapshot Management with Snapper</span></a></li><li><a href="cha-vnc.html" class=" "><span class="title-number">8 </span><span class="title-name">Remote Access with VNC</span></a></li><li><a href="cha-net-sync.html" class=" "><span class="title-number">9 </span><span class="title-name">File Copying with RSync</span></a></li><li><a href="cha-gnome-gconf.html" class=" "><span class="title-number">10 </span><span class="title-name">GNOME Configuration for Administrators</span></a></li></ol></li><li><a href="part-boot.html" class="has-children "><span class="title-number">II </span><span class="title-name">Booting a Linux System</span></a><ol><li><a href="cha-boot.html" class=" "><span class="title-number">11 </span><span class="title-name">Introduction to the boot process</span></a></li><li><a href="cha-uefi.html" class=" "><span class="title-number">12 </span><span class="title-name">UEFI (Unified Extensible Firmware Interface)</span></a></li><li><a href="cha-grub2.html" class=" "><span class="title-number">13 </span><span class="title-name">The Boot Loader GRUB 2</span></a></li><li><a href="cha-systemd.html" class=" "><span class="title-number">14 </span><span class="title-name">The <code class="systemitem">systemd</code> daemon</span></a></li></ol></li><li><a href="part-system.html" class="has-children "><span class="title-number">III </span><span class="title-name">System</span></a><ol><li><a href="cha-64bit.html" class=" "><span class="title-number">15 </span><span class="title-name">32-Bit and 64-Bit Applications in a 64-Bit System Environment</span></a></li><li><a href="cha-journalctl.html" class=" "><span class="title-number">16 </span><span class="title-name"><code class="command">journalctl</code>: Query the <code class="systemitem">systemd</code> Journal</span></a></li><li><a href="cha-basicnet.html" class=" "><span class="title-number">17 </span><span class="title-name">Basic Networking</span></a></li><li><a href="cha-p.html" class=" "><span class="title-number">18 </span><span class="title-name">Printer Operation</span></a></li><li><a href="cha-x11.html" class=" "><span class="title-number">19 </span><span class="title-name">The X Window System</span></a></li><li><a href="cha-fuse.html" class=" "><span class="title-number">20 </span><span class="title-name">Accessing File Systems with FUSE</span></a></li><li><a href="cha-mod.html" class=" "><span class="title-number">21 </span><span class="title-name">Managing Kernel Modules</span></a></li><li><a href="cha-udev.html" class=" "><span class="title-number">22 </span><span class="title-name">Dynamic Kernel Device Management with <code class="systemitem">udev</code></span></a></li><li><a href="cha-kgraft.html" class=" "><span class="title-number">23 </span><span class="title-name">Live Patching the Linux Kernel Using kGraft</span></a></li><li><a href="cha-suse.html" class=" "><span class="title-number">24 </span><span class="title-name">Special System Features</span></a></li><li><a href="cha-nvdimm.html" class=" "><span class="title-number">25 </span><span class="title-name">Persistent Memory</span></a></li></ol></li><li class="active"><a href="part-services.html" class="has-children you-are-here"><span class="title-number">IV </span><span class="title-name">Services</span></a><ol><li><a href="cha-netz-xntp.html" class=" you-are-here"><span class="title-number">26 </span><span class="title-name">Time Synchronization with NTP</span></a></li><li><a href="cha-dns.html" class=" "><span class="title-number">27 </span><span class="title-name">The Domain Name System</span></a></li><li><a href="cha-dhcp.html" class=" "><span class="title-number">28 </span><span class="title-name">DHCP</span></a></li><li><a href="cha-nfs.html" class=" "><span class="title-number">29 </span><span class="title-name">Sharing File Systems with NFS</span></a></li><li><a href="cha-samba.html" class=" "><span class="title-number">30 </span><span class="title-name">Samba</span></a></li><li><a href="cha-autofs.html" class=" "><span class="title-number">31 </span><span class="title-name">On-Demand Mounting with Autofs</span></a></li><li><a href="cha-slp.html" class=" "><span class="title-number">32 </span><span class="title-name">SLP</span></a></li><li><a href="cha-apache2.html" class=" "><span class="title-number">33 </span><span class="title-name">The Apache HTTP Server</span></a></li><li><a href="cha-ftp.html" class=" "><span class="title-number">34 </span><span class="title-name">Setting Up an FTP Server with YaST</span></a></li><li><a href="cha-squid.html" class=" "><span class="title-number">35 </span><span class="title-name">The Proxy Server Squid</span></a></li><li><a href="cha-wbem.html" class=" "><span class="title-number">36 </span><span class="title-name">Web Based Enterprise Management Using SFCB</span></a></li></ol></li><li><a href="part-mobile.html" class="has-children "><span class="title-number">V </span><span class="title-name">Mobile Computers</span></a><ol><li><a href="cha-mobile.html" class=" "><span class="title-number">37 </span><span class="title-name">Mobile Computing with Linux</span></a></li><li><a href="cha-nm.html" class=" "><span class="title-number">38 </span><span class="title-name">Using NetworkManager</span></a></li><li><a href="cha-pmanage.html" class=" "><span class="title-number">39 </span><span class="title-name">Power Management</span></a></li></ol></li><li><a href="part-trouble.html" class="has-children "><span class="title-number">VI </span><span class="title-name">Troubleshooting</span></a><ol><li><a href="cha-adminhelp.html" class=" "><span class="title-number">40 </span><span class="title-name">Help and Documentation</span></a></li><li><a href="cha-adm-support.html" class=" "><span class="title-number">41 </span><span class="title-name">Gathering System Information for Support</span></a></li><li><a href="cha-trouble.html" class=" "><span class="title-number">42 </span><span class="title-name">Common problems and their solutions</span></a></li></ol></li><li><a href="app-nwscheme.html" class=" "><span class="title-number">A </span><span class="title-name">An Example Network</span></a></li><li><a href="bk01apb.html" class=" "><span class="title-number">B </span><span class="title-name">GNU licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="cha-netz-xntp" data-id-title="Time Synchronization with NTP"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber">12 SP5</span></span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">26 </span><span class="title-name">Time Synchronization with NTP</span></span> <a title="Permalink" class="permalink" href="cha-netz-xntp.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/net_xntp.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
    The NTP (network time protocol) mechanism is a protocol for synchronizing
    the system time over the network. First, a machine can obtain the time from
    a server that is a reliable time source. Second, a machine can itself act
    as a time source for other computers in the network. The goal is
    twofold—maintaining the absolute time and synchronizing the system
    time of all machines within a network.
   </p></div></div></div></div><p>
  Maintaining an exact system time is important in many situations. The
  built-in hardware clock does often not meet the requirements of applications
  such as databases or clusters. Manual correction of the system time would
  lead to severe problems because, for example, a backward leap can cause
  malfunction of critical applications. Within a network, it is usually
  necessary to synchronize the system time of all machines, but manual time
  adjustment is a bad approach. NTP provides a mechanism to solve these
  problems. The NTP service continuously adjusts the system time with reliable
  time servers in the network. It further enables the management of local
  reference clocks, such as radio-controlled clocks.
 </p><section class="sect1" id="sec-netz-xntp-yast" data-id-title="Configuring an NTP Client with YaST"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">26.1 </span><span class="title-name">Configuring an NTP Client with YaST</span></span> <a title="Permalink" class="permalink" href="cha-netz-xntp.html#sec-netz-xntp-yast">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/net_xntp.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The NTP daemon (<code class="systemitem">ntpd</code>) coming with
   the <code class="systemitem">ntp</code> package is preset to use the local computer
   clock as a time reference. Using the hardware clock, however, only serves as
   a fallback for cases where no time source of better precision is available.
   YaST simplifies the configuration of an NTP client.
  </p><section class="sect2" id="sec-net-ntp-yast-basic" data-id-title="Basic Configuration"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">26.1.1 </span><span class="title-name">Basic Configuration</span></span> <a title="Permalink" class="permalink" href="cha-netz-xntp.html#sec-net-ntp-yast-basic">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/net_xntp.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The YaST NTP client configuration (<span class="guimenu">Network
    Services</span> › <span class="guimenu">NTP Configuration</span>)
    consists of tabs. Set the start mode of
    <code class="systemitem">ntpd</code> and the server to query on the
    <span class="guimenu">General Settings</span> tab.
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.6.2.4.3.3.1"><span class="term"><span class="guimenu">Only Manually</span>
     </span></dt><dd><p>
       Select <span class="guimenu">Only Manually</span>, if you want to manually start
       the <code class="systemitem">ntpd</code> daemon.
      </p></dd><dt id="id-1.3.6.2.4.3.3.2"><span class="term"><span class="guimenu">Synchronize without Daemon</span>
     </span></dt><dd><p>
       Select <span class="guimenu">Synchronize without Daemon</span> to set the system
       time periodically without a permanently running
       <code class="systemitem">ntpd</code>. You can set the
       <span class="guimenu">Interval of the Synchronization in Minutes</span>.
      </p></dd><dt id="id-1.3.6.2.4.3.3.3"><span class="term"><span class="guimenu">Now and On Boot</span>
     </span></dt><dd><p>
       Select <span class="guimenu">Now and On Boot</span> to start
       <code class="systemitem">ntpd</code> automatically when the
       system is booted. This setting is recommended.
      </p></dd></dl></div></section><section class="sect2" id="sec-net-ntp-yast-new-sync" data-id-title="Changing Basic Configuration"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">26.1.2 </span><span class="title-name">Changing Basic Configuration</span></span> <a title="Permalink" class="permalink" href="cha-netz-xntp.html#sec-net-ntp-yast-new-sync">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/net_xntp.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The servers and other time sources for the client to query are listed in
    the lower part of the <span class="guimenu">General Settings</span> tab. Modify this
    list as needed with <span class="guimenu">Add</span>, <span class="guimenu">Edit</span>, and
    <span class="guimenu">Delete</span>. <span class="guimenu">Display Log</span> provides the
    possibility to view the log files of your client.
   </p><p>
    Click <span class="guimenu">Add</span> to add a new source of time information. In
    the following dialog, select the type of source with which the time
    synchronization should be made. The following options are available:
   </p><div class="figure" id="fig-yast-ntp-selserv"><div class="figure-contents"><div class="mediaobject"><a href="images/yast_ntp_selserv.png"><img src="images/yast_ntp_selserv.png" width="75%" alt="YaST: NTP Server" title="YaST: NTP Server"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 26.1: </span><span class="title-name">YaST: NTP Server </span></span><a title="Permalink" class="permalink" href="cha-netz-xntp.html#fig-yast-ntp-selserv">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/net_xntp.xml" title="Edit source document"> </a></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.6.2.4.4.5.1"><span class="term">Server</span></dt><dd><p>
       In the drop-down <span class="guimenu">Select</span> list (see
       <a class="xref" href="cha-netz-xntp.html#fig-yast-ntp-selserv" title="YaST: NTP Server">Figure 26.1, “YaST: NTP Server”</a>), determine whether to set up
       time synchronization using a time server from your local network
       (<span class="guimenu">Local NTP Server</span>) or an Internet-based time server
       that takes care of your time zone (<span class="guimenu">Public NTP
       Server</span>). For a local time server, click
       <span class="guimenu">Lookup</span> to start an SLP query for available time
       servers in your network. Select the most suitable time server from the
       list of search results and exit the dialog with <span class="guimenu">OK</span>.
       For a public time server, select your country (time zone) and a suitable
       server from the list under <span class="guimenu">Public NTP Server</span> then
       exit the dialog with <span class="guimenu">OK</span>. In the main dialog, test the
       availability of the selected server with <span class="guimenu">Test</span>.
       <span class="guimenu">Options</span> allows you to specify additional options for
       <code class="systemitem">ntpd</code>.
      </p><p>
       Using <span class="guimenu">Access Control Options</span>, you can restrict the
       actions that the remote computer can perform with the daemon running on
       your computer. This field is enabled only after checking
       <span class="guimenu">Restrict NTP Service to Configured Servers Only</span> on
       the <span class="guimenu">Security Settings</span> tab (see
       <a class="xref" href="cha-netz-xntp.html#fig-yast-ntp-adv-sec" title="Advanced NTP Configuration: Security Settings">Figure 26.2, “Advanced NTP Configuration: Security Settings”</a>). The options correspond to the
       <code class="literal">restrict</code> clauses in
       <code class="filename">/etc/ntp.conf</code>. For example, <code class="literal">nomodify
       notrap noquery</code> disallows the server to modify NTP settings of
       your computer and to use the trap facility (a remote event logging
       feature) of your NTP daemon. Using these restrictions is recommended for
       servers out of your control (for example, on the Internet).
      </p><p>
       Refer to <code class="filename">/usr/share/doc/packages/ntp-doc</code> (part of
       the <code class="systemitem">ntp-doc</code> package) for detailed information.
      </p></dd><dt id="id-1.3.6.2.4.4.5.2"><span class="term">Peer</span></dt><dd><p>
       A peer is a machine to which a symmetric relationship is established: it
       acts both as a time server and as a client. To use a peer in the same
       network instead of a server, enter the address of the system. The rest
       of the dialog is identical to the <span class="guimenu">Server</span> dialog.
      </p></dd><dt id="id-1.3.6.2.4.4.5.3"><span class="term">Radio Clock</span></dt><dd><p>
       To use a radio clock in your system for the time synchronization, enter
       the clock type, unit number, device name, and other options in this
       dialog. Click <span class="guimenu">Driver Calibration</span> to fine-tune the
       driver. Detailed information about the operation of a local radio clock
       is available in
       <code class="filename">/usr/share/doc/packages/ntp-doc/refclock.html</code>.
      </p></dd><dt id="id-1.3.6.2.4.4.5.4"><span class="term">Outgoing Broadcast</span></dt><dd><p>
       Time information and queries can also be transmitted by broadcast in the
       network. In this dialog, enter the address to which such broadcasts
       should be sent. Do not activate broadcasting unless you have a reliable
       time source like a radio controlled clock.
      </p></dd><dt id="id-1.3.6.2.4.4.5.5"><span class="term">Incoming Broadcast</span></dt><dd><p>
       If you want your client to receive its information via broadcast, enter
       the address from which the respective packets should be accepted in this
       fields.

      </p></dd></dl></div><div class="figure" id="fig-yast-ntp-adv-sec"><div class="figure-contents"><div class="mediaobject"><a href="images/yast2_xntp_adv_sec.png"><img src="images/yast2_xntp_adv_sec.png" width="75%" alt="Advanced NTP Configuration: Security Settings" title="Advanced NTP Configuration: Security Settings"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 26.2: </span><span class="title-name">Advanced NTP Configuration: Security Settings </span></span><a title="Permalink" class="permalink" href="cha-netz-xntp.html#fig-yast-ntp-adv-sec">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/net_xntp.xml" title="Edit source document"> </a></div></div></div><p>
    In the <span class="guimenu">Security Settings</span> tab (see
    <a class="xref" href="cha-netz-xntp.html#fig-yast-ntp-adv-sec" title="Advanced NTP Configuration: Security Settings">Figure 26.2, “Advanced NTP Configuration: Security Settings”</a>), determine whether
    <code class="systemitem">ntpd</code> should be started in a
    chroot jail. By default, <span class="guimenu">Run NTP Daemon in Chroot Jail</span>
    is not activated. The chroot jail option increases the security in the
    event of an attack over <code class="systemitem">ntpd</code>,
    as it prevents the attacker from compromising the entire system.
   </p><p>
    <span class="guimenu">Restrict NTP Service to Configured Servers Only</span>
    increases the security of your system by disallowing remote computers to
    view and modify NTP settings of your computer and to use the trap facility
    for remote event logging. After being enabled, these restrictions apply to
    all remote computers, unless you override the access control options for
    individual computers in the list of time sources in the <span class="guimenu">General
    Settings</span> tab. For all other remote computers, only querying for
    local time is allowed.
   </p><p>
    Enable <span class="guimenu">Open Port in Firewall</span> if SuSEfirewall2 is active
    (which it is by default). If you leave the port closed, it is not possible
    to establish a connection to the time server.
   </p></section></section><section class="sect1" id="sec-netz-xntp-netconf" data-id-title="Manually Configuring NTP in the Network"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">26.2 </span><span class="title-name">Manually Configuring NTP in the Network</span></span> <a title="Permalink" class="permalink" href="cha-netz-xntp.html#sec-netz-xntp-netconf">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/net_xntp.xml" title="Edit source document"> </a></div></div></div></div></div><p>

   The easiest way to use a time server in the network is to set server
   parameters. For example, if a time server called
   <code class="systemitem">ntp.example.com</code> is reachable from the network, add its
   name to the file <code class="filename">/etc/ntp.conf</code> by adding the following
   line:
  </p><div class="verbatim-wrap"><pre class="screen">server ntp.example.com</pre></div><p>
   To add more time servers, insert additional lines with the keyword
   <code class="literal">server</code>. After initializing
   <code class="systemitem">ntpd</code> with the command
   <code class="command">systemctl start ntp</code>, it takes about one hour until the
   time is stabilized and the drift file for correcting the local computer
   clock is created. With the drift file, the systematic error of the hardware
   clock can be computed when the computer is powered on. The correction is
   used immediately, resulting in a higher stability of the system time.
  </p><p>
   There are two possible ways to use the NTP mechanism as a client: First, the
   client can query the time from a known server in regular intervals. With
   many clients, this approach can cause a high load on the server. Second, the
   client can wait for NTP broadcasts sent out by broadcast time servers in the
   network. This approach has the disadvantage that the quality of the server
   is unknown and a server sending out wrong information can cause severe
   problems.
  </p><p>
   If the time is obtained via broadcast, you do not need the server name. In
   this case, enter the line <code class="literal">broadcastclient</code> in the
   configuration file <code class="filename">/etc/ntp.conf</code>. To use one or more
   known time servers exclusively, enter their names in the line starting with
   <code class="literal">servers</code>.
  </p></section><section class="sect1" id="sec-netz-xntp-normal" data-id-title="Setting Up a Local Reference Clock"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">26.3 </span><span class="title-name">Setting Up a Local Reference Clock</span></span> <a title="Permalink" class="permalink" href="cha-netz-xntp.html#sec-netz-xntp-normal">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/net_xntp.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The software package <code class="systemitem">ntpd</code> contains
   drivers for connecting local reference clocks. A list of supported clocks is
   available in the <code class="systemitem">ntp-doc</code> package
   in the file
   <code class="filename">/usr/share/doc/packages/ntp-doc/refclock.html</code>. Every
   driver is associated with a number. In NTP, the actual configuration takes
   place by means of pseudo IP addresses. The clocks are entered in the file
   <code class="filename">/etc/ntp.conf</code> as though they existed in the network.
   For this purpose, they are assigned special IP addresses in the form
   <code class="literal">127.127.<em class="replaceable">T</em>.<em class="replaceable">U</em></code>.
   Here, <em class="replaceable">T</em> stands for the type of the clock and
   determines which driver is used and <em class="replaceable">U</em> for the
   unit, which determines the interface used.

  </p><p>
   Normally, the individual drivers have special parameters that describe
   configuration details. The file
   <code class="filename">/usr/share/doc/packages/ntp-doc/drivers/driver<em class="replaceable">NN</em>.html</code>
   (where <em class="replaceable">NN</em> is the number of the driver) provides
   information about the particular type of clock. For example, the
   <span class="quote">“<span class="quote">type 8</span>”</span> clock (radio clock over serial interface)
   requires an additional mode that specifies the clock more precisely. The
   Conrad DCF77 receiver module, for example, has mode 5. To use this
   clock as a preferred reference, specify the keyword
   <code class="literal">prefer</code>. The complete <code class="literal">server</code> line for a
   Conrad DCF77 receiver module would be:
  </p><div class="verbatim-wrap"><pre class="screen">server 127.127.8.0 mode 5 prefer</pre></div><p>
   Other clocks follow the same pattern. Following the installation of the
   <code class="systemitem">ntp-doc</code> package, the documentation
   for NTP is available in the directory
   <code class="filename">/usr/share/doc/packages/ntp-doc</code>. The file
   <code class="filename">/usr/share/doc/packages/ntp-doc/refclock.html</code> provides
   links to the driver pages describing the driver parameters.
  </p></section><section class="sect1" id="sec-netz-xntp-etr" data-id-title="Clock Synchronization to an External Time Reference (ETR)"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">26.4 </span><span class="title-name">Clock Synchronization to an External Time Reference (ETR)</span></span> <a title="Permalink" class="permalink" href="cha-netz-xntp.html#sec-netz-xntp-etr">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/net_xntp.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Support for clock synchronization to an external time reference (ETR) is
   available. The external time reference sends an oscillator signal and a
   synchronization signal every 2**20 (2 to the power of 20) microseconds to
   keep TOD clocks of all connected servers synchronized.
  </p><p>
   For availability two ETR units can be connected to a machine. If the clock
   deviates for more than the sync-check tolerance all CPUs get a machine check
   that indicates that the clock is out of sync. If this happens, all DASD I/O
   to XRC enabled devices is stopped until the clock is synchronized again.
  </p><p>
   The ETR support is activated via two <code class="literal">sysfs</code> attributes;
   run the following commands as <code class="systemitem">root</code>:
  </p><div class="verbatim-wrap"><pre class="screen">echo 1 &gt; /sys/devices/system/etr/etr0/online
echo 1 &gt; /sys/devices/system/etr/etr1/online</pre></div></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="part-services.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Part IV </span>Services</span></a> </div><div><a class="pagination-link next" href="cha-dns.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 27 </span>The Domain Name System</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="cha-netz-xntp.html#sec-netz-xntp-yast"><span class="title-number">26.1 </span><span class="title-name">Configuring an NTP Client with YaST</span></a></span></li><li><span class="sect1"><a href="cha-netz-xntp.html#sec-netz-xntp-netconf"><span class="title-number">26.2 </span><span class="title-name">Manually Configuring NTP in the Network</span></a></span></li><li><span class="sect1"><a href="cha-netz-xntp.html#sec-netz-xntp-normal"><span class="title-number">26.3 </span><span class="title-name">Setting Up a Local Reference Clock</span></a></span></li><li><span class="sect1"><a href="cha-netz-xntp.html#sec-netz-xntp-etr"><span class="title-number">26.4 </span><span class="title-name">Clock Synchronization to an External Time Reference (ETR)</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>