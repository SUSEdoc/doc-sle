<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLES 12 SP5 | Security and Hardening Guide | LDAP—A Directory Service</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="LDAP—A Directory Service | SLES 12 SP5"/>
<meta name="description" content="The Lightweight Directory Access Protocol (LDAP) is a set of protocols designed to access and maintain information directories. LDAP can be used for …"/>
<meta name="product-name" content="SUSE Linux Enterprise Server"/>
<meta name="product-number" content="12 SP5"/>
<meta name="book-title" content="Security and Hardening Guide"/>
<meta name="chapter-title" content="Chapter 5. LDAP—A Directory Service"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="fs@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE Linux Enterprise Server 12 SP5"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Security Guide"/>
<meta property="og:description" content="Implement system security for SLES"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Security Guide"/>
<meta name="twitter:description" content="Implement system security for SLES"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "LDAP—A Directory Service",
  
    "description": "The Lightweight Directory Access Protocol (LDAP) is a set of protocols designed to access and maintain information directories. LDAP can be used for …",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2019-12-09T00:00+02:00",
      
    "datePublished": "2019-12-09T00:00+02:00",
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="cha-security-auth.html" title="Chapter 4. Setting Up Authentication Servers and Clients Using YaST"/><link rel="next" href="cha-security-kerberos.html" title="Chapter 6. Network Authentication with Kerberos"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Security and Hardening Guide</a><span> / </span><a class="crumb" href="part-auth.html">Authentication</a><span> / </span><a class="crumb" href="cha-security-ldap.html">LDAP—A Directory Service</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">Security and Hardening Guide</div><ol><li><a href="preface-security.html" class=" "><span class="title-number"> </span><span class="title-name">About This Guide</span></a></li><li><a href="cha-security.html" class=" "><span class="title-number">1 </span><span class="title-name">Security and Confidentiality</span></a></li><li class="active"><a href="part-auth.html" class="has-children you-are-here"><span class="title-number">I </span><span class="title-name">Authentication</span></a><ol><li><a href="cha-pam.html" class=" "><span class="title-number">2 </span><span class="title-name">Authentication with PAM</span></a></li><li><a href="cha-nis.html" class=" "><span class="title-number">3 </span><span class="title-name">Using NIS</span></a></li><li><a href="cha-security-auth.html" class=" "><span class="title-number">4 </span><span class="title-name">Setting Up Authentication Servers and Clients Using YaST</span></a></li><li><a href="cha-security-ldap.html" class=" you-are-here"><span class="title-number">5 </span><span class="title-name">LDAP—A Directory Service</span></a></li><li><a href="cha-security-kerberos.html" class=" "><span class="title-number">6 </span><span class="title-name">Network Authentication with Kerberos</span></a></li><li><a href="cha-security-ad.html" class=" "><span class="title-number">7 </span><span class="title-name">Active Directory Support</span></a></li></ol></li><li><a href="part-local-security.html" class="has-children "><span class="title-number">II </span><span class="title-name">Local Security</span></a><ol><li><a href="cha-spectre.html" class=" "><span class="title-number">8 </span><span class="title-name">Spectre/Meltdown Checker</span></a></li><li><a href="cha-security-yast-security.html" class=" "><span class="title-number">9 </span><span class="title-name">Configuring Security Settings with YaST</span></a></li><li><a href="cha-security-policykit.html" class=" "><span class="title-number">10 </span><span class="title-name">Authorization with Polkit</span></a></li><li><a href="cha-security-acls.html" class=" "><span class="title-number">11 </span><span class="title-name">Access Control Lists in Linux</span></a></li><li><a href="cha-security-cryptofs.html" class=" "><span class="title-number">12 </span><span class="title-name">Encrypting Partitions and Files</span></a></li><li><a href="cha-certstore.html" class=" "><span class="title-number">13 </span><span class="title-name">Certificate Store</span></a></li><li><a href="cha-aide.html" class=" "><span class="title-number">14 </span><span class="title-name">Intrusion Detection with AIDE</span></a></li></ol></li><li><a href="part-network-security.html" class="has-children "><span class="title-number">III </span><span class="title-name">Network Security</span></a><ol><li><a href="cha-ssh.html" class=" "><span class="title-number">15 </span><span class="title-name">SSH: Secure Network Operations</span></a></li><li><a href="cha-security-firewall.html" class=" "><span class="title-number">16 </span><span class="title-name">Masquerading and Firewalls</span></a></li><li><a href="cha-security-vpnserver.html" class=" "><span class="title-number">17 </span><span class="title-name">Configuring a VPN Server</span></a></li><li><a href="cha-security-yast-ca.html" class=" "><span class="title-number">18 </span><span class="title-name">Managing X.509 Certification</span></a></li><li><a href="cha-security-fips.html" class=" "><span class="title-number">19 </span><span class="title-name">Enabling compliance with FIPS 140-2</span></a></li></ol></li><li><a href="part-apparmor.html" class="has-children "><span class="title-number">IV </span><span class="title-name">Confining Privileges with <span class="phrase">AppArmor</span></span></a><ol><li><a href="cha-apparmor-intro.html" class=" "><span class="title-number">20 </span><span class="title-name">Introducing <span class="phrase">AppArmor</span></span></a></li><li><a href="cha-apparmor-start.html" class=" "><span class="title-number">21 </span><span class="title-name">Getting Started</span></a></li><li><a href="cha-apparmor-concept.html" class=" "><span class="title-number">22 </span><span class="title-name">Immunizing Programs</span></a></li><li><a href="cha-apparmor-profiles.html" class=" "><span class="title-number">23 </span><span class="title-name">Profile Components and Syntax</span></a></li><li><a href="cha-apparmor-repos.html" class=" "><span class="title-number">24 </span><span class="title-name"><span class="phrase">AppArmor</span> Profile Repositories</span></a></li><li><a href="cha-apparmor-yast.html" class=" "><span class="title-number">25 </span><span class="title-name">Building and Managing Profiles with YaST</span></a></li><li><a href="cha-apparmor-commandline.html" class=" "><span class="title-number">26 </span><span class="title-name">Building Profiles from the Command Line</span></a></li><li><a href="cha-apparmor-hat.html" class=" "><span class="title-number">27 </span><span class="title-name">Profiling Your Web Applications Using ChangeHat</span></a></li><li><a href="cha-apparmor-pam.html" class=" "><span class="title-number">28 </span><span class="title-name">Confining Users with <code class="systemitem">pam_apparmor</code></span></a></li><li><a href="cha-apparmor-managing.html" class=" "><span class="title-number">29 </span><span class="title-name">Managing Profiled Applications</span></a></li><li><a href="cha-apparmor-support.html" class=" "><span class="title-number">30 </span><span class="title-name">Support</span></a></li><li><a href="cha-apparmor-glossary.html" class=" "><span class="title-number">31 </span><span class="title-name"><span class="phrase">AppArmor</span> Glossary</span></a></li></ol></li><li><a href="bk05pt05.html" class="has-children "><span class="title-number">V </span><span class="title-name">SELinux</span></a><ol><li><a href="cha-selinux.html" class=" "><span class="title-number">32 </span><span class="title-name">Configuring SELinux</span></a></li></ol></li><li><a href="part-audit.html" class="has-children "><span class="title-number">VI </span><span class="title-name">The Linux Audit Framework</span></a><ol><li><a href="cha-audit-comp.html" class=" "><span class="title-number">33 </span><span class="title-name">Understanding Linux Audit</span></a></li><li><a href="cha-audit-setup.html" class=" "><span class="title-number">34 </span><span class="title-name">Setting Up the Linux Audit Framework</span></a></li><li><a href="cha-audit-scenarios.html" class=" "><span class="title-number">35 </span><span class="title-name">Introducing an Audit Rule Set</span></a></li><li><a href="cha-audit-moreinfo.html" class=" "><span class="title-number">36 </span><span class="title-name">Useful Resources</span></a></li></ol></li><li><a href="app-pcidss.html" class=" "><span class="title-number">A </span><span class="title-name">Achieving PCI DSS Compliance</span></a></li><li><a href="bk05apb.html" class=" "><span class="title-number">B </span><span class="title-name">GNU licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="cha-security-ldap" data-id-title="LDAP—A Directory Service"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber">12 SP5</span></span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">5 </span><span class="title-name">LDAP—A Directory Service</span></span> <a title="Permalink" class="permalink" href="cha-security-ldap.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
    The Lightweight Directory Access Protocol (LDAP) is a set of protocols
    designed to access and maintain information directories. LDAP can be
    used for user and group management, system configuration management,
    address management, and more. This chapter provides a basic
    understanding of how OpenLDAP works.
   </p></div></div></div></div><p>
  In a network environment, it is crucial to keep important information
  structured and to serve it quickly. A directory service keeps information
  available in a well-structured and searchable form.
 </p><p>
  Ideally, a central server stores the data in a directory and distributes
  it to all clients using a well-defined protocol. The structured data allow
  a wide range of applications to access them. A central repository reduces
  the necessary administrative effort. The use of an open and standardized
  protocol such as LDAP ensures that as many client applications as
  possible can access such information.
 </p><p>
  A directory in this context is a type of database optimized for quick and
  effective reading and searching:
 </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
    To make multiple concurrent reading accesses possible, the number of
    updates is usually very low. The number of read and write accesses is
    often limited to a few users with administrative privileges. In
    contrast, conventional databases are optimized for accepting the largest
    possible data volume in a short time.
   </p></li><li class="listitem"><p>
    When static data is administered, updates of the existing data sets are
    very rare. When working with dynamic data, especially when data sets
    like bank accounts or accounting are concerned, the consistency of the
    data is of primary importance. If an amount should be subtracted from
    one place to be added to another, both operations must happen
    concurrently, within one <span class="emphasis"><em>transaction</em></span>, to ensure
    balance over the data stock. Traditional relational databases usually
    have a very strong focus on data consistency, such as the referential
    integrity support of transactions. Conversely, short-term
    inconsistencies are usually acceptable in LDAP directories. LDAP
    directories often do not have the same strong consistency requirements
    as relational databases.
   </p></li></ul></div><p>
  The design of a directory service like LDAP is not laid out to support
  complex update or query mechanisms. All applications are guaranteed to
  access this service quickly and easily.
 </p><section class="sect1" id="sec-security-ldap-vs-nis" data-id-title="LDAP versus NIS"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.1 </span><span class="title-name">LDAP versus NIS</span></span> <a title="Permalink" class="permalink" href="cha-security-ldap.html#sec-security-ldap-vs-nis">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Unix system administrators traditionally use NIS (Network Information
   Service) for name resolution and data distribution in a network. The
   configuration data contained in the files <code class="filename">group</code>,
   <code class="filename">hosts</code>, <code class="filename">mail</code>,
   <code class="filename">netgroup</code>, <code class="filename">networks</code>,
   <code class="filename">passwd</code>, <code class="filename">printcap</code>,
   <code class="filename">protocols</code>, <code class="filename">rpc</code>, and
   <code class="filename">services</code> in the <code class="filename">/etc</code> directory
   is distributed to clients all over the network. These files can be
   maintained without major effort because they are simple text files. The
   handling of larger amounts of data, however, becomes increasingly
   difficult because of nonexistent structuring.
   
   NIS is only designed for Unix platforms, and is not suitable as a
   centralized data administration tool in heterogeneous networks.
  </p><p>
   Unlike NIS, the LDAP service is not restricted to pure Unix networks.
   Windows™ servers (starting with Windows 2000) support LDAP as a
   directory service. The
   application tasks mentioned above are additionally supported in non-Unix
   systems.
  </p><p>
   The LDAP principle can be applied to any data structure that needs to be
   centrally administered. A few application examples are:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Replacement for the NIS service
    </p></li><li class="listitem"><p>
     Mail routing (postfix)
    </p></li><li class="listitem"><p>
     Address books for mail clients, like Mozilla Thunderbird, Evolution,
     and Outlook
    </p></li><li class="listitem"><p>
     Administration of zone descriptions for a BIND 9 name server
    </p></li><li class="listitem"><p>
     User authentication with Samba in heterogeneous networks
    </p></li></ul></div><p>
   This list can be extended because LDAP is extensible, unlike NIS. The
   clearly-defined hierarchical structure of the data simplifies the
   administration of large amounts of data, as it can be searched more
   easily.
  </p></section><section class="sect1" id="sec-security-ldap-tree" data-id-title="Structure of an LDAP Directory Tree"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.2 </span><span class="title-name">Structure of an LDAP Directory Tree</span></span> <a title="Permalink" class="permalink" href="cha-security-ldap.html#sec-security-ldap-tree">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To get background knowledge on how an LDAP server works and how the data
   is stored, it is vital to understand the way the data is organized on the
   server and how this structure enables LDAP to provide fast access to the
   data. To successfully operate an LDAP setup, you also need to be familiar
   with some basic LDAP terminology. This section introduces the basic
   layout of an LDAP directory tree, and provides the basic terminology used
   with regard to LDAP. Skip this introductory section if you already have
   some LDAP background knowledge and only want to learn how to set up an
   LDAP environment in <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>.<span class="phrase"> Read on at

   <a class="xref" href="cha-security-ldap.html#sec-security-ldap-slapd" title="5.5. Manually Configuring an LDAP Server">Section 5.5, “Manually Configuring an LDAP Server”</a>.</span>
  </p><p>
   An LDAP directory has a tree structure. All entries (called objects) of
   the directory have a defined position within this hierarchy. This
   hierarchy is called the <span class="emphasis"><em>directory information tree</em></span>
   (DIT). The complete path to the desired entry, which unambiguously
   identifies it, is called the <span class="emphasis"><em>distinguished name</em></span> or
   DN. A single node along the path to this entry is called
   <span class="emphasis"><em>relative distinguished name</em></span> or RDN.
  </p><p>
   The relations within an LDAP directory tree become more evident in the
   following example, shown in <a class="xref" href="cha-security-ldap.html#fig-ldap-tree" title="Structure of an LDAP Directory">Figure 5.1, “Structure of an LDAP Directory”</a>.
  </p><div class="figure" id="fig-ldap-tree"><div class="figure-contents"><div class="mediaobject"><a href="images/ldap_tree.png"><img src="images/ldap_tree.png" width="85%" alt="Structure of an LDAP Directory" title="Structure of an LDAP Directory"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 5.1: </span><span class="title-name">Structure of an LDAP Directory </span></span><a title="Permalink" class="permalink" href="cha-security-ldap.html#fig-ldap-tree">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div></div><p>
   The complete diagram is a fictional directory information tree. The
   entries on three levels are depicted. Each entry corresponds to one box
   in the image. The complete, valid <span class="emphasis"><em>distinguished name</em></span>
   for the fictional employee <code class="systemitem">Geeko
   Linux</code>, in this case, is <code class="literal">cn=Geeko
   Linux,ou=doc,dc=example,dc=com</code>. It is composed by adding the
   RDN <code class="literal">cn=Geeko Linux</code> to the DN of the preceding entry
   <code class="literal">ou=doc,dc=example,dc=com</code>.
  </p><p>
   The types of objects that can be stored in the DIT are globally
   determined following a <span class="emphasis"><em>Schema</em></span>. The type of an object
   is determined by the <span class="emphasis"><em>object class</em></span>. The object class
   determines what attributes the relevant object must or can be assigned.
   The Schema, therefore, must contain definitions of all object classes and
   attributes used in the desired application scenario. There are a few
   common Schemas (see RFC 2252 and 2256). The LDAP RFC defines a few
   commonly used Schemas (see for example, RFC4519). Additionally, Schemas
   are available for many other use cases (for example, Samba or NIS
   replacement). It is, however, possible to create custom Schemas or to use
   multiple Schemas complementing each other (if this is required by the
   environment in which the LDAP server should operate).
  </p><p>
   <a class="xref" href="cha-security-ldap.html#tab-ldap-schema" title="Commonly Used Object Classes and Attributes">Table 5.1, “Commonly Used Object Classes and Attributes”</a> offers a small overview of the object
   classes from <code class="filename">core.schema</code> and
   <code class="filename">inetorgperson.schema</code> used in the example, including
   required attributes (Req. Attr.) and valid attribute values.

  </p><div class="table" id="tab-ldap-schema" data-id-title="Commonly Used Object Classes and Attributes"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 5.1: </span><span class="title-name">Commonly Used Object Classes and Attributes </span></span><a title="Permalink" class="permalink" href="cha-security-ldap.html#tab-ldap-schema">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/><col class="c3"/><col class="c4"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Object Class
       </p>
      </th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Meaning
       </p>
      </th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Example Entry
       </p>
      </th><th style="border-bottom: 1px solid ; ">
       <p>
        Req. Attr.
       </p>
      </th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <code class="literal">dcObject</code>
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <span class="emphasis"><em>domainComponent</em></span> (name components of the domain)
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        example
       </p>
      </td><td style="border-bottom: 1px solid ; ">
       <p>
        dc
       </p>
      </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <code class="literal">organizationalUnit</code>
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <span class="emphasis"><em>organizationalUnit</em></span> (organizational unit)
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        doc
       </p>
      </td><td style="border-bottom: 1px solid ; ">
       <p>
        ou
       </p>
      </td></tr><tr><td style="border-right: 1px solid ; ">
       <p>
        <code class="literal">inetOrgPerson</code>
       </p>
      </td><td style="border-right: 1px solid ; ">
       <p>
        <span class="emphasis"><em>inetOrgPerson</em></span> (person-related data for the
        intranet or Internet)
       </p>
      </td><td style="border-right: 1px solid ; ">
       <p>
        Geeko Linux
       </p>
      </td><td>
       <p>
        sn and cn
       </p>
      </td></tr></tbody></table></div></div><p>
   <a class="xref" href="cha-security-ldap.html#aus-ldap-schema-help" title="Excerpt from schema.core">Example 5.1, “Excerpt from schema.core”</a> shows an excerpt from a Schema
   directive with explanations.
  </p><div class="example" id="aus-ldap-schema-help" data-id-title="Excerpt from schema.core"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 5.1: </span><span class="title-name">Excerpt from schema.core </span></span><a title="Permalink" class="permalink" href="cha-security-ldap.html#aus-ldap-schema-help">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">attributetype (2.5.4.11 NAME ( 'ou' 'organizationalUnitName') <span class="callout" id="co-ldap-schema-core-att-type">1</span>
       DESC 'RFC2256: organizational unit this object belongs to' <span class="callout" id="co-ldap-schema-core-desc">2</span>
       SUP name ) <span class="callout" id="co-ldap-schema-core-sup">3</span>

objectclass ( 2.5.6.5 NAME 'organizationalUnit' <span class="callout" id="co-ldap-schema-core-oc">4</span>
       DESC 'RFC2256: an organizational unit' <span class="callout" id="co-ldap-schema-core-desc-oc">5</span>
       SUP top STRUCTURAL <span class="callout" id="co-ldap-schema-core-sup-oc">6</span>
       MUST ou <span class="callout" id="co-ldap-schema-core-must-oc">7</span>
MAY (userPassword $ searchGuide $ seeAlso $ businessCategory <span class="callout" id="co-ldap-schema-core-may-oc">8</span>
  $ x121Address $ registeredAddress $ destinationIndicator
  $ preferredDeliveryMethod $ telexNumber
  $ teletexTerminalIdentifier $ telephoneNumber
  $ internationaliSDNNumber $ facsimileTelephoneNumber
  $ street $ postOfficeBox $ postalCode $ postalAddress
  $ physicalDeliveryOfficeName
  $ st $ l $ description) )
  ...</pre></div></div></div><p>
   The attribute type <code class="literal">organizationalUnitName</code> and the
   corresponding object class <code class="literal">organizationalUnit</code> serve as
   an example here.
  </p><div class="calloutlist"><table style="border: 0; "><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ldap-schema-core-att-type"><span class="callout">1</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
     The name of the attribute, its unique OID (<span class="emphasis"><em>object
     identifier</em></span>) (numerical), and the abbreviation of the
     attribute.
    </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ldap-schema-core-desc"><span class="callout">2</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
     A brief description of the attribute with <code class="literal">DESC</code>. The
     corresponding RFC, on which the definition is based, is also mentioned
     here.
    </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ldap-schema-core-sup"><span class="callout">3</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
     <code class="literal">SUP</code> indicates a superordinate attribute type to
     which this attribute belongs.
    </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ldap-schema-core-oc"><span class="callout">4</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
     The definition of the object class
     <code class="literal">organizationalUnit</code> begins—the same as in
     the definition of the attribute—with an OID and the name of
     the object class.
    </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ldap-schema-core-desc-oc"><span class="callout">5</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
     A brief description of the object class.
    </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ldap-schema-core-sup-oc"><span class="callout">6</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
     The <code class="literal">SUP top</code> entry indicates that this object class
     is not subordinate to another object class.
    </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ldap-schema-core-must-oc"><span class="callout">7</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
     With <code class="literal">MUST</code> list all attribute types that must be used
     with an object of the type
     <code class="literal">organizationalUnit</code>.
    </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ldap-schema-core-may-oc"><span class="callout">8</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
     With <code class="literal">MAY</code> list all attribute types that are permitted
     with this object class.
    </p></td></tr></table></div><p>
   A very good introduction to the use of Schemas can be found in the
   OpenLDAP documentation (<code class="systemitem">openldap2-doc</code>). When
   installed, find it in
   <code class="filename">/usr/share/doc/packages/openldap2/adminguide/guide.html</code>.
  </p></section><section class="sect1" id="sec-security-ldap-yast-client" data-id-title="Configuring an LDAP Client with YaST"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.3 </span><span class="title-name">Configuring an LDAP Client with YaST</span></span> <a title="Permalink" class="permalink" href="cha-security-ldap.html#sec-security-ldap-yast-client">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   YaST includes the module <span class="guimenu">LDAP and Kerberos Client</span>
   that helps define authentication scenarios involving either LDAP or Kerberos.
  </p><p>
   It can also be used to join Kerberos and LDAP separately. However, in
   many such cases, using this module may not be the first choice, such as
   for joining Active Directory (which uses a combination of LDAP and Kerberos). For
   more information, see <a class="xref" href="cha-security-auth.html#sec-security-auth-yast-client" title="4.2. Configuring an Authentication Client with YaST">Section 4.2, “Configuring an Authentication Client with YaST”</a>.
  </p><p>
   Start the module by selecting
   <span class="guimenu">Network Services</span> › <span class="guimenu">LDAP and
   Kerberos Client</span>.
  </p><div class="figure" id="fig-yast2-ldapkerberos-ldap"><div class="figure-contents"><div class="mediaobject"><a href="images/yast2_auth_client_config.png"><img src="images/yast2_auth_client_config.png" width="65%" alt="LDAP and Kerberos Client Window" title="LDAP and Kerberos Client Window"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 5.2: </span><span class="title-name"><span class="guimenu">LDAP and Kerberos Client</span> Window </span></span><a title="Permalink" class="permalink" href="cha-security-ldap.html#fig-yast2-ldapkerberos-ldap">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div></div><p>
   To configure an LDAP client, follow the procedure below:
  </p><div class="procedure" id="pro-security-auth-ldap"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     In the window <span class="guimenu">LDAP and Kerberos Client</span>, click
     <span class="guimenu">Change Settings</span>.
    </p><p>
     Make sure that the tab <span class="guimenu">Use a Directory as Identity Provider
     (LDAP)</span> is chosen.
    </p><div class="informalfigure"><div class="mediaobject"><a href="images/yast2_auth_client_ldap.png"><img src="images/yast2_auth_client_ldap.png" width="65%" alt="Configuring LDAP" title="Configuring LDAP"/></a></div></div></li><li class="step"><p>
     Specify one or more LDAP server URLs, host names, or IP addresses under
     <span class="guimenu">Enter LDAP server locations</span>. When specifying multiple
     addresses, separate them with spaces.
    </p></li><li class="step"><p>
     Specify the appropriate LDAP distinguished name (DN) under
     <span class="guimenu">DN of Search Base</span>. For example, a valid entry could
     be <code class="literal">dc=example,dc=com</code>.
    </p></li><li class="step"><p>
     If your LDAP server supports TLS encryption, choose the appropriate
     security option under <span class="guimenu">Secure LDAP Connection</span>.
    </p><p>
     To first ask the server whether it supports TLS encryption and be able
     to downgrade to an unencrypted connection if it does not, use
     <span class="guimenu">Secure Communication via StartTLS</span>.
    </p></li><li class="step"><p>
     Activate other options as necessary:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       You can <span class="guimenu">Allow users to authenticate via LDAP</span> and
       <span class="guimenu">Automatically Create Home Directories</span> on the local
       computer for them.
      </p></li><li class="listitem"><p>
       Use <span class="guimenu">Cache LDAP Entries For Faster Response</span> to cache
       LDAP entries locally. However, this bears the danger that entries can
       be slightly out of date.
      </p></li><li class="listitem"><p>
       Specify the types of data that should be used from the LDAP source,
       such as
       <span class="guimenu">Users</span> and <span class="guimenu">Groups</span>,
       <span class="guimenu">Super-User Commands</span>, and <span class="guimenu">Network Disk
       Locations</span> (network-shared drives that can be automatically
       mounted on request).
      </p></li><li class="listitem"><p>
       Specify the distinguished name (DN) and password of the user under
       whose name you want to bind to the LDAP directory in <span class="guimenu">DN of
       Bind User</span> and <span class="guimenu">Password of the Bind User</span>.
      </p><p>
       Otherwise, if the server supports it, you can also leave both text
       boxes empty to bind anonymously to the server.
      </p><div id="id-1.7.4.5.10.7.5.2.4.3" data-id-title="Authentication Without Encryption" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: Authentication Without Encryption</div><p>
        When using authentication without enabling transport encryption
        using TLS or StartTLS, the password will be transmitted in the clear.
       </p></div></li></ul></div><p>
     Under <span class="guimenu">Extended Options</span>, you can additionally
     configure timeouts for BIND operations.
    </p></li><li class="step"><p>
     To check whether the LDAP connection works, click
     <span class="guimenu">Test Connection</span>.
    </p></li><li class="step"><p>
     To leave the dialog, click <span class="guimenu">OK</span>. Then wait for the
     setup to complete.
    </p><p>
     Finally, click <span class="guimenu">Finish</span>.
    </p></li></ol></div></div></section><section class="sect1" id="sec-security-ldap-yast-usergr" data-id-title="Configuring LDAP Users and Groups in YaST"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.4 </span><span class="title-name">Configuring LDAP Users and Groups in YaST</span></span> <a title="Permalink" class="permalink" href="cha-security-ldap.html#sec-security-ldap-yast-usergr">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The actual registration of user and group data differs only slightly from
   the procedure when not using LDAP. The following instructions relate to
   the administration of users. The procedure for administering groups is
   analogous.
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Access the YaST user administration with <span class="guimenu">Security and Users</span> › <span class="guimenu">User and Group
     Management</span>.
    </p></li><li class="step"><p>
     Use <span class="guimenu">Set Filter</span> to limit the view of users to the
     LDAP users and enter the password for Root DN.
    </p></li><li class="step"><p>
     Click <span class="guimenu">Add</span> to enter the user configuration. A dialog
     with four tabs opens:
    </p><ol type="a" class="substeps"><li class="step"><p>
       Specify the user's name, login name, and password in the
       <span class="guimenu">User Data</span> tab.
      </p></li><li class="step"><p>
       Check the <span class="guimenu">Details</span> tab for the group membership,
       login shell, and home directory of the new user. If necessary, change
       the default to values that better suit your needs.

      </p></li><li class="step"><p>
       Modify or accept the default <span class="guimenu">Password Settings</span>.
      </p></li><li class="step"><p>
       Enter the <span class="guimenu">Plug-Ins</span> tab, select the LDAP plug-in,
       and click <span class="guimenu">Launch</span> to configure additional LDAP
       attributes assigned to the new user.

      </p></li></ol></li><li class="step"><p>
     Click <span class="guimenu">OK</span> to apply your settings and leave the user
     configuration.
    </p></li></ol></div></div><p>
   The initial input form of user administration offers <span class="guimenu">LDAP
   Options</span>. This allows you to apply LDAP search filters to the
   set of available users. Alternatively open the module for configuring
   LDAP users and groups by selecting <span class="guimenu">LDAP User and Group
   Configuration</span>.
  </p></section><section class="sect1" id="sec-security-ldap-slapd" data-id-title="Manually Configuring an LDAP Server"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.5 </span><span class="title-name">Manually Configuring an LDAP Server</span></span> <a title="Permalink" class="permalink" href="cha-security-ldap.html#sec-security-ldap-slapd">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   YaST uses OpenLDAP's dynamic configuration database
   (<code class="systemitem">back-config</code>) to store the LDAP server's
   configuration. For details about the dynamic configuration back-end, see
   the <code class="systemitem">slapd-config(5)</code> man page or the OpenLDAP
   Software 2.4 Administrator's Guide located at
   <code class="filename">/usr/share/doc/packages/openldap2/guide/admin/guide.html</code>
   on your system if the <code class="systemitem">openldap2</code> package is
   installed.
  </p><div id="id-1.7.4.5.12.3" data-id-title="Upgrading an Old OpenLDAP Installation" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Upgrading an Old OpenLDAP Installation</div><p>
    YaST does not use <code class="filename">/etc/openldap/slapd.conf</code> to
    store the OpenLDAP configuration anymore. In case of a system upgrade, a
    copy of the original <code class="filename">/etc/openldap/slapd.conf</code> file
    will get created as
    <code class="filename">/etc/openldap/slapd.conf.YaSTsave</code>.
   </p></div><p>
   To conveniently access the configuration back-end, you use SASL external
   authentication. For example, the following <code class="command">ldapsearch</code>
   command executed as <code class="systemitem">root</code> can show the complete
   <code class="command">slapd</code> configuration:
  </p><div class="verbatim-wrap"><pre class="screen">ldapsearch -Y external -H ldapi:/// -b cn=config</pre></div><div id="id-1.7.4.5.12.6" data-id-title="LDAP Server Is Part of the Authentication Server" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: LDAP Server Is Part of the Authentication Server</div><p>
    Basic LDAP Server initialization and configuration can be done within
    the Authentication Server YaST module. For more information, see
    <a class="xref" href="cha-security-auth.html#sec-security-auth-yast" title="4.1. Configuring an Authentication Server with YaST">Section 4.1, “Configuring an Authentication Server with YaST”</a>.
   </p></div><p>
    When the LDAP server is fully configured and all desired entries have
    been made according to the pattern described in
    <a class="xref" href="cha-security-ldap.html#sec-security-ldap-data" title="5.6. Manually Administering LDAP Data">Section 5.6, “Manually Administering LDAP Data”</a>, start the LDAP server as
    <code class="systemitem">root</code> by entering <code class="command">sudo systemctl start
    slapd</code>. To stop the server manually, enter the command
    <code class="command">sudo systemctl stop slapd</code>. Query the status of
    the running LDAP server with <code class="command">sudo systemctl status
    slapd</code>.
   </p><p>
    Use the YaST <span class="guimenu">Services Manager</span>, described in
    <span class="intraxref">Book “Administration Guide”, Chapter 14 “The <code class="systemitem">systemd</code> daemon”, Section 14.4 “Managing services with YaST”</span>, to have the server started and
    stopped automatically on system bootup and shutdown. You can also
    create the corresponding links to the start and stop scripts with the
    <code class="command">systemctl</code> commands as described
    in <span class="intraxref">Book “Administration Guide”, Chapter 14 “The <code class="systemitem">systemd</code> daemon”, Section 14.2.1 “Managing Services in a Running System”</span>.
   </p></section><section class="sect1" id="sec-security-ldap-data" data-id-title="Manually Administering LDAP Data"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.6 </span><span class="title-name">Manually Administering LDAP Data</span></span> <a title="Permalink" class="permalink" href="cha-security-ldap.html#sec-security-ldap-data">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   OpenLDAP offers a series of tools for the administration of data in the
   LDAP directory. The four most important tools for adding to, deleting
   from, searching through and modifying the data stock are explained in
   this section.
  </p><section class="sect2" id="sec-security-ldap-data-add" data-id-title="Inserting Data into an LDAP Directory"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">5.6.1 </span><span class="title-name">Inserting Data into an LDAP Directory</span></span> <a title="Permalink" class="permalink" href="cha-security-ldap.html#sec-security-ldap-data-add">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Once your LDAP server

    is correctly configured (it features appropriate entries for
    <code class="literal">suffix</code>, <code class="literal">directory</code>,
    <code class="literal">rootdn</code>, <code class="literal">rootpw</code> and
    <code class="literal">index</code>), proceed to entering records. OpenLDAP offers
    the <code class="command">ldapadd</code> command for this task. If possible, add
    the objects to the database in bundles (for practical reasons). LDAP
    can process the LDIF format (LDAP data interchange format) for this.
    An LDIF file is a simple text file that can contain an arbitrary number
    of attribute and value pairs.

    The LDIF file for creating a rough framework for the example in
    <a class="xref" href="cha-security-ldap.html#fig-ldap-tree" title="Structure of an LDAP Directory">Figure 5.1, “Structure of an LDAP Directory”</a> would look like the one in
    <a class="xref" href="cha-security-ldap.html#dat-ldap-ldif" title="An LDIF File">Example 5.2, “An LDIF File”</a>.
   </p><div id="id-1.7.4.5.13.3.3" data-id-title="Encoding of LDIF Files" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Encoding of LDIF Files</div><p>

     LDAP works with UTF-8 (Unicode). Umlauts must be encoded correctly.
     Otherwise, avoid umlauts and other special characters or use
     <code class="command">iconv</code> to convert the input to UTF-8.
    </p></div><div class="example" id="dat-ldap-ldif" data-id-title="An LDIF File"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 5.2: </span><span class="title-name">An LDIF File </span></span><a title="Permalink" class="permalink" href="cha-security-ldap.html#dat-ldap-ldif">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen"># The Organization
dn: dc=example,dc=com
objectClass: dcObject
objectClass: organization
o: Example dc: example

# The organizational unit development (devel)
dn: ou=devel,dc=example,dc=com
objectClass: organizationalUnit
ou: devel

# The organizational unit documentation (doc)
dn: ou=doc,dc=example,dc=com
objectClass: organizationalUnit
ou: doc

# The organizational unit internal IT (it)
dn: ou=it,dc=example,dc=com
objectClass: organizationalUnit
ou: it</pre></div></div></div><p>
    Save the file with the <code class="filename">.ldif</code> suffix then pass it to
    the server with the following command:
   </p><div class="verbatim-wrap"><pre class="screen">ldapadd -x -D <em class="replaceable">DN_OF_THE_ADMINISTRATOR</em> -W -f <em class="replaceable">FILE</em>.ldif</pre></div><p>
    <code class="literal">-x</code> switches off the authentication with SASL in this
    case. <code class="literal">-D</code> declares the user that calls the operation.
    The valid DN of the administrator is entered here, as it has been
    configured in <code class="filename">slapd.conf</code>. In the current example,
    this is <code class="literal">cn=Administrator,dc=example,dc=com</code>.
    <code class="literal">-W</code> circumvents entering the password on the command
    line (in clear text) and activates a separate password prompt.

    The <code class="literal">-f</code> option passes the file name. See the details
    of running <code class="command">ldapadd</code> in
    <a class="xref" href="cha-security-ldap.html#aus-ldap-addentry" title="ldapadd with example.ldif">Example 5.3, “ldapadd with example.ldif”</a>.
   </p><div class="example" id="aus-ldap-addentry" data-id-title="ldapadd with example.ldif"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 5.3: </span><span class="title-name">ldapadd with example.ldif </span></span><a title="Permalink" class="permalink" href="cha-security-ldap.html#aus-ldap-addentry">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">ldapadd -x -D cn=Administrator,dc=example,dc=com -W -f example.ldif

Enter LDAP password:
adding new entry "dc=example,dc=com"
adding new entry "ou=devel,dc=example,dc=com"
adding new entry "ou=doc,dc=example,dc=com"
adding new entry "ou=it,dc=example,dc=com"</pre></div></div></div><p>
    The user data of individuals can be prepared in separate LDIF files.
    <a class="xref" href="cha-security-ldap.html#aus-ldap-addtux" title="LDIF Data for Tux">Example 5.4, “LDIF Data for Tux”</a> adds
    <code class="systemitem">Tux</code> to the new LDAP directory.
   </p><div class="example" id="aus-ldap-addtux" data-id-title="LDIF Data for Tux"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 5.4: </span><span class="title-name">LDIF Data for Tux </span></span><a title="Permalink" class="permalink" href="cha-security-ldap.html#aus-ldap-addtux">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen"># coworker Tux
dn: cn=Tux Linux,ou=devel,dc=example,dc=com
objectClass: inetOrgPerson
cn: Tux Linux
givenName: Tux
sn: Linux
mail: tux@example.com
uid: tux
telephoneNumber: +49 1234 567-8</pre></div></div></div><p>
    An LDIF file can contain an arbitrary number of objects. It is possible
    to pass directory branches (entirely or in part) to the server in one
    go, as shown in the example of individual objects. If it is necessary to
    modify some data relatively often, a fine subdivision of single objects
    is recommended.
   </p></section><section class="sect2" id="sec-security-ldap-data-change" data-id-title="Modifying Data in the LDAP Directory"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">5.6.2 </span><span class="title-name">Modifying Data in the LDAP Directory</span></span> <a title="Permalink" class="permalink" href="cha-security-ldap.html#sec-security-ldap-data-change">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The tool <code class="command">ldapmodify</code> is provided for modifying the
    data stock. The easiest way to do this is to modify the corresponding
    LDIF file and pass the modified file to the LDAP server. To change the
    telephone number of colleague Tux from <code class="literal">+49 1234 567-8</code>
    to <code class="literal">+49 1234 567-10</code>, edit the LDIF file like in
    <a class="xref" href="cha-security-ldap.html#aus-ldap-ldif-tux" title="Modified LDIF File tux.ldif">Example 5.5, “Modified LDIF File tux.ldif”</a>.
   </p><div class="example" id="aus-ldap-ldif-tux" data-id-title="Modified LDIF File tux.ldif"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 5.5: </span><span class="title-name">Modified LDIF File tux.ldif </span></span><a title="Permalink" class="permalink" href="cha-security-ldap.html#aus-ldap-ldif-tux">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen"># coworker Tux
dn: cn=Tux Linux,ou=devel,dc=example,dc=com
changetype: modify
replace: telephoneNumber
telephoneNumber: +49 1234 567-10</pre></div></div></div><p>
    Import the modified file into the LDAP directory with the following
    command:
   </p><div class="verbatim-wrap"><pre class="screen">ldapmodify -x -D cn=Administrator,dc=example,dc=com -W -f tux.ldif</pre></div><p>
    Alternatively, pass the attributes to change directly to
    <code class="command">ldapmodify</code> as follows:
   </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Start <code class="command">ldapmodify</code> and enter your password:
     </p><div class="verbatim-wrap"><pre class="screen">ldapmodify -x -D cn=Administrator,dc=example,dc=com -W
Enter LDAP password:</pre></div></li><li class="step"><p>
      Enter the changes while carefully complying with the syntax in the
      order presented below:
     </p><div class="verbatim-wrap"><pre class="screen">dn: cn=Tux Linux,ou=devel,dc=example,dc=com
changetype: modify
replace: telephoneNumber
telephoneNumber: +49 1234 567-10</pre></div></li></ol></div></div><p>
    For more information about <code class="command">ldapmodify</code> and its syntax,
    see the <code class="command">ldapmodify</code> man page.
   </p></section><section class="sect2" id="sec-security-ldap-data-search" data-id-title="Searching or Reading Data from an LDAP Directory"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">5.6.3 </span><span class="title-name">Searching or Reading Data from an LDAP Directory</span></span> <a title="Permalink" class="permalink" href="cha-security-ldap.html#sec-security-ldap-data-search">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    OpenLDAP provides, with <code class="command">ldapsearch</code>, a command line
    tool for searching data within an LDAP directory and reading data from
    it. This is a simple query:
   </p><div class="verbatim-wrap"><pre class="screen">ldapsearch -x -b dc=example,dc=com "(objectClass=*)"</pre></div><p>
    The <code class="option">-b</code> option determines the search base (the section
    of the tree within which the search should be performed). In the current
    case, this is <code class="literal">dc=example,dc=com</code>. To perform a more
    finely-grained search in specific subsections of the LDAP directory (for
    example, only within the <code class="literal">devel</code> department), pass this
    section to <code class="command">ldapsearch</code> with <code class="option">-b</code>.
    <code class="option">-x</code> requests activation of simple authentication.
    <code class="literal">(objectClass=*)</code> declares that all objects contained
    in the directory should be read. This command option can be used after
    the creation of a new directory tree to verify that all entries have
    been recorded correctly and the server responds as desired. For more
    information about the use of <code class="command">ldapsearch</code>, see the
    <code class="systemitem">ldapsearch(1)</code> man page.
   </p></section><section class="sect2" id="sec-security-ldap-data-del" data-id-title="Deleting Data from an LDAP Directory"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">5.6.4 </span><span class="title-name">Deleting Data from an LDAP Directory</span></span> <a title="Permalink" class="permalink" href="cha-security-ldap.html#sec-security-ldap-data-del">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Delete unwanted entries with <code class="command">ldapdelete</code>. The syntax
    is similar to that of the other commands. To delete, for example, the
    complete entry for <code class="literal">Tux Linux</code>, issue the following
    command:
   </p><div class="verbatim-wrap"><pre class="screen">ldapdelete -x -D cn=Administrator,dc=example,dc=com -W cn=Tux \
Linux,ou=devel,dc=example,dc=com</pre></div></section></section><section class="sect1" id="sec-security-ldap-sudoer" data-id-title="New negation feature in sudoers.ldap"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.7 </span><span class="title-name">New negation feature in sudoers.ldap</span></span> <a title="Permalink" class="permalink" href="cha-security-ldap.html#sec-security-ldap-sudoer">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
         If you are using sudoers.ldap, there is a useful change
         in <span class="package">sudo</span> versions 1.9.9 and up.
         In versions older than 1.9.9, negation in sudoers.ldap does
         not work for the <code class="literal">sudoUser</code>,
         <code class="literal">sudoRunAsUser</code>, or
         <code class="literal">sudoRunAsGroup</code> attributes. For example:
       </p><div class="verbatim-wrap"><pre class="screen"># does not match all but joe
# instead, it does not match anyone
sudoUser: !joe

# does not match all but joe
# instead, it matches everyone including Joe
sudoUser: ALL
sudoUser: !joe</pre></div><p>
    In <code class="command">sudo</code> version 1.9.9 and higher, negation is
    enabled for the <code class="literal">sudoUser</code> attribute, so you may
    exclude individual users. See
    <code class="command">man 5 sudoers.ldap</code> for more information.
  </p></section><section class="sect1" id="sec-security-ldap-info" data-id-title="For More Information"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.8 </span><span class="title-name">For More Information</span></span> <a title="Permalink" class="permalink" href="cha-security-ldap.html#sec-security-ldap-info">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/security_ldap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   More complex subjects (like SASL configuration or establishment of a
   replicating LDAP server that distributes the workload among multiple
   slaves) were omitted from this chapter. Find detailed information about
   both subjects in the <span class="emphasis"><em>OpenLDAP 2.4 Administrator's
   Guide</em></span>—see at
   <a class="xref" href="cha-security-ldap.html#list-ldap-info-adminguide">OpenLDAP 2.4 Administrator's Guide</a>.
  </p><p>
   The Web site of the OpenLDAP project offers exhaustive documentation for
   beginner and advanced LDAP users:
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.7.4.5.15.4.1"><span class="term">OpenLDAP Faq-O-Matic</span></dt><dd><p>
      A detailed question and answer collection applying to the
      installation, configuration, and use of OpenLDAP. Find it at
      <a class="link" href="http://www.openldap.org/faq/data/cache/1.html" target="_blank">http://www.openldap.org/faq/data/cache/1.html</a>.
     </p></dd><dt id="id-1.7.4.5.15.4.2"><span class="term">Quick Start Guide</span></dt><dd><p>
      Brief step-by-step instructions for installing your first LDAP server.
      Find it at
      <a class="link" href="http://www.openldap.org/doc/admin24/quickstart.html" target="_blank">http://www.openldap.org/doc/admin24/quickstart.html</a>
      or on an installed system in Section 2 of
      <code class="filename">/usr/share/doc/packages/openldap2/guide/admin/guide.html</code>.
     </p></dd><dt id="list-ldap-info-adminguide"><span class="term">OpenLDAP 2.4 Administrator's Guide</span></dt><dd><p>
      A detailed introduction to all important aspects of LDAP
      configuration, including access controls and encryption. See
      <a class="link" href="http://www.openldap.org/doc/admin24/" target="_blank">http://www.openldap.org/doc/admin24/</a> or, on an
      installed system,
      <code class="filename">/usr/share/doc/packages/openldap2/guide/admin/guide.html</code>.
     </p></dd><dt id="id-1.7.4.5.15.4.4"><span class="term">Understanding LDAP</span></dt><dd><p>
      A detailed general introduction to the basic principles of LDAP:
      <a class="link" href="http://www.redbooks.ibm.com/redbooks/pdfs/sg244986.pdf" target="_blank">http://www.redbooks.ibm.com/redbooks/pdfs/sg244986.pdf</a>.
     </p></dd></dl></div><p>
   Printed literature about LDAP:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     <em class="citetitle">LDAP System Administration</em> by Gerald Carter
     (ISBN 1-56592-491-6)
    </p></li><li class="listitem"><p>
     <em class="citetitle">Understanding and Deploying LDAP Directory
     Services</em> by Howes, Smith, and Good (ISBN 0-672-32316-8)
    </p></li></ul></div><p>
   The ultimate reference material for the subject of LDAP are the
   corresponding RFCs (request for comments), 2251 to 2256.
  </p></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="cha-security-auth.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 4 </span>Setting Up Authentication Servers and Clients Using YaST</span></a> </div><div><a class="pagination-link next" href="cha-security-kerberos.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 6 </span>Network Authentication with Kerberos</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="cha-security-ldap.html#sec-security-ldap-vs-nis"><span class="title-number">5.1 </span><span class="title-name">LDAP versus NIS</span></a></span></li><li><span class="sect1"><a href="cha-security-ldap.html#sec-security-ldap-tree"><span class="title-number">5.2 </span><span class="title-name">Structure of an LDAP Directory Tree</span></a></span></li><li><span class="sect1"><a href="cha-security-ldap.html#sec-security-ldap-yast-client"><span class="title-number">5.3 </span><span class="title-name">Configuring an LDAP Client with YaST</span></a></span></li><li><span class="sect1"><a href="cha-security-ldap.html#sec-security-ldap-yast-usergr"><span class="title-number">5.4 </span><span class="title-name">Configuring LDAP Users and Groups in YaST</span></a></span></li><li><span class="sect1"><a href="cha-security-ldap.html#sec-security-ldap-slapd"><span class="title-number">5.5 </span><span class="title-name">Manually Configuring an LDAP Server</span></a></span></li><li><span class="sect1"><a href="cha-security-ldap.html#sec-security-ldap-data"><span class="title-number">5.6 </span><span class="title-name">Manually Administering LDAP Data</span></a></span></li><li><span class="sect1"><a href="cha-security-ldap.html#sec-security-ldap-sudoer"><span class="title-number">5.7 </span><span class="title-name">New negation feature in sudoers.ldap</span></a></span></li><li><span class="sect1"><a href="cha-security-ldap.html#sec-security-ldap-info"><span class="title-number">5.8 </span><span class="title-name">For More Information</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>