<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLES 12 SP5 | AutoYaST | The Control File</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="The Control File | SLES 12 SP5"/>
<meta name="description" content=""/>
<meta name="product-name" content="SUSE Linux Enterprise Server"/>
<meta name="product-number" content="12 SP5"/>
<meta name="book-title" content="AutoYaST"/>
<meta name="chapter-title" content="Chapter 2. The Control File"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="fs@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE Linux Enterprise Server 12 SP5"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="AutoYaST Guide"/>
<meta property="og:description" content="Automate SLES installation with AutoYaST"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="AutoYaST Guide"/>
<meta name="twitter:description" content="Automate SLES installation with AutoYaST"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "The Control File",
  
    "description": "The Control File",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2019-12-09T00:00+02:00",
      
    "datePublished": "2019-12-09T00:00+02:00",
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="introduction.html" title="Chapter 1. Introduction"/><link rel="next" href="CreateProfile.html" title="Chapter 3. Creating a Control File"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/ay_bigfile.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">AutoYaST</a><span> / </span><a class="crumb" href="Profile.html">The Control File</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">AutoYaST</div><ol><li><a href="introduction.html" class=" "><span class="title-number">1 </span><span class="title-name">Introduction</span></a></li><li><a href="Profile.html" class=" you-are-here"><span class="title-number">2 </span><span class="title-name">The Control File</span></a></li><li><a href="CreateProfile.html" class=" "><span class="title-number">3 </span><span class="title-name">Creating a Control File</span></a></li><li><a href="configuration.html" class=" "><span class="title-number">4 </span><span class="title-name">Configuration and Installation Options</span></a></li><li><a href="rulesandclass.html" class=" "><span class="title-number">5 </span><span class="title-name">Rules and Classes</span></a></li><li><a href="Invoking.html" class=" "><span class="title-number">6 </span><span class="title-name">The Auto-Installation Process</span></a></li><li><a href="InstalledSystem.html" class=" "><span class="title-number">7 </span><span class="title-name">Running AutoYaST in an Installed System</span></a></li><li><a href="handlingrules.html" class=" "><span class="title-number">A </span><span class="title-name">Handling Rules</span></a></li><li><a href="app-ay-faq.html" class=" "><span class="title-number">B </span><span class="title-name">AutoYaST FAQ - Frequently Asked Questions</span></a></li><li><a href="appendix-linuxrc.html" class=" "><span class="title-number">C </span><span class="title-name">Advanced Linuxrc Options</span></a></li><li><a href="bk04apd.html" class=" "><span class="title-number">D </span><span class="title-name">GNU licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="Profile" data-id-title="The Control File"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber">12 SP5</span></span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">2 </span><span class="title-name">The Control File</span></span> <a title="Permalink" class="permalink" href="Profile.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/ay_bigfile.xml" title="Edit source document"> </a></div></div></div></div></div><section class="sect1" id="Profile-Intro" data-id-title="Introduction"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.1 </span><span class="title-name">Introduction</span></span> <a title="Permalink" class="permalink" href="Profile.html#Profile-Intro">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/ay_bigfile.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The control file usually is a configuration description for a single
    system. It consists of sets of resources with properties including
    support for complex structures such as lists, records, trees and large
    embedded or referenced objects.
   </p><div id="id-1.6.3.4.3" data-id-title="Control Files from Previous Releases are Incompatible" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Control Files from Previous Releases are Incompatible</div><p>
     A lot of major changes were introduced with <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> <span class="productnumber">12 SP5</span> (the
     switch to systemd and GRUB 2 for example). These changes also
     required fundamental changes in AutoYaST, therefore you cannot use
     AutoYaST control files created on previous <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> versions to install
     <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> <span class="productnumber">12 SP5</span> and vice versa.
    </p></div></section><section class="sect1" id="Profile-Format" data-id-title="Format"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.2 </span><span class="title-name">Format</span></span> <a title="Permalink" class="permalink" href="Profile.html#Profile-Format">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/ay_bigfile.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The XML configuration format provides a consistent file structure, which
    is easy to learn and to remember when attempting to configure a new
    system.
   </p><p>
    The AutoYaST control file uses XML to describe the system installation
    and configuration. XML is a commonly used markup, and many users are
    familiar with the concepts of the language and the tools used to process
    XML files. If you edit an existing control file or create a control file
    using an editor from scratch, it is strongly recommended to validate the
    control file. This can be done using a validating XML parser such as
    <code class="literal">xmllint</code> or <code class="literal">jing</code>, for example
    (see  <a class="xref" href="CreateProfile.html#CreateProfile-Manual" title="3.3. Creating/Editing a Control File Manually">Section 3.3, “Creating/Editing a Control File Manually”</a>).
   </p><p>
    The following example shows a control file in XML format:
   </p><div class="example" id="id-1.6.3.5.5" data-id-title="AutoYaST Control File (Profile)"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 2.1: </span><span class="title-name">AutoYaST Control File (Profile) </span></span><a title="Permalink" class="permalink" href="Profile.html#id-1.6.3.5.5">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/ay_bigfile.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE profile&gt;
&lt;profile
  xmlns="http://www.suse.com/1.0/yast2ns"
  xmlns:config="http://www.suse.com/1.0/configns"&gt;
  &lt;partitioning  config:type="list"&gt;
    &lt;drive&gt;
      &lt;device&gt;/dev/sda&lt;/device&gt;
      &lt;partitions config:type="list"&gt;
        &lt;partition&gt;
          &lt;filesystem config:type="symbol"&gt;btrfs&lt;/filesystem&gt;
          &lt;size&gt;10G&lt;/size&gt;
          &lt;mount&gt;/&lt;/mount&gt;
        &lt;/partition&gt;
        &lt;partition&gt;
          &lt;filesystem config:type="symbol"&gt;xfs&lt;/filesystem&gt;
          &lt;size&gt;120G&lt;/size&gt;
          &lt;mount&gt;/data&lt;/mount&gt;
        &lt;/partition&gt;
      &lt;/partitions&gt;
    &lt;/drive&gt;
  &lt;/partitioning&gt;
  &lt;scripts&gt;
    &lt;pre-scripts&gt;
      &lt;script&gt;
        &lt;interpreter&gt;shell&lt;/interpreter&gt;
        &lt;filename&gt;start.sh&lt;/filename&gt;
        &lt;source&gt;
        &lt;![CDATA[
#!/bin/sh
echo "Starting installation"
exit 0

]]&gt;

        &lt;/source&gt;
      &lt;/script&gt;
    &lt;/pre-scripts&gt;
  &lt;/scripts&gt;
&lt;/profile&gt;</pre></div></div></div></section><section class="sect1" id="Profile-Structure" data-id-title="Structure"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.3 </span><span class="title-name">Structure</span></span> <a title="Permalink" class="permalink" href="Profile.html#Profile-Structure">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/ay_bigfile.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Below is an example of a basic control file container, the actual
    content of which is explained later on in this chapter.
   </p><div class="example" id="id-1.6.3.6.3" data-id-title="Control file container"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 2.2: </span><span class="title-name">Control file container </span></span><a title="Permalink" class="permalink" href="Profile.html#id-1.6.3.6.3">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/ay_bigfile.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE profile&gt;
&lt;profile
  xmlns="http://www.suse.com/1.0/yast2ns"
  xmlns:config="http://www.suse.com/1.0/configns"&gt;
  &lt;!-- RESOURCES --&gt;
&lt;/profile&gt;</pre></div></div></div><p>
    The <code class="literal">&lt;profile&gt;</code> element (root node)
    contains one or more distinct resource elements. The permissible
    resource elements are specified in the schema files
   </p><section class="sect2" id="Profile-Format-ressources" data-id-title="Resources and Properties"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.3.1 </span><span class="title-name">Resources and Properties</span></span> <a title="Permalink" class="permalink" href="Profile.html#Profile-Format-ressources">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/ay_bigfile.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     A resource element either contains multiple and distinct property and
     resource elements, or multiple instances of the same resource element,
     or it is empty. The permissible content of a resource element is
     specified in the schema files.
    </p><p>
     A property element is either empty or contains a literal value. The
     permissible property elements and values in each resource element are
     specified in the schema files
    </p><p>
     An element can be either a container of other elements (a resource) or
     it has a literal value (a property); it can never be both. This
     restriction is specified in the schema files. A configuration component
     with more than one value must either be represented as an embedded list in a property value or as a nested resource.
    </p></section><section class="sect2" id="Profile-Format-ressources-nested" data-id-title="Nested Resources"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.3.2 </span><span class="title-name">Nested Resources</span></span> <a title="Permalink" class="permalink" href="Profile.html#Profile-Format-ressources-nested">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/ay_bigfile.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     Nested resource elements allow a tree-like structure of configuration
     components to be built to any level.
    </p><div class="example" id="id-1.6.3.6.6.3" data-id-title="Nested Resources"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 2.3: </span><span class="title-name">Nested Resources </span></span><a title="Permalink" class="permalink" href="Profile.html#id-1.6.3.6.6.3">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/ay_bigfile.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">...
&lt;drive&gt;
  &lt;device&gt;/dev/sda&lt;/device&gt;
  &lt;partitions&gt; &lt;!-- this is wrong, explanation below --&gt;
    &lt;partition&gt;
      &lt;size&gt;10G&lt;/size&gt;
      &lt;mount&gt;/&lt;/mount&gt;
    &lt;/partition&gt;
    &lt;partition&gt;
      &lt;size&gt;1G&lt;/size&gt;
      &lt;mount&gt;/tmp&lt;/mount&gt;
    &lt;/partition&gt;
  &lt;/partitions&gt;
&lt;/drive&gt;
....</pre></div></div></div><p>
     In the example above the disk resource consists of a device property
     and a partitions resource. The partitions resource contains multiple
     instances of the partition resource. Each partition resource contains a
     size and mount property.
    </p><p>
     The XML schema defines the partitions element as a resource supporting
     one or multiple partition element children. If only one partition
     resource is specified, it is important to use the
     <code class="literal">config:type</code> attribute of the partitions element to
     indicate that the content is a resource, in this case a list. Using the
     partitions element without specifying the type in this case will
     result in undefined behavior, as YaST will incorrectly interpret the
     partitions resource as a property. The example below illustrates this
     use case.
    </p><div class="example" id="id-1.6.3.6.6.6" data-id-title="Nested Resources with Type Attributes"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 2.4: </span><span class="title-name">Nested Resources with Type Attributes </span></span><a title="Permalink" class="permalink" href="Profile.html#id-1.6.3.6.6.6">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/ay_bigfile.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">...
&lt;drive&gt;
  &lt;device&gt;/dev/sda&lt;/device&gt;
  &lt;partitions config:type="list"&gt;
     &lt;partition&gt;
        &lt;size&gt;10G&lt;/size&gt;
        &lt;mount&gt;/&lt;/mount&gt;
     &lt;/partition&gt;
     &lt;partition&gt;
        &lt;size&gt;1G&lt;/size&gt;
        &lt;mount&gt;/tmp&lt;/mount&gt;
     &lt;/partition&gt;
  &lt;/partitions&gt;
&lt;/drive&gt;
....</pre></div></div></div></section><section class="sect2" id="Profile-Format-attributes" data-id-title="Attributes"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.3.3 </span><span class="title-name">Attributes</span></span> <a title="Permalink" class="permalink" href="Profile.html#Profile-Format-attributes">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/ay_bigfile.xml" title="Edit source document"> </a></div></div></div></div></div><p>
     Global attributes are used to define metadata on resources and
     properties. Attributes are used to define context switching. They are
     also used for naming and typing properties as shown in the previous
     sections. Attributes are in a separate namespace so they do not need to
     be treated as reserved words in the default namespace.
    </p><p>
     Global attributes are defined in the configuration namespace and must
     always be prefixed with <code class="literal">config:</code> . All attributes are
     optional. Most can be used with both resource and property elements but
     some can only be used with one type of element which is specified in
     the schema files.
    </p><p>
     The type of an element is defined using the
     <code class="literal">config:type</code> attribute. The type of a resource
     element is always RESOURCE, although this can also be made explicit
     with this attribute (to ensure correct identification of an empty
     element, for example, when there is no schema file to refer to). A
     resource element cannot be any other type and this restriction is
     specified in the schema file. The type of a property element determines
     the interpretation of its literal value. The type of a property element
     defaults to <code class="literal">STRING</code>, as specified in the schema file.
     The full set of permissible types is specified in the schema file.
    </p></section></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="introduction.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 1 </span>Introduction</span></a> </div><div><a class="pagination-link next" href="CreateProfile.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 3 </span>Creating a Control File</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="Profile.html#Profile-Intro"><span class="title-number">2.1 </span><span class="title-name">Introduction</span></a></span></li><li><span class="sect1"><a href="Profile.html#Profile-Format"><span class="title-number">2.2 </span><span class="title-name">Format</span></a></span></li><li><span class="sect1"><a href="Profile.html#Profile-Structure"><span class="title-number">2.3 </span><span class="title-name">Structure</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>