<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLES 12 SP5 | Subscription Management Tool Guide | Advanced Topics</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="Advanced Topics | SLES 12 SP5"/>
<meta name="description" content="This chapter covers usage scenarios beyond the regular workflow to give you more control over your SMT server."/>
<meta name="product-name" content="SUSE Linux Enterprise Server"/>
<meta name="product-number" content="12 SP5"/>
<meta name="book-title" content="Subscription Management Tool Guide"/>
<meta name="chapter-title" content="Chapter 10. Advanced Topics"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="fs@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE Linux Enterprise Server 12 SP5"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Subscription Management Tool Guide"/>
<meta property="og:description" content="Use SMT, a proxy system for SUSE Customer Center"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Subscription Management Tool Guide"/>
<meta name="twitter:description" content="Use SMT, a proxy system for SUSE Customer Center"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "Advanced Topics",
  
    "description": "Advanced Topics",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2019-12-09T00:00+02:00",
      
    "datePublished": "2019-12-09T00:00+02:00",
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="smt-client.html" title="Chapter 9. Configuring Clients to Use SMT"/><link rel="next" href="smt-app-api.html" title="Appendix A. SMT REST API"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_advanced.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">SMT Guide</a><span> / </span><a class="crumb" href="smt-advanced.html">Advanced Topics</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">SMT Guide</div><ol><li><a href="pre-smt.html" class=" "><span class="title-number"> </span><span class="title-name">About This Guide</span></a></li><li><a href="smt-overview.html" class=" "><span class="title-number">1 </span><span class="title-name">Overview</span></a></li><li><a href="smt-installation.html" class=" "><span class="title-number">2 </span><span class="title-name">SMT Installation</span></a></li><li><a href="smt-server.html" class=" "><span class="title-number">3 </span><span class="title-name">SMT Server Configuration</span></a></li><li><a href="smt-mirroring.html" class=" "><span class="title-number">4 </span><span class="title-name">Mirroring Repositories on the SMT Server</span></a></li><li><a href="smt-management.html" class=" "><span class="title-number">5 </span><span class="title-name">Managing Repositories with YaST SMT Server Management</span></a></li><li><a href="smt-registration.html" class=" "><span class="title-number">6 </span><span class="title-name">Managing Client Machines with SMT</span></a></li><li><a href="smt-reporting.html" class=" "><span class="title-number">7 </span><span class="title-name">SMT Reports</span></a></li><li><a href="smt-tools.html" class=" "><span class="title-number">8 </span><span class="title-name">SMT Tools and Configuration Files</span></a></li><li><a href="smt-client.html" class=" "><span class="title-number">9 </span><span class="title-name">Configuring Clients to Use SMT</span></a></li><li><a href="smt-advanced.html" class=" you-are-here"><span class="title-number">10 </span><span class="title-name">Advanced Topics</span></a></li><li><a href="smt-app-api.html" class=" "><span class="title-number">A </span><span class="title-name">SMT REST API</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="smt-advanced" data-id-title="Advanced Topics"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber">12 SP5</span></span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">10 </span><span class="title-name">Advanced Topics</span></span> <a title="Permalink" class="permalink" href="smt-advanced.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_advanced.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  This chapter covers usage scenarios beyond the regular workflow to
  give you more control over your SMT server.
 </p><section class="sect1" id="smt-backup" data-id-title="Backup of the SMT Server"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">10.1 </span><span class="title-name">Backup of the SMT Server</span></span> <a title="Permalink" class="permalink" href="smt-advanced.html#smt-backup">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_advanced.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Creating backups of the SMT server regularly can help restore it quickly
   and reliably if the server fails.
  </p><p>
   There are three main parts on the SMT server to back up:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Configuration files
    </p></li><li class="listitem"><p>
     Package repositories
    </p></li><li class="listitem"><p>
     The database
    </p></li></ul></div><section class="sect2" id="smt-backup-conf-files" data-id-title="Configuration Files and Repositories"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">10.1.1 </span><span class="title-name">Configuration Files and Repositories</span></span> <a title="Permalink" class="permalink" href="smt-advanced.html#smt-backup-conf-files">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_advanced.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The SMT server configuration is stored in the
    <code class="filename">/etc/smt.conf</code> file and files in the
    <code class="filename">/etc/smt.d</code> directory.
   </p><p>
    As SMT depends on the services provided by the Apache Web server and
    MariaDB database engine, you need to back up their configuration files as
    well. Apache configuration files are located in the
    <code class="filename">/etc/apache2</code> directory, while configuration of
    MariaDB is stored in <code class="filename">/etc/my.cnf</code>,
    <code class="filename">/etc/mysqlaccess.conf</code>, and files in the
    <code class="filename">/etc/my.cnf.d</code> directory.
   </p><p>
    Package repositories are stored in the
    <code class="filename">/srv/www/htdocs/repo</code> directory. While you can
    normally mirror the repositories on the restored server from the update
    server as well, the download can take a long time. Therefore backing up the
    repositories can save you time and bandwidth. Moreover, backing up
    the repositories is necessary if you are using repository staging and
    want to restore the snapshots of the repositories (see
    <a class="xref" href="smt-mirroring.html#smt-staging" title="4.6. Testing and Filtering Update Repositories with Staging">Section 4.6, “Testing and Filtering Update Repositories with Staging”</a>).
   </p><div id="id-1.9.12.3.5.5" data-id-title="Size of the Repositories" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: Size of the Repositories</div><p>
     The software repositories can be significant in size, and you will need to
     transfer them from the update server.
    </p></div><p>
    Use your preferred tool to back up the configuration and repository files.
   </p></section><section class="sect2" id="smt-backup-db" data-id-title="The Database"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">10.1.2 </span><span class="title-name">The Database</span></span> <a title="Permalink" class="permalink" href="smt-advanced.html#smt-backup-db">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_advanced.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    SMT uses the MariaDB database to store information about clients,
    registrations, machine data, which repositories are enabled for mirroring, and
    custom repositories. Unlike the configuration files and repositories, the
    database information cannot be recovered without a valid backup.
   </p><p>
    To back up the SMT database, you can for example create a cron job that
    performs an SQL dump into a plain text file:
   </p><div class="verbatim-wrap"><pre class="screen">mysqldump -u root -p <em class="replaceable">SMT_DB_PASSWORD</em> smt &gt; /<em class="replaceable">BACKUP_DIR</em>/smt-db-backup.sql</pre></div><p>
    Then add the resulting file to your regular backup jobs.
   </p></section></section><section class="sect1" id="smt-disconnected" data-id-title="Disconnected SMT Servers"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">10.2 </span><span class="title-name">Disconnected SMT Servers</span></span> <a title="Permalink" class="permalink" href="smt-advanced.html#smt-disconnected">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_advanced.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   In some restricted environments it is not possible for SMT servers to
   access the Internet because they are located on disconnected or isolated
   networks. In this case, you can back up the relevant data on an external
   storage device using special parameters with the SMT commands.
  </p><p>
   You need an external SMT server that mirrors the repositories
   from SUSE Customer Center. Then you can transfer these repositories to the SMT servers on
   the isolated network using the external storage device.
  </p><div class="figure" id="id-1.9.12.4.4"><div class="figure-contents"><div class="mediaobject"><a href="images/smt_disconnected.png"><img src="images/smt_disconnected.png" width="70%" alt="SMT Disconnected Setup" title="SMT Disconnected Setup"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 10.1: </span><span class="title-name">SMT Disconnected Setup </span></span><a title="Permalink" class="permalink" href="smt-advanced.html#id-1.9.12.4.4">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_advanced.xml" title="Edit source document"> </a></div></div></div><p>
   Although the initial setup of this solution requires additional
   configuration, the regular update synchronization with SUSE Customer Center and
   distribution to isolated servers is simple. The steps required during the
   initial setup are as follows:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Installing and configuring the external SMT server
    </p></li><li class="listitem"><p>
     Installing the internal server
    </p></li><li class="listitem"><p>
     Editing <code class="filename">/etc/smt.conf</code> and setting up a cron job on the
     internal SMT server
    </p></li><li class="listitem"><p>
     Transferring the SUSE Customer Center data from the external SMT server  to
     the internal server
    </p></li><li class="listitem"><p>
     Enabling and disabling repositories on the internal server
    </p></li><li class="listitem"><p>
     Creating an SMT database replacement file on the
     internal server—when performing mirror jobs, this file can be used
     instead of the normal MariaDB database 
    </p></li></ul></div><p>
   Day-to-day operation requires the following actions:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      Running the <code class="command">smt-mirror</code> job on the external
      server
    </p></li><li class="listitem"><p>
     Synchronizing the mirrored repositories from the external storage device to the
     internal SMT server
    </p></li></ul></div><p>
   Below is a detailed description of the individual steps.
  </p><div class="procedure" id="id-1.9.12.4.10" data-id-title="External SMT Server Configuration for the Disconnected Setup"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 10.1: </span><span class="title-name">External SMT Server Configuration for the Disconnected Setup </span></span><a title="Permalink" class="permalink" href="smt-advanced.html#id-1.9.12.4.10">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_advanced.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Install and configure SMT as described in
     <a class="xref" href="smt-installation.html" title="Chapter 2. SMT Installation">Chapter 2, <em>SMT Installation</em></a>.
    </p></li><li class="step"><p>
     Enable the repositories for use by the internal SMT servers.
    </p></li><li class="step"><p>
     Perform a standard repository mirroring from SUSE Customer Center with
     <code class="command">smt-mirror</code>.
    </p></li><li class="step"><p>
     Attach a removable storage device to the server and mount it.
    </p></li><li class="step"><p>
     Export the required SUSE Customer Center data to a directory on the mounted storage device:
    </p><ol type="a" class="substeps"><li class="step"><p>
       Create a directory with correct permissions for storing the data. Because
       the <code class="command">smt</code> commands run as the
       <code class="systemitem">smt</code> user (whose numeric UID
       can differ between the servers), you need to make permissions for
       the directories on the external storage device less restrictive:
      </p><div class="verbatim-wrap"><pre class="screen">chmod o+w <em class="replaceable">/path/to/scc/dir/on/storage/device</em></pre></div></li><li class="step"><p>
       Export the SUSE Customer Center data:
      </p><div class="verbatim-wrap"><pre class="screen">smt-sync --todir <em class="replaceable">/path/to/scc/dir/on/storage/device</em></pre></div></li></ol></li><li class="step"><p>
     Create a directory with correct permissions:
    </p><div class="verbatim-wrap"><pre class="screen">mkdir <em class="replaceable">/path/to/repository/on/storage/device</em>
chmod o+w <em class="replaceable">/path/to/repository/on/storage/device</em></pre></div></li><li class="step"><p>
     Unmount and detach the storage device.
    </p></li></ol></div></div><div class="procedure" id="id-1.9.12.4.11" data-id-title="Internal SMT Server Configuration for the Disconnected Setup"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 10.2: </span><span class="title-name">Internal SMT Server Configuration for the Disconnected Setup </span></span><a title="Permalink" class="permalink" href="smt-advanced.html#id-1.9.12.4.11">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_advanced.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Ensure you have a working SUSE Linux Enterprise Server installation source.
    </p></li><li class="step"><p>
     Install SMT the same way as on the external server with the following
     exceptions:
    </p><ol type="a" class="substeps"><li class="step"><p>Start the <span class="guimenu">SMT Wizard</span>:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>sudo yast2 smt-wizard</pre></div><p>The first step of the wizard shows the
       <span class="guimenu">Customer Center Configuration</span>.</p></li><li class="step"><p>
       In the <span class="guimenu">User</span> and <span class="guimenu">Password</span> text boxes,
       enter random strings (the boxes must not be left empty).
      </p></li><li class="step"><p>
       Set up the database, SSL certificate and everything else as you would
       normally do.</p></li><li class="step"><p>
       Finish the <span class="guimenu">SUSE Customer Center Configuration</span> wizard.
      </p></li><li class="step"><p>
       In the final step of the wizard, <span class="guimenu">Writing SMT Configuration</span>,
       ignore the following error message:
      </p><div class="verbatim-wrap"><pre class="screen">Running the synchronization script failed</pre></div></li></ol></li><li class="step"><p>
     Re-launch the YaST Subscription Management Tool Server Configuration module (<code class="command">yast2
     smt-server</code>) and go to the<span class="guimenu"> Scheduled SMT Jobs</span>
     tab.
    </p></li><li class="step"><p>
     Delete <code class="literal">SCC Registration</code> and <code class="literal">Synchronization of Updates</code> jobs.
    </p></li><li class="step"><p>
     Click <span class="guimenu">OK</span> to finish the wizard, provide the SMT
     user password, and acknowledge the synchronization error again.
    </p></li><li class="step"><p>
     Prevent registration data upstream synchronization to SUSE Customer Center by setting
    </p><div class="verbatim-wrap"><pre class="screen">forwardRegistration = false</pre></div><p>
     in <code class="filename">/etc/smt.conf</code>.
    </p></li><li class="step"><p>
     Connect an external storage device and mount it.
    </p></li><li class="step"><p>
     Populate the SMT database with the previously created SUSE Customer Center data:
    </p><div class="verbatim-wrap"><pre class="screen">smt-sync --fromdir <em class="replaceable">/path/to/scc/dir/on/mobile/disk</em></pre></div></li><li class="step"><p>
     Enable mirroring of the desired repositories using the <code class="command">smt-repos
     -e</code> command.
    </p></li><li class="step"><p>
     Create a database replacement file on the external storage device:
    </p><div class="verbatim-wrap"><pre class="screen">smt-sync --createdbreplacementfile <em class="replaceable">/path/to/dbrepl/file/on/mobile/disk</em></pre></div></li><li class="step"><p>
     Unmount and detach the storage device.
    </p></li></ol></div></div><p>
   Now the configuration of both the external and internal SMT servers is
   complete. However, the update repository is still empty. After you run the
   following daily operation routines for the first time, the repository will
   be synchronized, and the internal SMT server will be ready to serve clients.
  </p><div class="procedure" id="id-1.9.12.4.13" data-id-title="Daily External SMT Server Operation"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 10.3: </span><span class="title-name">Daily External SMT Server Operation </span></span><a title="Permalink" class="permalink" href="smt-advanced.html#id-1.9.12.4.13">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_advanced.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Connect an external storage device and mount it.
    </p></li><li class="step"><p>
     Perform a mirror to a directory on the storage device based on the file
     stored on it:
    </p><div class="verbatim-wrap"><pre class="screen">smt-mirror --dbreplfile <em class="replaceable">/path/to/dbrepl/file/on/storage/device/filename.xml</em> \
 --fromlocalsmt --directory <em class="replaceable">/path/to/repository/on/storage/device</em> \
 -L /var/log/smt/smt-mirror-example.log</pre></div></li><li class="step"><p>
     Update the database on the storage device with the product and subscription
     info from SUSE Customer Center:
    </p><div class="verbatim-wrap"><pre class="screen">smt-sync --todir <em class="replaceable">/path/to/scc/dir/on/storage/device</em></pre></div></li><li class="step"><p>
     Optionally, scan the storage device for viruses and other unwanted content.
    </p></li><li class="step"><p>
     Unmount and disconnect the storage device.
    </p></li></ol></div></div><div class="procedure" id="id-1.9.12.4.14" data-id-title="Daily Internal SMT Server Operation"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 10.4: </span><span class="title-name">Daily Internal SMT Server Operation </span></span><a title="Permalink" class="permalink" href="smt-advanced.html#id-1.9.12.4.14">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_advanced.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Connect a storage device and mount it.
    </p></li><li class="step"><p>
     Update the SUSE Customer Center data on the server:
    </p><div class="verbatim-wrap"><pre class="screen">smt-sync --fromdir <em class="replaceable">/path/to/scc/dir/on/storage/device</em></pre></div></li><li class="step"><p>
     Mirror from the storage device to the server:
    </p><div class="verbatim-wrap"><pre class="screen">smt-mirror --fromdir <em class="replaceable">/path/to/repository/on/storage/device</em></pre></div></li><li class="step"><p>
     Update the SUSE Customer Center data on the storage device with local changes in the mirror
     status since the last synchronization:
    </p><div class="verbatim-wrap"><pre class="screen">smt-sync --createdbreplacementfile <em class="replaceable">/path/to/dbrepl/file/on/storage/device/filename.xml</em></pre></div></li><li class="step"><p>
     Unmount and disconnect the storage device.
    </p></li></ol></div></div></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="smt-client.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 9 </span>Configuring Clients to Use SMT</span></a> </div><div><a class="pagination-link next" href="smt-app-api.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Appendix A </span>SMT REST API</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="smt-advanced.html#smt-backup"><span class="title-number">10.1 </span><span class="title-name">Backup of the SMT Server</span></a></span></li><li><span class="sect1"><a href="smt-advanced.html#smt-disconnected"><span class="title-number">10.2 </span><span class="title-name">Disconnected SMT Servers</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>