<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLES 12 SP5 | Subscription Management Tool Guide | Managing Repositories with YaST SMT Server Management</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="Managing Repositories with YaST SMT Server Management …"/>
<meta name="description" content="The YaST SMT Server Management module is designed to perform daily management tasks. It can be used to enable and disable the mirroring of repositori…"/>
<meta name="product-name" content="SUSE Linux Enterprise Server"/>
<meta name="product-number" content="12 SP5"/>
<meta name="book-title" content="Subscription Management Tool Guide"/>
<meta name="chapter-title" content="Chapter 5. Managing Repositories with YaST SMT Server Management"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="fs@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE Linux Enterprise Server 12 SP5"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Subscription Management Tool Guide"/>
<meta property="og:description" content="Use SMT, a proxy system for SUSE Customer Center"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Subscription Management Tool Guide"/>
<meta name="twitter:description" content="Use SMT, a proxy system for SUSE Customer Center"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "Managing Repositories with YaST SMT Server Management",
  
    "description": "Managing Repositories with YaST SMT Server Management",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2019-12-09T00:00+02:00",
      
    "datePublished": "2019-12-09T00:00+02:00",
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="smt-mirroring.html" title="Chapter 4. Mirroring Repositories on the SMT Server"/><link rel="next" href="smt-registration.html" title="Chapter 6. Managing Client Machines with SMT"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_management.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">SMT Guide</a><span> / </span><a class="crumb" href="smt-management.html">Managing Repositories with YaST SMT Server Management</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">SMT Guide</div><ol><li><a href="pre-smt.html" class=" "><span class="title-number"> </span><span class="title-name">About This Guide</span></a></li><li><a href="smt-overview.html" class=" "><span class="title-number">1 </span><span class="title-name">Overview</span></a></li><li><a href="smt-installation.html" class=" "><span class="title-number">2 </span><span class="title-name">SMT Installation</span></a></li><li><a href="smt-server.html" class=" "><span class="title-number">3 </span><span class="title-name">SMT Server Configuration</span></a></li><li><a href="smt-mirroring.html" class=" "><span class="title-number">4 </span><span class="title-name">Mirroring Repositories on the SMT Server</span></a></li><li><a href="smt-management.html" class=" you-are-here"><span class="title-number">5 </span><span class="title-name">Managing Repositories with YaST SMT Server Management</span></a></li><li><a href="smt-registration.html" class=" "><span class="title-number">6 </span><span class="title-name">Managing Client Machines with SMT</span></a></li><li><a href="smt-reporting.html" class=" "><span class="title-number">7 </span><span class="title-name">SMT Reports</span></a></li><li><a href="smt-tools.html" class=" "><span class="title-number">8 </span><span class="title-name">SMT Tools and Configuration Files</span></a></li><li><a href="smt-client.html" class=" "><span class="title-number">9 </span><span class="title-name">Configuring Clients to Use SMT</span></a></li><li><a href="smt-advanced.html" class=" "><span class="title-number">10 </span><span class="title-name">Advanced Topics</span></a></li><li><a href="smt-app-api.html" class=" "><span class="title-number">A </span><span class="title-name">SMT REST API</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="smt-management" data-id-title="Managing Repositories with YaST SMT Server Management"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber">12 SP5</span></span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">5 </span><span class="title-name">Managing Repositories with YaST SMT Server Management</span></span> <a title="Permalink" class="permalink" href="smt-management.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_management.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The YaST SMT Server Management module is designed to perform daily
  management tasks. It can be used to enable and disable the mirroring of
  repositories, the staging flag for repositories, and perform the
  mirroring and staging.
 </p><section class="sect1" id="smt-yast-staging-starting" data-id-title="Starting SMT Management Module"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.1 </span><span class="title-name">Starting SMT Management Module</span></span> <a title="Permalink" class="permalink" href="smt-management.html#smt-yast-staging-starting">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_management.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   SMT Management is a YaST module. There are two ways to start the module:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Start YaST and select <span class="guimenu">Network Services</span>, then
     <span class="guimenu">SMT Server Management</span>
    </p></li><li class="listitem"><p>
     Run the  <code class="command">yast2 smt</code> command in the terminal as <code class="systemitem">root</code>
    </p></li></ul></div><p>
   This opens the SMT Management application window and switches to the
   <span class="guimenu">Repositories</span> section.
  </p><div class="figure" id="id-1.9.7.4.5"><div class="figure-contents"><div class="mediaobject"><a href="images/smt_repos.png"><img src="images/smt_repos.png" width="75%" alt="List of Repositories" title="List of Repositories"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 5.1: </span><span class="title-name">List of Repositories </span></span><a title="Permalink" class="permalink" href="smt-management.html#id-1.9.7.4.5">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_management.xml" title="Edit source document"> </a></div></div></div></section><section class="sect1" id="smt-yast-staging-viewing" data-id-title="Viewing and Managing Repositories"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.2 </span><span class="title-name">Viewing and Managing Repositories</span></span> <a title="Permalink" class="permalink" href="smt-management.html#smt-yast-staging-viewing">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_management.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   In the <span class="guimenu">Repositories</span> section, you can see the list of all
   available package repositories for SMT. For each repository, the list
   shows the repository's name, target product and architecture, mirroring and
   staging flag, date of last mirroring, and a short description. Sort
   the list by clicking the desired column header, and scroll the list items
   using the scrollbar on the right side.
  </p><section class="sect2" id="smt-yast-staging-viewing-filter" data-id-title="Filtering Repositories"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">5.2.1 </span><span class="title-name">Filtering Repositories</span></span> <a title="Permalink" class="permalink" href="smt-management.html#smt-yast-staging-viewing-filter">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_management.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    You can also filter out groups of repositories using the <span class="guimenu">Repository
    Filter</span> text box. Enter the desired filter term and click
    <span class="guimenu">Filter</span> to see only the matching entries. To cancel the
    current filter and display all repositories, clear the <span class="guimenu">Repository
    Filter</span> field and click <span class="guimenu">Filter</span>.
   </p><div class="figure" id="id-1.9.7.5.3.3"><div class="figure-contents"><div class="mediaobject"><a href="images/smt_repo_filter.png"><img src="images/smt_repo_filter.png" width="70%" alt="Repository Filter" title="Repository Filter"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 5.2: </span><span class="title-name">Repository Filter </span></span><a title="Permalink" class="permalink" href="smt-management.html#id-1.9.7.5.3.3">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_management.xml" title="Edit source document"> </a></div></div></div></section><section class="sect2" id="smt-yast-staging-viewing-mirror" data-id-title="Mirroring Repositories"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">5.2.2 </span><span class="title-name">Mirroring Repositories</span></span> <a title="Permalink" class="permalink" href="smt-management.html#smt-yast-staging-viewing-mirror">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_management.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Before you can offer package repositories, you need to create a
    local mirror of their packages. To do this, follow the procedure below.
   </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      From the list, select the line containing the name of the repository you
      want to mirror.
     </p></li><li class="step"><p>
      Click the selected line to highlight it.
     </p></li><li class="step"><p>
      Click the <span class="guimenu">Toggle Mirroring</span> button in the lower-left
      part of the window. This enables the option in the <span class="guimenu">Mirroring</span> column of the
      selected repository. If the repository was already
      selected for mirroring, clicking the <span class="guimenu">Toggle Mirroring</span>
      button disables the mirroring.
     </p></li><li class="step"><p>
      Hit the <span class="guimenu">Mirror Now</span> button to mirror the repository.
     </p></li><li class="step"><p>
      A pop-up window appears with the information about mirroring status and
      result.
     </p></li><li class="step"><p>
      Click <span class="guimenu">OK</span> to refresh the list of repositories.
     </p></li></ol></div></div><div class="figure" id="id-1.9.7.5.4.4"><div class="figure-contents"><div class="mediaobject"><a href="images/smt_mirroring-done.png"><img src="images/smt_mirroring-done.png" width="75%" alt="Status of Mirroring Process" title="Status of Mirroring Process"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 5.3: </span><span class="title-name">Status of Mirroring Process </span></span><a title="Permalink" class="permalink" href="smt-management.html#id-1.9.7.5.4.4">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_management.xml" title="Edit source document"> </a></div></div></div></section></section><section class="sect1" id="smt-yast-staging-stage" data-id-title="Staging Repositories"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.3 </span><span class="title-name">Staging Repositories</span></span> <a title="Permalink" class="permalink" href="smt-management.html#smt-yast-staging-stage">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_management.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   After the mirroring is finished, you can stage the mirrored repositories. In
   SMT, <span class="emphasis"><em>staging</em></span> is a process where you create either
   testing or production repositories based on the mirrored ones. The testing
   repository helps you examine the repository and its packages before you make
   them available in a production environment. To make repositories available
   for staging, follow the steps below.
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     From the repository list, select the line containing the name of the
     repository you want to manage.
    </p></li><li class="step"><p>
     Click the selected line to highlight it.
    </p></li><li class="step"><p>
     Click the <span class="guimenu">Toggle Staging</span> button next to the
     <span class="guimenu">Toggle Mirroring</span> button. This enables the option in
     the <span class="guimenu">Staging</span> column of the selected repository. If the
     repository was already selected for staging before, clicking the
     <span class="guimenu">Toggle Staging</span> button disables staging.
    </p></li><li class="step"><p>
     Repeat steps 1 to 3 for all directories you want to stage.
    </p></li></ol></div></div><div id="id-1.9.7.6.4" data-id-title="Toggle Staging Button Not Active" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Toggle Staging Button Not Active</div><p>
    You can only stage the repositories that were previously selected for
    mirroring. Otherwise, the <span class="guimenu">Toggle Staging</span>
    button will disabled.
   </p></div><p>
   After you have mirrored the repositories and made them available for staging, click
   the <span class="guimenu">Staging</span> tab. In the upper-left part of the window,
   you will find the <span class="guimenu">Repository Name</span> drop-down box
   containing all repositories available for staging. The repository names there
   have the name of the attached staging group. Select the group
   you want to stage, and you should see a list of packages in this repository.
   For each patch, there is information about the patch name, its version and category, testing and
   production flags, and a short summary.
  </p><p>
   Next to the <span class="guimenu">Repository Name</span> drop-down box, there is a
   <span class="guimenu">Patch Category</span> filter. It can be used for listing only the
   patches that belong to one of the predefined categories.
  </p><p>
   If the selected repository allows for patch filtering, you can toggle the
   status flag for individual patches. This is done by clicking the <span class="guimenu">Toggle
   Patch Status</span> button.
  </p><p>
   Before creating a repository of packages that are available in the
   <span class="emphasis"><em>production</em></span> environment, you need to create and test the
   <span class="emphasis"><em>testing</em></span> repository. Select the <span class="guimenu">From Full Mirror to
   Testing</span> item from the <span class="guimenu">Create Snapshot</span> drop-down
   list. A small pop-up window appears informing you
   about the staging process. After the testing repository snapshot has been created,
   you should see the appropriate options enabled in the <span class="guimenu">Testing</span> column.
  </p><div class="figure" id="id-1.9.7.6.9"><div class="figure-contents"><div class="mediaobject"><a href="images/smt_staging1.png"><img src="images/smt_staging1.png" width="75%" alt="Testing Created Snapshot" title="Testing Created Snapshot"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 5.4: </span><span class="title-name">Testing Created Snapshot </span></span><a title="Permalink" class="permalink" href="smt-management.html#id-1.9.7.6.9">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_management.xml" title="Edit source document"> </a></div></div></div><div id="id-1.9.7.6.10" data-id-title="Creating a Production Snapshot" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Creating a Production Snapshot</div><p>
    After you have enabled <span class="emphasis"><em>staging</em></span> for an update repository, you
    need to create its <span class="emphasis"><em>production</em></span> snapshot to make it
    available to the clients. Otherwise, the clients cannot find
    the update repository.
   </p></div><p>
   Select the <span class="guimenu">From Testing to Production</span>
   item from the <span class="guimenu">Create Snapshot</span>
   drop-down box. A small pop-up window appears informing you about linking the
   testing repository to the production one. After the production snapshot has been
   created, you should see the appropriate options enabled in the <span class="guimenu">Production</span>
   column. Also, a green check mark appears in the <span class="guimenu">Repository Name</span> drop-down box.
  </p></section><section class="sect1" id="smt-yast-staging-client" data-id-title="Jobs and Client Status Monitoring"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.4 </span><span class="title-name">Jobs and Client Status Monitoring</span></span> <a title="Permalink" class="permalink" href="smt-management.html#smt-yast-staging-client">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_management.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   For each client that is registered against the SMT server, SMT creates a
   job queue. To use the job queue, you need to install the
   <code class="systemitem">smt-client</code> package on the client. During the
   installation of the <code class="systemitem">smt-client</code> package, a cron job
   is created that runs the client executable
   <code class="command">/usr/sbin/smt-agent</code> every three hours. The
   agent then asks the server if it has any jobs in the queue belonging to this
   client and executes these jobs. When there are no more jobs in the queue,
   the agent terminates completely. It is important to understand that jobs are
   not pushed directly to the clients when they get created. They are not
   executed until the client asks for them at the intervals specified in the cron job.
   Therefore, from the time a job is created on the server until it is executed on the
   client, a delay of several hours may occur.
  </p><p>
   Every job can have a parent job. This means that the child job only runs
   after the parent job has successfully finished. It is also possible to configure
   advanced timing and recurrence and persistence of jobs. You can find more
   details about SMT jobs in <a class="xref" href="smt-tools.html#smt-scripts-job" title="8.1.2.3. smt-job">Section 8.1.2.3, “smt-job”</a>.
  </p><p>
   When creating jobs, you need to specify the GUID of the target clients using
   the <code class="option">-g <em class="replaceable">GUID</em></code> parameter. Although
   the <code class="option">-g</code> parameter can be specified multiple times in a
   single command, you cannot use wild cards to assign a job to all
   clients.
  </p><p>
   Currently, the following types of jobs are available:
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.7.7.6.1"><span class="term">Execute</span></dt><dd><p>
      Run commands on the client
     </p></dd><dt id="id-1.9.7.7.6.2"><span class="term">Eject</span></dt><dd><p>
      Open, close, or toggle the CD tray of the client
     </p></dd><dt id="id-1.9.7.7.6.3"><span class="term">Patchstatus</span></dt><dd><p>
      Report the status of installed patches
     </p></dd><dt id="id-1.9.7.7.6.4"><span class="term">Reboot</span></dt><dd><p>
      Reboot the client
     </p></dd><dt id="id-1.9.7.7.6.5"><span class="term">Softwarepush</span></dt><dd><p>
      Install packages
     </p></dd><dt id="id-1.9.7.7.6.6"><span class="term">Update</span></dt><dd><p>
      Install available updates
     </p></dd></dl></div><div id="id-1.9.7.7.7" data-id-title="Default Job Types" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Default Job Types</div><p>
    By default only <code class="literal">softwarepush</code>, <code class="literal">patchstatus</code>, and <code class="literal">update</code> jobs are
    allowed. To allow more types of jobs, append the job type to the
    <code class="literal">ALLOWED_AGENTS</code> list in
    <code class="filename">/etc/sysconfig/smt-client</code>.
   </p></div><p>
   All clients that register against the SMT server automatically get a
   persistent <code class="literal">patchstatus</code> job added to their job queue. This
   is also the case for
   clients without the <code class="systemitem">smt-clients</code> package (SUSE Linux Enterprise 10 and
   older, or non-SUSE based distributions). These clients appear with the
   <code class="literal">Unknown</code> patchstatus in the client lists. The <code class="literal">patchstatus</code> jobs for
   such clients are not required, and clients can safely be deleted to clean
   up the output of <code class="command">smt-job</code>. Keep in mind that if you
   update a machine to SUSE Linux Enterprise 11 or later, you need to create the
   <code class="literal">patchstatus</code> job manually.
  </p><p>
   Whenever the client runs a <code class="literal">patchstatus</code> job, it compares the currently
   installed updates with what is available in the repositories on the SMT
   server. The job then reports back the number of missing patches that need to
   be installed in each of the four categories:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Security
    </p></li><li class="listitem"><p>
     Package Manager
    </p></li><li class="listitem"><p>
     Recommended
    </p></li><li class="listitem"><p>
     Optional
    </p></li></ul></div><div id="id-1.9.7.7.11" data-id-title="The --agreelicense Option" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: The <code class="option">--agreelicense</code> Option</div><p>
    To install a package and its dependencies, the job type <code class="literal">softwarepush</code> is
    used. When creating this type of job, it is a good idea to use the
    <code class="option">--agreelicense</code> option. If a
    package displays a license agreement and expects it to be accepted, the job
    will skip the package if <code class="option">--agreelicense</code> is not
    specified. The <code class="command">smt-client</code> command forwards the installation
    process to <code class="command">zypper</code>, which does not consider a failed
    acceptance of a license agreement to be an error. This results in the job
    being completed successfully, even if the package is not installed. Using the
    <code class="option">--agreelicense</code> option prevents this from happening.
   </p></div><section class="sect2" id="smt-yast-staging-client-yast" data-id-title="Checking the Client Status with YaST"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">5.4.1 </span><span class="title-name">Checking the Client Status with YaST</span></span> <a title="Permalink" class="permalink" href="smt-management.html#smt-yast-staging-client-yast">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_management.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The <span class="guimenu">Clients Status</span> section of the <span class="guimenu">SMT
    Management</span> window provides the status information about all the
    clients that use the repositories on your SMT server. This information
    consists of two main parts: the list of the clients and the detailed information.
   </p><p>
    You can see the client's host name, the date and time of the last network
    contact with the SMT server, and its update status. The update status can
    be one of the following:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.7.7.12.4.1"><span class="term">Up-to-date</span></dt><dd><p>
       The client packages are updated to their last version available in the
       production repository
      </p></dd><dt id="id-1.9.7.7.12.4.2"><span class="term">Updates available</span></dt><dd><p>
       This status means that there are updates available for the client that
       are either <code class="literal">optional</code> or
       <code class="literal">recommended</code>
      </p></dd><dt id="id-1.9.7.7.12.4.3"><span class="term">Critical</span></dt><dd><p>
       Either <code class="literal">security</code> patches or <code class="literal">package
       manager</code> patches are available for the client
      </p></dd></dl></div><p>
    Detailed information about the selected client is available in the lower
    part of the window. This usually includes extended status
    information and detailed information about the number and types of
    available updates.
   </p><div class="figure" id="id-1.9.7.7.12.6"><div class="figure-contents"><div class="mediaobject"><a href="images/smt_clients_status.png"><img src="images/smt_clients_status.png" width="75%" alt="Clients Status" title="Clients Status"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 5.5: </span><span class="title-name">Clients Status </span></span><a title="Permalink" class="permalink" href="smt-management.html#id-1.9.7.7.12.6">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_management.xml" title="Edit source document"> </a></div></div></div><p>
    The date and time in the <span class="guimenu">Last Contact</span> column is the
    last time contact of the server—even if it only ran the regular
    registration update script. This date is not the date of the last
    'patchstatus' report. The <code class="command">smt-client</code> command-line tool
    prints the correct date and calls it <code class="literal">Patch Status Date</code>.
    The <code class="command">smt-client -v</code> command prints both dates: the
    <code class="literal">patchstatus</code> date
    and the last contact of the client system.
   </p><div id="id-1.9.7.7.12.8" data-id-title="Hidden Patches" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Hidden Patches</div><p>
     Some patches may not be visible if they are required by other patches that
     are only shown as available after the package manager patch or patches
     have been installed.
    </p></div></section></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="smt-mirroring.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 4 </span>Mirroring Repositories on the SMT Server</span></a> </div><div><a class="pagination-link next" href="smt-registration.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 6 </span>Managing Client Machines with SMT</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="smt-management.html#smt-yast-staging-starting"><span class="title-number">5.1 </span><span class="title-name">Starting SMT Management Module</span></a></span></li><li><span class="sect1"><a href="smt-management.html#smt-yast-staging-viewing"><span class="title-number">5.2 </span><span class="title-name">Viewing and Managing Repositories</span></a></span></li><li><span class="sect1"><a href="smt-management.html#smt-yast-staging-stage"><span class="title-number">5.3 </span><span class="title-name">Staging Repositories</span></a></span></li><li><span class="sect1"><a href="smt-management.html#smt-yast-staging-client"><span class="title-number">5.4 </span><span class="title-name">Jobs and Client Status Monitoring</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>