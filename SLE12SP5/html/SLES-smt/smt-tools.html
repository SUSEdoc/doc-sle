<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLES 12 SP5 | Subscription Management Tool Guide | SMT Tools and Configuration Files</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="SMT Tools and Configuration Files | SLES 12 SP5"/>
<meta name="description" content="This chapter describes the most important scripts, configuration files and certificates shipped with SMT."/>
<meta name="product-name" content="SUSE Linux Enterprise Server"/>
<meta name="product-number" content="12 SP5"/>
<meta name="book-title" content="Subscription Management Tool Guide"/>
<meta name="chapter-title" content="Chapter 8. SMT Tools and Configuration Files"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="fs@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE Linux Enterprise Server 12 SP5"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Subscription Management Tool Guide"/>
<meta property="og:description" content="Use SMT, a proxy system for SUSE Customer Center"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Subscription Management Tool Guide"/>
<meta name="twitter:description" content="Use SMT, a proxy system for SUSE Customer Center"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "SMT Tools and Configuration Files",
  
    "description": "SMT Tools and Configuration Files",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2019-12-09T00:00+02:00",
      
    "datePublished": "2019-12-09T00:00+02:00",
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="smt-reporting.html" title="Chapter 7. SMT Reports"/><link rel="next" href="smt-client.html" title="Chapter 9. Configuring Clients to Use SMT"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_tools.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">SMT Guide</a><span> / </span><a class="crumb" href="smt-tools.html">SMT Tools and Configuration Files</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">SMT Guide</div><ol><li><a href="pre-smt.html" class=" "><span class="title-number"> </span><span class="title-name">About This Guide</span></a></li><li><a href="smt-overview.html" class=" "><span class="title-number">1 </span><span class="title-name">Overview</span></a></li><li><a href="smt-installation.html" class=" "><span class="title-number">2 </span><span class="title-name">SMT Installation</span></a></li><li><a href="smt-server.html" class=" "><span class="title-number">3 </span><span class="title-name">SMT Server Configuration</span></a></li><li><a href="smt-mirroring.html" class=" "><span class="title-number">4 </span><span class="title-name">Mirroring Repositories on the SMT Server</span></a></li><li><a href="smt-management.html" class=" "><span class="title-number">5 </span><span class="title-name">Managing Repositories with YaST SMT Server Management</span></a></li><li><a href="smt-registration.html" class=" "><span class="title-number">6 </span><span class="title-name">Managing Client Machines with SMT</span></a></li><li><a href="smt-reporting.html" class=" "><span class="title-number">7 </span><span class="title-name">SMT Reports</span></a></li><li><a href="smt-tools.html" class=" you-are-here"><span class="title-number">8 </span><span class="title-name">SMT Tools and Configuration Files</span></a></li><li><a href="smt-client.html" class=" "><span class="title-number">9 </span><span class="title-name">Configuring Clients to Use SMT</span></a></li><li><a href="smt-advanced.html" class=" "><span class="title-number">10 </span><span class="title-name">Advanced Topics</span></a></li><li><a href="smt-app-api.html" class=" "><span class="title-number">A </span><span class="title-name">SMT REST API</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="smt-tools" data-id-title="SMT Tools and Configuration Files"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber">12 SP5</span></span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">8 </span><span class="title-name">SMT Tools and Configuration Files</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_tools.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  This chapter describes the most important scripts, configuration files and
  certificates shipped with SMT.
 </p><section class="sect1" id="smt-scripts" data-id-title="Important Scripts and Tools"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">8.1 </span><span class="title-name">Important Scripts and Tools</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#smt-scripts">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_scripts.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    There are two important groups of SMT commands: The
    <code class="command">smt</code> command and its sub-commands are used for managing
    the mirroring of updates, registration of clients, and reporting. The
    <code class="systemitem">systemd</code> <code class="systemitem">smt.target</code> is used for starting,
    stopping, restarting the SMT service and services that SMT depends on,
    and for checking their status.
  </p><section class="sect2" id="smt-scripts-que" data-id-title="SMT JobQueue"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">8.1.1 </span><span class="title-name">SMT JobQueue</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#smt-scripts-que">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_scripts.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      Since SUSE Linux Enterprise version 11, there is a new SMT service called SMT
      JobQueue for delegating <span class="emphasis"><em>jobs</em></span> to the registered
      clients.
    </p><p>
      To enable JobQueue, the <code class="systemitem">smt-client</code> package needs
      to be installed on the SMT client. The client then pulls jobs from the
      server via a cron job (every 3 hours by default). The list of jobs is
      maintained on the server. Jobs are not pushed directly to the clients and
      processed immediately: instead, the client asks for them. Therefore, a
      delay of several hours may occur.
    </p><p>
      Every job can have its parent job, which sets a dependency. The child job
      only runs after the parent job successfully finished. Job timing is also
      possible: a job can have a start time and an expiration time to define
      its earliest execution time or the time the job expires. A job may also
      be persistent. It is run repeatedly with a delay. For example, a patch
      status job is a persistent job that runs once a day. For each client, a
      patch status job is automatically generated after it registers
      successfully against an SMT 11 server. The
      <code class="literal">patchstatus</code> information can be queried with the
      <code class="command">smt-client</code> command. For already registered clients,
      you can add <code class="literal">patchstatus</code> jobs manually with the
      <code class="command">smt-job</code> command.
    </p><p>
      You can edit, list, create and delete the jobs using the
      <code class="command">smt-job</code> command-line tool. For more details on
      <code class="command">smt-job</code>, see <a class="xref" href="smt-tools.html#smt-scripts-job" title="8.1.2.3. smt-job">Section 8.1.2.3, “smt-job”</a>.
    </p><div id="id-1.9.10.4.3.6" data-id-title="Overriding the Automatic Creation of Patch Status Jobs" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Overriding the Automatic Creation of Patch Status Jobs</div><p>
        When creating a software push or an update job, normally a
        non-persistent patch status job is added automatically. The parent ID
        is set to the ID of the new job. To disable this behavior, use the
        <code class="option">--no-autopatchstatus</code> option.
      </p></div><p>
      SMT is not intended to be a system to directly access the clients or to
      immediately report the results back. It is a long-term maintenance and
      monitoring system rather than a live interaction tool.
    </p><div id="id-1.9.10.4.3.8" data-id-title="Job Time Lag Limitation" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Job Time Lag Limitation</div><p>
        The client normally processes one job at a time, reports back the
        result, and then asks for the next job. If you create a persistent job
        with a time offset of only a few seconds, it is repeated forever and
        blocks other jobs. Therefore, adding jobs with a time offset shorter
        than one minute is not supported.
      </p></div></section><section class="sect2" id="smt-scripts-smt" data-id-title="/usr/sbin/smt Commands"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">8.1.2 </span><span class="title-name">/usr/sbin/smt Commands</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#smt-scripts-smt">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_scripts.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      The key command to manage the SMT is <code class="command">smt</code>
      (<code class="filename">/usr/sbin/smt</code>). The <code class="command">smt</code> command
      should be used together with certain sub-commands described in this
      section. If the <code class="command">smt</code> command is used alone, it prints a
      list of all available sub-commands. To get help for individual
      sub-commands, use <code class="command">smt</code>
      <em class="replaceable">SUBCOMMAND</em> --help.
    </p><p>
      The following sub-commands are available:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
          
          <code class="command">smt-client</code>
        </p></li><li class="listitem"><p>
          
          <code class="command">smt-delete-registration</code>
        </p></li><li class="listitem"><p>
          
          <code class="command">smt-job</code>
        </p></li><li class="listitem"><p>
          
          <code class="command">smt-list-products</code>
        </p></li><li class="listitem"><p>
          
          <code class="command">smt-list-registrations</code>
        </p></li><li class="listitem"><p>
          <code class="command">smt-mirror</code>
        </p></li><li class="listitem"><p>
          <code class="command">smt-scc-sync</code>
        </p></li><li class="listitem"><p>
          <code class="command">smt-register</code>
        </p></li><li class="listitem"><p>
          <code class="command">smt-report</code>
        </p></li><li class="listitem"><p>
          <code class="command">smt-repos</code>
        </p></li><li class="listitem"><p>
          <code class="command">smt-setup-custom-repos</code>
        </p></li><li class="listitem"><p>
          <code class="command">smt-staging</code>
        </p></li><li class="listitem"><p>
          <code class="command">smt-support</code>
        </p></li><li class="listitem"><p>
          <code class="command">smt-sync</code>
        </p></li></ul></div><p>
      There are two syntax types you can use with the <code class="command">smt</code>
      command: <code class="command">smt</code> followed by a sub-command or a single
      command consisting of <code class="command">smt</code> followed by the dash and the
      desired sub-command. For example, it is possible to use either
      <code class="command">smt mirror</code> or <code class="command">smt-mirror</code>, as both
      have the same meaning.
    </p><div id="id-1.9.10.4.4.6" data-id-title="Conflicting Commands" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Conflicting Commands</div><p>
        Depending on your <code class="literal">$PATH</code> environment variable, the
        SMT <code class="command">smt</code> command
        (<code class="filename">/usr/sbin/smt</code>) may collide with the
        <code class="command">smt</code> command from the <code class="systemitem">star</code>
        package (<code class="filename">/usr/bin/smt</code>). Either use the absolute
        path <code class="filename">/usr/sbin/smt</code>, create an alias, or set your
        <code class="literal">$PATH</code> accordingly.
      </p><p>
        Another solution is to always use the <code class="command">smt-</code>
        <em class="replaceable">SUBCOMMAND</em> syntax.
      </p></div><section class="sect3" id="id-1.9.10.4.4.7" data-id-title="smt-client"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.1.2.1 </span><span class="title-name">smt-client</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#id-1.9.10.4.4.7">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_scripts.xml" title="Edit source document"> </a></div></div></div></div></div><p>
        The <code class="command">smt-client</code> command shows information about
        registered clients. The information includes the following:
      </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
            guid
          </p></li><li class="listitem"><p>
            host name
          </p></li><li class="listitem"><p>
            patch status
          </p></li><li class="listitem"><p>
            time stamps of the patch status
          </p></li><li class="listitem"><p>
            last contact with the SMT server
          </p></li></ul></div><p>
        The <code class="command">smt-client</code> supports the following options:
      </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.4.4.7.5.1"><span class="term"><code class="option">--verbose</code> or <code class="option">-v</code></span></dt><dd><p>
              Shows detailed information about the client. The last contact
              date is shown as well.
            </p></dd><dt id="id-1.9.10.4.4.7.5.2"><span class="term"><code class="option">--debug</code> or <code class="option">-d</code></span></dt><dd><p>
              Enables debugging mode.
            </p></dd><dt id="id-1.9.10.4.4.7.5.3"><span class="term"><code class="option">--logfile</code> or <code class="option">-L</code> with the parameter <em class="replaceable">LOGFILE</em></span></dt><dd><p>
              Specifies the file to write the log messages to.
            </p></dd><dt id="id-1.9.10.4.4.7.5.4"><span class="term"><code class="option">--hostname</code> or <code class="option">-h</code> with the parameter <em class="replaceable">HOSTNAME</em></span></dt><dd><p>
              Lists the entries whose host name begins with
              <em class="replaceable">HOSTNAME</em>.
            </p></dd><dt id="id-1.9.10.4.4.7.5.5"><span class="term"><code class="option">--guid</code> or <code class="option">-g</code> with the parameter <em class="replaceable">ID</em></span></dt><dd><p>
              Lists the entries whose GUID is <em class="replaceable">ID</em>.
            </p></dd><dt id="id-1.9.10.4.4.7.5.6"><span class="term"><code class="option">--severity</code> or <code class="option">-s</code> with the parameter <em class="replaceable">LEVEL</em></span></dt><dd><p>
              Filters the result by the patch status information. The value
              <em class="replaceable">level</em> can be one of
              <code class="literal">packagemanager</code>, <code class="literal">security</code>,
              <code class="literal">recommended</code> or <code class="literal">optional</code>.
            </p></dd></dl></div></section><section class="sect3" id="id-1.9.10.4.4.8" data-id-title="smt-delete-registration"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.1.2.2 </span><span class="title-name">smt-delete-registration</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#id-1.9.10.4.4.8">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_scripts.xml" title="Edit source document"> </a></div></div></div></div></div><p>
        The <code class="command">smt-delete-registration</code> command deletes one or
        more registrations from SMT and SUSE Customer Center. It unregisters machines from
        the system. The following options are available:
      </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.4.4.8.3.1"><span class="term"><code class="option">--guid</code> or <code class="option">-g</code> with the parameter <em class="replaceable">ID</em></span></dt><dd><p>
              Deletes the machine with the guid <em class="replaceable">ID</em>
              from the system. You can use this option multiple times.
            </p></dd><dt id="id-1.9.10.4.4.8.3.2"><span class="term"><code class="option">--debug</code> or <code class="option">-d</code></span></dt><dd><p>
              
              Enables debugging mode.
            </p></dd></dl></div></section><section class="sect3" id="smt-scripts-job" data-id-title="smt-job"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.1.2.3 </span><span class="title-name">smt-job</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#smt-scripts-job">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_scripts.xml" title="Edit source document"> </a></div></div></div></div></div><p>
        The <code class="command">smt-job</code> script manages jobs for individual SMT
        clients. You can use this command to list, create, edit and delete
        jobs. The following options are available:
      </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.4.4.9.3.1"><span class="term"><code class="option">--list</code> or <code class="option">-l</code></span></dt><dd><p>
              Lists all client jobs. This is the default if the operation mode
              switch is omitted.
            </p></dd><dt id="id-1.9.10.4.4.9.3.2"><span class="term"><code class="option">--verbose</code> or <code class="option">-v</code> with the parameter <em class="replaceable">LEVEL</em></span></dt><dd><p>
              Shows detailed information about a job or jobs in a list mode.
              The <em class="replaceable">level</em> value can be a number from 0
              to 3. The higher the value, the more verbose the command is.
            </p></dd><dt id="id-1.9.10.4.4.9.3.3"><span class="term"><code class="option">--create</code> or <code class="option">-c</code></span></dt><dd><p>
              Creates a new job.
            </p></dd><dt id="id-1.9.10.4.4.9.3.4"><span class="term"><code class="option">--edit</code> or <code class="option">-e</code></span></dt><dd><p>
              Edits an existing job.
            </p></dd><dt id="id-1.9.10.4.4.9.3.5"><span class="term"><code class="option">--delete</code> or <code class="option">-d</code></span></dt><dd><p>
              Deletes an existing job.
            </p></dd><dt id="id-1.9.10.4.4.9.3.6"><span class="term"><code class="option">--guid</code> or <code class="option">-g</code> with the parameter <em class="replaceable">ID</em></span></dt><dd><p>
              Specifies the client's guid. This parameter can be used multiple
              times to create a job for more than one client.
            </p></dd><dt id="id-1.9.10.4.4.9.3.7"><span class="term"><code class="option">--jobid</code> or <code class="option">-j</code> with the parameter <em class="replaceable">ID</em></span></dt><dd><p>
              Specifies the job ID. You need to specify job ID and client's
              guid when editing or deleting a job, as the same job for multiple
              clients has the same job ID.
            </p></dd><dt id="id-1.9.10.4.4.9.3.8"><span class="term"><code class="option">--deleteall</code> or <code class="option">-A</code><em class="replaceable">id</em></span></dt><dd><p>
              Omit either the client's GUID or the job ID in the delete
              operation. The missing parameter matches all respective jobs.
            </p></dd><dt id="id-1.9.10.4.4.9.3.9"><span class="term"><code class="option">--type</code> or <code class="option">-t</code> with the parameter <em class="replaceable">TYPE</em></span></dt><dd><p>
              Specifies the job type. The type can be one of
              <code class="literal">patchstatus</code>, <code class="literal">softwarepush</code>,
              <code class="literal">update</code>, <code class="literal">execute</code>,
              <code class="literal">reboot</code>, <code class="literal">wait</code>,
              <code class="literal">eject</code>. On the client, only the following job
              types are enabled by default: <code class="literal">patchstatus</code>,
              <code class="literal">softwarepush</code> and <code class="literal">update</code>.
            </p></dd><dt id="id-1.9.10.4.4.9.3.10"><span class="term"><code class="option">--description <em class="replaceable">DESCRIPTION</em></code></span></dt><dd><p>
              Specifies a job description.
            </p></dd><dt id="id-1.9.10.4.4.9.3.11"><span class="term"><code class="option">--parent</code><em class="replaceable">ID</em></span></dt><dd><p>
              Specifies the job ID of the parent job. Use it to define a
              dependency. A job is not processed until its parent has
              successfully finished.
            </p></dd><dt id="id-1.9.10.4.4.9.3.12"><span class="term"><code class="option">--name</code> or <code class="option">-n</code> with the parameter <em class="replaceable">NAME</em></span></dt><dd><p>
              Specifies a job name.
            </p></dd><dt id="id-1.9.10.4.4.9.3.13"><span class="term"><code class="option">--persistent</code></span></dt><dd><p>
              Specifies if a job is persistent. Non-persistent jobs are
              processed only once, while persistent jobs are processed again
              and again. Use <code class="option">--timelag</code> to define the time that
              elapses until the next run.
            </p></dd><dt id="id-1.9.10.4.4.9.3.14"><span class="term"><code class="option">--finished</code></span></dt><dd><p>
              Search option for finished jobs.
            </p></dd><dt id="id-1.9.10.4.4.9.3.15"><span class="term"><code class="option">--targeted</code><em class="replaceable">time</em></span></dt><dd><p>
              Specifies the earliest execution time of a job. The job does not
              run exactly at that time, but a few minutes or hours after. The
              reason is that the client polls in a fixed interval for jobs.
            </p></dd><dt id="id-1.9.10.4.4.9.3.16"><span class="term"><code class="option">--expires</code><em class="replaceable">time</em></span></dt><dd><p>
              Defines the time after which the job is no longer executed.
            </p></dd><dt id="id-1.9.10.4.4.9.3.17"><span class="term"><code class="option">--timelag</code><em class="replaceable">time</em></span></dt><dd><p>
              Defines the time interval for persistent jobs.
            </p></dd></dl></div><p>
        For a complete list of available options and their explanations, see
        the manual page of the <code class="command">smt-job</code> command
        (<code class="command">man</code> <code class="command">smt-job</code>).
      </p><section class="sect4" id="id-1.9.10.4.4.9.5" data-id-title="Examples"><div class="titlepage"><div><div><div class="title-container"><h5 class="title"><span class="title-number-name"><span class="title-number">8.1.2.3.1 </span><span class="title-name">Examples</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#id-1.9.10.4.4.9.5">#</a></h5><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_scripts.xml" title="Edit source document"> </a></div></div></div></div></div><p>
          List all finished jobs:
        </p><div class="verbatim-wrap"><pre class="screen">smt-job --list --finished</pre></div><p>
          Create a <code class="literal">softwarepush</code> job that installs
          <code class="literal">xterm</code> and <code class="literal">bash</code> on client 12345
          and 67890:
        </p><div class="verbatim-wrap"><pre class="screen">smt-job --create -t softwarepush -P xterm -P bash -g 12345 -g 67890</pre></div><p>
          Change the timing for a persistent job with job ID 42 and guid 12345
          to run every 6 hours:
        </p><div class="verbatim-wrap"><pre class="screen">smt-job --edit -j 42 -g 12345 --targeted 0000-00-00 --timelag 06:00:00</pre></div><p>
          Delete all jobs with job ID 42:
        </p><div class="verbatim-wrap"><pre class="screen">smt-job --delete -jobid 42 --deleteall</pre></div></section></section><section class="sect3" id="smt-scripts-listproducts" data-id-title="smt-list-products"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.1.2.4 </span><span class="title-name">smt-list-products</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#smt-scripts-listproducts">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_scripts.xml" title="Edit source document"> </a></div></div></div></div></div><p>
        The <code class="command">smt-list-products</code> script lists all software
        products in the SMT database. The following options are available:
      </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.4.4.10.3.1"><span class="term"><code class="option">--used</code> or <code class="option">-u</code></span></dt><dd><p>
              
              Shows only used products.
            </p></dd><dt id="id-1.9.10.4.4.10.3.2"><span class="term"><code class="option">--catstat</code> or <code class="option">-c</code></span></dt><dd><p>
              
              Shows whether all repositories needed for a product are locally
              mirrored.
            </p></dd></dl></div></section><section class="sect3" id="id-1.9.10.4.4.11" data-id-title="smt-list-registrations"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.1.2.5 </span><span class="title-name">smt-list-registrations</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#id-1.9.10.4.4.11">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_scripts.xml" title="Edit source document"> </a></div></div></div></div></div><p>
        The <code class="command">smt-list-registrations</code> script lists all
        registrations. There are two options available for this command:
      </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.4.4.11.3.1"><span class="term"><code class="option">--verbose</code> or <code class="option">-v</code></span></dt><dd><p>
              Shows detailed information about the registered devices.
            </p></dd><dt id="id-1.9.10.4.4.11.3.2"><span class="term"><code class="option">--format</code> or <code class="option">-f</code> with the parameter <em class="replaceable">FORMAT</em></span></dt><dd><p>
              Formats the output in the <em class="replaceable">asciitable</em>
              or <em class="replaceable">csv</em> formats.
            </p></dd></dl></div></section><section class="sect3" id="id-1.9.10.4.4.12" data-id-title="smt-mirror"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.1.2.6 </span><span class="title-name">smt-mirror</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#id-1.9.10.4.4.12">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_scripts.xml" title="Edit source document"> </a></div></div></div></div></div><p>
        The <code class="command">smt-mirror</code> command performs the mirroring
        procedure and downloads repositories that are set to be mirrored.
      </p><p>
        You can run the <code class="command">smt-mirror</code> with the following
        options:
      </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.4.4.12.4.1"><span class="term"><code class="option">--clean</code> or <code class="option">-c</code></span></dt><dd><p>
              Removes all files no longer mentioned in the metadata from the
              mirror. No mirroring occurs before cleanup.
            </p></dd><dt id="id-1.9.10.4.4.12.4.2"><span class="term"><code class="option">--debug</code> or <code class="option">-d</code></span></dt><dd><p>
              Enables the debugging mode.
            </p></dd><dt id="id-1.9.10.4.4.12.4.3"><span class="term"><code class="option">--deepverify</code></span></dt><dd><p>
              Turns on verifying of all package checksums.
            </p></dd><dt id="id-1.9.10.4.4.12.4.4"><span class="term"><code class="option">--hardlink <em class="replaceable">SIZE</em></code></span></dt><dd><p>
              Searches for duplicate files with a size greater than the size
              specified in kilobytes. Creates hard links for them.
              
            </p></dd><dt id="id-1.9.10.4.4.12.4.5"><span class="term"><code class="option">--directory <em class="replaceable">PATH</em></code></span></dt><dd><p>
              Defines the directory to work on. When using this option, the
              default value configured in the <code class="filename">smt.conf</code>
              configuration file is ignored.
            </p></dd><dt id="id-1.9.10.4.4.12.4.6"><span class="term"><code class="option">--dbreplfile <em class="replaceable">FILE</em></code></span></dt><dd><p>
              Defines a path to the *.xml file to use as database replacement.
              You can create this file with the <code class="command">smt-scc</code>
              command.
            </p></dd><dt id="id-1.9.10.4.4.12.4.7"><span class="term"><code class="option">--logfile</code> or <code class="option">-L</code> with the parameter <em class="replaceable">FILE</em></span></dt><dd><p>
              Specifies the path to a log file.
            </p></dd></dl></div></section><section class="sect3" id="smt-scripts-smtsync" data-id-title="smt-sync"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.1.2.7 </span><span class="title-name">smt-sync</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#smt-scripts-smtsync">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_scripts.xml" title="Edit source document"> </a></div></div></div></div></div><p>
        The <code class="command">smt-sync</code> or <code class="command">smt sync</code> command
        obtains data from SUSE Customer Center and updates the local SMT database. It can
        also save SUSE Customer Center data to a directory instead of the SMT database, or
        read the data from such a directory instead of downloading it from
        SUSE Customer Center.
      </p><p>
        For SUSE Linux Enterprise 11 clients, this script automatically determines whether
        Novell Customer Center or SUSE Customer Center should be used. Then
        <code class="command">smt-ncc-sync</code> or <code class="command">smt-scc-sync</code> is
        called. For SUSE Linux Enterprise 12 clients, only <code class="command">smt-scc-sync</code> is
        supported.
      </p></section><section class="sect3" id="smt-scripts-sccsync" data-id-title="smt-scc-sync"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.1.2.8 </span><span class="title-name">smt-scc-sync</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#smt-scripts-sccsync">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_scripts.xml" title="Edit source document"> </a></div></div></div></div></div><p>
        The <code class="command">smt scc-sync</code> command obtains data from the SUSE Customer Center
        and updates the local SMT database. It can also save SUSE Customer Center data to a
        directory instead of the SMT database, or read SUSE Customer Center data from a
        directory instead of downloading it from SUSE Customer Center.
      </p><p>
        You can run the <code class="command">smt-scc-sync</code> with the following
        options:
      </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.4.4.14.4.1"><span class="term"><code class="option">--fromdir <em class="replaceable">DIRECTORY</em></code></span></dt><dd><p>
              Reads SUSE Customer Center data from a directory instead of downloading it from
              SUSE Customer Center.
            </p></dd><dt id="id-1.9.10.4.4.14.4.2"><span class="term"><code class="option">--todir <em class="replaceable">DIRECTORY</em></code></span></dt><dd><p>
              Writes SUSE Customer Center data to the specified directory without updating the
              SMT database.
            </p><div id="id-1.9.10.4.4.14.4.2.2.2" data-id-title="SUSE Managers Subscription Matching Feature" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: SUSE Manager's Subscription Matching Feature</div><p>
                This data can be used by the subscription matching feature of
                SUSE Manager, which gives you a detailed overview of your
                subscription usage. For more information on the subscription
                matching feature, see
                <a class="link" href="https://documentation.suse.com/external-tree/en-us/suma/3.2/susemanager-reference/html/book.suma.reference.manual/ref.webui.audit.html#ref.webui.audit.subscription" target="_blank">https://documentation.suse.com/external-tree/en-us/suma/3.2/susemanager-reference/html/book.suma.reference.manual/ref.webui.audit.html#ref.webui.audit.subscription</a>.
              </p></div></dd><dt id="id-1.9.10.4.4.14.4.3"><span class="term"><code class="option">--createdbreplacementfile</code></span></dt><dd><p>
              Creates a database replacement file for using
              <code class="command">smt-mirror</code> without database.
            </p></dd><dt id="id-1.9.10.4.4.14.4.4"><span class="term"><code class="option">--logfile</code> or <code class="option">-L</code> <em class="replaceable">LOGFILE</em></span></dt><dd><p>
              Specifies the path to a log file.
            </p></dd><dt id="id-1.9.10.4.4.14.4.5"><span class="term"><code class="option">--debug</code> or <code class="option">-d</code></span></dt><dd><p>
              Enables debugging mode.
            </p></dd><dt id="id-1.9.10.4.4.14.4.6"><span class="term"><code class="option">--verboselevel</code> or <code class="option">-v</code> <em class="replaceable">BITMASK</em></span></dt><dd><p>
              Specifies the verbosity level of log messages. Accepts a decimal
              number that represents a binary bitmask of one of seven verbosity
              levels. For example, the <code class="option">--debug</code> option described
              above corresponds to the bitmask of
              <code class="literal">00111111</code>, which is <code class="literal">63</code> in
              decimal. To achieve even more verbosity, use
              <code class="literal">127</code>, which relates to the bitmask of
              <code class="literal">01111111</code>.
            </p><div id="id-1.9.10.4.4.14.4.6.2.2" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important</div><p>
                The <code class="option">--debug</code> and <code class="option">--mail</code>
                options are mutually exclusive with the
                <code class="option">--verboselevel</code> option.
              </p></div></dd></dl></div></section><section class="sect3" id="id-1.9.10.4.4.15" data-id-title="smt-register"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.1.2.9 </span><span class="title-name">smt-register</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#id-1.9.10.4.4.15">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_scripts.xml" title="Edit source document"> </a></div></div></div></div></div><p>
        The <code class="command">smt-register</code> or <code class="command">smt register</code>
        command registers all currently unregistered clients at the SUSE Customer Center. It
        also registers all clients whose data has changed since the last
        registration.
      </p><p>
        The following options are available:
      </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.4.4.15.4.1"><span class="term"><code class="option">--logfile</code> or <code class="option">-L</code> with the parameter <em class="replaceable">LOGFILE</em></span></dt><dd><p>
              Specifies the path to a log file.
            </p></dd><dt id="id-1.9.10.4.4.15.4.2"><span class="term"><code class="option">--debug</code></span></dt><dd><p>
              Enables debugging mode.
            </p></dd></dl></div></section><section class="sect3" id="id-1.9.10.4.4.16" data-id-title="smt-report"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.1.2.10 </span><span class="title-name">smt-report</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#id-1.9.10.4.4.16">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_scripts.xml" title="Edit source document"> </a></div></div></div></div></div><p>
        The <code class="command">smt-report</code> or <code class="command">smt report</code>
        command generates a subscription report based on local calculation or
        SUSE Customer Center registrations.
      </p><p>
        The following options are available:
      </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.4.4.16.4.1"><span class="term"><code class="option">--mail</code> or <code class="option">-m</code></span></dt><dd><p>
              Activates mailing the report to the addresses configured with the
              SMT Server and written in <code class="filename">/etc/smt.conf</code>.
              The report is formatted as tables.
            </p></dd><dt id="id-1.9.10.4.4.16.4.2"><span class="term"><code class="option">--attach</code> or <code class="option">-a</code></span></dt><dd><p>
              Appends the report to the e-mails in CSV format. This option
              should only be used in combination with the
              <code class="option">--mail</code> option.
            </p></dd><dt id="id-1.9.10.4.4.16.4.3"><span class="term"><code class="option">--quiet</code> or <code class="option">-q</code></span></dt><dd><p>
              Suppresses output to STDOUT and runs
              <code class="command">smt-report</code> in quiet mode.
            </p></dd><dt id="id-1.9.10.4.4.16.4.4"><span class="term"><code class="option">--csv</code> or <code class="option">-c</code></span></dt><dd><p>
              Exports the report to multiple files in the CSV format. The first
              line of each *.csv file consists of the column names. The
              <code class="option">--csv</code> parameter should only be used in
              combination with the <code class="option">--file</code> parameter. If the
              specified file name has the <code class="literal">.csv</code> extension,
              the report is formatted as CSV (as if the <code class="option">--csv</code>
              parameter was used).
            </p></dd><dt id="id-1.9.10.4.4.16.4.5"><span class="term"><code class="option">--pdf</code> or <code class="option">-p</code></span></dt><dd><p>
              Exports the report in the PDF format. Use it only in combination
              with the <code class="option">-file</code> option.
            </p></dd><dt id="id-1.9.10.4.4.16.4.6"><span class="term"><code class="option">--xml</code></span></dt><dd><p>
              Exports the report in the XML format. Use it only in combination
              with the <code class="option">-file</code> option. For a detailed
              description of the XML format, see the manual page of the
              <code class="command">smt-report</code> command.
            </p></dd><dt id="id-1.9.10.4.4.16.4.7"><span class="term"><code class="option">--file</code> or <code class="option">-F</code></span></dt><dd><p>
              Exports the report to one or several files. By default, the
              report is written to a single file formatted as tables.
              Optionally, the file name or whole path may be specified after
              the <code class="option">--file <em class="replaceable">filename</em></code>
              parameter. If no file name is specified, a default file name
              containing a time stamp is used. However, SMT does not check if
              the file or files already exist.
            </p><p>
              In the CSV mode the report is written to multiple files,
              therefore the specified file name expands to
              <code class="filename"><em class="replaceable">[PATH/]FILENAME</em>-<em class="replaceable">reportname</em>.<em class="replaceable">extension</em></code>
              for every report.
            </p></dd><dt id="id-1.9.10.4.4.16.4.8"><span class="term"><code class="option">--logfile</code> or <code class="option">-L</code> with the parameter <em class="replaceable">LOGFILE</em></span></dt><dd><p>
              Specifies path to a log file.
            </p></dd><dt id="id-1.9.10.4.4.16.4.9"><span class="term"><code class="option">--debug</code></span></dt><dd><p>
              Enables debugging mode.
            </p></dd></dl></div></section><section class="sect3" id="id-1.9.10.4.4.17" data-id-title="smt-repos"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.1.2.11 </span><span class="title-name">smt-repos</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#id-1.9.10.4.4.17">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_scripts.xml" title="Edit source document"> </a></div></div></div></div></div><p>
        Use <code class="command">smt-repos</code> (or <code class="command">smt
        repositories</code>) to list all available repositories and for
        enabling, disabling and deleting repositories. The following options
        are available:
      </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.4.4.17.3.1"><span class="term"><code class="option">--enable-mirror</code> or <code class="option">-e</code></span></dt><dd><p>
              Enables repository mirroring.
            </p></dd><dt id="id-1.9.10.4.4.17.3.2"><span class="term"><code class="option">--disable-mirror</code> or <code class="option">-d</code></span></dt><dd><p>
              Disables repository mirroring.
            </p></dd><dt id="id-1.9.10.4.4.17.3.3"><span class="term"><code class="option">--enable-by-prod</code> or <code class="option">-p</code></span></dt><dd><p>
              Enables repository mirroring by giving product data in the
              following format:
              <code class="literal">Product[,Version[,Architecture[,Release]]]</code>.
              
            </p></dd><dt id="id-1.9.10.4.4.17.3.4"><span class="term"><code class="option">--disable-by-prod</code> or <code class="option">-P</code></span></dt><dd><p>
              Disables repository mirroring by giving product data in the
              following format:
              <code class="literal">Product[,Version[,Architecture[,Release]]]</code>.
              
            </p></dd><dt id="id-1.9.10.4.4.17.3.5"><span class="term"><code class="option">--enable-staging</code> or <code class="option">-s</code></span></dt><dd><p>
              Enables repository staging.
            </p></dd><dt id="id-1.9.10.4.4.17.3.6"><span class="term"><code class="option">--disable-staging</code> or <code class="option">-S</code></span></dt><dd><p>
              Disables repository staging.
            </p></dd><dt id="id-1.9.10.4.4.17.3.7"><span class="term"><code class="option">--only-mirrorable</code> or <code class="option">-m</code></span></dt><dd><p>
              Lists only repositories that can be mirrored.
            </p></dd><dt id="id-1.9.10.4.4.17.3.8"><span class="term"><code class="option">--only-enabled</code> or <code class="option">-o</code></span></dt><dd><p>
              Lists only enabled repositories.
            </p></dd><dt id="id-1.9.10.4.4.17.3.9"><span class="term"><code class="option">--delete</code></span></dt><dd><p>
              Lists repositories and deletes them from disk.
            </p></dd><dt id="id-1.9.10.4.4.17.3.10"><span class="term"><code class="option">--namespace <em class="replaceable">DIRNAME</em></code></span></dt><dd><p>
              Deletes the repository in the specified name space.
            </p></dd><dt id="id-1.9.10.4.4.17.3.11"><span class="term"><code class="option">--verbose</code> or <code class="option">-v</code></span></dt><dd><p>
              Shows detailed repository information.
            </p></dd></dl></div></section><section class="sect3" id="id-1.9.10.4.4.18" data-id-title="smt-setup-custom-repos"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.1.2.12 </span><span class="title-name">smt-setup-custom-repos</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#id-1.9.10.4.4.18">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_scripts.xml" title="Edit source document"> </a></div></div></div></div></div><p>
        The <code class="command">smt-setup-custom-repos</code> and <code class="command">smt
        setup-custom-repos</code> script are designed for setting up custom
        repositories (repositories not present in the download server) for use
        with SMT. You can use this script to add a new repository to the
        SMT database or to delete a repository from the database. The script
        supports the following options:
      </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.4.4.18.3.1"><span class="term"><code class="option">--productid</code> <em class="replaceable">PRODUCT_ID</em></span></dt><dd><p>
              ID of a product the repository belongs to. If a repository should
              belong to multiple products, use this option multiple times to
              assign the repository to all relevant products.
            </p></dd><dt id="id-1.9.10.4.4.18.3.2"><span class="term"><code class="option">--name</code> <em class="replaceable">NAME</em></span></dt><dd><p>
              The name of the custom repository.
            </p></dd><dt id="id-1.9.10.4.4.18.3.3"><span class="term"><code class="option">--description</code> <em class="replaceable">DESCRIPTION</em></span></dt><dd><p>
              The description of the custom repository.
            </p></dd><dt id="id-1.9.10.4.4.18.3.4"><span class="term"><code class="option">--exturl</code> <em class="replaceable">URL</em></span></dt><dd><p>
              The URL for the repository to be mirrored from. Only HTTP and
              HTTPS protocols are supported.
            </p></dd><dt id="id-1.9.10.4.4.18.3.5"><span class="term"><code class="option">--delete</code> <em class="replaceable">ID</em></span></dt><dd><p>
              Removes a custom repository with a given ID from the SMT
              database.
            </p></dd></dl></div><p>
        To set up a new repository, use the following command:
      </p><div class="verbatim-wrap"><pre class="screen">smt-setup-custom-repos --productid <em class="replaceable">PRODUCT_ID</em> \
--name <em class="replaceable">NAME</em> --exturl <em class="replaceable">URL</em></pre></div><p>
        For example:
      </p><div class="verbatim-wrap"><pre class="screen">smt-setup-custom-repos --productid <em class="replaceable">434</em> \
--name <em class="replaceable">My_Catalog</em> --exturl <em class="replaceable">http://my.example.com/My_Catalog</em></pre></div><p>
        To remove a configured repository, use the following command:
      </p><div class="verbatim-wrap"><pre class="screen">smt-setup-custom-repos --delete <em class="replaceable">ID</em></pre></div><p>
        For example:
      </p><div class="verbatim-wrap"><pre class="screen">smt-setup-custom-repos --delete <em class="replaceable">1cf336d819e8e5904f4d4b05ee081971a0cc8afc</em></pre></div></section><section class="sect3" id="id-1.9.10.4.4.19" data-id-title="smt-staging"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.1.2.13 </span><span class="title-name">smt-staging</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#id-1.9.10.4.4.19">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_scripts.xml" title="Edit source document"> </a></div></div></div></div></div><p>
        A <span class="emphasis"><em>patch</em></span> is an update of a package or group of
        packages. The term <span class="emphasis"><em>update</em></span> and
        <span class="emphasis"><em>patch</em></span> are often interchangeable. With the
        <code class="command">smt-staging</code> script, you can set up patch filters for
        update repositories. It can also help you generate both testing
        repositories and repositories for the production environment.
      </p><p>
        The first argument of <code class="command">smt-staging</code> is always the
        <code class="command">command</code>. It must be followed by a
        <em class="replaceable">repository</em>. The repository can be specified
        by <em class="replaceable">Name</em> and
        <em class="replaceable">Target</em> from the table scheme returned by the
        <code class="command">smt-repos</code> command. Alternatively, it can be
        specified by its <code class="literal">Repository ID</code> which can be obtained
        by running the command <code class="command">smt-repos -v</code>. The
        <code class="command">smt-staging</code> script supports the following commands:
      </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.4.4.19.4.1"><span class="term"><code class="option">listupdates</code></span></dt><dd><p>
              Lists available patches and their allowed and forbidden status.
            </p></dd><dt id="id-1.9.10.4.4.19.4.2"><span class="term"><code class="option">allow/forbid</code></span></dt><dd><p>
              Allows or forbids specified patches.
            </p></dd><dt id="id-1.9.10.4.4.19.4.3"><span class="term"><code class="option">createrepo</code></span></dt><dd><p>
              Generates both testing and production repository with allowed
              patches.
            </p></dd><dt id="id-1.9.10.4.4.19.4.4"><span class="term"><code class="option">status</code></span></dt><dd><p>
              Gives information about both testing and production snapshots,
              and patch counts.
            </p></dd><dt id="id-1.9.10.4.4.19.4.5"><span class="term"><code class="option">listgroups</code></span></dt><dd><p>
              Lists staging groups.
            </p><p>
              There is always one group available with the name
              <span class="quote">“<span class="quote">default</span>”</span>. The default group has the path
              <code class="filename">repo/full</code>, <code class="filename">repo/testing</code>
              and <code class="filename">repo</code>. New paths can be specified when
              creating a new group.
            </p></dd><dt id="id-1.9.10.4.4.19.4.6"><span class="term"><code class="option">creategroup</code></span></dt><dd><p>
              Creates a staging group. Required parameters are: group name,
              testing directory name, and production directory name.
            </p></dd><dt id="id-1.9.10.4.4.19.4.7"><span class="term"><code class="option">removegroup</code></span></dt><dd><p>
              Removes a staging group. The group name parameter is required.
            </p></dd></dl></div><p>
        The following options apply to any <code class="command">smt-staging</code>
        command:
      </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.4.4.19.6.1"><span class="term"><code class="option">--logfile</code> or <code class="option">-L</code><em class="replaceable">file path</em></span></dt><dd><p>
              Writes log information to the specified file. It is created if it
              does not already exist.
            </p></dd><dt id="id-1.9.10.4.4.19.6.2"><span class="term"><code class="option">--debug</code> or <code class="option">-d</code></span></dt><dd><p>
              Turns on the debugging output and log.
            </p></dd><dt id="id-1.9.10.4.4.19.6.3"><span class="term"><code class="option">--verbose</code> or <code class="option">-v</code></span></dt><dd><p>
              Turns more detailed output on.
            </p></dd></dl></div><p>
        The following options apply to specific <code class="command">smt-staging</code>
        commands:
      </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.4.4.19.8.1"><span class="term"><code class="option">--patch</code> <em class="replaceable">PATCH_ID</em></span></dt><dd><p>
              Specifies a patch by its ID. You can get a list of available
              patches with the <code class="command">listupates</code> command. This
              option can be used multiple times. Use it with the
              <code class="command">allow</code>, <code class="command">forbid</code>, and
              <code class="command">listupdates</code> commands. When used with
              <code class="command">listupdates</code>, the command prints detailed
              information about the specified patches.
            </p></dd><dt id="id-1.9.10.4.4.19.8.2"><span class="term"><code class="option">--category</code> <em class="replaceable">CATEGORY</em></span></dt><dd><p>
              Specifies the patch category. The following categories are
              available: <code class="literal">security</code>,
              <code class="literal">recommended</code> and <code class="literal">optional</code>.
              Use it in combination with the <code class="command">allow</code>,
              <code class="command">forbid</code>, and <code class="command">listupdates</code>
              commands.
            </p></dd><dt id="id-1.9.10.4.4.19.8.3"><span class="term"><code class="option">--all</code></span></dt><dd><p>
              Allows or forbids all patches in the <code class="command">allow</code> or
              <code class="command">forbid</code> commands.
            </p></dd><dt id="id-1.9.10.4.4.19.8.4"><span class="term"><code class="option">--individually</code></span></dt><dd><p>
              Allows or forbids multiple patches (for example, by category) one
              by one, similar to the <code class="option">--patch</code> option used with
              each of the patches.
            </p></dd><dt id="id-1.9.10.4.4.19.8.5"><span class="term"><code class="option">--testing</code></span></dt><dd><p>
              Generates a repository for testing when used in combination with
              the <code class="command">createrepo</code> command. The repository is
              generated from the full unfiltered local mirror of the remote
              repository. It is written into the
              <code class="filename">&lt;MirrorTo&gt;/repo/testing</code> directory,
              where <code class="filename">MirrorTo</code> is the value obtained from
              <code class="filename">smt.conf</code>.
            </p></dd><dt id="id-1.9.10.4.4.19.8.6"><span class="term"><code class="option">--production</code></span></dt><dd><p>
              Generates a repository for production when used in combination
              with the <code class="command">createrepo</code> command. The repository is
              generated from the testing repository. It is written into the
              <code class="filename">&lt;MirrorTo&gt;/repo</code> directory, where
              <code class="filename">MirrorTo</code> is the value obtained from
              <code class="filename">smt.conf</code>. If the testing repository does not
              exist, the production repository is generated from the full
              unfiltered local mirror of the remote repository.
            </p></dd><dt id="id-1.9.10.4.4.19.8.7"><span class="term"><code class="option">--group</code> <em class="replaceable">GROUP</em></span></dt><dd><p>
              Specifies on which group the command should work. The default for
              <code class="option">--group</code> is the name <code class="literal">default</code>.
            </p></dd><dt id="id-1.9.10.4.4.19.8.8"><span class="term"><code class="option">--nohardlink</code></span></dt><dd><p>
              Prevents creating hard links instead of copying files when
              creating a repository with the <code class="command">createrepo</code>
              command. If not specified, hard links are created instead.
            </p></dd><dt id="id-1.9.10.4.4.19.8.9"><span class="term"><code class="option">--nodesc</code></span></dt><dd><p>
              Skips patch descriptions and summaries—to save certain
              screen space and make the output more readable.
            </p></dd><dt id="id-1.9.10.4.4.19.8.10"><span class="term"><code class="option">--sort-by-version</code></span></dt><dd><p>
              Sorts the <code class="literal">listupdates</code> table by patch version.
              The higher the version, the newer the patch should be.
            </p></dd><dt id="id-1.9.10.4.4.19.8.11"><span class="term"><code class="option">--sort-by-category</code></span></dt><dd><p>
              Sorts the <code class="literal">listupdates</code> table by patch category.
            </p></dd></dl></div></section><section class="sect3" id="id-1.9.10.4.4.20" data-id-title="smt-support"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.1.2.14 </span><span class="title-name">smt-support</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#id-1.9.10.4.4.20">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_scripts.xml" title="Edit source document"> </a></div></div></div></div></div><p>
        The <code class="command">smt-support</code> command manages uploaded support
        data often coming from the <code class="command">supportconfig</code> tool. You
        can forward the data to SUSE, either selectively or in full. This
        command supports the following options:
      </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.4.4.20.3.1"><span class="term"><code class="option">--incoming</code> or <code class="option">-i</code> with the parameter <em class="replaceable">DIRECTORY</em></span></dt><dd><p>
              Specifies the directory where the supportconfig archives are
              uploaded. You can also set this option with the
              <code class="literal">SMT_INCOMING</code> environment variable. The default
              <code class="literal">SMT_INCOMING</code> directory is
              <code class="filename">/var/spool/smt-support</code>.
            </p></dd><dt id="id-1.9.10.4.4.20.3.2"><span class="term"><code class="option">--list</code> or <code class="option">-l</code></span></dt><dd><p>
              Lists the uploaded supportconfig archives in the incoming
              directory.
            </p></dd><dt id="id-1.9.10.4.4.20.3.3"><span class="term"><code class="option">--remove</code> or <code class="option">-r</code> with the parameter <em class="replaceable">ARCHIVE</em></span></dt><dd><p>
              Deletes the specified archive.
            </p></dd><dt id="id-1.9.10.4.4.20.3.4"><span class="term"><code class="option">--empty</code> or <code class="option">-R</code></span></dt><dd><p>
              Deletes all archives in the incoming directory.
            </p></dd><dt id="id-1.9.10.4.4.20.3.5"><span class="term"><code class="option">--upload</code> or <code class="option">-u</code> with the parameter <em class="replaceable">ARCHIVE</em></span></dt><dd><p>
              Uploads the specified archive to SUSE. If you specify
              <code class="option">-s</code>, <code class="option">-n</code>, <code class="option">-c</code>,
              <code class="option">-p</code>, and <code class="option">-e</code> options, the archive
              is repackaged with contact information.
            </p></dd><dt id="id-1.9.10.4.4.20.3.6"><span class="term"><code class="option">--uploadall</code> or <code class="option">-U</code></span></dt><dd><p>
              Uploads all archives in the incoming directory to SUSE.
            </p></dd><dt id="id-1.9.10.4.4.20.3.7"><span class="term"><code class="option">--srnum</code> or <code class="option">-s</code> with the parameter <em class="replaceable">SR_NUMBER</em></span></dt><dd><p>
              Specifies the Novell Service Request 12-digit number.
            </p></dd><dt id="id-1.9.10.4.4.20.3.8"><span class="term"><code class="option">--name</code> or <code class="option">-n</code> with the parameter <em class="replaceable">NAME</em></span></dt><dd><p>
              Specifies the first and last name of the contact, in quotes.
            </p></dd><dt id="id-1.9.10.4.4.20.3.9"><span class="term"><code class="option">--company</code> or <code class="option">-c</code> with the parameter <em class="replaceable">COMPANY</em></span></dt><dd><p>
              Specifies the company name.
            </p></dd><dt id="id-1.9.10.4.4.20.3.10"><span class="term"><code class="option">--storeid</code> or <code class="option">-d</code> with the parameter <em class="replaceable">ID</em></span></dt><dd><p>
              Specifies the store ID, if applicable.
            </p></dd><dt id="id-1.9.10.4.4.20.3.11"><span class="term"><code class="option">--terminalid</code> or <code class="option">-t</code> with the parameter <em class="replaceable">ID</em></span></dt><dd><p>
              Specifies the terminal ID, if applicable.
            </p></dd><dt id="id-1.9.10.4.4.20.3.12"><span class="term"><code class="option">--phone</code> or <code class="option">-p</code> with the parameter <em class="replaceable">PHONE</em></span></dt><dd><p>
              Specifies the phone number of the contact person.
            </p></dd><dt id="id-1.9.10.4.4.20.3.13"><span class="term"><code class="option">--email</code> or <code class="option">-e</code> with the parameter <em class="replaceable">E-MAIL_ADDRESS</em></span></dt><dd><p>
              Specifies the e-mail address of the contact.
            </p></dd></dl></div></section></section><section class="sect2" id="id-1.9.10.4.5" data-id-title="SMT systemd Commands"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">8.1.3 </span><span class="title-name">SMT <code class="systemitem">systemd</code> Commands</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#id-1.9.10.4.5">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_scripts.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      You can manage SMT-related services with the standard <code class="systemitem">systemd</code>
      commands:
    </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.4.5.3.1"><span class="term"><code class="command">systemctl start smt.target</code></span></dt><dd><p>
            Starts the SMT services.
          </p></dd><dt id="id-1.9.10.4.5.3.2"><span class="term"><code class="command">systemctl stop smt.target</code></span></dt><dd><p>
            Stops the SMT services.
          </p></dd><dt id="id-1.9.10.4.5.3.3"><span class="term"><code class="command">systemctl status smt.target</code></span></dt><dd><p>
            Checks the status of the SMT services. Checks whether httpd,
            MariaDB, and cron are running.
          </p></dd><dt id="id-1.9.10.4.5.3.4"><span class="term"><code class="command">systemctl restart smt.target</code></span></dt><dd><p>
            Restarts the SMT services.
          </p></dd><dt id="id-1.9.10.4.5.3.5"><span class="term"><code class="command">systemctl try-restart smt.target</code></span></dt><dd><p>
            Checks whether the SMT services are enabled and if so, restarts
            them.
          </p></dd></dl></div><p>
      You can enable and disable SMT with the YaST SMT Server module.
    </p></section></section><section class="sect1" id="id-1.9.10.5" data-id-title="SMT Configuration Files"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">8.2 </span><span class="title-name">SMT Configuration Files</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#id-1.9.10.5">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The main SMT configuration file is <code class="filename">/etc/smt.conf</code>.
  You can set most of the options with the YaST SMT Server module.
  Another important configuration file is
  <code class="filename">/etc/smt.d/smt-cron.conf</code>, which contains parameters
  for commands launched as SMT scheduled jobs.
 </p><section class="sect2" id="smt-config-smtconf" data-id-title="/etc/smt.conf"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">8.2.1 </span><span class="title-name">/etc/smt.conf</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#smt-config-smtconf">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The <code class="filename">/etc/smt.conf</code> file has several sections. The
   <code class="literal">[NU]</code> section contains the update credentials and URL.
   The <code class="literal">[DB]</code> section contains the configuration of the
   MariaDB database for SMT. The <code class="literal">[LOCAL]</code> section includes
   other configuration data. The <code class="literal">[REPORT]</code> section
   contains the configuration of SMT reports.
  </p><div id="id-1.9.10.5.3.3" data-id-title="Passwords in Clear Text" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: Passwords in Clear Text</div><p> The <code class="filename">/etc/smt.conf</code> file contains passwords
        in clear text. Its default permissions (640, root, wwwrun)
        make its content easily accessible with scripts running on the
        Apache server. Be careful with running other software on the
        SMT Apache server. The best policy is to use this server only
        for SMT. </p></div><section class="sect3" id="smt-config-smtconf-nu" data-id-title="[NU] Section of /etc/smt.conf"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.2.1.1 </span><span class="title-name">[NU] Section of /etc/smt.conf</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#smt-config-smtconf-nu">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The following options are available in the [NU] section:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.5.3.4.3.1"><span class="term"><code class="option">NUUrl</code>
     </span></dt><dd><p>
       URL of the update service. Usually it should contain the
       <code class="literal">https://updates.suse.com/</code> URL.
      </p></dd><dt id="id-1.9.10.5.3.4.3.2"><span class="term"><code class="option">NURegUrl</code>
     </span></dt><dd><p>
       URL of the update registration service. It is used by
       <code class="command">smt-sync</code>. If this option is missing, the URL from
       <code class="filename">/etc/SUSEConnect</code> is used as a fallback.
      </p></dd><dt id="id-1.9.10.5.3.4.3.3"><span class="term"><code class="option">NUUser</code>
     </span></dt><dd><p>
       <code class="option">NUUser</code> should contain the user name for update
       service. For information about getting organization credentials, see
       <a class="xref" href="smt-mirroring.html#smt-mirroring-getcredentials" title="4.1. Mirroring Credentials">Section 4.1, “Mirroring Credentials”</a>. You can set this
       value with the SMT Server.
      </p></dd><dt id="id-1.9.10.5.3.4.3.4"><span class="term"><code class="option">NUPass</code>
     </span></dt><dd><p>
       <code class="option">NUPass</code> is the password for the user defined in
       <code class="option">NUUser</code>. For information about getting organization
       credentials, see <a class="xref" href="smt-mirroring.html#smt-mirroring-getcredentials" title="4.1. Mirroring Credentials">Section 4.1, “Mirroring Credentials”</a>. You
       can set this value with the SMT Server.
      </p></dd><dt id="id-1.9.10.5.3.4.3.5"><span class="term"><code class="option">ApiType</code>
     </span></dt><dd><p>
              <code class="option">ApiType</code> is the type of service SMT
              uses; it can be either <code class="literal">NCC</code> for Novell
              Customer Center or <code class="literal">SCC</code> for SUSE Customer Center. The
              only supported value for SMT 12 is
                <code class="literal">SCC</code>. </p></dd></dl></div></section><section class="sect3" id="id-1.9.10.5.3.5" data-id-title="[DB] Section of /etc/smt.conf"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.2.1.2 </span><span class="title-name">[DB] Section of /etc/smt.conf</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#id-1.9.10.5.3.5">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The three options defined in the [DB] section are used for configuring
    the database for SMT. Currently, only MariaDB is supported by SMT.
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.5.3.5.3.1"><span class="term"><code class="option">config</code>
     </span></dt><dd><p>
       The first parameter of the DBI-&gt;connect Perl method used for
       connection to the MariaDB database. The value should be in the form
      </p><div class="verbatim-wrap"><pre class="screen">dbi:mysql:database=<em class="replaceable">SMT</em>;host=<em class="replaceable">LOCALHOST</em></pre></div><p>
       where <em class="replaceable">SMT</em> is the name of the database and
       <em class="replaceable">LOCALHOST</em> is the host name of the database
       server.
      </p></dd><dt id="id-1.9.10.5.3.5.3.2"><span class="term"><code class="option">user</code>
     </span></dt><dd><p>
       The user for the database. The default value is
       <code class="literal">smt</code>.
      </p></dd><dt id="id-1.9.10.5.3.5.3.3"><span class="term"><code class="option">pass</code>
     </span></dt><dd><p>
       The password for the database user. You can set the password with the
       YaST SMT Server module.
      </p></dd></dl></div></section><section class="sect3" id="id-1.9.10.5.3.6" data-id-title="[LOCAL] Section of /etc/smt.conf"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.2.1.3 </span><span class="title-name">[LOCAL] Section of /etc/smt.conf</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#id-1.9.10.5.3.6">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The following options are available in the <code class="literal">[LOCAL]</code>
    section:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.5.3.6.3.1"><span class="term"><code class="option">url</code>
     </span></dt><dd><p>
       The base URL of the SMT server which is used to construct URLs of
       the repositories available on the server. This value should be set by
       YaST automatically during installation. The format of this option
       should be: <code class="literal">https://server.domain.tld/</code>.
      </p><p>
       You can change the URL manually. For example, the administrator may
       choose to use the <code class="literal">http://</code> scheme instead of
       <code class="literal">https://</code> for performance reasons. Another reason
       may be using an alias (configured with CNAME in DNS) instead of the
       host name of the server. For example,
       <code class="literal">http://smt.domain.tld/</code> instead of
       <code class="literal">http://server1.domain.tld/</code>.
      </p></dd><dt id="id-1.9.10.5.3.6.3.2"><span class="term"><code class="option">nccEmail</code>
     </span></dt><dd><p>
       E-mail address used for registration at the SUSE Customer Center. The SMT
       administrator can set this value with the YaST SMT Server module.
      </p></dd><dt id="id-1.9.10.5.3.6.3.3"><span class="term"><code class="option">MirrorTo</code>
     </span></dt><dd><p>
       Determines the path to mirror to.
      </p></dd><dt id="id-1.9.10.5.3.6.3.4"><span class="term"><code class="option">MirrorAll</code>
     </span></dt><dd><p>
       If the <code class="option">MirrorAll</code> option is set to
       <code class="literal">true</code>, the <code class="command">smt-sync</code> script will
       set all repositories that can be mirrored to be mirrored (DOMIRROR
       flag).
      </p></dd><dt id="id-1.9.10.5.3.6.3.5"><span class="term"><code class="option">MirrorSRC</code>
     </span></dt><dd><p>
       If the <code class="option">MirrorSRC</code> option is set to
       <code class="literal">true</code>, source RPM packages are mirrored.
      </p><div id="id-1.9.10.5.3.6.3.5.2.2" data-id-title="Default Value Changed with SMT 11 SP2" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Default Value Changed with SMT 11 SP2</div><p>
        With SMT 11 SP2, the preset default value was changed to
        <code class="literal">false</code>. If you also want SMT to mirror source
        RPM packages on new installations, set <code class="option">MirrorSRC</code> to
        <code class="literal">true</code>.
       </p><p>
        Upgraded systems are not affected.
       </p></div></dd><dt id="id-1.9.10.5.3.6.3.6"><span class="term"><code class="option">forwardRegistration</code>
     </span></dt><dd><p>
       For SMT 11, this option determined whether the clients registered at SMT should be registered at
       Novell Customer Center, too. This option does not work with SUSE Customer Center
       yet.
      </p></dd><dt id="id-1.9.10.5.3.6.3.7"><span class="term"><code class="option">rndRegister</code>
     </span></dt><dd><p>
       Specify a delay in seconds before the clients are registered at SUSE Customer Center.
       The value is a random number between <code class="literal">0</code> and
       <code class="literal">450</code>, generated by the YaST SMT Server module.
       The purpose of this random delay is to prevent a high load on the
       SUSE Customer Center server that would occur if all smt-register cron jobs connected
       at the same time.
      </p></dd><dt id="id-1.9.10.5.3.6.3.8"><span class="term"><code class="option">mirror_preunlock_hook</code>
     </span></dt><dd><p>
       Specify the path to the script that will be run before the
       <code class="command">smt-mirror</code> script removes its lock.
      </p></dd><dt id="id-1.9.10.5.3.6.3.9"><span class="term"><code class="option">mirror_postunlock_hook</code>
     </span></dt><dd><p>
       Specify the path to the script that will be run after the
       <code class="command">smt-mirror</code> script removes its lock.
      </p></dd><dt id="id-1.9.10.5.3.6.3.10"><span class="term"><code class="option">HTTPProxy</code>
     </span></dt><dd><p>
       If you do not want to use global proxy settings, specify the proxy to
       be used for HTTP connection here. Use the following form:
       <code class="literal">http://<em class="replaceable">PROXY</em>.example.com:<em class="replaceable">3128</em></code>.
      </p><p>
       If the proxy settings are not configured in
       <code class="filename">/etc/smt.conf</code>, the global proxy settings
       configured in <code class="filename">/etc/syconfig/proxy</code> are used. You
       can configure the global proxy settings with the YaST Proxy module.
      </p></dd><dt id="id-1.9.10.5.3.6.3.11"><span class="term"><code class="option">HTTPSProxy</code>
     </span></dt><dd><p>
       If you do not want to use global proxy settings, specify the proxy to
       be used for HTTPS connection here. Use the form:
       <code class="literal">https://<em class="replaceable">PROXY</em>.example.com:<em class="replaceable">3128</em></code>.
      </p><p>
       If the proxy settings are not configured in
       <code class="filename">/etc/smt.conf</code>, the global proxy settings
       configured in <code class="filename">/etc/syconfig/proxy</code> are used. You
       can configure the global proxy settings with the YaST Proxy module.
      </p></dd><dt id="id-1.9.10.5.3.6.3.12"><span class="term"><code class="option">ProxyUser</code>
     </span></dt><dd><p>
       If your proxy requires authentication, specify a user name and
       password here, using the
       <code class="literal"><em class="replaceable">USERNAME</em>:<em class="replaceable">PASSWORD</em></code>
       format.
      </p><p>
       If the proxy settings are not configured in
       <code class="filename">/etc/smt.conf</code>, the global proxy settings
       configured in <code class="filename">/etc/syconfig/proxy</code> are used. You
       can configure the global proxy settings with the YaST Proxy module.
      </p><div id="id-1.9.10.5.3.6.3.12.2.3" data-id-title="Global User Authentication Setting" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Global User Authentication Setting</div><p>
        If you configure the global proxy settings with YaST, manually
        copy <code class="filename">/root/.curlrc</code> to the home directory of the
        <code class="systemitem">smt</code>. Adjust the
        permissions with the following commands as <code class="systemitem">root</code>:
       </p><div class="verbatim-wrap"><pre class="screen">cp /root/.curlrc /var/lib/smt/
chown smt:www /var/lib/smt/.curlrc</pre></div></div></dd><dt id="id-1.9.10.5.3.6.3.13"><span class="term"><code class="option">requiredAuthType</code>
     </span></dt><dd><p>
       Specify an authentication type to access the repository. There are
       three possible types:
      </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
         <code class="literal">none</code> - no authentication is required. This is
         the default value.
        </p></li><li class="listitem"><p>
         <code class="literal">lazy</code> - only user name and password are checked. A
         valid user can access all repositories.
        </p></li><li class="listitem"><p>
         <code class="literal">strict</code> - checks also if the user has access to
         the repository.
        </p></li></ul></div></dd><dt id="id-1.9.10.5.3.6.3.14"><span class="term"><code class="option">smtUser</code>
     </span></dt><dd><p>
       Specify a user name of a Unix user under which all smt commands will
       run.
      </p></dd><dt id="id-1.9.10.5.3.6.3.15"><span class="term"><code class="option">signingKeyID</code>
     </span></dt><dd><p>
       Specify the ID of the GPG key to sign modified repositories. The user
       specified under <code class="option">smtUser</code> needs to have access to the
       key. If this option is not set, the modified repositories will be
       unsigned.
      </p></dd></dl></div></section><section class="sect3" id="smt-config-smtconf-rest" data-id-title="[REST] Section of /etc/smt.conf"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.2.1.4 </span><span class="title-name">[REST] Section of /etc/smt.conf</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#smt-config-smtconf-rest">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The following options are available in the <code class="literal">[REST]</code>
    section:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.5.3.7.3.1"><span class="term"><code class="option">enableRESTAdminAccess</code>
     </span></dt><dd><p>
       If set to <em class="replaceable">1</em>, turns administrative access
       to the SMT RESTService on. Default value is
       <em class="replaceable">0</em>.
      </p></dd><dt id="id-1.9.10.5.3.7.3.2"><span class="term"><code class="option">RESTAdminUser</code>
     </span></dt><dd><p>
       Specify the user name that the REST-Admin uses to log in. Default
       value is <em class="replaceable">RESTroot</em>.
      </p></dd><dt id="id-1.9.10.5.3.7.3.3"><span class="term"><code class="option">RESTAdminPassword</code>
     </span></dt><dd><p>
       Specify the password for the REST-Admin user. The option has no
       default value. An empty password is invalid.
      </p></dd></dl></div></section><section class="sect3" id="smt-config-smtconf-jobqueue" data-id-title="[JOBQUEUE] Section of /etc/smt.conf"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.2.1.5 </span><span class="title-name">[JOBQUEUE] Section of /etc/smt.conf</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#smt-config-smtconf-jobqueue">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The following options are available in the <code class="literal">[JOBQUEUE]</code>
    section:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.5.3.8.3.1"><span class="term"><code class="option">maxFinishedJobAge</code>
     </span></dt><dd><p>
       Specify the maximum age of finished non-persistent jobs in days.
       Default value is 8.
      </p></dd><dt id="id-1.9.10.5.3.8.3.2"><span class="term"><code class="option">jobStatusIsSuccess</code>
     </span></dt><dd><p>
       Specify a comma separated list of JobQueue status IDs that should be
       interpreted as successful. For more information about possible status
       IDs, see <code class="command">smt-job --help</code>. Leaving this option empty
       is interpreted as default (1,4).
      </p></dd></dl></div></section><section class="sect3" id="smt-config-smtconf-report" data-id-title="[REPORT] Section of /etc/smt.conf"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.2.1.6 </span><span class="title-name">[REPORT] Section of /etc/smt.conf</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#smt-config-smtconf-report">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The following options are available in the <code class="literal">[REPORT]</code>
    section:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.5.3.9.3.1"><span class="term"><code class="option">reportEmail</code>
     </span></dt><dd><p>
       A comma separated list of e-mail addresses to send SMT status
       reports to. You can set this list with the YaST SMT Server
       module.
      </p></dd><dt id="id-1.9.10.5.3.9.3.2"><span class="term"><code class="option">reportEmailFrom</code>
     </span></dt><dd><p>
       <code class="literal">From</code> field of report e-mails. If not set, the
       default
       <code class="literal">root@<em class="replaceable">HOSTNAME</em>.<em class="replaceable">DOMAINNAME</em></code>
       will be used.
      </p></dd><dt id="id-1.9.10.5.3.9.3.3"><span class="term"><code class="option">mailServer</code>
     </span></dt><dd><p>
       Relay mail server. If empty, e-mails are sent directly.
      </p></dd><dt id="id-1.9.10.5.3.9.3.4"><span class="term"><code class="option">mailServerPort</code>
     </span></dt><dd><p>
       Port of the relay mail server set in <code class="option">mailServer</code>.
      </p></dd><dt id="id-1.9.10.5.3.9.3.5"><span class="term"><code class="option">mailServerUser</code>
     </span></dt><dd><p>
       User name for authentication to the mail server set in
       <code class="option">mailServer</code>.
      </p></dd><dt id="id-1.9.10.5.3.9.3.6"><span class="term"><code class="option">mailServerPassword</code>
     </span></dt><dd><p>
       Password for authentication to the mail server set in
       <code class="option">mailServer</code>.
      </p></dd></dl></div></section><section class="sect3" id="id-1.9.10.5.3.10" data-id-title="Example /etc/smt.conf"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">8.2.1.7 </span><span class="title-name">Example /etc/smt.conf</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#id-1.9.10.5.3.10">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><div class="example" id="smt-mirroring-smtconf-ex" data-id-title="smt.conf"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 8.1: </span><span class="title-name">smt.conf </span></span><a title="Permalink" class="permalink" href="smt-tools.html#smt-mirroring-smtconf-ex">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_config_files.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">[NU]
NUUrl=https://updates.suse.com/
NURegUrl=https://scc.suse.com/connect
NUUser = exampleuser
NUPass = examplepassword
ApiType = SCC

[DB]
config = dbi:mysql:database=smt;host=localhost
user = smt
pass = smt

[LOCAL]
# Default should be http://server.domain.top/
url = http://smt.example.com/
# This email address is used for registration at SCC
nccEmail = exampleuser@example.com
MirrorTo = /srv/www/htdocs
MirrorAll = false
MirrorSRC = false
forwardRegistration = true
rndRegister = 127
# The hook script that should be called before the smt-mirror script removes its lock
mirror_preunlock_hook =
# The hook script that should be called after the smt-mirror script removed its lock
mirror_postunlock_hook =
# specify proxy settings here, if you do not want to use the global proxy settings
# If you leave these options empty the global options are used.
#
# specify which proxy you want to use for HTTP connection
# in the form http://proxy.example.com:3128
HTTPProxy =
# specify which proxy you want to use for HTTPS connection
# in the form http://proxy.example.com:3128
HTTPSProxy =
# specify username and password if your proxy requires authentication
# in the form username:password
ProxyUser =
#
# require authentication to access the repository?
# Three possible authtypes can be configured here
# 1) none   : no authentication required (default)
# 2) lazy   : check only username and password. A valid user has access to all repositories
# 3) strict : check also if this user has access to the repository.
#
requiredAuthType = none
#
# the smt commands should run with this unix user
#
smtUser = smt
#
# ID of the GPG key to be used to sign modified (filtered) repositories.
# The key must be accessible by the user who runs SMT, i.e. the user specified
# in the 'smtUser' configuration option.
#
# If empty, the modified repositories will be unsigned.
#
signingKeyID =
#
# This string is sent in HTTP requests as UserAgent.
# If the key UserAgent does not exist, a default is used.
# If UserAgent is empty, no UserAgent string is set.
#
#UserAgent=
# Organization credentials for this SMT server.
# These are currently only used to get list of all available repositories
# from https://your.smt.url/repo/repoindex.xml
# Note: if authenticated as a client machine instead of these mirrorUser,
# the above URL returns only repositories relevant for that client.
mirrorUser =
mirrorPassword =

[REST]
# Enable administrative access to the SMT RESTService by setting enableRESTAdminAccess=1
# default: 0
enableRESTAdminAccess = 0
# Define the username the REST-Admin uses for login
# default: RESTroot
RESTAdminUser = RESTroot
# Define the password for the REST-Admin (note: empty password is invalid)
# default: &lt;empty&gt;
RESTAdminPassword =

[JOBQUEUE]
# maximum age of finished (non-persistent) jobs in days
# default: 8
maxFinishedJobAge = 8
# comma separated list of JobQueue status IDs that should be interpreted as successful
# See smt-job --help for more information about possible Status IDs
# Please note: An empty string will be interpreted as default (1,4).
# default: 1,4
# useful:  1,4,6
jobStatusIsSuccess = 1,4

[REPORT]
# comma separated list of eMail addresses where the status reports will be sent to
reportEmail = exampleuser@example.com
# from field of report mails - if empty it defaults to "root@&lt;hostname&gt;.&lt;domainname&gt;"
reportEmailFrom =
# relay mail server - leave empty if mail should be sent directly
mailServer =
mailServerPort =
# mail server authentication - leave empty if not required
mailServerUser =
mailServerPassword =</pre></div></div></div></section></section><section class="sect2" id="smt-config-cronconf" data-id-title="/etc/smt.d/smt-cron.conf"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">8.2.2 </span><span class="title-name">/etc/smt.d/smt-cron.conf</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#smt-config-cronconf">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_config_files.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The <code class="filename">/etc/smt.d/smt-cron.conf</code> configuration file
   contains options of the SMT commands launched as SMT scheduled jobs
   set with YaST (see <a class="xref" href="smt-server.html#smt-yast-scheduling" title="3.5. Setting the SMT Job Schedule with YaST">Section 3.5, “Setting the SMT Job Schedule with YaST”</a>). Cron is used
   to launch these scheduled jobs. The cron table is located in the
   <code class="filename">/etc/cron.d/novell.com-smt</code> file.
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.10.5.4.3.1"><span class="term"><code class="option">SCC_SYNC_PARAMS</code>
    </span></dt><dd><p>
      Contains parameters of the <code class="command">smt scc-sync</code> command, if
      called as part of an SMT scheduled job via cron. The default value
      is <code class="literal">"-L /var/log/smt/smt-sync.log --mail"</code>.
     </p></dd><dt id="id-1.9.10.5.4.3.2"><span class="term"><code class="option">MIRROR_PARAMS</code>
    </span></dt><dd><p>
      Contains parameters of the <code class="command">smt mirror</code> command, if
      called as part of an SMT scheduled job via cron. The default value
      is <code class="literal">"-L /var/log/smt/smt-mirror.log --mail" </code>.
     </p></dd><dt id="id-1.9.10.5.4.3.3"><span class="term"><code class="option">REGISTER_PARAMS</code>
    </span></dt><dd><p>
      Contains parameters of the <code class="command">smt register</code> command, if
      called as part of an SMT scheduled job via cron. The default value
      is <code class="literal">"-r -L /var/log/smt/smt-register.log --mail" </code>.
     </p></dd><dt id="id-1.9.10.5.4.3.4"><span class="term"><code class="option">REPORT_PARAMS</code>
    </span></dt><dd><p>
      Contains parameters of the <code class="command">smt report</code> command, if
      called as part of an SMT scheduled job via cron. The default value
      is <code class="literal">"--mail --attach -L /var/log/smt/smt-report.log"
      </code>.
     </p></dd><dt id="id-1.9.10.5.4.3.5"><span class="term"><code class="option">JOBQUEUECLEANUP_PARAMS</code>
    </span></dt><dd><p>
      Contains parameters for smt jobqueue cleanup, if called as a part of
      an SMT scheduled job via cron. The default value is <code class="literal">"--mail
      -L /var/log/smt/smt-jobqueuecleanup.log"</code>.
     </p></dd></dl></div></section></section><section class="sect1" id="smt-tools-cert" data-id-title="Server Certificates"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">8.3 </span><span class="title-name">Server Certificates</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#smt-tools-cert">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_certificates.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  For communication between the SMT server and client machines, the
  encrypted HTTPS protocol is used, requiring a server certificate. If the
  certificate is not available, or if clients are not configured to use the
  certificate, the communication between server and clients will fail.
 </p><p>
  Every client must be able to verify the server certificate by trusting the CA
  (certificate authority) certificate that signed the server certificate.
  Therefore, the SMT server provides a copy of the CA at
  <code class="filename">/srv/www/htdocs/smt.crt</code>. This CA can be downloaded from
  every client via the URL
  <code class="literal">http://<em class="replaceable">FQDN</em>/smt.crt</code>. The copy is
  created by the <code class="filename">/usr/lib/SMT/bin/smt-maintenance</code> script.
  Whenever SMT is started with <code class="command">systemctl start smt.target</code>,
  it checks the certificate. If a new CA certificate exists, it is copied again.
  Therefore, whenever the CA certificate is missing or changed, restart SMT
  using the <code class="command">systemctl restart smt.target</code> command.
   </p><p>
  When the SMT Server module applies configuration changes, it checks for
  the existence of the common server certificate. If the certificate does
  not exist, YaST asks whether the certificate should be created. If the
  user confirms, the YaST CA Management module is started.
 </p><section class="sect2" id="id-1.9.10.6.5" data-id-title="Certificate Expiration"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">8.3.1 </span><span class="title-name">Certificate Expiration</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#id-1.9.10.6.5">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_certificates.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The common server certificate SMT uses is valid for one year. After
   that time, a new certificate is needed. Either generate a new certificate
   using YaST CA Management module or import a new certificate using the
   YaST Common Server Certificate module. Both options are described in
   the following sections.
  </p><p> As long as the same CA certificate is used, there is no need to
      update certificates on the client machines. The generated CA
      certificate is valid for 10 years. </p></section><section class="sect2" id="smt-certificate-creating" data-id-title="Creating a New Common Server Certificate"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">8.3.2 </span><span class="title-name">Creating a New Common Server Certificate</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#smt-certificate-creating">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_certificates.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To create a new common server certificate with YaST, proceed as
   follows:
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Start YaST and select <span class="guimenu">Security and
     Users</span> › <span class="guimenu">CA Management</span>.
     Alternatively, start the YaST CA Management module from a command
     line by entering <code class="command">yast2 ca_mgm</code> as <code class="systemitem">root</code>.
    </p></li><li class="step"><p>
     Select the required CA and click <span class="guimenu">Enter CA</span>.
    </p></li><li class="step"><p>
     Enter the password if entering a CA for the first time. YaST displays
     the CA key information in the <span class="guimenu">Description</span> tab.
    </p></li><li class="step"><p>
     Click the <span class="guimenu">Certificates</span> tab (see
     <a class="xref" href="smt-tools.html#fig-yast-ca-cert-smt" title="Certificates of a CA">Figure 8.1, “Certificates of a CA”</a>) and select <span class="guimenu">Add</span> › <span class="guimenu">Add Server Certificate</span>.
    </p><div class="figure" id="fig-yast-ca-cert-smt"><div class="figure-contents"><div class="mediaobject"><a href="images/yast2_ca_cert.png"><img src="images/yast2_ca_cert.png" width="75%" alt="Certificates of a CA" title="Certificates of a CA"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 8.1: </span><span class="title-name">Certificates of a CA </span></span><a title="Permalink" class="permalink" href="smt-tools.html#fig-yast-ca-cert-smt">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_certificates.xml" title="Edit source document"> </a></div></div></div></li><li class="step" id="step-new-cert1"><p> Enter the fully qualified domain name of the server as
            <span class="guimenu">Common Name</span>. Add a valid e-mail address
          of the server administrator. Other fields, such as
            <span class="guimenu">Organization</span>, <span class="guimenu">Organizational
            Unit</span>, <span class="guimenu">Locality</span>, and
            <span class="guimenu">State</span> are optional. Click
            <span class="guimenu">Next</span> to proceed.</p><div id="id-1.9.10.6.6.3.5.2" data-id-title="Host Name in Server Certificate" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Host Name in Server Certificate</div><p>
      The server certificate must contain the correct host name. If the
      client requests server <code class="literal">https://some.hostname/</code>, then
      <code class="literal">some.hostname</code> must be part of the certificate. The
      host name must either be used as the <span class="guimenu">Common Name</span>,
      see <a class="xref" href="smt-tools.html#step-new-cert1" title="Step 5">Step 5</a>, or as the <span class="guimenu">Subject
      Alternative Name</span>, see <a class="xref" href="smt-tools.html#step-new-cert2" title="Step 7">Step 7</a>:
      <code class="literal">DNS:some.hostname</code> and
      <code class="literal">IP:<em class="replaceable">&lt;ipaddress&gt;</em></code>.
     </p></div></li><li class="step"><p> Enter a <span class="guimenu">Password</span> for the private key of
          the certificate and re-enter it in the next field to verify
          it. </p></li><li class="step" id="step-new-cert2"><p>
     If you want to define a <span class="guimenu">Subject Alternative Name</span>,
     click <span class="guimenu">Advanced Options</span>, select <span class="guimenu">Subject
     Alternative Name</span> from the list and click
     <span class="guimenu">Add</span>.
    </p><div id="id-1.9.10.6.6.3.7.2" data-id-title="Subject Alternative Name" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Subject Alternative Name</div><p>
      If <span class="guimenu">Subject Alternative Name</span> is in the server certificate,
      then it needs to contain the DNS entry. If <span class="guimenu">Subject Alternative Name</span> is present,
      the <span class="guimenu">Common Name</span> (CN) is not checked anymore.
     </p></div></li><li class="step"><p>
     If you want to keep the default values for the other options, like
     <span class="guimenu">Key Length</span> and <span class="guimenu">Valid Period</span>,
     click <span class="guimenu">Next</span>. An overview of the certificate to be
     created is shown.
    </p></li><li class="step"><p>
     Click <span class="guimenu">Create</span> to generate the certificate.
    </p></li><li class="step"><p>
     To export the new certificate as the common server certificate, select
     it in the <span class="guimenu">Certificates</span> tab and select <span class="guimenu">Export</span> › <span class="guimenu">Export as Common Server
     Certificate</span>.
    </p></li><li class="step"><p>
     After having created a new certificate, restart SMT using the
     <code class="command">systemctl restart smt.target</code> command. Restarting
     SMT ensures that the new certificate is copied from
     <code class="filename">/etc/ssl/certs/YaST-CA.pem</code> to
     <code class="filename">/srv/www/htdocs/smt.crt</code>, the copy SMT uses.
     Restarting SMT also restarts the Web server.
    </p></li></ol></div></div><p> For detailed information about managing certification and
      further usage of the YaST CA Management module and the Common
      Server Certificate module, refer to the <em class="citetitle">Security and Hardening Guide</em>.
   It is available from <a class="link" href="https://documentation.suse.com/sles/" target="_blank">https://documentation.suse.com/sles/</a>.</p></section><section class="sect2" id="smt-certificate-importing" data-id-title="Importing a Common Server Certificate"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">8.3.3 </span><span class="title-name">Importing a Common Server Certificate</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#smt-certificate-importing">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_certificates.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   You can import an own common server certificate from a file. The
   certificate to be imported needs to be in the PKCS12 format with CA chain.
   Common server certificates can be imported with the YaST Common Server
   Certificate module.
  </p><p>
   To import an own certificate with YaST, proceed as follows:
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Start YaST and select <span class="guimenu">Security and
     Users</span> › <span class="guimenu">Common Server Certificate</span>. Alternatively, start the YaST Common Server
     Certificate module from the command line by entering <code class="command">yast2
     common_cert</code> as <code class="systemitem">root</code>.
    </p><p>
     The description of the currently used common server certificate is
     shown in the dialog that opens.
    </p></li><li class="step"><p>
     Click <span class="guimenu">Import</span> and select the file containing the
     certificate to be imported. Specify the certificate password in the
     <span class="guimenu">Password</span> field.
    </p></li><li class="step"><p>
     Click <span class="guimenu">Next</span>. If the certificate is successfully
     imported, close YaST with <span class="guimenu">Finish</span>.
    </p></li><li class="step"><p>
     After having created a new certificate, restart SMT using the
     <code class="command">systemctl restart smt.target</code> command. Restarting
     SMT ensures that the new certificate is copied from
     <code class="filename">/etc/ssl/certs/YaST-CA.pem</code> to
     <code class="filename">/srv/www/htdocs/smt.crt</code>, the copy SMT uses.
     Restarting SMT also restarts the Web server.
    </p></li></ol></div></div></section><section class="sect2" id="id-1.9.10.6.8" data-id-title="Synchronizing Time between SMT Server and Clients"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">8.3.4 </span><span class="title-name">Synchronizing Time between SMT Server and Clients</span></span> <a title="Permalink" class="permalink" href="smt-tools.html#id-1.9.10.6.8">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_certificates.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The synchronization of time between the SMT server and clients is
   highly recommended. Each server certificate has a validity period. If the
   client happens to be set to a time outside of this period, the
   certificate validation on the client side fails.
  </p><p>
   Therefore, it is advisable to keep the time on the server and clients
   synchronized. You can easily synchronize the time using NTP (network time
   protocol). Use <code class="command">yast2 ntp-client</code> to configure an NTP
   client. Find detailed information about NTP in the Administration Guide.
  </p></section></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="smt-reporting.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 7 </span>SMT Reports</span></a> </div><div><a class="pagination-link next" href="smt-client.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 9 </span>Configuring Clients to Use SMT</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="smt-tools.html#smt-scripts"><span class="title-number">8.1 </span><span class="title-name">Important Scripts and Tools</span></a></span></li><li><span class="sect1"><a href="smt-tools.html#id-1.9.10.5"><span class="title-number">8.2 </span><span class="title-name">SMT Configuration Files</span></a></span></li><li><span class="sect1"><a href="smt-tools.html#smt-tools-cert"><span class="title-number">8.3 </span><span class="title-name">Server Certificates</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>