<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLES 12 SP5 | Subscription Management Tool Guide | Configuring Clients to Use SMT</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="Configuring Clients to Use SMT | SLES 12 SP5"/>
<meta name="description" content="Any machine running SUSE Linux Enterprise 10 SP4, 11 SP1 or later, or any version of SUSE Linux Enterprise 12 can be configured to register against S…"/>
<meta name="product-name" content="SUSE Linux Enterprise Server"/>
<meta name="product-number" content="12 SP5"/>
<meta name="book-title" content="Subscription Management Tool Guide"/>
<meta name="chapter-title" content="Chapter 9. Configuring Clients to Use SMT"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="fs@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE Linux Enterprise Server 12 SP5"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Subscription Management Tool Guide"/>
<meta property="og:description" content="Use SMT, a proxy system for SUSE Customer Center"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Subscription Management Tool Guide"/>
<meta name="twitter:description" content="Use SMT, a proxy system for SUSE Customer Center"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "Configuring Clients to Use SMT",
  
    "description": "Configuring Clients to Use SMT",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2019-12-09T00:00+02:00",
      
    "datePublished": "2019-12-09T00:00+02:00",
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="smt-tools.html" title="Chapter 8. SMT Tools and Configuration Files"/><link rel="next" href="smt-advanced.html" title="Chapter 10. Advanced Topics"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">SMT Guide</a><span> / </span><a class="crumb" href="smt-client.html">Configuring Clients to Use SMT</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">SMT Guide</div><ol><li><a href="pre-smt.html" class=" "><span class="title-number"> </span><span class="title-name">About This Guide</span></a></li><li><a href="smt-overview.html" class=" "><span class="title-number">1 </span><span class="title-name">Overview</span></a></li><li><a href="smt-installation.html" class=" "><span class="title-number">2 </span><span class="title-name">SMT Installation</span></a></li><li><a href="smt-server.html" class=" "><span class="title-number">3 </span><span class="title-name">SMT Server Configuration</span></a></li><li><a href="smt-mirroring.html" class=" "><span class="title-number">4 </span><span class="title-name">Mirroring Repositories on the SMT Server</span></a></li><li><a href="smt-management.html" class=" "><span class="title-number">5 </span><span class="title-name">Managing Repositories with YaST SMT Server Management</span></a></li><li><a href="smt-registration.html" class=" "><span class="title-number">6 </span><span class="title-name">Managing Client Machines with SMT</span></a></li><li><a href="smt-reporting.html" class=" "><span class="title-number">7 </span><span class="title-name">SMT Reports</span></a></li><li><a href="smt-tools.html" class=" "><span class="title-number">8 </span><span class="title-name">SMT Tools and Configuration Files</span></a></li><li><a href="smt-client.html" class=" you-are-here"><span class="title-number">9 </span><span class="title-name">Configuring Clients to Use SMT</span></a></li><li><a href="smt-advanced.html" class=" "><span class="title-number">10 </span><span class="title-name">Advanced Topics</span></a></li><li><a href="smt-app-api.html" class=" "><span class="title-number">A </span><span class="title-name">SMT REST API</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="smt-client" data-id-title="Configuring Clients to Use SMT"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber">12 SP5</span></span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">9 </span><span class="title-name">Configuring Clients to Use SMT</span></span> <a title="Permalink" class="permalink" href="smt-client.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Any machine running SUSE Linux Enterprise 10 SP4, 11 SP1 or later, or any version of SUSE Linux Enterprise 12
  can be configured to register against SMT and download software updates
  from there, instead of communicating directly with SUSE Customer Center or Novell Customer
  Center.
 </p><p>
  If your network includes an SMT server to provide a local update source,
  you need to equip the client with the server's URL. As client and server
  communicate via the HTTPS protocol during registration, you also need to make
  sure the client trusts the server's certificate. In case you set up your
  SMT server to use the default server certificate, the CA certificate will
  be available on the SMT server at
  <code class="literal">http://<em class="replaceable">FQDN</em>/smt.crt</code> .
 </p><p>
  If the certificate is not issued by a well-trusted authority, the
  registration process will import the certificate from the URL specified as
  <code class="systemitem">regcert</code> parameter (SUSE Linux Enterprise Server 10 and 11). For SLE 12,
  the certificate will be downloaded automatically from SMT. In this case,
  the client displays the new certificate details (its fingerprint), and you
  need to accept the certificate.
 </p><p>
  There are several ways to provide the registration information and to
  configure the client machine to use SMT:
 </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    Provide the required information via kernel parameters at boot time
    (<a class="xref" href="smt-client.html#smt-client-parameters" title="9.1. Using Kernel Parameters to Access an SMT Server">Section 9.1, “Using Kernel Parameters to Access an SMT Server”</a>).
   </p></li><li class="listitem"><p>
    Configure the clients using an AutoYaST profile
    (<a class="xref" href="smt-client.html#smt-client-autoyast" title="9.2. Configuring Clients with AutoYaST Profile">Section 9.2, “Configuring Clients with AutoYaST Profile”</a>).
   </p></li><li class="listitem"><p>
    Use the <code class="command">clientSetup4SMT.sh</code> script
    (<a class="xref" href="smt-client.html#smt-client-clientsetupscript" title="9.3. Configuring Clients with the clientSetup4SMT.sh Script in SLE 11 and 12">Section 9.3, “Configuring Clients with the clientSetup4SMT.sh Script in SLE 11 and 12”</a>). This script can be run on
    a client to make it register against a specified SMT server.
   </p></li><li class="listitem"><p>
    In SUSE Linux Enterprise 11 and 12, you can set the SMT server URL with the YaST
    registration module during installation
    (<a class="xref" href="smt-client.html#smt-client-yast" title="9.4. Configuring Clients with YaST">Section 9.4, “Configuring Clients with YaST”</a>).
   </p></li></ol></div><p>
  These methods are described in the following sections.
 </p><section class="sect1" id="smt-client-parameters" data-id-title="Using Kernel Parameters to Access an SMT Server"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.1 </span><span class="title-name">Using Kernel Parameters to Access an SMT Server</span></span> <a title="Permalink" class="permalink" href="smt-client.html#smt-client-parameters">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml" title="Edit source document"> </a></div></div></div></div></div><div id="id-1.9.11.9.2" data-id-title="regcert Parameter Support" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: <code class="literal">regcert</code> Parameter Support</div><p>
    Note that the <code class="literal">regcert</code> kernel boot parameter is supported
    for SLE 10 and 11. It is not supported from SLE 12.
   </p></div><p>
   Any client can be configured to use SMT by providing the following kernel
   parameters during machine boot: <code class="literal">regurl</code> and
   <code class="literal">regcert</code>. The first parameter is mandatory, the latter is
   optional.
  </p><div id="id-1.9.11.9.4" data-id-title="Beware of Typing Errors" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: Beware of Typing Errors</div><p>
    Make sure the values you enter are correct. If <code class="literal">regurl</code>
    has not been specified correctly, the registration of the update source
    will fail.
   </p><p>
    If an invalid value for <code class="literal">regcert</code> has been entered, you
    will be prompted for a local path to the certificate. In case
    <code class="literal">regcert</code> is not specified, it will default to
    <code class="literal">http://<em class="replaceable">FQDN</em>/smt.crt</code> with
    <code class="literal">FQDN</code> being the name of the SMT server.
   </p></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.11.9.5.1"><span class="term">regurl</span></dt><dd><p>
      URL of the SMT server.
     </p><p>
      For SLE 11 and older clients, the URL needs to be in the following
      format:
      <code class="literal">https://<em class="replaceable">FQDN</em>/center/regsvc/</code>
      with <em class="replaceable">FQDN</em> being the fully qualified host name
      of the SMT server. It must be identical to the FQDN of the server
      certificate used on the SMT server. Example:
     </p><div class="verbatim-wrap"><pre class="screen">regurl=https://smt.example.com/center/regsvc/</pre></div><p>
      For SLE 12 clients, the URL needs to be in the following format:
      <code class="literal">https://<em class="replaceable">FQDN</em></code> with
      <em class="replaceable">FQDN</em> being the fully qualified host name of
      the SMT server. It must be identical to the FQDN of the server
      certificate used on the SMT server. Example:
     </p><div class="verbatim-wrap"><pre class="screen">regurl=https://smt.example.com/</pre></div></dd><dt id="id-1.9.11.9.5.2"><span class="term">regcert</span></dt><dd><p>
      Location of the SMT server's CA certificate. Specify one of the
      following locations:
     </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.9.11.9.5.2.2.2.1"><span class="term">URL</span></dt><dd><p>
         Remote location (HTTP, HTTPS, or FTP) from which the certificate can be
         downloaded. Example:
        </p><div class="verbatim-wrap"><pre class="screen">regcert=http://smt.example.com/smt.crt</pre></div></dd><dt id="id-1.9.11.9.5.2.2.2.2"><span class="term">Floppy</span></dt><dd><p>
         Specifies a location on a floppy. The floppy needs to be inserted at
         boot time—you will not be prompted to insert it if it is
         missing. The value needs to start with the string
         <code class="literal">floppy</code>, followed by the path to the certificate.
         Example:
        </p><div class="verbatim-wrap"><pre class="screen">regcert=floppy/smt/smt-ca.crt</pre></div></dd><dt id="id-1.9.11.9.5.2.2.2.3"><span class="term">Local Path</span></dt><dd><p>
         Absolute path to the certificate on the local machine. Example:
        </p><div class="verbatim-wrap"><pre class="screen">regcert=/data/inst/smt/smt-ca.cert</pre></div></dd><dt id="id-1.9.11.9.5.2.2.2.4"><span class="term">Interactive</span></dt><dd><p>
         Use <code class="literal">ask</code> to open a pop-up menu during installation
         where you can specify the path to the certificate. Do not use this
         option with AutoYaST. Example:
        </p><div class="verbatim-wrap"><pre class="screen">regcert=ask</pre></div></dd><dt id="id-1.9.11.9.5.2.2.2.5"><span class="term">Deactivate Certificate Installation</span></dt><dd><p>
         Use <code class="literal">done</code> if either the certificate will be
         installed by an add-on product, or if you are using a certificate
         issued by an official certificate authority. Example:
        </p><div class="verbatim-wrap"><pre class="screen">regcert=done</pre></div></dd></dl></div></dd></dl></div><div id="id-1.9.11.9.6" data-id-title="Change of SMT Server Certificate" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: Change of SMT Server Certificate</div><p>
    If the SMT server gets a new certificate from an untrusted CA, the
    clients need to retrieve the new CA certificate file.
   </p><p>
    On SLE 10 and 11, this is done automatically with the registration process
    in the following cases:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>If a URL was used at installation time to retrieve the
      certificate.</p></li><li class="listitem"><p>If the <code class="literal">regcert</code> parameter was omitted and
      thus the default URL is used.</p></li></ul></div><p>If the certificate was loaded using any other
    method, such as floppy or local path, the CA certificate will not be
    updated.
   </p><p>
    On SUSE Linux Enterprise Server 12, after the certificate has changed, YaST displays a dialog
    for importing a new certificate. If you confirm importing the new
    certificate, the old one is replaced with the new one.
   </p></div></section><section class="sect1" id="smt-client-autoyast" data-id-title="Configuring Clients with AutoYaST Profile"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.2 </span><span class="title-name">Configuring Clients with AutoYaST Profile</span></span> <a title="Permalink" class="permalink" href="smt-client.html#smt-client-autoyast">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Clients can be configured to register with SMT server via AutoYaST profile.
   For general information about creating AutoYaST profiles and preparing automatic
   installation, refer to the <span class="emphasis"><em>AutoYaST Guide</em></span>. In this section,
   only SMT specific configuration is described.
  </p><p>
   To configure SMT specific data using AutoYaST, follow the steps for the
   relevant version of SMT client.
  </p><section class="sect2" id="smt-client-autoyast-sle11" data-id-title="Configuring SUSE Linux Enterprise 11 Clients"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.2.1 </span><span class="title-name">Configuring SUSE Linux Enterprise 11 Clients</span></span> <a title="Permalink" class="permalink" href="smt-client.html#smt-client-autoyast-sle11">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml" title="Edit source document"> </a></div></div></div></div></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      As <code class="systemitem">root</code>, start YaST and select <span class="guimenu">Miscellaneous</span> › <span class="guimenu">Autoinstallation</span> to start the graphical AutoYaST front-end.
     </p><p>
      From a command line, you can start the graphical AutoYaST front-end with the
      <code class="command">yast2 autoyast</code> command.
     </p></li><li class="step"><p>
      Open an existing profile using <span class="guimenu">File</span> › <span class="guimenu">Open</span>, create a profile based on the
      current system's configuration using <span class="guimenu">Tools</span> › <span class="guimenu">Create Reference Profile</span>, or work with an empty profile.
     </p></li><li class="step"><p>
      Select <span class="guimenu">Software</span> › <span class="guimenu">Novell Customer
      Center Configuration</span>. An overview of the current
      configuration is shown.
     </p></li><li class="step"><p>
      Click <span class="guimenu">Configure</span>.
     </p></li><li class="step"><p>
      Set the URL of the <span class="guimenu">SMT Server</span> and, optionally, the
      location of the <span class="guimenu">SMT Certificate</span>. The possible values
      are the same as for the kernel parameters <code class="literal">regurl</code> and
      <code class="literal">regcert</code> (see <a class="xref" href="smt-client.html#smt-client-parameters" title="9.1. Using Kernel Parameters to Access an SMT Server">Section 9.1, “Using Kernel Parameters to Access an SMT Server”</a>).
      The only exception is that the <code class="literal">ask</code> value for
      <code class="literal">regcert</code> does not work in AutoYaST, because it requires
      user interaction. If using it, the registration process will be skipped.
     </p></li><li class="step"><p>
      Perform all other configuration needed for the systems to be deployed.
     </p></li><li class="step"><p>
      Select <span class="guimenu">File</span> › <span class="guimenu">Save As</span> and enter a file name for the profile, such as
      <code class="filename">autoinst.xml</code>.
     </p></li></ol></div></div></section><section class="sect2" id="smt-client-autoyast-sle12" data-id-title="Configuring SUSE Linux Enterprise 12 Clients"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.2.2 </span><span class="title-name">Configuring SUSE Linux Enterprise 12 Clients</span></span> <a title="Permalink" class="permalink" href="smt-client.html#smt-client-autoyast-sle12">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml" title="Edit source document"> </a></div></div></div></div></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      As <code class="systemitem">root</code>, start YaST and select <span class="guimenu">Miscellaneous</span> › <span class="guimenu">Autoinstallation</span> to start the graphical AutoYaST front-end.
     </p><p>
      From a command line, you can start the graphical AutoYaST front-end with the
      <code class="command">yast2 autoyast</code> command.
     </p></li><li class="step"><p>
      Open an existing profile using <span class="guimenu">File</span> › <span class="guimenu">Open</span>, create a profile based on the
      current system's configuration using <span class="guimenu">Tools</span> › <span class="guimenu">Create Reference Profile</span>, or work with an empty profile.
     </p></li><li class="step"><p>
      Select <span class="guimenu">Software</span> › <span class="guimenu">Product
      Registration</span>. An overview of the current
      configuration is shown.
     </p></li><li class="step"><p>
      Click <span class="guimenu">Edit</span>.
     </p></li><li class="step"><p>
      Check <span class="guimenu">Register the Product</span>, set the URL of the SMT
      server in <span class="guimenu">Use Specific Server URL Instead of the
      Default</span>, and you can set the <span class="guimenu">Optional SSL Server
      Certificate URL</span>. The possible values for the server URL are the
      same as for the kernel parameter <code class="literal">regurl</code>. For the SSL
      certificate location, you can use either HTTP or HTTPS based URLs.
     </p></li><li class="step"><p>
      Perform all other configuration needed for the systems to be deployed,
      then click <span class="guimenu">Finish</span> to return to the main screen.
     </p></li><li class="step"><p>
      Select <span class="guimenu">File</span> › <span class="guimenu">Save As</span> and enter a file name for the profile, such as
      <code class="filename">autoinst.xml</code>.
     </p></li></ol></div></div></section></section><section class="sect1" id="smt-client-clientsetupscript" data-id-title="Configuring Clients with the clientSetup4SMT.sh Script in SLE 11 and 12"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.3 </span><span class="title-name">Configuring Clients with the clientSetup4SMT.sh Script in SLE 11 and 12</span></span> <a title="Permalink" class="permalink" href="smt-client.html#smt-client-clientsetupscript">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   In SLE 11 and 12, the
   <code class="command">/usr/share/doc/packages/smt/clientSetup4SMT.sh</code> script is
   provided together with SMT. This script allows you to configure a client
   machine to use an SMT server. It can also be used to reconfigure an
   existing client to use a different SMT server.
  </p><div id="id-1.9.11.11.3" data-id-title="Installation of wget" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Installation of <code class="command">wget</code></div><p>
    The script <code class="filename">clientSetup4SMT.sh</code> itself uses
    <code class="command">wget</code>, so <code class="command">wget</code> must be installed on
    the client.
   </p></div><div id="id-1.9.11.11.4" data-id-title="Upgrade clientSetup4SMT.sh" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Upgrade <code class="command">clientSetup4SMT.sh</code></div><p>
    If you migrated your client OS from an older SUSE Linux Enterprise, check if the version
    of the <code class="command">clientSetup4SMT.sh</code> script on your host is up to date.
   <code class="command">clientSetup4SMT.sh</code> from older versions of SMT cannot manage SMT 12 clients.
    If you apply software patches regularly on your SMT server, you can always find the latest version
    of <code class="command">clientSetup4SMT.sh</code> at <code class="filename">&lt;SMT_HOSTNAME&gt;/repo/tools/clientSetup4SMT.sh</code>.
   </p></div><p>
   To configure a client machine to use SMT with the
   <code class="command">clientSetup4SMT.sh</code> script, follow these steps:
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Copy the <code class="filename">clientSetup4SMT.sh</code> script from your SMT
     server to the client machine. The script is available at
     <code class="filename">&lt;SMT_HOSTNAME&gt;/repo/tools/clientSetup4SMT.sh</code>
     and <code class="filename">/srv/www/htdocs/repo/tools/clientSetup4SMT.sh</code>.
     You can download it with a browser, using <code class="command">wget</code>, or by
     another means, such as with <code class="command">scp</code>.
    </p></li><li class="step"><p>
     As <code class="systemitem">root</code>, execute the script on the client machine. The script can be
     executed in two ways. In the first case, the script name is followed by
     the registration URL. For example:
    </p><div class="verbatim-wrap"><pre class="screen">./clientSetup4SMT.sh https://smt.example.com/center/regsvc/</pre></div><p>
     In the second case, the script uses the <code class="option">--host</code> option
     followed by the host name of the SMT server, and
     <code class="option">--regcert</code> followed by the URL of the SSL certificate; for
     example:
    </p><div class="verbatim-wrap"><pre class="screen">./clientSetup4SMT.sh --host smt.example.com \
  --regcert http://smt.example.com/smt.crt</pre></div><p>
     In this case, without any <span class="quote">“<span class="quote">namespace</span>”</span> specified, the client
     will be configured to use the default production repositories. If
     <code class="option">--namespace <em class="replaceable">GROUPNAME</em></code> is
     specified, the client will use that staging group.
    </p></li><li class="step"><p>
     The script downloads the server's CA certificate. Accept it by pressing
     <span class="keycap">Y</span>.
    </p></li><li class="step"><p>
     The script performs all necessary modifications on the client. However,
     the registration itself is not performed by the script.
    </p></li><li class="step"><p>
     The script downloads and asks to accept additional GPG keys to sign
     repositories with.
    </p></li><li class="step"><p>
     On SLE 11, perform the registration by executing
     <code class="command">suse_register</code> or running the <code class="command">yast2
     inst_suse_register</code> module on the client.
    </p><p>
     On SLE 12, perform the registration by executing
    </p><div class="verbatim-wrap"><pre class="screen">SUSEConnect -p <em class="replaceable">PRODUCT_NAME</em> --url <em class="replaceable">https://smt.example.org</em></pre></div><p>
     or running the <code class="command">yast2 registration</code> (SUSE Linux Enterprise Server 12 SP1 and newer) or
     <code class="command">yast2 scc</code> (SUSE Linux Enterprise Server 12) module on the client.
    </p></li></ol></div></div><p>
   The <code class="command">clientSetup4SMT.sh</code> script works with SUSE Linux Enterprise 10 SP2 and
   later Service Packs, SLE 11, and SLE 12 systems.
  </p><p>
   This script is also provided for download. You can get it by running
  </p><div class="verbatim-wrap"><pre class="screen">wget http://smt.example.com/repo/tools/clientSetup4SMT.sh</pre></div><div id="id-1.9.11.11.10" data-id-title="Extension and Module Registration in SUSE Linux Enterprise 12" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Extension and Module Registration in SUSE Linux Enterprise 12</div><p>
    When registering an existing system against SMT 12—both on the
    command line and using YaST—you need to register additional
    extensions and modules separately, one by one. This applies both to
    already installed extensions and to extensions that you plan to install.
   </p></div><section class="sect2" id="id-1.9.11.11.11" data-id-title="Problems Downloading GPG Keys from the Server"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.3.1 </span><span class="title-name">Problems Downloading GPG Keys from the Server</span></span> <a title="Permalink" class="permalink" href="smt-client.html#id-1.9.11.11.11">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The <code class="literal">apache2-example-pages</code> package includes a
    <code class="filename">robots.txt</code> file. The file is installed into the
    Apache2 document root directory, and controls how clients can access files
    from the Web server. If this package is installed on the server,
    <code class="filename">clientSetup4SMT.sh</code> fails to download the keys stored
    under <code class="filename">/repo/keys</code>.
   </p><p>
    You can solve this problem by either editing
    <code class="filename">robots.txt</code>, or uninstalling the
    <code class="literal">apache2-example-pages</code> package.
   </p><p>
    If you choose to edit the <code class="filename">robots.txt</code> file, add before
    the <code class="literal">Disallow: /</code> statement:
   </p><div class="verbatim-wrap"><pre class="screen">Allow: /repo/keys</pre></div></section></section><section class="sect1" id="smt-client-yast" data-id-title="Configuring Clients with YaST"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.4 </span><span class="title-name">Configuring Clients with YaST</span></span> <a title="Permalink" class="permalink" href="smt-client.html#smt-client-yast">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml" title="Edit source document"> </a></div></div></div></div></div><section class="sect2" id="id-1.9.11.12.3" data-id-title="Configuring Clients with YaST in SLE 11"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.4.1 </span><span class="title-name">Configuring Clients with YaST in SLE 11</span></span> <a title="Permalink" class="permalink" href="smt-client.html#id-1.9.11.12.3">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    To configure a client to perform the registration against an SMT server
    use the YaST registration module (<code class="command">yast2
    inst_suse_register</code>).
   </p><p>
    Click <span class="guimenu">Advanced</span> › <span class="guimenu">Local Registration
    Server</span> and enter the name of the SMT server plus
    the path to the registration internals
    (<code class="filename">/center/regsvc/</code>), for example:
   </p><div class="verbatim-wrap"><pre class="screen">https://smt.example.com/center/regsvc/</pre></div><p>
    After confirmation the certificate is loaded and the user is asked to
    accept it. Then continue.
   </p><div id="id-1.9.11.12.3.6" data-id-title="Staging Groups Registration" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: Staging Groups Registration</div><p>
     If a staging group is used, make sure that settings in
     <code class="filename">/etc/suseRegister.conf</code> are done accordingly. If not
     already done, modify the <code class="literal">register=</code> parameter and append
     <code class="literal">&amp;namespace=<em class="replaceable">NAMESPACE</em></code>.
     For more information about staging groups, see
     <a class="xref" href="smt-management.html#smt-yast-staging-stage" title="5.3. Staging Repositories">Section 5.3, “Staging Repositories”</a>.
    </p><p>
     Alternatively, use the <code class="command">clientSetup4SMT.sh</code> script (see
     <a class="xref" href="smt-client.html#smt-client-clientsetupscript" title="9.3. Configuring Clients with the clientSetup4SMT.sh Script in SLE 11 and 12">Section 9.3, “Configuring Clients with the clientSetup4SMT.sh Script in SLE 11 and 12”</a>).
    </p></div></section><section class="sect2" id="id-1.9.11.12.4" data-id-title="Configuring Clients with YaST in SLE 12"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.4.2 </span><span class="title-name">Configuring Clients with YaST in SLE 12</span></span> <a title="Permalink" class="permalink" href="smt-client.html#id-1.9.11.12.4">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    To configure a client to perform the registration against an SMT server
    use the YaST <span class="guimenu">Product Registration</span> module
    <code class="command">yast2 registration</code> (SUSE Linux Enterprise Server 12 SP1 or newer) or <code class="command">yast2
    scc</code> (SUSE Linux Enterprise Server 12).
   </p><p>
    On the client, the credentials are not necessary and you may leave the
    relevant fields empty. Click <span class="guimenu">Local Registration Server</span>
    and enter its URL. Then click <span class="guimenu">Next</span> until the exit from
    the module.
   </p></section></section><section class="sect1" id="id-1.9.11.13" data-id-title="Registering SLE11 Clients against SMT Test Environment"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.5 </span><span class="title-name">Registering SLE11 Clients against SMT Test Environment</span></span> <a title="Permalink" class="permalink" href="smt-client.html#id-1.9.11.13">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To configure a client to register against the test environment instead of
   the production environment, modify
   <code class="filename">/etc/suseRegister.conf</code> on the client machine by
   setting:
  </p><div class="verbatim-wrap"><pre class="screen">register = command=register&amp;namespace=testing</pre></div><p>
   For more information about using SMT with a test environment, see
   <a class="xref" href="smt-mirroring.html#smt-mirroring-testenv" title="4.5. Using the Test Environment">Section 4.5, “Using the Test Environment”</a>.
  </p></section><section class="sect1" id="smt-mirror-testenv-sle12client" data-id-title="Registering SLE12 Clients against SMT Test Environment"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.6 </span><span class="title-name">Registering SLE12 Clients against SMT Test Environment</span></span> <a title="Permalink" class="permalink" href="smt-client.html#smt-mirror-testenv-sle12client">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To register a client in the testing environment, follow these steps:
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     De-register the client from the SMT server by running <code class="command">SUSEConnect --de-register</code> on the client host.
    </p></li><li class="step"><p>
     Modify <code class="filename">/etc/SUSEConnect</code> on the client machine as
     follows:
    </p><div class="verbatim-wrap"><pre class="screen">namespace: testing</pre></div></li><li class="step"><p>
     Re-register the client host against SMT in order for the new
     namespace setting to take effect. See general information about
     registering SMT clients in <a class="xref" href="smt-client.html" title="Chapter 9. Configuring Clients to Use SMT">Chapter 9, <em>Configuring Clients to Use SMT</em></a>.
    </p></li></ol></div></div><p>
   For more information about using SMT with a test environment, see
   <a class="xref" href="smt-mirroring.html#smt-mirroring-testenv" title="4.5. Using the Test Environment">Section 4.5, “Using the Test Environment”</a>.
  </p></section><section class="sect1" id="smt-clients-repolist" data-id-title="Listing Accessible Repositories"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.7 </span><span class="title-name">Listing Accessible Repositories</span></span> <a title="Permalink" class="permalink" href="smt-client.html#smt-clients-repolist">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To retrieve the accessible repositories for a client, download
   <code class="filename">repo/repoindex.xml</code> from the SMT server with the
   client's credentials. The credentials are stored in
   <code class="filename">/etc/zypp/credentials.d/SCCcredentials</code> (SUSE Linux Enterprise Server 12) or
   <code class="filename">/etc/zypp/credentials.d/NCCcredentials</code> (SUSE Linux Enterprise Server 11) on the
   client machine. Using <code class="command">wget</code>, the command for testing could
   be as follows:
  </p><div class="verbatim-wrap"><pre class="screen">wget https://<em class="replaceable">USER</em>:<em class="replaceable">PASS</em>@smt.example.com/repo/repoindex.xml</pre></div><p>
   <code class="filename">repoindex.xml</code> returns the complete repository list as
   they come from the vendor. If a repository is marked for staging,
   <code class="filename">repoindex.xml</code> lists the repository in the
   <code class="literal">full</code> namespace (<code class="filename">repos/full/$RCE</code>).
  </p><p>
   To get a list of all repositories available on the SMT server, use the
   credentials specified in the <code class="literal">[LOCAL]</code> section of
   <code class="filename">/etc/smt.conf</code> on the server as
   <code class="literal">mirrorUser</code> and <code class="literal">mirrorPassword</code>.
  </p></section><section class="sect1" id="smt-client-onlinemigration" data-id-title="Online Migration of SUSE Linux Enterprise Clients"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.8 </span><span class="title-name">Online Migration of SUSE Linux Enterprise Clients</span></span> <a title="Permalink" class="permalink" href="smt-client.html#smt-client-onlinemigration">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   SUSE Linux Enterprise clients registered against SMT can be migrated online to the latest
   service pack of the same major release the same way as clients registered
   against SUSE Customer Center or Novell Customer Center. Before starting the migration, make
   sure that SMT is configured to provide the correct version of repositories
   to which you need the clients to migrate.
  </p><p>
   For detailed information on online migration, see
   <a class="link" href="https://documentation.suse.com/sles-11/html/SLES-all/cha-update-sle.html" target="_blank">https://documentation.suse.com/sles-11/html/SLES-all/cha-update-sle.html</a>
   for SUSE Linux Enterprise 11 clients, or <span class="intraxref">Book “Deployment Guide”, Chapter 20 “Upgrading SUSE Linux Enterprise”</span> for SUSE Linux Enterprise 12
   clients.
  </p></section><section class="sect1" id="smt-clients-rhel" data-id-title="How to Update Red Hat Enterprise Linux with SMT"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.9 </span><span class="title-name">How to Update Red Hat Enterprise Linux with SMT</span></span> <a title="Permalink" class="permalink" href="smt-client.html#smt-clients-rhel">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   SMT enables customers that possess the required entitlements to mirror
   updates for Red Hat Enterprise Linux (RHEL). Refer to
   <a class="link" href="http://www.suse.com/products/expandedsupport/" target="_blank">http://www.suse.com/products/expandedsupport/</a> for
   details on SUSE Linux Enterprise Server Subscription with Expanded Support. This section discusses
   the actions required to configure the SMT server and clients (RHEL
   servers) for this solution.
  </p><div id="id-1.9.11.17.3" data-id-title="SUSE Linux Enterprise Server 10" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: SUSE Linux Enterprise Server 10</div><p>
    Configuring RHEL client with Subscription Management Tool for SUSE Linux Enterprise (SMT
    1.0) running SUSE Linux Enterprise Server 10 is slightly different. For more information, see
    <a class="link" href="http://www.novell.com/support/search.do?usemicrosite=true&amp;searchString=7001751" target="_blank">How
    to update Red Hat Enterprise Linux with SMT.</a>
   </p></div><section class="sect2" id="smt-client-rhel-server" data-id-title="How to Prepare SMT Server for Mirroring and Publishing Updates for RHEL"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.9.1 </span><span class="title-name">How to Prepare SMT Server for Mirroring and Publishing Updates for RHEL</span></span> <a title="Permalink" class="permalink" href="smt-client.html#smt-client-rhel-server">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml" title="Edit source document"> </a></div></div></div></div></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Install SUSE Linux Enterprise Server (SLES) with the SMT packages as per the documentation on
      the respective products.
     </p></li><li class="step"><p>
      During SMT setup, use organization credentials that have access to
      Novell-provided RHEL update repositories.
     </p></li><li class="step"><p>
      Verify that the organization credentials have access to download updates
      for the Red Hat products with
     </p><div class="verbatim-wrap"><pre class="screen">smt-repos -m | grep RES</pre></div></li><li class="step"><p>
      Enable mirroring of the RHEL update repositories for the desired
      architecture(s):
     </p><div class="verbatim-wrap"><pre class="screen">smt-repos -e <em class="replaceable">REPO-NAME</em> <em class="replaceable">ARCHITECTURE</em></pre></div></li><li class="step"><p>
      Mirror the updates and log verbose output:
     </p><div class="verbatim-wrap"><pre class="screen">smt-mirror -d -L /var/log/smt/smt-mirror.log</pre></div><p>
      The updates for RHEL will also be mirrored automatically as part of the
      default nightly SMT mirroring cron job. When the mirror process of the
      repositories for your RHEL products has completed, the updates are available
      via
     </p><div class="verbatim-wrap"><pre class="screen">http://smt-server.your-domain.top/repo/$RCE/<em class="replaceable">REPOSITORY_NAME</em>/<em class="replaceable">ARCHITECTURE</em>/</pre></div></li><li class="step"><p>
      To enable GPG checking of the repositories, the key used to sign the
      repositories needs to be made available to the RHEL clients. This key is
      now available in the res-signingkeys package, which is included in the
      SMT 11 installation source.
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
        Install the <code class="literal">res-signingkeys</code> package with the command
       </p><div class="verbatim-wrap"><pre class="screen">zypper in -y res-signingkeys</pre></div></li><li class="listitem"><p>
        The installation of the package stores the key file as
        <code class="filename">/srv/www/htdocs/repo/keys/res-signingkeys.key</code>.
       </p></li><li class="listitem"><p>
        Now the key is available to the clients and can be imported into their
        RPM database as described later.
       </p></li></ul></div></li></ol></div></div></section><section class="sect2" id="smt-client-rhel-yum" data-id-title="How to Configure the YUM Client on RHEL 5.2 to Receive Updates from SMT"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.9.2 </span><span class="title-name">How to Configure the YUM Client on RHEL 5.2 to Receive Updates from SMT</span></span> <a title="Permalink" class="permalink" href="smt-client.html#smt-client-rhel-yum">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml" title="Edit source document"> </a></div></div></div></div></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Import the repository signing key downloaded above into the local RPM
      database with
     </p><div class="verbatim-wrap"><pre class="screen">rpm --import http://<em class="replaceable">smt.example.com</em>/repo/keys/res-signingkeys.key</pre></div></li><li class="step"><p>
      Create a file in <code class="filename">/etc/yum.repos.d/</code> and name it
      <code class="literal">RES5.repo</code>.
     </p></li><li class="step"><p>
      Edit the file and enter the repository data, and point to the repository on
      the SMT server as follows:
     </p><div class="verbatim-wrap"><pre class="screen">[smt]
name=SMT repository
baseurl=http://<em class="replaceable">smt.example.com</em>/repo/$RCE/<em class="replaceable">REPOSITORY_NAME</em>/<em class="replaceable">ARCHITECTURE</em>/
enabled=1
gpgcheck=1</pre></div><p>
      Example of base URL:
     </p><div class="verbatim-wrap"><pre class="screen">http://smt.mycompany.com/repo/$RCE/RES5/i386/</pre></div></li><li class="step"><p>
      Save the file.
     </p></li><li class="step"><p>
      Disable standard Red Hat repositories by setting
     </p><div class="verbatim-wrap"><pre class="screen">enabled=0</pre></div><p>
      in the repository entries in other files in
      <code class="filename">/etc/yum.repos.d/</code> (if any are enabled).
     </p><p>
      Both YUM and the update notification applet should work correctly now and
      notify of available updates when applicable. You may need to restart the
      applet.
     </p></li></ol></div></div></section><section class="sect2" id="smt-client-rhel-up2date" data-id-title="How to Configure the UP2DATE Client on RHEL 3.9 and 4.7 to Receive Updates from SMT"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.9.3 </span><span class="title-name">How to Configure the UP2DATE Client on RHEL 3.9 and 4.7 to Receive Updates from SMT</span></span> <a title="Permalink" class="permalink" href="smt-client.html#smt-client-rhel-up2date">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml" title="Edit source document"> </a></div></div></div></div></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Import the repository signing key downloaded above into the local RPM
      database with
     </p><div class="verbatim-wrap"><pre class="screen">rpm --import http://<em class="replaceable">smt.example.com</em>/repo/keys/res-signingkeys.key</pre></div></li><li class="step"><p>
      Edit the file <code class="filename">/etc/sysconfig/rhn/sources</code> and make
      the following changes:
     </p></li><li class="step"><p>
      Comment out any lines starting with <code class="literal">up2date</code>.
     </p><p>
      Normally, there will be a line that says "up2date default".
     </p></li><li class="step"><p>
      Add an entry pointing to the SMT repository (all in one line):
     </p><div class="verbatim-wrap"><pre class="screen">yum <em class="replaceable">REPO_NAME</em> http://<em class="replaceable">smt.example.com</em>/repo/$RCE/<em class="replaceable">REPOSITORY_NAME</em>/<em class="replaceable">ARCHITECTURE</em>/</pre></div><p>
      where <code class="literal">repo-name</code> should be set to RES3 for 3.9 and RES4
      for 4.7.
     </p></li><li class="step"><p>
      Save the file.
     </p></li></ol></div></div><p>
    Both up2date and the update notification applet should work correctly now,
    pointing to the SMT repository and indicating updates when available. In
    case of trouble, try to restart the applet.
   </p><p>
    To ensure correct reporting of the Red Hat Enterprise systems in SUSE Customer Center,
    they need to be registered against your SMT server. For this a special
    suseRegisterRES package is provided through the RES* repositories and it should
    be installed, configured and executed as described below.
   </p></section><section class="sect2" id="smt-client-rhel-rhel52" data-id-title="How to Register RHEL 5.2 against SMT"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.9.4 </span><span class="title-name">How to Register RHEL 5.2 against SMT</span></span> <a title="Permalink" class="permalink" href="smt-client.html#smt-client-rhel-rhel52">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml" title="Edit source document"> </a></div></div></div></div></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Install the suseRegisterRES package.
     </p><div class="verbatim-wrap"><pre class="screen">yum install suseRegisterRES</pre></div><div id="id-1.9.11.17.7.2.1.3" data-id-title="Additional Packages" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Additional Packages</div><p>
       You may need to install the <code class="literal">perl-Crypt-SSLeay</code> and
       <code class="literal">perl-XML-Parser</code> packages from the original RHEL
       media.
      </p></div></li><li class="step"><p>
      Copy the SMT certificate to the system:
     </p><div class="verbatim-wrap"><pre class="screen">wget http://<em class="replaceable">smt.example.com</em>/smt.crt</pre></div><div class="verbatim-wrap"><pre class="screen">cat smt.crt &gt;&gt; /etc/pki/tls/cert.pem</pre></div></li><li class="step"><p>
      Edit <code class="filename">/etc/suseRegister.conf</code> to point to SMT by
      changing the URL value to
     </p><div class="verbatim-wrap"><pre class="screen">url: https://<em class="replaceable">smt.example.com</em>/center/regsvc/</pre></div></li><li class="step"><p>
      Register the system:
     </p><div class="verbatim-wrap"><pre class="screen">suse_register</pre></div></li></ol></div></div></section><section class="sect2" id="smt-client-rhel-rhel4739" data-id-title="How to Register RHEL 4.7 and RHEL 3.9 against SMT"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.9.5 </span><span class="title-name">How to Register RHEL 4.7 and RHEL 3.9 against SMT</span></span> <a title="Permalink" class="permalink" href="smt-client.html#smt-client-rhel-rhel4739">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/smt_client.xml" title="Edit source document"> </a></div></div></div></div></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Install the <code class="literal">suseRegisterRES</code> package:
     </p><div class="verbatim-wrap"><pre class="screen">up2date --get suseRegisterRES
up2date --get perl-XML-Writer
rpm -ivh /var/spool/up2date/suseRegisterRES*.rpm /var/spool/up2date/perl-XML-Writer-0*.rpm</pre></div><div id="id-1.9.11.17.8.2.1.3" data-id-title="Additional Packages" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Additional Packages</div><p>
       You may need to install the <code class="literal">perl-Crypt-SSLeay</code> and
       <code class="literal">perl-XML-Parser</code> packages from the original RHEL
       media.
      </p></div></li><li class="step"><p>
      Copy the SMT certificate to the system:
     </p><div class="verbatim-wrap"><pre class="screen">wget http://<em class="replaceable">smt.example.com</em>/smt.crt</pre></div><div class="verbatim-wrap"><pre class="screen">cat smt.crt &gt;&gt; /usr/share/ssl/cert.pem</pre></div></li><li class="step"><p>
      Edit <code class="filename">/etc/suseRegister.conf</code> to point to SMT by
      changing the URL value to
     </p><div class="verbatim-wrap"><pre class="screen">url = https://<em class="replaceable">smt.example.com</em>/center/regsvc/</pre></div><p>
      or (for SUSE Customer Center)
     </p><div class="verbatim-wrap"><pre class="screen">url = https://<em class="replaceable">smt.example.com</em></pre></div></li><li class="step"><p>
      Register the system:
     </p><div class="verbatim-wrap"><pre class="screen">suse_register</pre></div></li></ol></div></div></section></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="smt-tools.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 8 </span>SMT Tools and Configuration Files</span></a> </div><div><a class="pagination-link next" href="smt-advanced.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 10 </span>Advanced Topics</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="smt-client.html#smt-client-parameters"><span class="title-number">9.1 </span><span class="title-name">Using Kernel Parameters to Access an SMT Server</span></a></span></li><li><span class="sect1"><a href="smt-client.html#smt-client-autoyast"><span class="title-number">9.2 </span><span class="title-name">Configuring Clients with AutoYaST Profile</span></a></span></li><li><span class="sect1"><a href="smt-client.html#smt-client-clientsetupscript"><span class="title-number">9.3 </span><span class="title-name">Configuring Clients with the clientSetup4SMT.sh Script in SLE 11 and 12</span></a></span></li><li><span class="sect1"><a href="smt-client.html#smt-client-yast"><span class="title-number">9.4 </span><span class="title-name">Configuring Clients with YaST</span></a></span></li><li><span class="sect1"><a href="smt-client.html#id-1.9.11.13"><span class="title-number">9.5 </span><span class="title-name">Registering SLE11 Clients against SMT Test Environment</span></a></span></li><li><span class="sect1"><a href="smt-client.html#smt-mirror-testenv-sle12client"><span class="title-number">9.6 </span><span class="title-name">Registering SLE12 Clients against SMT Test Environment</span></a></span></li><li><span class="sect1"><a href="smt-client.html#smt-clients-repolist"><span class="title-number">9.7 </span><span class="title-name">Listing Accessible Repositories</span></a></span></li><li><span class="sect1"><a href="smt-client.html#smt-client-onlinemigration"><span class="title-number">9.8 </span><span class="title-name">Online Migration of SUSE Linux Enterprise Clients</span></a></span></li><li><span class="sect1"><a href="smt-client.html#smt-clients-rhel"><span class="title-number">9.9 </span><span class="title-name">How to Update Red Hat Enterprise Linux with SMT</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>