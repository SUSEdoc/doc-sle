<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLES 12 SP5 | Docker Open Source Engine Guide | Storing Images</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="Storing Images | SLES 12 SP5"/>
<meta name="description" content="Prior to creating your own images, you should decide where you will store the images. The easiest solution would be to push these images to the Docke…"/>
<meta name="product-name" content="SUSE Linux Enterprise Server"/>
<meta name="product-number" content="12 SP5"/>
<meta name="book-title" content="Docker Open Source Engine Guide"/>
<meta name="chapter-title" content="Chapter 4. Storing Images"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="fs@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE Linux Enterprise Server 12 SP5"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Docker Open Source Engine Guide"/>
<meta property="og:description" content="Run virtual machines using Docker Open Source Engine"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Docker Open Source Engine Guide"/>
<meta name="twitter:description" content="Run virtual machines using Docker Open Source Engine"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "Storing Images",
  
    "description": "Storing Images",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2019-12-09T00:00+02:00",
      
    "datePublished": "2019-12-09T00:00+02:00",
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="cha-sle2docker-installation.html" title="Chapter 3. Installing sle2docker"/><link rel="next" href="docker-building-images.html" title="Chapter 5. Creating Custom Images"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/docker_registry.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Docker Open Source Engine Guide</a><span> / </span><a class="crumb" href="cha-registry-installation.html">Storing Images</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">Docker Open Source Engine Guide</div><ol><li><a href="cha-docker-overview.html" class=" "><span class="title-number">1 </span><span class="title-name">Docker Open Source Engine Overview</span></a></li><li><a href="cha-docker-installation.html" class=" "><span class="title-number">2 </span><span class="title-name">Docker Open Source Engine Installation</span></a></li><li><a href="cha-sle2docker-installation.html" class=" "><span class="title-number">3 </span><span class="title-name">Installing <code class="literal">sle2docker</code></span></a></li><li><a href="cha-registry-installation.html" class=" you-are-here"><span class="title-number">4 </span><span class="title-name">Storing Images</span></a></li><li><a href="docker-building-images.html" class=" "><span class="title-number">5 </span><span class="title-name">Creating Custom Images</span></a></li><li><a href="docker-dockerizing-application.html" class=" "><span class="title-number">6 </span><span class="title-name">Creating Docker Images of Applications</span></a></li><li><a href="cha-working-with-containers.html" class=" "><span class="title-number">7 </span><span class="title-name">Working with Containers</span></a></li><li><a href="cha-containers-troubleshoot.html" class=" "><span class="title-number">8 </span><span class="title-name">Troubleshooting</span></a></li><li><a href="bk11apa.html" class=" "><span class="title-number">A </span><span class="title-name">GNU licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section xml:lang="en" class="chapter" id="cha-registry-installation" data-id-title="Storing Images"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber">12 SP5</span></span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">4 </span><span class="title-name">Storing Images</span></span> <a title="Permalink" class="permalink" href="cha-registry-installation.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/docker_registry.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Prior to creating your own images, you should decide where you will store the
  images.  The easiest solution would be to push these images to the <a class="link" href="https://hub.docker.com" target="_blank">Docker Hub</a>. By default all images
  pushed to the Docker Hub are public. This is probably fine as long as this
  does not violate your company's policy and your images do not contain
  sensitive data or proprietary software.
</p><p>
 If you need to restrict access to your Docker images, there are two
 options:
</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
   Get a subscription on Docker Hub that unlocks the feature to create private
   repositories.
  </p></li><li class="listitem"><p>
   Run an on-site Docker Registry where to store all the Docker images used
   by your organization or company and combine them with Portus to secure the
   registry.
  </p></li></ul></div><p>
 This chapter describes how to set up an on-site Docker Registry and how to
 combine it with Portus.
</p><section class="sect1" id="sec-docker-registry-definition" data-id-title="What is a Docker Registry?"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4.1 </span><span class="title-name">What is a Docker Registry?</span></span> <a title="Permalink" class="permalink" href="cha-registry-installation.html#sec-docker-registry-definition">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/docker_registry.xml" title="Edit source document"> </a></div></div></div></div></div><p> The Docker Registry is an open source project created by
        Docker Inc. It allows the storage and retrieval of Docker
        images. By running a local instance of the Docker Registry it is
        possible to completely avoid usage of the Docker Hub.
         </p><p>
    The Docker Registry is also used by the Docker Hub. However, the Docker Hub, as seen
    from the user perspective, is made of the following parts at least:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      The user interface (UI): The part that is accessed by users with their
      browser. The UI provides a nice and intuitive way to browse the
      contents of the Docker Hub either manually or by using a search
      feature. It also allows to create organizations made by different
      users.
     </p><p>
      This component is closed source.
     </p></li><li class="listitem"><p> The authentication component: This is used to protect the
            images stored inside of the Docker Hub. It validates all
            push, pull and search requests.
            </p><p>
      This component is closed source.
     </p></li><li class="listitem"><p>
      The storage back-end: This is where the Docker images are sent and
      downloaded from. It is provided by the Docker Registry.
     </p><p>
      This component is open source.
     </p></li></ul></div></section><section class="sect1" id="sec-docker-registry-installation" data-id-title="Installing and Setting Up Docker Registry"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4.2 </span><span class="title-name">Installing and Setting Up Docker Registry</span></span> <a title="Permalink" class="permalink" href="cha-registry-installation.html#sec-docker-registry-installation">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/docker_registry.xml" title="Edit source document"> </a></div></div></div></div></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Install the <code class="systemitem">docker-distribution-registry</code>
      package:
     </p><div class="verbatim-wrap"><pre class="screen">sudo zypper install docker-distribution-registry</pre></div></li><li class="step"><p>
      To automatically start the Docker Registry at boot time:
     </p><div class="verbatim-wrap"><pre class="screen">sudo systemctl enable registry</pre></div></li><li class="step"><p>
      Start the Docker Registry:
     </p><div class="verbatim-wrap"><pre class="screen">sudo systemctl start registry</pre></div></li></ol></div></div><p>
    The Docker Registry configuration is defined inside of
    <code class="filename">/etc/registry/config.yml</code>.
   </p><p>
    With the default configuration the registry listens on ports
    <code class="literal">5000</code> and stores the Docker images under
    <code class="filename">/var/lib/docker-registry</code>.
   </p><div id="id-1.13.5.7.5" data-id-title="Incompatible Versions of Docker Open Source Engine and Docker Registry" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Incompatible Versions of Docker Open Source Engine and Docker Registry</div><p>
       Docker Registry version 2.3 is not compatible with Docker Registry versions older
       than 1.10, because v2 manifests were only introduced with Docker Open Source Engine 1.10.
       As Docker Open Source Engine and Docker Registry can be installed on different boxes, the
       versions might be incompatible. If you experience communication errors
       between between Docker Open Source Engine and Docker Registry, update both to the latest versions.
     </p></div><p>
    For more details about Docker Registry and its configuration, see the
    official documentation at:
    <a class="link" href="https://docs.docker.com/registry/" target="_blank">https://docs.docker.com/registry/</a>.
   </p></section><section class="sect1" id="sec-docker-registry-limitations" data-id-title="Limitations"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4.3 </span><span class="title-name">Limitations</span></span> <a title="Permalink" class="permalink" href="cha-registry-installation.html#sec-docker-registry-limitations">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/docker_registry.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The Docker Registry has two major limitations:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      It lacks any form of authentication. That means everybody with access
      to the Docker Registry can push and pull images to it. That also
      includes the possibility to overwrite already existing images.
     </p></li><li class="listitem"><p>
      There is no way to see which images have been pushed to the Docker Registry. You can
      
      manually take notes of what is being stored inside of it. There is
      also no search functionality, which makes collaboration harder.
     </p></li></ul></div><p>
    The next section is going to introduce Portus, the solution to all of
    the problems above.
   </p></section><section class="sect1" id="sec-docker-portus" data-id-title="Portus"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4.4 </span><span class="title-name">Portus</span></span> <a title="Permalink" class="permalink" href="cha-registry-installation.html#sec-docker-portus">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/maintenance/SLE12SP5/xml/docker_registry.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Portus is an authentication service and user interface for the Docker Registry.
   It is an open source project created by SUSE to address all
   the limitations faced by the local instances of Docker Registry.
   By combining Portus and Docker Registry, it is possible to have a secure
   and enterprise ready on-premise version of the Docker Hub.
  </p><p>
   Portus is available for SLES customers as a Docker image from
   SUSE Container Registry. For example, to pull the
   <code class="literal">2.4.0</code> tag, run the following command:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">docker pull registry.suse.com/sles12/portus:2.4.0</code></pre></div><p>
   In addition to the official version of the Portus image from
   SUSE Container Registry, there is a community version that can be found
   on Docker Hub. However, as a customer of SLES, we strongly suggest you use the
   official Portus image instead.
   The Portus image for SLES customers has the same code as the one
   from the community. Therefore, the setup instructions from 
   <a class="link" href="http://port.us.org/docs/deploy.html" target="_blank">http://port.us.org/docs/deploy.html</a>
   apply for both images.
  </p><p>
   Portus was previously also available as an RPM package.
   To migrate from the RPM package to the Docker image, follow the
   instructions at <a class="link" href="http://port.us.org/docs/migrate-from-rpm.html" target="_blank">http://port.us.org/docs/migrate-from-rpm.html</a>.
  </p></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="cha-sle2docker-installation.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 3 </span>Installing <code class="literal">sle2docker</code></span></a> </div><div><a class="pagination-link next" href="docker-building-images.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 5 </span>Creating Custom Images</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="cha-registry-installation.html#sec-docker-registry-definition"><span class="title-number">4.1 </span><span class="title-name">What is a Docker Registry?</span></a></span></li><li><span class="sect1"><a href="cha-registry-installation.html#sec-docker-registry-installation"><span class="title-number">4.2 </span><span class="title-name">Installing and Setting Up Docker Registry</span></a></span></li><li><span class="sect1"><a href="cha-registry-installation.html#sec-docker-registry-limitations"><span class="title-number">4.3 </span><span class="title-name">Limitations</span></a></span></li><li><span class="sect1"><a href="cha-registry-installation.html#sec-docker-portus"><span class="title-number">4.4 </span><span class="title-name">Portus</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>