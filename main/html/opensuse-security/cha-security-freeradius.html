<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Setting up a freeRADIUS server | Security and Hardening Guide | openSUSE Leap 15.7</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" />
<meta name="title" content="Setting up a freeRADIUS server | openSUSE Leap 15.7" />
<meta name="description" content="The RADIUS (Remote Authentication Dial-In User Service) protocol has long been a standard service for manage network access. It provides authentication, author…" />
<meta name="product-name" content="openSUSE Leap" />
<meta name="product-number" content="15.7" />
<meta name="book-title" content="Security and Hardening Guide" />
<meta name="chapter-title" content="Chapter 8. Setting up a freeRADIUS server" />
<meta name="tracker-url" content="https://bugzilla.opensuse.org/enter_bug.cgi" />
<meta name="tracker-type" content="bsc" />
<meta name="tracker-bsc-assignee" content="fs@suse.com" />
<meta name="tracker-bsc-component" content="Documentation" />
<meta name="tracker-bsc-product" content="openSUSE Distribution" />
<meta name="tracker-bsc-version" content="Leap 15.4" />
<meta property="og:title" content="Setting up a freeRADIUS server | openSUSE Leap 15.7" />
<meta property="og:description" content="The RADIUS (Remote Authentication Dial-In User Service) protocol has long been a standard service for manage network access. It provides authentication, author…" />
<meta property="og:type" content="article" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Setting up a freeRADIUS server | openSUSE Leap 15.7" />
<meta name="twitter:description" content="The RADIUS (Remote Authentication Dial-In User Service) protocol has long been a standard service for manage network access. It provides authentication, author…" />
<link rel="home" href="index.html" title="openSUSE Leap Documentation" /><link rel="up" href="part-auth.html" title="Part I. Authentication" /><link rel="prev" href="cha-security-ad.html" title="Chapter 7. Active Directory support" /><link rel="next" href="part-local-security.html" title="Part II. Local security" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" /></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #E11;"><div id="_header"><div id="_logo"><img src="static/images/logo.svg" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="Security and Hardening Guide"><span class="book-icon">Security and Hardening Guide</span></a><span> › </span><a class="crumb" href="part-auth.html">Authentication</a><span> › </span><a class="crumb" href="cha-security-freeradius.html">Setting up a freeRADIUS server</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Security and Hardening Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface-security.html"><span class="number"> </span><span class="name">Preface</span></a></li><li class="inactive"><a href="cha-security.html"><span class="number">1 </span><span class="name">Security and confidentiality</span></a></li><li class="inactive"><a href="part-auth.html"><span class="number">I </span><span class="name">Authentication</span></a><ol><li class="inactive"><a href="cha-pam.html"><span class="number">2 </span><span class="name">Authentication with PAM</span></a></li><li class="inactive"><a href="cha-nis.html"><span class="number">3 </span><span class="name">Using NIS</span></a></li><li class="inactive"><a href="cha-security-auth.html"><span class="number">4 </span><span class="name">Setting up authentication clients using YaST</span></a></li><li class="inactive"><a href="cha-security-ldap.html"><span class="number">5 </span><span class="name">LDAP with 389 Directory Server</span></a></li><li class="inactive"><a href="cha-security-kerberos.html"><span class="number">6 </span><span class="name">Network authentication with Kerberos</span></a></li><li class="inactive"><a href="cha-security-ad.html"><span class="number">7 </span><span class="name">Active Directory support</span></a></li><li class="inactive"><a href="cha-security-freeradius.html"><span class="number">8 </span><span class="name">Setting up a freeRADIUS server</span></a></li></ol></li><li class="inactive"><a href="part-local-security.html"><span class="number">II </span><span class="name">Local security</span></a><ol><li class="inactive"><a href="cha-physical-security.html"><span class="number">9 </span><span class="name">Physical security</span></a></li><li class="inactive"><a href="sec-sec-software-management.html"><span class="number">10 </span><span class="name">Software management</span></a></li><li class="inactive"><a href="sec-sec-file-management.html"><span class="number">11 </span><span class="name">File management</span></a></li><li class="inactive"><a href="cha-security-cryptofs.html"><span class="number">12 </span><span class="name">Encrypting partitions and files</span></a></li><li class="inactive"><a href="cha-configure-cryptctl.html"><span class="number">13 </span><span class="name">Storage encryption for hosted applications with cryptctl</span></a></li><li class="inactive"><a href="sec-sec-user-management.html"><span class="number">14 </span><span class="name">User management</span></a></li><li class="inactive"><a href="cha-sec-cron-at.html"><span class="number">15 </span><span class="name">Restricting <code class="systemitem">cron</code> and <code class="systemitem">at</code></span></a></li><li class="inactive"><a href="cha-spectre.html"><span class="number">16 </span><span class="name">Spectre/Meltdown checker</span></a></li><li class="inactive"><a href="cha-security-yast-security.html"><span class="number">17 </span><span class="name">Configuring security settings with YaST</span></a></li><li class="inactive"><a href="cha-security-polkit.html"><span class="number">18 </span><span class="name">The Polkit authentication framework</span></a></li><li class="inactive"><a href="cha-security-acls.html"><span class="number">19 </span><span class="name">Access control lists in Linux</span></a></li><li class="inactive"><a href="cha-aide.html"><span class="number">20 </span><span class="name">Intrusion detection with AIDE</span></a></li></ol></li><li class="inactive"><a href="part-network-security.html"><span class="number">III </span><span class="name">Network security</span></a><ol><li class="inactive"><a href="cha-xauth.html"><span class="number">21 </span><span class="name">X Window System and X authentication</span></a></li><li class="inactive"><a href="cha-ssh.html"><span class="number">22 </span><span class="name">Securing network operations with OpenSSH</span></a></li><li class="inactive"><a href="cha-security-firewall.html"><span class="number">23 </span><span class="name">Masquerading and firewalls</span></a></li><li class="inactive"><a href="cha-security-vpnserver.html"><span class="number">24 </span><span class="name">Configuring a VPN server</span></a></li><li class="inactive"><a href="cha-security-xca.html"><span class="number">25 </span><span class="name">Managing a PKI with XCA, X certificate and key manager</span></a></li><li class="inactive"><a href="cha-sec-sysctl.html"><span class="number">26 </span><span class="name">Improving network security with <code class="command">sysctl</code> variables</span></a></li></ol></li><li class="inactive"><a href="part-apparmor.html"><span class="number">IV </span><span class="name">Confining privileges with <span class="phrase">AppArmor</span></span></a><ol><li class="inactive"><a href="cha-apparmor-intro.html"><span class="number">27 </span><span class="name">Introducing <span class="phrase">AppArmor</span></span></a></li><li class="inactive"><a href="cha-apparmor-start.html"><span class="number">28 </span><span class="name">Getting started</span></a></li><li class="inactive"><a href="cha-apparmor-concept.html"><span class="number">29 </span><span class="name">Immunizing programs</span></a></li><li class="inactive"><a href="cha-apparmor-profiles.html"><span class="number">30 </span><span class="name">Profile components and syntax</span></a></li><li class="inactive"><a href="cha-apparmor-repos.html"><span class="number">31 </span><span class="name"><span class="phrase">AppArmor</span> profile repositories</span></a></li><li class="inactive"><a href="cha-apparmor-yast.html"><span class="number">32 </span><span class="name">Building and managing profiles with YaST</span></a></li><li class="inactive"><a href="cha-apparmor-commandline.html"><span class="number">33 </span><span class="name">Building profiles from the command line</span></a></li><li class="inactive"><a href="cha-apparmor-hat.html"><span class="number">34 </span><span class="name">Profiling your Web applications using ChangeHat</span></a></li><li class="inactive"><a href="cha-apparmor-pam.html"><span class="number">35 </span><span class="name">Confining users with <code class="systemitem">pam_apparmor</code></span></a></li><li class="inactive"><a href="cha-apparmor-managing.html"><span class="number">36 </span><span class="name">Managing profiled applications</span></a></li><li class="inactive"><a href="cha-apparmor-support.html"><span class="number">37 </span><span class="name">Support</span></a></li><li class="inactive"><a href="cha-apparmor-glossary.html"><span class="number">38 </span><span class="name"><span class="phrase">AppArmor</span> glossary</span></a></li></ol></li><li class="inactive"><a href="part-selinux.html"><span class="number">V </span><span class="name">SELinux</span></a><ol><li class="inactive"><a href="cha-selinux.html"><span class="number">39 </span><span class="name">Configuring SELinux</span></a></li></ol></li><li class="inactive"><a href="part-audit.html"><span class="number">VI </span><span class="name">The Linux Audit Framework</span></a><ol><li class="inactive"><a href="cha-audit-comp.html"><span class="number">40 </span><span class="name">Understanding Linux audit</span></a></li><li class="inactive"><a href="cha-audit-setup.html"><span class="number">41 </span><span class="name">Setting up the Linux audit framework</span></a></li><li class="inactive"><a href="cha-audit-scenarios.html"><span class="number">42 </span><span class="name">Introducing an audit rule set</span></a></li><li class="inactive"><a href="cha-audit-moreinfo.html"><span class="number">43 </span><span class="name">Useful resources</span></a></li></ol></li><li class="inactive"><a href="bk04apa.html"><span class="number">A </span><span class="name">GNU licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 7. Active Directory support" href="cha-security-ad.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Part II. Local security" href="part-local-security.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #E11;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="Security and Hardening Guide"><span class="book-icon">Security and Hardening Guide</span></a><span> › </span><a class="crumb" href="part-auth.html">Authentication</a><span> › </span><a class="crumb" href="cha-security-freeradius.html">Setting up a freeRADIUS server</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 7. Active Directory support" href="cha-security-ad.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Part II. Local security" href="part-local-security.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha-security-freeradius"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname "><span class="productname"><span class="phrase">openSUSE Leap</span></span></span> <span class="productnumber "><span class="productnumber"><span class="phrase">15.7</span></span></span></div><div><h2 class="title"><span class="number">8 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Setting up a freeRADIUS server</span> <a title="Permalink" class="permalink" href="cha-security-freeradius.html#">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/security_freeradius.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>security_freeradius.xml</li><li><span class="ds-label">ID: </span>cha-security-freeradius</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha-security-freeradius.html#sec-test-radiusd"><span class="number">8.1 </span><span class="name">Installation and testing on <span class="productname"><span class="phrase">openSUSE Leap</span></span></span></a></span></dt></dl></div></div><p>
        The RADIUS (Remote Authentication Dial-In User Service) protocol has
        long been a standard service for manage network access. It provides
        authentication, authorization and accounting (AAA) for
        large businesses such as Internet service providers and cellular
        network providers, and is also popular for small networks. It
        authenticates users and devices, authorizes those users and
        devices for certain network services, and tracks use of services for
        billing and auditing. You do not have to use all three of the AAA
        protocols, but only the ones you need. For example, you may not need
        accounting but only client authentication, or perhaps all you want is accounting, 
        and client authorization is managed by something else.
    </p><p>
        It is efficient and manages thousands of requests on modest
        hardware. It works for all network protocols and not just
        dial-up, but the name remains the same.
    </p><p>
        RADIUS operates in a distributed architecture, sitting separately
        from the Network Access Server (NAS). User access data is stored on a
        central RADIUS server that is available to multiple NAS. The NAS
        provides the physical access to the network, such as a managed
        Ethernet switch, or wireless access point.
    </p><p>
        FreeRADIUS is the open source RADIUS implementation, and is the most
        widely used RADIUS server. In this chapter you learn how to
        install and test a FreeRADIUS server. Because of the numerous
        use cases, after your initial setup is working correctly,
        your next stop is the official documentation,
        which is detailed and thorough (see
        <a class="link" href="https://freeradius.org/documentation/" target="_blank">https://freeradius.org/documentation/</a>).
    </p><div class="sect1 " id="sec-test-radiusd"><div class="titlepage"><div><div><h2 class="title"><span class="number">8.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Installation and testing on <span class="productname"><span class="phrase">openSUSE Leap</span></span></span> <a title="Permalink" class="permalink" href="cha-security-freeradius.html#sec-test-radiusd">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/security_freeradius.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>security_freeradius.xml</li><li><span class="ds-label">ID: </span>sec-test-radiusd</li></ul></div></div></div></div><p>
        The following steps set up a simple test system. When you have
        verified that the server is operating correctly and you are ready to
        create a production configuration, you have several undo steps
        to perform before starting your production configuration.
    </p><p>
        First install the <code class="systemitem">freeradius-server</code> and
        <code class="systemitem">freeradius-server-utils</code>
        packages. Then enter <code class="filename">/etc/raddb/certs</code> and run
        the <code class="filename">bootstrap</code> script to create a set of test
        certificates:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">zypper in freeradius-server freeradius-server-utils</code>
<code class="prompt root"># </code><code class="command">cd /etc/raddb/certs</code>
<code class="prompt root"># </code><code class="command">./bootstrap</code></pre></div><p>
        The README in the <code class="filename">certs</code> directory contains a
        great deal of useful information. When the
        <code class="filename">bootstrap</code> script has completed, start the server
        in debugging mode:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">radiusd -X</code>
[...]
Listening on auth address * port 1812 bound to server default
Listening on acct address * port 1813 bound to server default
Listening on auth address :: port 1812 bound to server default
Listening on acct address :: port 1813 bound to server default
Listening on auth address 127.0.0.1 port 18120 bound to server inner-tunnel
Listening on proxy address * port 54435
Listening on proxy address :: port 58415
Ready to process requests</pre></div><p>
        When you see the <code class="literal">Listening</code> and <code class="literal">Ready to process requests</code> lines,
        your server has started correctly. If it does not start, read the
        output carefully because it tells you what went wrong. You may direct
        the output to a text file with <code class="command">tee</code>:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">radiusd -X | tee radiusd.text</code></pre></div><p>
        The next step is to test authentication with a test client and user.
        The client is a client of the RADIUS server, such as a wireless
        access point or switch. Clients are configured in
        <code class="filename">/etc/raddb/client.conf</code>. Human users are
        configured in
        <code class="filename">/etc/raddb/mods-config/files/authorize</code>.
    </p><p>
        Open
        <code class="filename">/etc/raddb/mods-config/files/authorize</code> and
        uncomment the following lines:
    </p><div class="verbatim-wrap"><pre class="screen">bob   Cleartext-Password := "hello"
Reply-Message := "Hello, %{User-Name}"</pre></div><p>
        A test client, <code class="literal">client localhost</code>, is provided in
        <code class="filename">/etc/raddb/client.conf</code>, with a secret of
        <code class="literal">testing123</code>. Open a second terminal, and as an
        unprivileged user use the <code class="command">radtest</code> command to log
        in as bob:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">radtest bob hello 127.0.0.1 0 testing123</code>
Sent Access-Request Id 241 from 0.0.0.0:35234 to 127.0.0.1:1812 length 73
        User-Name = "bob"
        User-Password = "hello"
        NAS-IP-Address = 127.0.0.1
        NAS-Port = 0
        Message-Authenticator = 0x00
        Cleartext-Password = "hello"
Received Access-Accept Id 241 from 127.0.0.1:1812 to 0.0.0.0:0 length 20</pre></div><p>
        In your <code class="literal">radius -X</code> terminal, a successful login looks
        like this:
    </p><div class="verbatim-wrap"><pre class="screen">(3) pap: Login attempt with password
(3) pap: Comparing with "known good" Cleartext-Password
(3) pap: User authenticated successfully
(3)     [pap] = ok
[...]
(3) Sent Access-Accept Id 241 from 127.0.0.1:1812 to 127.0.0.1:35234 length 0
(3) Finished request
Waking up in 4.9 seconds.
(3) Cleaning up request packet ID 241 with timestamp +889</pre></div><p>
        Now run one more login test from a different computer on your
        network. Create a client configuration on your server by uncommenting
        and modifying the following entry in
        <code class="filename">clients.conf</code>, using the IP address of your test
        machine:
    </p><div class="verbatim-wrap"><pre class="screen">client private-network-1 }
  ipaddr          = <em class="replaceable ">192.0.2.0/24</em>
  secret          = testing123-1
  {</pre></div><p>
        On the client machine, install
        <code class="systemitem">freeradius-server-utils</code>. Try logging in from the client as <code class="literal">bob</code>, using the <code class="command">radtest</code> command. It
        is better to use the IP address of the RADIUS server rather than the
        hostname because it is faster:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">radtest bob hello 192.168.2.100 0 testing123-1</code></pre></div><p>
        If your test logins fail, review all the output to learn what went
        wrong. There are several test users and test clients provided. The
        configuration files are full of useful information, and we recommend
        studying them. When you are satisfied with your testing and ready to
        create a production configuration, remove all the test certificates
        in <code class="filename">/etc/raddb/certs</code> and replace them with your
        own certificates, comment out all the test users and clients, and
        stop <code class="command">radiusd</code> by pressing
        <span class="keycap">Ctrl</span><span class="key-connector">–</span><span class="keycap">C</span>. Manage
        the <code class="literal">radiusd.service</code> with
        <code class="command">systemctl</code>, just like any other service.
    </p><p>
        To learn how to fit a FreeRADIUS server in your network, see
        <a class="link" href="https://freeradius.org/documentation/" target="_blank">https://freeradius.org/documentation/</a>
        and
        <a class="link" href="https://networkradius.com/freeradius-documentation/" target="_blank">https://networkradius.com/freeradius-documentation/</a>
        for in-depth references and howtos.
    </p></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="part-local-security.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Part II </span>Local security</span></a><a class="nav-link" href="cha-security-ad.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 7 </span>Active Directory support</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2024 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>