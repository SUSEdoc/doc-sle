<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Support | Security and Hardening Guide | openSUSE Leap 15.6</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" />
<meta name="title" content="Support | openSUSE Leap 15.6" />
<meta name="description" content="This chapter outlines maintenance-related tasks. Learn how to update AppArmor® and get a list of available man pages providing basic help for using the command…" />
<meta name="product-name" content="openSUSE Leap" />
<meta name="product-number" content="15.6" />
<meta name="book-title" content="Security and Hardening Guide" />
<meta name="chapter-title" content="Chapter 37. Support" />
<meta name="tracker-url" content="https://bugzilla.opensuse.org/enter_bug.cgi" />
<meta name="tracker-type" content="bsc" />
<meta name="tracker-bsc-assignee" content="fs@suse.com" />
<meta name="tracker-bsc-component" content="Documentation" />
<meta name="tracker-bsc-product" content="openSUSE Distribution" />
<meta name="tracker-bsc-version" content="Leap 15.4" />
<meta property="og:title" content="Support | openSUSE Leap 15.6" />
<meta property="og:description" content="This chapter outlines maintenance-related tasks. Learn how to update AppArmor® and get a list of available man pages providing basic help for using the command…" />
<meta property="og:type" content="article" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Support | openSUSE Leap 15.6" />
<meta name="twitter:description" content="This chapter outlines maintenance-related tasks. Learn how to update AppArmor® and get a list of available man pages providing basic help for using the command…" />
<link rel="home" href="index.html" title="openSUSE Leap Documentation" /><link rel="up" href="part-apparmor.html" title="Part IV. Confining privileges with AppArmor" /><link rel="prev" href="cha-apparmor-managing.html" title="Chapter 36. Managing profiled applications" /><link rel="next" href="cha-apparmor-glossary.html" title="Chapter 38. AppArmor glossary" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" /></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #E11;"><div id="_header"><div id="_logo"><img src="static/images/logo.svg" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="Security and Hardening Guide"><span class="book-icon">Security and Hardening Guide</span></a><span> › </span><a class="crumb" href="part-apparmor.html">Confining privileges with AppArmor</a><span> › </span><a class="crumb" href="cha-apparmor-support.html">Support</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Security and Hardening Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface-security.html"><span class="number"> </span><span class="name">Preface</span></a></li><li class="inactive"><a href="cha-security.html"><span class="number">1 </span><span class="name">Security and confidentiality</span></a></li><li class="inactive"><a href="part-auth.html"><span class="number">I </span><span class="name">Authentication</span></a><ol><li class="inactive"><a href="cha-pam.html"><span class="number">2 </span><span class="name">Authentication with PAM</span></a></li><li class="inactive"><a href="cha-nis.html"><span class="number">3 </span><span class="name">Using NIS</span></a></li><li class="inactive"><a href="cha-security-auth.html"><span class="number">4 </span><span class="name">Setting up authentication clients using YaST</span></a></li><li class="inactive"><a href="cha-security-ldap.html"><span class="number">5 </span><span class="name">LDAP with 389 Directory Server</span></a></li><li class="inactive"><a href="cha-security-kerberos.html"><span class="number">6 </span><span class="name">Network authentication with Kerberos</span></a></li><li class="inactive"><a href="cha-security-ad.html"><span class="number">7 </span><span class="name">Active Directory support</span></a></li><li class="inactive"><a href="cha-security-freeradius.html"><span class="number">8 </span><span class="name">Setting up a freeRADIUS server</span></a></li></ol></li><li class="inactive"><a href="part-local-security.html"><span class="number">II </span><span class="name">Local security</span></a><ol><li class="inactive"><a href="cha-physical-security.html"><span class="number">9 </span><span class="name">Physical security</span></a></li><li class="inactive"><a href="sec-sec-software-management.html"><span class="number">10 </span><span class="name">Software management</span></a></li><li class="inactive"><a href="sec-sec-file-management.html"><span class="number">11 </span><span class="name">File management</span></a></li><li class="inactive"><a href="cha-security-cryptofs.html"><span class="number">12 </span><span class="name">Encrypting partitions and files</span></a></li><li class="inactive"><a href="cha-configure-cryptctl.html"><span class="number">13 </span><span class="name">Storage encryption for hosted applications with cryptctl</span></a></li><li class="inactive"><a href="sec-sec-user-management.html"><span class="number">14 </span><span class="name">User management</span></a></li><li class="inactive"><a href="cha-sec-cron-at.html"><span class="number">15 </span><span class="name">Restricting <code class="systemitem">cron</code> and <code class="systemitem">at</code></span></a></li><li class="inactive"><a href="cha-spectre.html"><span class="number">16 </span><span class="name">Spectre/Meltdown checker</span></a></li><li class="inactive"><a href="cha-security-yast-security.html"><span class="number">17 </span><span class="name">Configuring security settings with YaST</span></a></li><li class="inactive"><a href="cha-security-polkit.html"><span class="number">18 </span><span class="name">The Polkit authentication framework</span></a></li><li class="inactive"><a href="cha-security-acls.html"><span class="number">19 </span><span class="name">Access control lists in Linux</span></a></li><li class="inactive"><a href="cha-aide.html"><span class="number">20 </span><span class="name">Intrusion detection with AIDE</span></a></li></ol></li><li class="inactive"><a href="part-network-security.html"><span class="number">III </span><span class="name">Network security</span></a><ol><li class="inactive"><a href="cha-xauth.html"><span class="number">21 </span><span class="name">X Window System and X authentication</span></a></li><li class="inactive"><a href="cha-ssh.html"><span class="number">22 </span><span class="name">Securing network operations with OpenSSH</span></a></li><li class="inactive"><a href="cha-security-firewall.html"><span class="number">23 </span><span class="name">Masquerading and firewalls</span></a></li><li class="inactive"><a href="cha-security-vpnserver.html"><span class="number">24 </span><span class="name">Configuring a VPN server</span></a></li><li class="inactive"><a href="cha-security-xca.html"><span class="number">25 </span><span class="name">Managing a PKI with XCA, X certificate and key manager</span></a></li><li class="inactive"><a href="cha-sec-sysctl.html"><span class="number">26 </span><span class="name">Improving network security with <code class="command">sysctl</code> variables</span></a></li></ol></li><li class="inactive"><a href="part-apparmor.html"><span class="number">IV </span><span class="name">Confining privileges with <span class="phrase">AppArmor</span></span></a><ol><li class="inactive"><a href="cha-apparmor-intro.html"><span class="number">27 </span><span class="name">Introducing <span class="phrase">AppArmor</span></span></a></li><li class="inactive"><a href="cha-apparmor-start.html"><span class="number">28 </span><span class="name">Getting started</span></a></li><li class="inactive"><a href="cha-apparmor-concept.html"><span class="number">29 </span><span class="name">Immunizing programs</span></a></li><li class="inactive"><a href="cha-apparmor-profiles.html"><span class="number">30 </span><span class="name">Profile components and syntax</span></a></li><li class="inactive"><a href="cha-apparmor-repos.html"><span class="number">31 </span><span class="name"><span class="phrase">AppArmor</span> profile repositories</span></a></li><li class="inactive"><a href="cha-apparmor-yast.html"><span class="number">32 </span><span class="name">Building and managing profiles with YaST</span></a></li><li class="inactive"><a href="cha-apparmor-commandline.html"><span class="number">33 </span><span class="name">Building profiles from the command line</span></a></li><li class="inactive"><a href="cha-apparmor-hat.html"><span class="number">34 </span><span class="name">Profiling your Web applications using ChangeHat</span></a></li><li class="inactive"><a href="cha-apparmor-pam.html"><span class="number">35 </span><span class="name">Confining users with <code class="systemitem">pam_apparmor</code></span></a></li><li class="inactive"><a href="cha-apparmor-managing.html"><span class="number">36 </span><span class="name">Managing profiled applications</span></a></li><li class="inactive"><a href="cha-apparmor-support.html"><span class="number">37 </span><span class="name">Support</span></a></li><li class="inactive"><a href="cha-apparmor-glossary.html"><span class="number">38 </span><span class="name"><span class="phrase">AppArmor</span> glossary</span></a></li></ol></li><li class="inactive"><a href="part-selinux.html"><span class="number">V </span><span class="name">SELinux</span></a><ol><li class="inactive"><a href="cha-selinux.html"><span class="number">39 </span><span class="name">Configuring SELinux</span></a></li></ol></li><li class="inactive"><a href="part-audit.html"><span class="number">VI </span><span class="name">The Linux Audit Framework</span></a><ol><li class="inactive"><a href="cha-audit-comp.html"><span class="number">40 </span><span class="name">Understanding Linux audit</span></a></li><li class="inactive"><a href="cha-audit-setup.html"><span class="number">41 </span><span class="name">Setting up the Linux audit framework</span></a></li><li class="inactive"><a href="cha-audit-scenarios.html"><span class="number">42 </span><span class="name">Introducing an audit rule set</span></a></li><li class="inactive"><a href="cha-audit-moreinfo.html"><span class="number">43 </span><span class="name">Useful resources</span></a></li></ol></li><li class="inactive"><a href="bk04apa.html"><span class="number">A </span><span class="name">GNU licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 36. Managing profiled applications" href="cha-apparmor-managing.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 38. AppArmor glossary" href="cha-apparmor-glossary.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #E11;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="Security and Hardening Guide"><span class="book-icon">Security and Hardening Guide</span></a><span> › </span><a class="crumb" href="part-apparmor.html">Confining privileges with AppArmor</a><span> › </span><a class="crumb" href="cha-apparmor-support.html">Support</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 36. Managing profiled applications" href="cha-apparmor-managing.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 38. AppArmor glossary" href="cha-apparmor-glossary.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha-apparmor-support"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname "><span class="productname"><span class="phrase">openSUSE Leap</span></span></span> <span class="productnumber "><span class="productnumber"><span class="phrase">15.6</span></span></span></div><div><h2 class="title"><span class="number">37 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Support</span> <a title="Permalink" class="permalink" href="cha-apparmor-support.html#">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_support.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_support.xml</li><li><span class="ds-label">ID: </span>cha-apparmor-support</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha-apparmor-support.html#sec-apparmor-support-updating"><span class="number">37.1 </span><span class="name">Updating <span class="phrase">AppArmor</span> online</span></a></span></dt><dt><span class="sect1"><a href="cha-apparmor-support.html#sec-apparmor-support-man"><span class="number">37.2 </span><span class="name">Using the man pages</span></a></span></dt><dt><span class="sect1"><a href="cha-apparmor-support.html#sec-apparmor-support-info"><span class="number">37.3 </span><span class="name">More information</span></a></span></dt><dt><span class="sect1"><a href="cha-apparmor-support.html#sec-apparmor-support-trouble"><span class="number">37.4 </span><span class="name">Troubleshooting</span></a></span></dt><dt><span class="sect1"><a href="cha-apparmor-support.html#sec-apparmor-support-bugs"><span class="number">37.5 </span><span class="name">Reporting bugs for <span class="phrase">AppArmor</span></span></a></span></dt></dl></div></div><p>
  This chapter outlines maintenance-related tasks. Learn how to update
  <span class="phrase">AppArmor®</span> and get a list of available man pages providing basic help for
  using the command line tools provided by <span class="phrase">AppArmor</span>. Use the troubleshooting
  section to learn about common problems encountered with <span class="phrase">AppArmor</span> and
  their solutions. Report defects or enhancement requests for <span class="phrase">AppArmor</span>
  following the instructions in this chapter.
 </p><div class="sect1 " id="sec-apparmor-support-updating"><div class="titlepage"><div><div><h2 class="title"><span class="number">37.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Updating <span class="phrase">AppArmor</span> online</span> <a title="Permalink" class="permalink" href="cha-apparmor-support.html#sec-apparmor-support-updating">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_support.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_support.xml</li><li><span class="ds-label">ID: </span>sec-apparmor-support-updating</li></ul></div></div></div></div><p>
   Updates for <span class="phrase">AppArmor</span> packages are provided in the same way as any other
   update for <span class="productname"><span class="phrase">openSUSE Leap</span></span>. Retrieve and apply them exactly like for any
   other package that ships as part of <span class="productname"><span class="phrase">openSUSE Leap</span></span>.
  </p></div><div class="sect1 " id="sec-apparmor-support-man"><div class="titlepage"><div><div><h2 class="title"><span class="number">37.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Using the man pages</span> <a title="Permalink" class="permalink" href="cha-apparmor-support.html#sec-apparmor-support-man">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_support.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_support.xml</li><li><span class="ds-label">ID: </span>sec-apparmor-support-man</li></ul></div></div></div></div><p>
   There are man pages available for your use. In a terminal, enter
   <code class="command">man apparmor</code> to open the <span class="phrase">AppArmor</span> man page. Man pages
   are distributed in sections numbered 1 through 8. Each section is
   specific to a category of documentation:
  </p><div class="table" id="id-1.6.7.12.5.3"><div class="table-title-wrap"><h6 class="table-title"><span class="number">Table 37.1: </span><span class="name">Man pages: sections and categories </span><a title="Permalink" class="permalink" href="cha-apparmor-support.html#id-1.6.7.12.5.3">#</a></h6></div><div class="table-contents"><table class="table" summary="Man pages: sections and categories" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>
       <p>
        Section
       </p>
      </th><th>
       <p>
        Category
       </p>
      </th></tr></thead><tbody><tr><td>
       <p>
        1
       </p>
      </td><td>
       <p>
        User commands
       </p>
      </td></tr><tr><td>
       <p>
        2
       </p>
      </td><td>
       <p>
        System calls
       </p>
      </td></tr><tr><td>
       <p>
        3
       </p>
      </td><td>
       <p>
        Library functions
       </p>
      </td></tr><tr><td>
       <p>
        4
       </p>
      </td><td>
       <p>
        Device driver information
       </p>
      </td></tr><tr><td>
       <p>
        5
       </p>
      </td><td>
       <p>
        Configuration file formats
       </p>
      </td></tr><tr><td>
       <p>
        6
       </p>
      </td><td>
       <p>
        Games
       </p>
      </td></tr><tr><td>
       <p>
        7
       </p>
      </td><td>
       <p>
        High level concepts
       </p>
      </td></tr><tr><td>
       <p>
        8
       </p>
      </td><td>
       <p>
        Administrator commands
       </p>
      </td></tr></tbody></table></div></div><p>
   The section numbers are used to distinguish man pages from each other.
   For example, <code class="systemitem">exit(2)</code> describes the exit system
   call, while <code class="systemitem">exit(3)</code> describes the exit C library
   function.
  </p><p>
   The <span class="phrase">AppArmor</span> man pages are:
  </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     <code class="systemitem">aa-audit(8)</code>
    </p></li><li class="listitem "><p>
     <code class="systemitem">aa-autodep(8)</code>
    </p></li><li class="listitem "><p>
     <code class="systemitem">aa-complain(8)</code>
    </p></li><li class="listitem "><p>
     <code class="systemitem">aa-decode(8)</code>
    </p></li><li class="listitem "><p>
     <code class="systemitem">aa-disable(8)</code>
    </p></li><li class="listitem "><p>
     <code class="systemitem">aa-easyprof(8)</code>
    </p></li><li class="listitem "><p>
     <code class="systemitem">aa-enforce(8)</code>
    </p></li><li class="listitem "><p>
     <code class="systemitem">aa-enxec(8)</code>
    </p></li><li class="listitem "><p>
     <code class="systemitem">aa-genprof(8)</code>
    </p></li><li class="listitem "><p>
     <code class="systemitem">aa-logprof(8)</code>
    </p></li><li class="listitem "><p>
     <code class="systemitem">aa-notify(8)</code>
    </p></li><li class="listitem "><p>
     <code class="systemitem">aa-status(8)</code>
    </p></li><li class="listitem "><p>
     <code class="systemitem">aa-unconfined(8)</code>
    </p></li><li class="listitem "><p>
     <code class="systemitem">aa_change_hat(8)</code>
    </p></li><li class="listitem "><p>
     <code class="systemitem">logprof.conf(5)</code>
    </p></li><li class="listitem "><p>
     <code class="systemitem">apparmor.d(5)</code>
    </p></li><li class="listitem "><p>
     <code class="systemitem">apparmor.vim(5)</code>
    </p></li><li class="listitem "><p>
     <code class="systemitem">apparmor(7)</code>
    </p></li><li class="listitem "><p>
     <code class="systemitem">apparmor_parser(8)</code>
    </p></li><li class="listitem "><p>
     <code class="systemitem">apparmor_status(8)</code>
    </p></li></ul></div></div><div class="sect1 " id="sec-apparmor-support-info"><div class="titlepage"><div><div><h2 class="title"><span class="number">37.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">More information</span> <a title="Permalink" class="permalink" href="cha-apparmor-support.html#sec-apparmor-support-info">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_support.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_support.xml</li><li><span class="ds-label">ID: </span>sec-apparmor-support-info</li></ul></div></div></div></div><p>
   Find more information about the <span class="phrase">AppArmor</span> product at:
   <a class="link" href="https://wiki.apparmor.net" target="_blank">https://wiki.apparmor.net</a>. Find the product
   documentation for <span class="phrase">AppArmor</span> in the installed system at
   <code class="filename">/usr/share/doc/manual</code>.
  </p><p>
   There is a mailing list for <span class="phrase">AppArmor</span> that users can post to or join to
   communicate with developers. See
   <a class="link" href="https://lists.ubuntu.com/mailman/listinfo/apparmor" target="_blank">https://lists.ubuntu.com/mailman/listinfo/apparmor</a>
   for details.
  </p></div><div class="sect1 " id="sec-apparmor-support-trouble"><div class="titlepage"><div><div><h2 class="title"><span class="number">37.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Troubleshooting</span> <a title="Permalink" class="permalink" href="cha-apparmor-support.html#sec-apparmor-support-trouble">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_support.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_support.xml</li><li><span class="ds-label">ID: </span>sec-apparmor-support-trouble</li></ul></div></div></div></div><p>
   This section lists the most common problems and error messages that may
   occur using <span class="phrase">AppArmor</span>.
  </p><div class="sect2 " id="sec-apparmor-support-trouble-odd"><div class="titlepage"><div><div><h3 class="title"><span class="number">37.4.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">How to react to odd application behavior?</span> <a title="Permalink" class="permalink" href="cha-apparmor-support.html#sec-apparmor-support-trouble-odd">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_support.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_support.xml</li><li><span class="ds-label">ID: </span>sec-apparmor-support-trouble-odd</li></ul></div></div></div></div><p>
    If you notice odd application behavior or any other type of application
    problem, you should first check the reject messages in the log files to
    see if <span class="phrase">AppArmor</span> is too closely constricting your application. If you
    detect reject messages that indicate that your application or service is
    too closely restricted by <span class="phrase">AppArmor</span>, update your profile to properly
    handle your use case of the application. Do this with
    <code class="command">aa-logprof</code>
    (<a class="xref" href="cha-apparmor-commandline.html#sec-apparmor-commandline-profiling-summary-logprof" title="33.7.3.9. aa-logprof—scanning the system log">Section 33.7.3.9, “aa-logprof—scanning the system log”</a>).
   </p><p>
    If you decide to run your application or service without <span class="phrase">AppArmor</span>
    protection, remove the application's profile from
    <code class="filename">/etc/apparmor.d</code> or move it to another location.
   </p></div><div class="sect2 " id="sec-apparmor-support-trouble-dirpath"><div class="titlepage"><div><div><h3 class="title"><span class="number">37.4.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">My profiles do not work anymore …</span> <a title="Permalink" class="permalink" href="cha-apparmor-support.html#sec-apparmor-support-trouble-dirpath">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_support.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_support.xml</li><li><span class="ds-label">ID: </span>sec-apparmor-support-trouble-dirpath</li></ul></div></div></div></div><p>
    If you have been using previous versions of <span class="phrase">AppArmor</span> and have updated
    your system (but kept your old set of profiles) you might notice
    applications which seemed to work perfectly before you updated behaving
    strangely, or not working.
   </p><p>
    This version of <span class="phrase">AppArmor</span> introduces a set of new features to the profile
    syntax and the <span class="phrase">AppArmor</span> tools that might cause trouble with older
    versions of the <span class="phrase">AppArmor</span> profiles. Those features are:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      File Locking
     </p></li><li class="listitem "><p>
      Network Access Control
     </p></li><li class="listitem "><p>
      The <code class="literal">SYS_PTRACE</code> Capability
     </p></li><li class="listitem "><p>
      Directory Path Access
     </p></li></ul></div><p>
    The current version of <span class="phrase">AppArmor</span> mediates file locking and introduces a
    new permission mode (<code class="literal">k</code>) for this. Applications
    requesting file locking permission might misbehave or fail altogether if
    confined by older profiles which do not explicitly contain permissions
    to lock files. If you suspect this being the case, check the log file
    under <code class="filename">/var/log/audit/audit.log</code> for entries like the
    following:
   </p><div class="verbatim-wrap"><pre class="screen">type=AVC msg=audit(1389862802.727:13939): apparmor="DENIED" \
operation="file_lock" parent=2692 profile="/usr/bin/opera" \
name="/home/tux/.qt/.qtrc.lock" pid=28730 comm="httpd2-prefork" \
requested_mask="::k" denied_mask="::k" fsuid=30 ouid=0</pre></div><p>
    Update the profile using the <code class="command">aa-logprof</code> command as
    outlined below.
   </p><p>
    The new network access control syntax based on the network family and
    type specification, described in
    <a class="xref" href="cha-apparmor-profiles.html#sec-apparmor-profiles-nac" title="30.5. Network access control">Section 30.5, “Network access control”</a>, might cause application
    misbehavior or even stop applications from working. If you notice a
    network-related application behaving strangely, check the log file under
    <code class="filename">/var/log/audit/audit.log</code> for entries like the
    following:
   </p><div class="verbatim-wrap"><pre class="screen">type=AVC msg=audit(1389864332.233:13947): apparmor="DENIED" \
operation="socket_create" family="inet" parent=29985 profile="/bin/ping" \
sock_type="raw" pid=30251 comm="ping"</pre></div><p>
    This log entry means that our example application,
    <code class="command">/bin/ping</code> in this case, failed to get <span class="phrase">AppArmor</span>'s
    permission to open a network connection. This permission needs to be
    explicitly stated to make sure that an application has network access.
    To update the profile to the new syntax, use the
    <code class="command">aa-logprof</code> command as outlined below.
   </p><p>
    The current kernel requires the <code class="literal">SYS_PTRACE</code>
    capability, if a process tries to access files in
    <code class="filename">/proc/<em class="replaceable ">PID</em>/fd/*</code>. New
    profiles need an entry for the file and the capability, where old
    profiles only needed the file entry. For example:
   </p><div class="verbatim-wrap"><pre class="screen">/proc/*/fd/**  rw,</pre></div><p>
    in the old syntax would translate to the following rules in the new
    syntax:
   </p><div class="verbatim-wrap"><pre class="screen">capability SYS_PTRACE,
/proc/*/fd/**  rw,</pre></div><p>
    To update the profile to the new syntax, use the YaST Update
    Profile Wizard or the <code class="command">aa-logprof</code> command as outlined
    below.
   </p><p>
    With this version of <span class="phrase">AppArmor</span>, a few changes have been made to the
    profile rule syntax to better distinguish directory from file access.
    Therefore, certain rules matching both file and directory paths in the
    previous version might now match a path only. This could lead to
    <span class="phrase">AppArmor</span> not being able to access a crucial directory, and thus
    trigger misbehavior of your application and various log messages. The
    following examples highlight the most important changes to the path
    syntax.
   </p><p>
    Using the old syntax, the following rule would allow access to files and
    directories in <code class="filename">/proc/net</code>. It would allow directory
    access only to read the entries in the directory, but not give access to
    files or directories under the directory, for example
    <code class="filename">/proc/net/dir/foo</code> would be matched by the asterisk
    (*), but as <code class="filename">foo</code> is a file or directory under
    <code class="filename">dir</code>, it cannot be accessed.
   </p><div class="verbatim-wrap"><pre class="screen">/proc/net/*  r,</pre></div><p>
    To get the same behavior using the new syntax, you need two rules
    instead of one. The first allows access to the file under
    <code class="filename">/proc/net</code> and the second allows access to
    directories under <code class="filename">/proc/net</code>. Directory access can
    only be used for listing the contents, not accessing files or
    directories underneath the directory.
   </p><div class="verbatim-wrap"><pre class="screen">/proc/net/*  r,
/proc/net/*/  r,</pre></div><p>
    The following rule works similarly both under the old and the new
    syntax, and allows access to both files and directories under
    <code class="filename">/proc/net</code> (but does not allow a directory listing
    of <code class="filename">/proc/net/</code> itself):
   </p><div class="verbatim-wrap"><pre class="screen">/proc/net/**  r,</pre></div><p>
    To distinguish file access from directory access using the above
    expression in the new syntax, use the following two rules. The first one
    only allows to recursively access directories under
    <code class="filename">/proc/net</code> while the second one explicitly allows
    for recursive file access only.
   </p><div class="verbatim-wrap"><pre class="screen">/proc/net/**/  r,
/proc/net/**[^/]  r,</pre></div><p>
    The following rule works similarly both under the old and the new syntax
    and allows access to both files and directories beginning with
    <code class="literal">foo</code> under <code class="filename">/proc/net</code>:
   </p><div class="verbatim-wrap"><pre class="screen">/proc/net/foo**  r,</pre></div><p>
    To distinguish file access from directory access in the new syntax and
    use the <code class="literal">**</code> globbing pattern, use the following two
    rules. The first one would have matched both files and directories in
    the old syntax, but only matches files in the new syntax because of the
    missing trailing slash. The second rule matched neither file nor
    directory in the old syntax, but matches directories only in the new
    syntax:
   </p><div class="verbatim-wrap"><pre class="screen">/proc/net/**foo  r,
/proc/net/**foo/  r,</pre></div><p>
    The following rules illustrate how the use of the <code class="literal">?</code>
    globbing pattern has changed. In the old syntax, the first rule would
    have matched both files and directories (four characters, last character
    could be any but a slash). In the new syntax, it matches only files
    (trailing slash is missing). The second rule would match nothing in the
    old profile syntax, but matches directories only in the new syntax. The
    last rule matches explicitly matches a file called
    <code class="filename">bar</code> under <code class="filename">/proc/net/foo?</code>.
    Using the old syntax, this rule would have applied to both files and
    directories:
   </p><div class="verbatim-wrap"><pre class="screen">/proc/net/foo?  r,
/proc/net/foo?/  r,
/proc/net/foo?/bar  r,</pre></div><p>
    To find and resolve issues related to syntax changes, take some time
    after the update to check the profiles you want to keep and proceed as
    follows for each application you kept the profile for:
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Put the application's profile into complain mode:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">aa-complain</code> <code class="option"><em class="replaceable ">/path/to/application</em></code></pre></div><p>
      Log entries are made for any actions violating the current profile,
      but the profile is not enforced and the application's behavior not
      restricted.
     </p></li><li class="step "><p>
      Run the application covering all the tasks you need this application
      to be able to perform.
     </p></li><li class="step "><p>
      Update the profile according to the log entries made while running the
      application:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">aa-logprof</code> <code class="option"><em class="replaceable ">/path/to/application</em></code></pre></div></li><li class="step "><p>
      Put the resulting profile back into enforce mode:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">aa-enforce</code> <code class="option"><em class="replaceable ">/path/to/application</em></code></pre></div></li></ol></div></div></div><div class="sect2 " id="sec-apparmor-support-trouble-apache"><div class="titlepage"><div><div><h3 class="title"><span class="number">37.4.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Resolving issues with Apache</span> <a title="Permalink" class="permalink" href="cha-apparmor-support.html#sec-apparmor-support-trouble-apache">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_support.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_support.xml</li><li><span class="ds-label">ID: </span>sec-apparmor-support-trouble-apache</li></ul></div></div></div></div><p>
    After installing additional Apache modules (like
    <code class="literal">apache2-mod_apparmor</code>) or making configuration changes
    to Apache, profile Apache again to find out if additional rules need to
    be added to the profile. If you do not profile Apache again, it could be
    unable to start properly or be unable to serve Web pages.
   </p></div><div class="sect2 " id="sec-apparmor-support-trouble-ex"><div class="titlepage"><div><div><h3 class="title"><span class="number">37.4.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">How to exclude certain profiles from the list of profiles used?</span> <a title="Permalink" class="permalink" href="cha-apparmor-support.html#sec-apparmor-support-trouble-ex">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_support.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_support.xml</li><li><span class="ds-label">ID: </span>sec-apparmor-support-trouble-ex</li></ul></div></div></div></div><p>
    Run <code class="command">aa-disable</code>
    <code class="option"><em class="replaceable ">PROGRAMNAME</em></code> to disable the
    profile for <em class="replaceable ">PROGRAMNAME</em>. This command creates
    a symbolic link to the profile in
    <code class="filename">/etc/apparmor.d/disable/</code>. To reactivate
    the profile, delete the link, and run <code class="command">systemctl reload
    apparmor</code>.
   </p></div><div class="sect2 " id="sec-apparmor-support-trouble-remote"><div class="titlepage"><div><div><h3 class="title"><span class="number">37.4.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Can I manage profiles for applications not installed on my system?</span> <a title="Permalink" class="permalink" href="cha-apparmor-support.html#sec-apparmor-support-trouble-remote">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_support.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_support.xml</li><li><span class="ds-label">ID: </span>sec-apparmor-support-trouble-remote</li></ul></div></div></div></div><p>
    Managing profiles with <span class="phrase">AppArmor</span> requires you to have access to the log of
    the system on which the application is running. So you do not need to
    run the application on your profile build host if you have
    access to the machine that runs the application. You can run the
    application on one system, transfer the logs
    (<code class="filename">/var/log/audit.log</code> or, if
    <code class="filename">audit</code> is not installed, <code class="command">journalctl | grep
    -i apparmor &gt; path_to_logfile</code>) to your profile build host
    and run <code class="command">aa-logprof -f</code>
    <em class="replaceable ">PATH_TO_LOGFILE</em>.
   </p></div><div class="sect2 " id="sec-apparmor-support-trouble-syntax"><div class="titlepage"><div><div><h3 class="title"><span class="number">37.4.6 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">How to spot and fix <span class="phrase">AppArmor</span> syntax errors</span> <a title="Permalink" class="permalink" href="cha-apparmor-support.html#sec-apparmor-support-trouble-syntax">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_support.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_support.xml</li><li><span class="ds-label">ID: </span>sec-apparmor-support-trouble-syntax</li></ul></div></div></div></div><p>
    Manually editing <span class="phrase">AppArmor</span> profiles can introduce syntax errors. If you
    attempt to start or restart <span class="phrase">AppArmor</span> with syntax errors in your profiles,
    error results are shown. This example shows the syntax of the entire
    parser error.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code> systemctl start apparmor.service
Loading AppArmor profiles AppArmor parser error in /etc/apparmor.d/usr.sbin.squid \
 at line 410: syntax error, unexpected TOK_ID, expecting TOK_MODE
Profile /etc/apparmor.d/usr.sbin.squid failed to load</pre></div><p>
    Using the <span class="phrase">AppArmor</span> YaST tools, a graphical error message indicates
    which profile contained the error and requests you to fix it.
   </p><div class="informalfigure"><div class="mediaobject"><a xmlns="" href="images/aa_syncheck.png" target="_blank"><img src="images/aa_syncheck.png" width="" alt="error message with hint for correcting the error" /></a></div></div><p>
    To fix a syntax error, log in to a terminal window as <code class="systemitem">root</code>,
    open the profile, and correct the syntax. Reload the profile set with
    <code class="command">systemctl reload apparmor</code>.
   </p><div id="id-1.6.7.12.7.8.7" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg" /><h6>Tip: <span class="phrase">AppArmor</span> syntax highlighting in <code class="literal">vi</code></h6><p>
     The editor <code class="literal">vi</code> on <span class="productname"><span class="phrase">openSUSE Leap</span></span> supports syntax
     highlighting for <span class="phrase">AppArmor</span> profiles. Lines containing syntax errors are displayed
     with a red background.
    </p></div></div></div><div class="sect1 " id="sec-apparmor-support-bugs"><div class="titlepage"><div><div><h2 class="title"><span class="number">37.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Reporting bugs for <span class="phrase">AppArmor</span></span> <a title="Permalink" class="permalink" href="cha-apparmor-support.html#sec-apparmor-support-bugs">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_support.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_support.xml</li><li><span class="ds-label">ID: </span>sec-apparmor-support-bugs</li></ul></div></div></div></div><p>
   The developers of <span class="phrase">AppArmor</span> are eager to deliver products of the highest
   quality. Your feedback and your bug reports help us keep the quality
   high. Whenever you encounter a bug in <span class="phrase">AppArmor</span>, file a bug report against
   this product:
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Use your Web browser to go to <a class="link" href="https://bugzilla.opensuse.org/" target="_blank">https://bugzilla.opensuse.org/</a> and click <span class="guimenu ">Log
     In</span>.
    </p></li><li class="step "><p>
     Enter the account data of your SUSE account and click
     <span class="guimenu ">Login</span>. If you do not have a SUSE account, click
     <span class="guimenu ">Create Account</span> and provide the required data.
    </p></li><li class="step "><p>
     If your problem has already been reported, check this bug report and
     add extra information to it, if necessary.
    </p></li><li class="step "><p>
     If your problem has not been reported yet, select
     <span class="guimenu ">New</span> from the top navigation bar and proceed to the
     <span class="guimenu ">Enter Bug</span> page.
    </p></li><li class="step "><p>
     Select the product against which to file the bug. In your case, this
     would be your product's release. Click <span class="guimenu ">Submit</span>.
    </p></li><li class="step "><p>
     Select the product version, component (<span class="phrase">AppArmor</span> in this case), hardware
     platform, and severity.
    </p></li><li class="step "><p>
     Enter a brief headline describing your problem and add a more elaborate
     description including log files. You may create attachments to your bug
     report for screenshots, log files, or test cases.
    </p></li><li class="step "><p>
     Click <span class="guimenu ">Submit</span> after you have entered all the details
     to send your report to the developers.
    </p></li></ol></div></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha-apparmor-glossary.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 38 </span><span class="phrase">AppArmor</span> glossary</span></a><a class="nav-link" href="cha-apparmor-managing.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 36 </span>Managing profiled applications</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2024 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>