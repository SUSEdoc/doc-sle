<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Building and managing profiles with YaST | Security and Hardening Guide | openSUSE Leap 15.7</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" />
<meta name="title" content="Building and managing profiles with YaST | openSUSE Le…" />
<meta name="description" content="YaST provides a basic way to build profiles and manage AppArmor® profiles. It provides two interfaces: a graphical one and a text-based one. The text-based int…" />
<meta name="product-name" content="openSUSE Leap" />
<meta name="product-number" content="15.7" />
<meta name="book-title" content="Security and Hardening Guide" />
<meta name="chapter-title" content="Chapter 32. Building and managing profiles with YaST" />
<meta name="tracker-url" content="https://bugzilla.opensuse.org/enter_bug.cgi" />
<meta name="tracker-type" content="bsc" />
<meta name="tracker-bsc-assignee" content="fs@suse.com" />
<meta name="tracker-bsc-component" content="Documentation" />
<meta name="tracker-bsc-product" content="openSUSE Distribution" />
<meta name="tracker-bsc-version" content="Leap 15.4" />
<meta property="og:title" content="Building and managing profiles with YaST | openSUSE Le…" />
<meta property="og:description" content="YaST provides a basic way to build profiles and manage AppArmor® profiles. It provides two interfaces: a graphical one and a text-based one. The text-based int…" />
<meta property="og:type" content="article" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Building and managing profiles with YaST | openSUSE Le…" />
<meta name="twitter:description" content="YaST provides a basic way to build profiles and manage AppArmor® profiles. It provides two interfaces: a graphical one and a text-based one. The text-based int…" />
<link rel="home" href="index.html" title="openSUSE Leap Documentation" /><link rel="up" href="part-apparmor.html" title="Part IV. Confining privileges with AppArmor" /><link rel="prev" href="cha-apparmor-repos.html" title="Chapter 31. AppArmor profile repositories" /><link rel="next" href="cha-apparmor-commandline.html" title="Chapter 33. Building profiles from the command line" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" /></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #E11;"><div id="_header"><div id="_logo"><img src="static/images/logo.svg" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="Security and Hardening Guide"><span class="book-icon">Security and Hardening Guide</span></a><span> › </span><a class="crumb" href="part-apparmor.html">Confining privileges with AppArmor</a><span> › </span><a class="crumb" href="cha-apparmor-yast.html">Building and managing profiles with YaST</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Security and Hardening Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface-security.html"><span class="number"> </span><span class="name">Preface</span></a></li><li class="inactive"><a href="cha-security.html"><span class="number">1 </span><span class="name">Security and confidentiality</span></a></li><li class="inactive"><a href="part-auth.html"><span class="number">I </span><span class="name">Authentication</span></a><ol><li class="inactive"><a href="cha-pam.html"><span class="number">2 </span><span class="name">Authentication with PAM</span></a></li><li class="inactive"><a href="cha-nis.html"><span class="number">3 </span><span class="name">Using NIS</span></a></li><li class="inactive"><a href="cha-security-auth.html"><span class="number">4 </span><span class="name">Setting up authentication clients using YaST</span></a></li><li class="inactive"><a href="cha-security-ldap.html"><span class="number">5 </span><span class="name">LDAP with 389 Directory Server</span></a></li><li class="inactive"><a href="cha-security-kerberos.html"><span class="number">6 </span><span class="name">Network authentication with Kerberos</span></a></li><li class="inactive"><a href="cha-security-ad.html"><span class="number">7 </span><span class="name">Active Directory support</span></a></li><li class="inactive"><a href="cha-security-freeradius.html"><span class="number">8 </span><span class="name">Setting up a freeRADIUS server</span></a></li></ol></li><li class="inactive"><a href="part-local-security.html"><span class="number">II </span><span class="name">Local security</span></a><ol><li class="inactive"><a href="cha-physical-security.html"><span class="number">9 </span><span class="name">Physical security</span></a></li><li class="inactive"><a href="sec-sec-software-management.html"><span class="number">10 </span><span class="name">Software management</span></a></li><li class="inactive"><a href="sec-sec-file-management.html"><span class="number">11 </span><span class="name">File management</span></a></li><li class="inactive"><a href="cha-security-cryptofs.html"><span class="number">12 </span><span class="name">Encrypting partitions and files</span></a></li><li class="inactive"><a href="cha-configure-cryptctl.html"><span class="number">13 </span><span class="name">Storage encryption for hosted applications with cryptctl</span></a></li><li class="inactive"><a href="sec-sec-user-management.html"><span class="number">14 </span><span class="name">User management</span></a></li><li class="inactive"><a href="cha-sec-cron-at.html"><span class="number">15 </span><span class="name">Restricting <code class="systemitem">cron</code> and <code class="systemitem">at</code></span></a></li><li class="inactive"><a href="cha-spectre.html"><span class="number">16 </span><span class="name">Spectre/Meltdown checker</span></a></li><li class="inactive"><a href="cha-security-yast-security.html"><span class="number">17 </span><span class="name">Configuring security settings with YaST</span></a></li><li class="inactive"><a href="cha-security-polkit.html"><span class="number">18 </span><span class="name">The Polkit authentication framework</span></a></li><li class="inactive"><a href="cha-security-acls.html"><span class="number">19 </span><span class="name">Access control lists in Linux</span></a></li><li class="inactive"><a href="cha-aide.html"><span class="number">20 </span><span class="name">Intrusion detection with AIDE</span></a></li></ol></li><li class="inactive"><a href="part-network-security.html"><span class="number">III </span><span class="name">Network security</span></a><ol><li class="inactive"><a href="cha-xauth.html"><span class="number">21 </span><span class="name">X Window System and X authentication</span></a></li><li class="inactive"><a href="cha-ssh.html"><span class="number">22 </span><span class="name">Securing network operations with OpenSSH</span></a></li><li class="inactive"><a href="cha-security-firewall.html"><span class="number">23 </span><span class="name">Masquerading and firewalls</span></a></li><li class="inactive"><a href="cha-security-vpnserver.html"><span class="number">24 </span><span class="name">Configuring a VPN server</span></a></li><li class="inactive"><a href="cha-security-xca.html"><span class="number">25 </span><span class="name">Managing a PKI with XCA, X certificate and key manager</span></a></li><li class="inactive"><a href="cha-sec-sysctl.html"><span class="number">26 </span><span class="name">Improving network security with <code class="command">sysctl</code> variables</span></a></li></ol></li><li class="inactive"><a href="part-apparmor.html"><span class="number">IV </span><span class="name">Confining privileges with <span class="phrase">AppArmor</span></span></a><ol><li class="inactive"><a href="cha-apparmor-intro.html"><span class="number">27 </span><span class="name">Introducing <span class="phrase">AppArmor</span></span></a></li><li class="inactive"><a href="cha-apparmor-start.html"><span class="number">28 </span><span class="name">Getting started</span></a></li><li class="inactive"><a href="cha-apparmor-concept.html"><span class="number">29 </span><span class="name">Immunizing programs</span></a></li><li class="inactive"><a href="cha-apparmor-profiles.html"><span class="number">30 </span><span class="name">Profile components and syntax</span></a></li><li class="inactive"><a href="cha-apparmor-repos.html"><span class="number">31 </span><span class="name"><span class="phrase">AppArmor</span> profile repositories</span></a></li><li class="inactive"><a href="cha-apparmor-yast.html"><span class="number">32 </span><span class="name">Building and managing profiles with YaST</span></a></li><li class="inactive"><a href="cha-apparmor-commandline.html"><span class="number">33 </span><span class="name">Building profiles from the command line</span></a></li><li class="inactive"><a href="cha-apparmor-hat.html"><span class="number">34 </span><span class="name">Profiling your Web applications using ChangeHat</span></a></li><li class="inactive"><a href="cha-apparmor-pam.html"><span class="number">35 </span><span class="name">Confining users with <code class="systemitem">pam_apparmor</code></span></a></li><li class="inactive"><a href="cha-apparmor-managing.html"><span class="number">36 </span><span class="name">Managing profiled applications</span></a></li><li class="inactive"><a href="cha-apparmor-support.html"><span class="number">37 </span><span class="name">Support</span></a></li><li class="inactive"><a href="cha-apparmor-glossary.html"><span class="number">38 </span><span class="name"><span class="phrase">AppArmor</span> glossary</span></a></li></ol></li><li class="inactive"><a href="part-selinux.html"><span class="number">V </span><span class="name">SELinux</span></a><ol><li class="inactive"><a href="cha-selinux.html"><span class="number">39 </span><span class="name">Configuring SELinux</span></a></li></ol></li><li class="inactive"><a href="part-audit.html"><span class="number">VI </span><span class="name">The Linux Audit Framework</span></a><ol><li class="inactive"><a href="cha-audit-comp.html"><span class="number">40 </span><span class="name">Understanding Linux audit</span></a></li><li class="inactive"><a href="cha-audit-setup.html"><span class="number">41 </span><span class="name">Setting up the Linux audit framework</span></a></li><li class="inactive"><a href="cha-audit-scenarios.html"><span class="number">42 </span><span class="name">Introducing an audit rule set</span></a></li><li class="inactive"><a href="cha-audit-moreinfo.html"><span class="number">43 </span><span class="name">Useful resources</span></a></li></ol></li><li class="inactive"><a href="bk04apa.html"><span class="number">A </span><span class="name">GNU licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 31. AppArmor profile repositories" href="cha-apparmor-repos.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 33. Building profiles from the command line" href="cha-apparmor-commandline.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #E11;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="Security and Hardening Guide"><span class="book-icon">Security and Hardening Guide</span></a><span> › </span><a class="crumb" href="part-apparmor.html">Confining privileges with AppArmor</a><span> › </span><a class="crumb" href="cha-apparmor-yast.html">Building and managing profiles with YaST</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 31. AppArmor profile repositories" href="cha-apparmor-repos.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 33. Building profiles from the command line" href="cha-apparmor-commandline.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha-apparmor-yast"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname "><span class="productname"><span class="phrase">openSUSE Leap</span></span></span> <span class="productnumber "><span class="productnumber"><span class="phrase">15.7</span></span></span></div><div><h2 class="title"><span class="number">32 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Building and managing profiles with YaST</span> <a title="Permalink" class="permalink" href="cha-apparmor-yast.html#">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_profiles_yast.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_profiles_yast.xml</li><li><span class="ds-label">ID: </span>cha-apparmor-yast</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha-apparmor-yast.html#sec-apparmor-yast-add"><span class="number">32.1 </span><span class="name">Manually adding a profile</span></a></span></dt><dt><span class="sect1"><a href="cha-apparmor-yast.html#sec-apparmor-yast-edit"><span class="number">32.2 </span><span class="name">Editing profiles</span></a></span></dt><dt><span class="sect1"><a href="cha-apparmor-yast.html#sec-apparmor-yast-del"><span class="number">32.3 </span><span class="name">Deleting a profile</span></a></span></dt><dt><span class="sect1"><a href="cha-apparmor-yast.html#sec-apparmor-yast-manage"><span class="number">32.4 </span><span class="name">Managing <span class="phrase">AppArmor</span></span></a></span></dt></dl></div></div><p>
  YaST provides a basic way to build profiles and manage <span class="phrase">AppArmor®</span>
  profiles. It provides two interfaces: a graphical one and a text-based
  one. The text-based interface consumes less resources and bandwidth,
  making it a better choice for remote administration, or for times when a
  local graphical environment is inconvenient. Although the interfaces have
  differing appearances, they offer the same functionality in similar ways.
  Another alternative is to use <span class="phrase">AppArmor</span> commands, which can control <span class="phrase">AppArmor</span>
  from a terminal window or through remote connections. The command line
  tools are described in <a class="xref" href="cha-apparmor-commandline.html" title="Chapter 33. Building profiles from the command line">Chapter 33, <em>Building profiles from the command line</em></a>.
 </p><p>
  Start YaST from the main menu and enter your <code class="systemitem">root</code> password
  when prompted for it. Alternatively, start YaST by opening a terminal
  window, logging in as <code class="systemitem">root</code>, and entering <code class="command">yast2</code>
  for the graphical mode or <code class="command">yast</code> for the text-based mode.
 </p><p>
  In the <span class="guimenu ">Security and Users</span> section, there is an
  <span class="guimenu "><span class="phrase">AppArmor</span> Configuration</span> icon. Click it to launch the
  <span class="phrase">AppArmor</span> YaST module.
 </p><div class="sect1 " id="sec-apparmor-yast-add"><div class="titlepage"><div><div><h2 class="title"><span class="number">32.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Manually adding a profile</span> <a title="Permalink" class="permalink" href="cha-apparmor-yast.html#sec-apparmor-yast-add">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_profiles_yast.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_profiles_yast.xml</li><li><span class="ds-label">ID: </span>sec-apparmor-yast-add</li></ul></div></div></div></div><p>
   <span class="phrase">AppArmor</span> enables you to create an <span class="phrase">AppArmor</span> profile by manually adding
   entries into the profile. Select the application for which to create a
   profile, then add entries.
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Start YaST, select <span class="guimenu "><span class="phrase">AppArmor</span> Configuration</span>, and
     click <span class="guimenu ">Manually Add Profile</span> in the main window.
    </p></li><li class="step "><p>
     Browse your system to find the application for which to create a
     profile.
    </p></li><li class="step "><p>
     When you find the application, select it and click
     <span class="guimenu ">Open</span>. A basic, empty profile appears in the
     <span class="guimenu "><span class="phrase">AppArmor</span> Profile Dialog</span> window.
    </p></li><li class="step "><p>
     In <span class="guimenu "><span class="phrase">AppArmor</span> Profile Dialog</span>, add, edit, or delete
     <span class="phrase">AppArmor</span> profile entries by clicking the corresponding buttons and
     referring to
     <a class="xref" href="cha-apparmor-yast.html#sec-apparmor-yast-edit-add" title="32.2.1. Adding an entry">Section 32.2.1, “Adding an entry”</a>,
     <a class="xref" href="cha-apparmor-yast.html#sec-apparmor-yast-edit-edit" title="32.2.2. Editing an entry">Section 32.2.2, “Editing an entry”</a>,
     or
     <a class="xref" href="cha-apparmor-yast.html#sec-apparmor-yast-edit-del" title="32.2.3. Deleting an entry">Section 32.2.3, “Deleting an entry”</a>.
    </p></li><li class="step "><p>
     When finished, click <span class="guimenu ">Done</span>.
    </p></li></ol></div></div></div><div class="sect1 " id="sec-apparmor-yast-edit"><div class="titlepage"><div><div><h2 class="title"><span class="number">32.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Editing profiles</span> <a title="Permalink" class="permalink" href="cha-apparmor-yast.html#sec-apparmor-yast-edit">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_profiles_yast.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_profiles_yast.xml</li><li><span class="ds-label">ID: </span>sec-apparmor-yast-edit</li></ul></div></div></div></div><div id="id-1.6.7.7.7.2" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg" /><h6>Tip</h6><p>
    YaST offers basic manipulation for <span class="phrase">AppArmor</span> profiles, such
    as creating or editing. However, the most straightforward way
    to edit an <span class="phrase">AppArmor</span>
    profile is to use a text editor such as <code class="command">vi</code>:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> vi /etc/apparmor.d/usr.sbin.httpd2-prefork</pre></div></div><div id="id-1.6.7.7.7.3" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg" /><h6>Tip</h6><p>
    The <code class="command">vi</code> editor also includes syntax (error)
    highlighting and syntax error highlighting, which visually warns you
    when the syntax of the edited <span class="phrase">AppArmor</span> profile is wrong.
   </p></div><p>
   <span class="phrase">AppArmor</span> enables you to edit <span class="phrase">AppArmor</span> profiles manually by adding, editing
   or deleting entries. To edit a profile, proceed as follows:
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Start YaST, select <span class="guimenu "><span class="phrase">AppArmor</span> Configuration</span>, and
     click <span class="guimenu ">Manage Existing Profiles</span> in the main window.
    </p><div class="informalfigure"><div class="mediaobject"><a xmlns="" href="images/edit_1.png" target="_blank"><img src="images/edit_1.png" width="" alt="Choose the profile to edit" /></a></div></div></li><li class="step "><p>
     From the list of profiled applications, select the profile to edit.
    </p></li><li class="step "><p>
     Click <span class="guimenu ">Edit</span>. The <span class="guimenu "><span class="phrase">AppArmor</span> Profile
     Dialog</span> window displays the profile.
    </p><div class="informalfigure"><div class="mediaobject"><a xmlns="" href="images/edit_2.png" target="_blank"><img src="images/edit_2.png" width="" alt="AppArmor profile dialog" /></a></div></div></li><li class="step "><p>
     In the <span class="guimenu "><span class="phrase">AppArmor</span> Profile Dialog</span> window, add, edit, or
     delete <span class="phrase">AppArmor</span> profile entries by clicking the corresponding buttons
     and referring to
     <a class="xref" href="cha-apparmor-yast.html#sec-apparmor-yast-edit-add" title="32.2.1. Adding an entry">Section 32.2.1, “Adding an entry”</a>,
     <a class="xref" href="cha-apparmor-yast.html#sec-apparmor-yast-edit-edit" title="32.2.2. Editing an entry">Section 32.2.2, “Editing an entry”</a>,
     or
     <a class="xref" href="cha-apparmor-yast.html#sec-apparmor-yast-edit-del" title="32.2.3. Deleting an entry">Section 32.2.3, “Deleting an entry”</a>.
    </p></li><li class="step "><p>
     When you are finished, click <span class="guimenu ">Done</span>.
    </p></li><li class="step "><p>
     In the pop-up that appears, click <span class="guimenu ">Yes</span> to confirm
     your changes to the profile and reload the <span class="phrase">AppArmor</span> profile set.
    </p></li></ol></div></div><div id="id-1.6.7.7.7.6" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg" /><h6>Tip: Syntax checking in <span class="phrase">AppArmor</span></h6><p>
    <span class="phrase">AppArmor</span> contains a syntax check that notifies you of any syntax errors
    in profiles you are trying to process with the YaST <span class="phrase">AppArmor</span> tools.
    If an error occurs, edit the profile manually as <code class="systemitem">root</code> and
    reload the profile set with <code class="command">systemctl reload
    apparmor</code>.
   </p></div><div class="sect2 " id="sec-apparmor-yast-edit-add"><div class="titlepage"><div><div><h3 class="title"><span class="number">32.2.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Adding an entry</span> <a title="Permalink" class="permalink" href="cha-apparmor-yast.html#sec-apparmor-yast-edit-add">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_profiles_yast.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_profiles_yast.xml</li><li><span class="ds-label">ID: </span>sec-apparmor-yast-edit-add</li></ul></div></div></div></div><p>
    The <span class="guimenu ">Add Entry</span> button in the <span class="guimenu "><span class="phrase">AppArmor</span> Profile
    Window</span> lists types of entries you can add to the
    <span class="phrase">AppArmor</span> profile.
   </p><p>
    From the list, select one of the following:
   </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.6.7.7.7.7.4.1"><span class="term ">File</span></dt><dd><p>
       In the pop-up window, specify the absolute path of a file, including
       the type of access permitted. When finished, click
       <span class="guimenu ">OK</span>.
      </p><p>
       You can use globbing if necessary. For globbing information, refer to
       <a class="xref" href="cha-apparmor-profiles.html#sec-apparmor-profiles-glob" title="30.6. Profile names, flags, paths, and globbing">Section 30.6, “Profile names, flags, paths, and globbing”</a>.
       For file access permission information, refer to
       <a class="xref" href="cha-apparmor-profiles.html#sec-apparmor-profiles-perm" title="30.7. File permission access modes">Section 30.7, “File permission access modes”</a>.
      </p><div class="informalfigure"><div class="mediaobject"><a xmlns="" href="images/add_2_addentry_file.png" target="_blank"><img src="images/add_2_addentry_file.png" width="" alt="Select a file to add" /></a></div></div></dd><dt id="id-1.6.7.7.7.7.4.2"><span class="term ">Directory</span></dt><dd><p>
       In the pop-up window, specify the absolute path of a directory,
       including the type of access permitted. You can use globbing if
       necessary. When finished, click <span class="guimenu ">OK</span>.
      </p><p>
       For globbing information, refer to
       <a class="xref" href="cha-apparmor-profiles.html#sec-apparmor-profiles-glob" title="30.6. Profile names, flags, paths, and globbing">Section 30.6, “Profile names, flags, paths, and globbing”</a>.
       For file access permission information, refer to
       <a class="xref" href="cha-apparmor-profiles.html#sec-apparmor-profiles-perm" title="30.7. File permission access modes">Section 30.7, “File permission access modes”</a>.
      </p><div class="informalfigure"><div class="mediaobject"><a xmlns="" href="images/add_2_addentry_file.png" target="_blank"><img src="images/add_2_addentry_file.png" width="" alt="Select a directory to add" /></a></div></div></dd><dt id="id-1.6.7.7.7.7.4.3"><span class="term ">Network rule</span></dt><dd><p>
       In the pop-up window, select the appropriate network family and the
       socket type. For more information, refer to
       <a class="xref" href="cha-apparmor-profiles.html#sec-apparmor-profiles-nac" title="30.5. Network access control">Section 30.5, “Network access control”</a>.
      </p><div class="informalfigure"><div class="mediaobject"><a xmlns="" href="images/add_2_addentry_network.png" target="_blank"><img src="images/add_2_addentry_network.png" width="" alt="Select capabilities" /></a></div></div></dd><dt id="id-1.6.7.7.7.7.4.4"><span class="term ">Capability</span></dt><dd><p>
       In the pop-up window, select the appropriate capabilities. These are
       statements that enable each of the 32 POSIX.1e capabilities. Refer to
       <a class="xref" href="cha-apparmor-profiles.html#sec-apparmor-profiles-capabilities" title="30.4. Capability entries (POSIX.1e)">Section 30.4, “Capability entries (POSIX.1e)”</a>
       for more information about capabilities. When finished making your
       selections, click <span class="guimenu ">OK</span>.
      </p><div class="informalfigure"><div class="mediaobject"><a xmlns="" href="images/add_2_addentry_capability.png" target="_blank"><img src="images/add_2_addentry_capability.png" width="" alt="Select capabilities" /></a></div></div></dd><dt id="id-1.6.7.7.7.7.4.5"><span class="term ">Include file</span></dt><dd><p>
       In the pop-up window, browse to the files to use as includes.
       Includes are directives that pull in components of other <span class="phrase">AppArmor</span>
       profiles to simplify profiles. For more information, refer to
       <a class="xref" href="cha-apparmor-profiles.html#sec-apparmor-profiles-includes" title="30.3. Include statements">Section 30.3, “Include statements”</a>.
      </p></dd><dt id="id-1.6.7.7.7.7.4.6"><span class="term ">Hat</span></dt><dd><p>
       In the pop-up window, specify the name of the subprofile
       (<span class="emphasis"><em>hat</em></span>) to add to your current profile and click
       <span class="guimenu ">Create Hat</span>. For more information, refer to
       <a class="xref" href="cha-apparmor-hat.html" title="Chapter 34. Profiling your Web applications using ChangeHat">Chapter 34, <em>Profiling your Web applications using ChangeHat</em></a>.
      </p><div class="informalfigure"><div class="mediaobject"><a xmlns="" href="images/add_2_addentry_hat.png" target="_blank"><img src="images/add_2_addentry_hat.png" width="" alt="enter subprofile name in popup window" /></a></div></div></dd></dl></div></div><div class="sect2 " id="sec-apparmor-yast-edit-edit"><div class="titlepage"><div><div><h3 class="title"><span class="number">32.2.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Editing an entry</span> <a title="Permalink" class="permalink" href="cha-apparmor-yast.html#sec-apparmor-yast-edit-edit">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_profiles_yast.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_profiles_yast.xml</li><li><span class="ds-label">ID: </span>sec-apparmor-yast-edit-edit</li></ul></div></div></div></div><p>
    When you select <span class="guimenu ">Edit Entry</span>, a pop-up window opens.
    From here, edit the selected entry.
   </p><p>
    In the pop-up window, edit the entry you need to modify. You can use
    globbing if necessary. When finished, click <span class="guimenu ">OK</span>.
   </p><p>
    For globbing information, refer to
    <a class="xref" href="cha-apparmor-profiles.html#sec-apparmor-profiles-glob" title="30.6. Profile names, flags, paths, and globbing">Section 30.6, “Profile names, flags, paths, and globbing”</a>. For access permission
    information, refer to <a class="xref" href="cha-apparmor-profiles.html#sec-apparmor-profiles-perm" title="30.7. File permission access modes">Section 30.7, “File permission access modes”</a>.
   </p></div><div class="sect2 " id="sec-apparmor-yast-edit-del"><div class="titlepage"><div><div><h3 class="title"><span class="number">32.2.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Deleting an entry</span> <a title="Permalink" class="permalink" href="cha-apparmor-yast.html#sec-apparmor-yast-edit-del">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_profiles_yast.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_profiles_yast.xml</li><li><span class="ds-label">ID: </span>sec-apparmor-yast-edit-del</li></ul></div></div></div></div><p>
    To delete an entry in a given profile, select <span class="guimenu ">Delete
    Entry</span>. <span class="phrase">AppArmor</span> removes the selected profile entry.
   </p></div></div><div class="sect1 " id="sec-apparmor-yast-del"><div class="titlepage"><div><div><h2 class="title"><span class="number">32.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Deleting a profile</span> <a title="Permalink" class="permalink" href="cha-apparmor-yast.html#sec-apparmor-yast-del">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_profiles_yast.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_profiles_yast.xml</li><li><span class="ds-label">ID: </span>sec-apparmor-yast-del</li></ul></div></div></div></div><p>
   <span class="phrase">AppArmor</span> enables you to delete an <span class="phrase">AppArmor</span> profile manually. Simply select
   the application for which to delete a profile then delete it as follows:
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Start YaST, select <span class="guimenu "><span class="phrase">AppArmor</span> Configuration</span>, and
     click <span class="guimenu ">Manage Existing Profiles</span> in the main window.
    </p></li><li class="step "><p>
     Select the profile to delete.
    </p></li><li class="step "><p>
     Click <span class="guimenu ">Delete</span>.
    </p></li><li class="step "><p>
     In the pop-up that opens, click <span class="guimenu ">Yes</span> to delete the
     profile and reload the <span class="phrase">AppArmor</span> profile set.
    </p></li></ol></div></div></div><div class="sect1 " id="sec-apparmor-yast-manage"><div class="titlepage"><div><div><h2 class="title"><span class="number">32.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Managing <span class="phrase">AppArmor</span></span> <a title="Permalink" class="permalink" href="cha-apparmor-yast.html#sec-apparmor-yast-manage">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_profiles_yast.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_profiles_yast.xml</li><li><span class="ds-label">ID: </span>sec-apparmor-yast-manage</li></ul></div></div></div></div><p>
   You can change the status of <span class="phrase">AppArmor</span> by enabling or disabling it.
   Enabling <span class="phrase">AppArmor</span> protects your system from potential program
   exploitation. Disabling <span class="phrase">AppArmor</span>, even if your profiles have been set up,
   removes protection from your system. To change the status of <span class="phrase">AppArmor</span>,
   start YaST, select <span class="guimenu "><span class="phrase">AppArmor</span> Configuration</span>, and
   click <span class="guimenu ">Settings</span> in the main window.
  </p><div class="informalfigure"><div class="mediaobject"><a xmlns="" href="images/sd_controlpanel_1.png" target="_blank"><img src="images/sd_controlpanel_1.png" width="" alt="The AppArmor control panel" /></a></div></div><p>
   To change the status of <span class="phrase">AppArmor</span>, continue as described in
   <a class="xref" href="cha-apparmor-yast.html#sec-apparmor-yast-manage-status" title="32.4.1. Changing AppArmor status">Section 32.4.1, “Changing <span class="phrase">AppArmor</span> status”</a>.
   To change the mode of individual profiles, continue as described in
   <a class="xref" href="cha-apparmor-yast.html#sec-apparmor-yast-manage-profmodes" title="32.4.2. Changing the mode of individual profiles">Section 32.4.2, “Changing the mode of individual profiles”</a>.
  </p><div class="sect2 " id="sec-apparmor-yast-manage-status"><div class="titlepage"><div><div><h3 class="title"><span class="number">32.4.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Changing <span class="phrase">AppArmor</span> status</span> <a title="Permalink" class="permalink" href="cha-apparmor-yast.html#sec-apparmor-yast-manage-status">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_profiles_yast.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_profiles_yast.xml</li><li><span class="ds-label">ID: </span>sec-apparmor-yast-manage-status</li></ul></div></div></div></div><p>
    When you change the status of <span class="phrase">AppArmor</span>, set it to enabled or disabled.
    When <span class="phrase">AppArmor</span> is enabled, it is installed, running and enforcing the
    <span class="phrase">AppArmor</span> security policies.
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Start YaST, select <span class="guimenu "><span class="phrase">AppArmor</span> Configuration</span>, and
      click <span class="guimenu ">Settings</span> in the main window.
     </p></li><li class="step "><p>
      Enable <span class="phrase">AppArmor</span> by checking <span class="guimenu ">Enable <span class="phrase">AppArmor</span></span> or
      disable <span class="phrase">AppArmor</span> by deselecting it.
     </p></li><li class="step "><p>
      Click <span class="guimenu ">Done</span> in the <span class="guimenu "><span class="phrase">AppArmor</span>
      Configuration</span> window.
     </p></li></ol></div></div><div id="id-1.6.7.7.9.5.4" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg" /><h6>Tip</h6><p>
     You always need to restart running programs to apply the profiles to
     them.
    </p></div></div><div class="sect2 " id="sec-apparmor-yast-manage-profmodes"><div class="titlepage"><div><div><h3 class="title"><span class="number">32.4.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Changing the mode of individual profiles</span> <a title="Permalink" class="permalink" href="cha-apparmor-yast.html#sec-apparmor-yast-manage-profmodes">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/apparmor_profiles_yast.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>apparmor_profiles_yast.xml</li><li><span class="ds-label">ID: </span>sec-apparmor-yast-manage-profmodes</li></ul></div></div></div></div><p>
    <span class="phrase">AppArmor</span> can apply profiles in two different modes. In
    <span class="emphasis"><em>complain</em></span> mode, violations of <span class="phrase">AppArmor</span> profile rules,
    such as the profiled program accessing files not permitted by the
    profile, are detected. The violations are permitted, but also logged.
    This mode is convenient for developing profiles and is used by the
    <span class="phrase">AppArmor</span> tools for generating profiles. Loading a profile in
    <span class="emphasis"><em>enforce</em></span> mode enforces the policy defined in the
    profile, and reports policy violation attempts to
    <code class="systemitem">rsyslogd</code> (or
    <code class="systemitem">auditd</code> or
    <code class="systemitem">journalctl</code>, depending on system
    configuration).
   </p><p>
    The <span class="guimenu ">Profile Mode Configuration</span> dialog allows you to
    view and edit the mode of currently loaded <span class="phrase">AppArmor</span> profiles. This
    feature is useful for determining the status of your system during
    profile development. During systemic profiling (see
    <a class="xref" href="cha-apparmor-commandline.html#sec-apparmor-commandline-profiling-systemic" title="33.7.2. Systemic profiling">Section 33.7.2, “Systemic profiling”</a>), you can
    use this tool to adjust and monitor the scope of the profiles for which
    you are learning behavior.
   </p><p>
    To edit an application's profile mode, proceed as follows:
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Start YaST, select <span class="guimenu "><span class="phrase">AppArmor</span> Configuration</span>, and
      click <span class="guimenu ">Settings</span> in the main window.
     </p></li><li class="step "><p>
      In the <span class="guimenu ">Configure Profile Modes</span> section, select
      <span class="guimenu ">Configure</span>.
     </p></li><li class="step "><p>
      Select the profile for which to change the mode.
     </p></li><li class="step "><p>
      Select <span class="guimenu ">Toggle Mode</span> to set this profile to
      <span class="emphasis"><em>complain</em></span> mode or to <span class="emphasis"><em>enforce</em></span>
      mode.
     </p></li><li class="step "><p>
      Apply your settings and leave YaST with <span class="guimenu ">Done</span>.
     </p></li></ol></div></div><p>
    To change the mode of all profiles, use <span class="guimenu ">Set All to
    Enforce</span> or <span class="guimenu ">Set All to Complain</span>.
   </p><div id="id-1.6.7.7.9.6.7" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg" /><h6>Tip: Listing the profiles available</h6><p>
     By default, only active profiles are listed (any profile that has a
     matching application installed on your system). To set up a profile
     before installing the respective application, click <span class="guimenu ">Show All
     Profiles</span> and select the profile to configure from the list
     that appears.
    </p></div></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha-apparmor-commandline.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 33 </span>Building profiles from the command line</span></a><a class="nav-link" href="cha-apparmor-repos.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 31 </span><span class="phrase">AppArmor</span> profile repositories</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2024 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>