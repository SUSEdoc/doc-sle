<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLES 15 SP7 | Repository Mirroring Tool Guide | Deploying a SUSE Linux Enterprise Server instance to support RMT in the public cloud</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="Deploying a SUSE Linux Enterprise Server instance to s…"/>
<meta name="description" content="You can deploy a SUSE Linux Enterprise Server instance to support RMT in Amazon Web Services (AWS), Google Cloud Platform (GCP), and Microsoft Azure.…"/>
<meta name="product-name" content="SUSE Linux Enterprise Server"/>
<meta name="product-number" content="15 SP7"/>
<meta name="book-title" content="Repository Mirroring Tool Guide"/>
<meta name="chapter-title" content="Chapter 9. Deploying a SUSE Linux Enterprise Server instance to support RMT in the public cloud"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="taroth@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="PUBLIC SUSE Linux Enterprise Server 15 SP7"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Repository Mirroring Tool Guide"/>
<meta property="og:description" content="Use RMT, a proxy system for SUSE Customer Center"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Repository Mirroring Tool Guide"/>
<meta name="twitter:description" content="Use RMT, a proxy system for SUSE Customer Center"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "Deploying a SUSE Linux Enterprise Server instance to support RMT in the public cloud",
  
    "description": "Deploying a SUSE Linux Enterprise Server instance to support RMT in the public cloud",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2024-06-26T00:00+02:00",
      
    "datePublished": "2024-06-26T00:00+02:00",
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="cha-manage-certificates.html" title="Chapter 8. Managing TLS/SSL certificates"/><link rel="next" href="bk08apa.html" title="Appendix A. GNU licenses"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_public_cloud.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">RMT Guide</a><span> / </span><a class="crumb" href="rmt-public-cloud.html">Deploying a SUSE Linux Enterprise Server instance to support RMT in the public cloud</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">RMT Guide</div><ol><li><a href="rmt-preface.html" class=" "><span class="title-number"> </span><span class="title-name">Preface</span></a></li><li><a href="rmt-overview.html" class=" "><span class="title-number">1 </span><span class="title-name">Overview</span></a></li><li><a href="cha-rmt-installation.html" class=" "><span class="title-number">2 </span><span class="title-name">RMT installation and configuration</span></a></li><li><a href="cha-rmt-migrate.html" class=" "><span class="title-number">3 </span><span class="title-name">Migrate from SMT to RMT</span></a></li><li><a href="cha-rmt-mirroring.html" class=" "><span class="title-number">4 </span><span class="title-name">Mirroring repositories on the RMT server</span></a></li><li><a href="cha-rmt-client.html" class=" "><span class="title-number">5 </span><span class="title-name">Configuring clients to use RMT</span></a></li><li><a href="cha-rmt-tools.html" class=" "><span class="title-number">6 </span><span class="title-name">RMT tools and configuration files</span></a></li><li><a href="cha-rmt-backup.html" class=" "><span class="title-number">7 </span><span class="title-name">Backing up an RMT server</span></a></li><li><a href="cha-manage-certificates.html" class=" "><span class="title-number">8 </span><span class="title-name">Managing TLS/SSL certificates</span></a></li><li><a href="rmt-public-cloud.html" class=" you-are-here"><span class="title-number">9 </span><span class="title-name">Deploying a SUSE Linux Enterprise Server instance to support RMT in the public cloud</span></a></li><li><a href="bk08apa.html" class=" "><span class="title-number">A </span><span class="title-name">GNU licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="rmt-public-cloud" data-id-title="Deploying a SUSE Linux Enterprise Server instance to support RMT in the public cloud"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">15 SP7</span></span></span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">9 </span><span class="title-name">Deploying a SUSE Linux Enterprise Server instance to support RMT in the public cloud</span></span> <a title="Permalink" class="permalink" href="rmt-public-cloud.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_public_cloud.xml" title="Edit source document"> </a></div></div></div></div></div><p>
You can deploy a SUSE Linux Enterprise Server instance to support RMT in Amazon Web Services (AWS), Google Cloud Platform (GCP), and Microsoft Azure.
RMT is included in SLES starting with version 15. </p><p>
  The following example shows a generic cloud architecture for the RMT deployment. Your deployment may look different based
  on your networking requirements. </p><div class="figure" id="id-1.10.11.5"><div class="figure-contents"><div class="mediaobject"><a href="images/rmt-architecture-example.png"><img src="images/rmt-architecture-example.png" width="70%" alt="An example of cloud architecture for RMT deployment" title="An example of cloud architecture for RMT deployment"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 9.1: </span><span class="title-name">An example of cloud architecture for RMT deployment </span></span><a title="Permalink" class="permalink" href="rmt-public-cloud.html#id-1.10.11.5">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_public_cloud.xml" title="Edit source document"> </a></div></div></div><section class="sect1" id="sec-rmt-byos-image" data-id-title="Using a bring-your-own-subscription image"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.1 </span><span class="title-name">Using a bring-your-own-subscription image</span></span> <a title="Permalink" class="permalink" href="rmt-public-cloud.html#sec-rmt-byos-image">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_public_cloud.xml" title="Edit source document"> </a></div></div></div></div></div><p>
SUSE provides images for SLES in Amazon Web Services, Google Cloud and Microsoft Azure. There are two types of images available:
PAYG (Pay-As-You-Go) and BYOS (Bring-Your-Own-Subscription). These images are updated at regular intervals and it is suggested that you deploy
new instances from the latest version of the image to ensure the most recent security updates are in place.
To support RMT deployment, we recommend deploying an RMT instance from a BYOS image.
</p><section class="sect2" id="sec-rmt-byos-image-where" data-id-title="Finding images in the cloud marketplace"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.1.1 </span><span class="title-name">Finding images in the cloud marketplace </span></span> <a title="Permalink" class="permalink" href="rmt-public-cloud.html#sec-rmt-byos-image-where">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_public_cloud.xml" title="Edit source document"> </a></div></div></div></div></div><p>The location of the relevant image in each of the cloud provider is shown below: </p><div class="figure" id="id-1.10.11.6.3.3"><div class="figure-contents"><div class="mediaobject"><a href="images/gcp-launch-sles-instance-cloud-rmt-marketplace.png"><img src="images/gcp-launch-sles-instance-cloud-rmt-marketplace.png" width="70%" alt="Google Cloud" title="Google Cloud"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 9.2: </span><span class="title-name">Google Cloud </span></span><a title="Permalink" class="permalink" href="rmt-public-cloud.html#id-1.10.11.6.3.3">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_public_cloud.xml" title="Edit source document"> </a></div></div></div><div class="figure" id="id-1.10.11.6.3.4"><div class="figure-contents"><div class="mediaobject"><a href="images/aws-launch-sles-instance-cloud-rmt-marketplace.png"><img src="images/aws-launch-sles-instance-cloud-rmt-marketplace.png" width="70%" alt="Amazon Web Services" title="Amazon Web Services"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 9.3: </span><span class="title-name">Amazon Web Services </span></span><a title="Permalink" class="permalink" href="rmt-public-cloud.html#id-1.10.11.6.3.4">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_public_cloud.xml" title="Edit source document"> </a></div></div></div><div class="figure" id="id-1.10.11.6.3.5"><div class="figure-contents"><div class="mediaobject"><a href="images/azure-launch-sles-instance-cloud-rmt-marketplace.png"><img src="images/azure-launch-sles-instance-cloud-rmt-marketplace.png" width="70%" alt="Microsoft Azure" title="Microsoft Azure"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 9.4: </span><span class="title-name">Microsoft Azure </span></span><a title="Permalink" class="permalink" href="rmt-public-cloud.html#id-1.10.11.6.3.5">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_public_cloud.xml" title="Edit source document"> </a></div></div></div><p>It is recommended to start with an instance type that has at least
    two vCPUs and a minimum of 8 GB RAM to support the RMT deployment.
    For example, on Amazon EC2, this could be a <code class="literal">t3.large</code>
    instance type, and in Microsoft Azure, it could be a <code class="literal">B2as_v2</code>
    The instance can be rightsized as needed and depends on the number of clients being managed and updated by the RMT server.
    </p></section><section class="sect2" id="sec-rmt-byos-image-registration" data-id-title="Registering the SLES instance"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.1.2 </span><span class="title-name">Registering the SLES instance</span></span> <a title="Permalink" class="permalink" href="rmt-public-cloud.html#sec-rmt-byos-image-registration">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_public_cloud.xml" title="Edit source document"> </a></div></div></div></div></div><p>After the SLES instance deployment, you must register the instance with the SUSE Customer Center.</p><div id="id-1.10.11.6.4.3" data-id-title="SUSE account" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: SUSE account</div><p>
     Registering with the SUSE Customer Center requires a SUSE account. If you do not have
     a SUSE account yet, go to the SUSE Customer Center home page (<a class="link" href="https://scc.suse.com/" target="_blank">https://scc.suse.com/</a>) to create one.
    </p></div><p>To connect your instance: </p><p>AWS:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code> <code class="command">ssh -i <em class="replaceable">SSH_KEY</em> <em class="replaceable">EC2_USER_ID</em>@<em class="replaceable">SERVER_IP</em></code></pre></div><p>Google Cloud:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code> <code class="command">gcloud compute ssh <em class="replaceable">GCE_INSTANCE_IP</em></code></pre></div><p>Azure:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code> <code class="command">ssh <em class="replaceable">AZURE_USER_ID</em>@<em class="replaceable">SERVER_IP</em></code></pre></div><p>To register the SLES instance with SCC: </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code>  <code class="command">SUSEConnect -e <em class="replaceable">EMAIL_ADDRESS</em> -r <em class="replaceable">REGISTRATION_CODE </em></code></pre></div><p>The registration code is available once you log in to  SCC. </p></section></section><section class="sect1" id="id-1.10.11.7" data-id-title="Considerations when using RMT"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.2 </span><span class="title-name">Considerations when using RMT</span></span> <a title="Permalink" class="permalink" href="rmt-public-cloud.html#id-1.10.11.7">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_public_cloud.xml" title="Edit source document"> </a></div></div></div></div></div><p>You must consider the following requirements when you use RMT: </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.10.11.7.3.1"><span class="term">Disk space</span></dt><dd><p>
        The RMT server requires sufficient disk space to mirror the repositories.
        Downloaded packages are available in <code class="filename">/var/lib/rmt/public/repo/</code>. Disk space is dependent
        on the number of repositories you mirror. We recommend a minimum of 1.5 times the total size of all enabled repositories.
        It is a best practice to provision an additional disk volume to support this requirement.
        You can either mount the volume to <code class="filename">/var/lib/rmt/public/repo/</code> on instance creation or immediately after the launch.
        For Azure, this is an additional disk volume. For AWS, it is an Amazon EBS volume and for GCP, it is a persistent disk volume .
              </p></dd><dt id="id-1.10.11.7.3.2"><span class="term">IP or DNS resolution</span></dt><dd><p>
        A static IP address or a DNS name is required in order for clients to connect to the RMT server.
        In Azure, AWS and GCP, a DNS provided by the Cloud Service Provider (CSP) is assigned when the instance is launched.
        This IP or DNS may change if the instance is re-created. For Azure, consider using a static IP address to provide a consistent
        connection point for your clients. In AWS, this would be an elastic IP or Route53. In GCP, this would be a cloud DNS
        record that uses a static IP address.
        </p></dd><dt id="id-1.10.11.7.3.3"><span class="term">Connectivity for the RMT server</span></dt><dd><p>
      The RMT server can connect to SCC on ports 80 and 443. There are many ways to provide connectivity.
For example, in AWS, connectivity to SCC can be provided via an AWS Internet Gateway, an AWS NAT Gateway, or via a local data center (VPN/DX Connection) but this is depends
on whether the RMT instance is in a public or private subnet. GCP provides direct access to the Internet via the VPC routes or
Cloud NAT services. Azure offers similar services.
        </p></dd><dt id="id-1.10.11.7.3.4"><span class="term">Connectivity for clients</span></dt><dd><p>
        Clients can connect to RMT on ports 80 and 443.
        When launching the SLES instance to support RMT, check if network connectivity allows inbound access to the RMT server from your clients (HTTP/HTTPS).
  For AWS, when a SLES instance is launched to support RMT, it is possible to use an existing AWS security group or a new one.
  The security group must be configured to allow inbound access to the RMT server from your clients.
  For GCP, the firewall rules must be configured to allow inbound access to the RMT server from your clients.
   </p></dd></dl></div></section><section class="sect1" id="id-1.10.11.8" data-id-title="More information"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.3 </span><span class="title-name">More information</span></span> <a title="Permalink" class="permalink" href="rmt-public-cloud.html#id-1.10.11.8">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-sle/edit/main/xml/rmt_public_cloud.xml" title="Edit source document"> </a></div></div></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
        <a class="link" href="https://documentation.suse.com/sles/15-SP6/html/SLES-all/cha-rmt-mirroring.html#sec-rmt-mirroring-credentials" target="_blank">https://documentation.suse.com/sles/15-SP6/html/SLES-all/cha-rmt-mirroring.html#sec-rmt-mirroring-credentials</a>
        Organization credentials to create a local mirror of the SUSE Linux Enterprise repositories.
       </p></li><li class="listitem"><p>
        <a class="link" href="https://documentation.suse.com/sles/15-SP6/html/SLES-all/cha-register-sle.html#sec-register-sle-installation" target="_blank">https://documentation.suse.com/sles/15-SP6/html/SLES-all/cha-register-sle.html#sec-register-sle-installation</a>
        Register and activate SUSE Linux Enterprise Server with the SUSE Customer Center.
       </p></li></ul></div></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="cha-manage-certificates.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 8 </span>Managing TLS/SSL certificates</span></a> </div><div><a class="pagination-link next" href="bk08apa.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Appendix A </span>GNU licenses</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="rmt-public-cloud.html#sec-rmt-byos-image"><span class="title-number">9.1 </span><span class="title-name">Using a bring-your-own-subscription image</span></a></span></li><li><span class="sect1"><a href="rmt-public-cloud.html#id-1.10.11.7"><span class="title-number">9.2 </span><span class="title-name">Considerations when using RMT</span></a></span></li><li><span class="sect1"><a href="rmt-public-cloud.html#id-1.10.11.8"><span class="title-number">9.3 </span><span class="title-name">More information</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>