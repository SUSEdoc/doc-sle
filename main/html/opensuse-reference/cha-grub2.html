<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The boot loader GRUB 2 | Reference | openSUSE Leap 15.6</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" />
<meta name="title" content="The boot loader GRUB 2 | openSUSE Leap 15.6" />
<meta name="description" content="This chapter describes how to configure GRUB 2, the boot loader used in openSUSE® Leap. A YaST module is available for configuring the most important settings.…" />
<meta name="product-name" content="openSUSE Leap" />
<meta name="product-number" content="15.6" />
<meta name="book-title" content="Reference" />
<meta name="chapter-title" content="Chapter 12. The boot loader GRUB 2" />
<meta name="tracker-url" content="https://bugzilla.opensuse.org/enter_bug.cgi" />
<meta name="tracker-type" content="bsc" />
<meta name="tracker-bsc-assignee" content="fs@suse.com" />
<meta name="tracker-bsc-component" content="Documentation" />
<meta name="tracker-bsc-product" content="openSUSE Distribution" />
<meta name="tracker-bsc-version" content="Leap 15.4" />
<meta property="og:title" content="The boot loader GRUB 2 | openSUSE Leap 15.6" />
<meta property="og:description" content="This chapter describes how to configure GRUB 2, the boot loader used in openSUSE® Leap. A YaST module is available for configuring the most important settings.…" />
<meta property="og:type" content="article" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="The boot loader GRUB 2 | openSUSE Leap 15.6" />
<meta name="twitter:description" content="This chapter describes how to configure GRUB 2, the boot loader used in openSUSE® Leap. A YaST module is available for configuring the most important settings.…" />
<link rel="home" href="index.html" title="openSUSE Leap Documentation" /><link rel="up" href="part-reference-system.html" title="Part II. System" /><link rel="prev" href="cha-journalctl.html" title="Chapter 11. journalctl: query the systemd journal" /><link rel="next" href="cha-network.html" title="Chapter 13. Basic networking" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" /></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #E11;"><div id="_header"><div id="_logo"><img src="static/images/logo.svg" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="Reference"><span class="book-icon">Reference</span></a><span> › </span><a class="crumb" href="part-reference-system.html">System</a><span> › </span><a class="crumb" href="cha-grub2.html">The boot loader GRUB 2</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Reference</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface-reference.html"><span class="number"> </span><span class="name">About this guide</span></a></li><li class="inactive"><a href="part-reference-adv-admin.html"><span class="number">I </span><span class="name">Advanced administration</span></a><ol><li class="inactive"><a href="cha-yast-text.html"><span class="number">1 </span><span class="name">YaST in text mode</span></a></li><li class="inactive"><a href="cha-sw-cl.html"><span class="number">2 </span><span class="name">Managing software with command line tools</span></a></li><li class="inactive"><a href="cha-snapper.html"><span class="number">3 </span><span class="name">System recovery and snapshot management with Snapper</span></a></li><li class="inactive"><a href="cha-vnc.html"><span class="number">4 </span><span class="name">Remote graphical sessions with VNC</span></a></li><li class="inactive"><a href="cha-expert-partitioner.html"><span class="number">5 </span><span class="name"><span class="guimenu ">Expert Partitioner</span></span></a></li><li class="inactive"><a href="cha-tuning-multikernel.html"><span class="number">6 </span><span class="name">Installing multiple kernel versions</span></a></li><li class="inactive"><a href="cha-gui-desktop.html"><span class="number">7 </span><span class="name">Graphical user interface</span></a></li></ol></li><li class="inactive"><a href="part-reference-system.html"><span class="number">II </span><span class="name">System</span></a><ol><li class="inactive"><a href="cha-64bit.html"><span class="number">8 </span><span class="name">32-bit and 64-bit applications in a 64-bit system environment</span></a></li><li class="inactive"><a href="cha-boot.html"><span class="number">9 </span><span class="name">Introduction to the boot process</span></a></li><li class="inactive"><a href="cha-systemd.html"><span class="number">10 </span><span class="name">The <code class="systemitem">systemd</code> daemon</span></a></li><li class="inactive"><a href="cha-journalctl.html"><span class="number">11 </span><span class="name"><code class="command">journalctl</code>: query the <code class="systemitem">systemd</code> journal</span></a></li><li class="inactive"><a href="cha-grub2.html"><span class="number">12 </span><span class="name">The boot loader GRUB 2</span></a></li><li class="inactive"><a href="cha-network.html"><span class="number">13 </span><span class="name">Basic networking</span></a></li><li class="inactive"><a href="cha-uefi.html"><span class="number">14 </span><span class="name">UEFI (Unified Extensible Firmware Interface)</span></a></li><li class="inactive"><a href="cha-suse.html"><span class="number">15 </span><span class="name">Special system features</span></a></li><li class="inactive"><a href="cha-udev.html"><span class="number">16 </span><span class="name">Dynamic kernel device management with <code class="systemitem">udev</code></span></a></li></ol></li><li class="inactive"><a href="part-reference-services.html"><span class="number">III </span><span class="name">Services</span></a><ol><li class="inactive"><a href="cha-slp.html"><span class="number">17 </span><span class="name">SLP</span></a></li><li class="inactive"><a href="cha-ntp.html"><span class="number">18 </span><span class="name">Time synchronization with NTP</span></a></li><li class="inactive"><a href="cha-dns.html"><span class="number">19 </span><span class="name">The domain name system</span></a></li><li class="inactive"><a href="cha-dhcp.html"><span class="number">20 </span><span class="name">DHCP</span></a></li><li class="inactive"><a href="cha-samba.html"><span class="number">21 </span><span class="name">Samba</span></a></li><li class="inactive"><a href="cha-nfs.html"><span class="number">22 </span><span class="name">Sharing file systems with NFS</span></a></li><li class="inactive"><a href="cha-autofs.html"><span class="number">23 </span><span class="name">On-demand mounting with autofs</span></a></li><li class="inactive"><a href="cha-apache2.html"><span class="number">24 </span><span class="name">The Apache HTTP server</span></a></li><li class="inactive"><a href="cha-ftp.html"><span class="number">25 </span><span class="name">Setting up an FTP server with YaST</span></a></li><li class="inactive"><a href="cha-squid.html"><span class="number">26 </span><span class="name">Squid caching proxy server</span></a></li></ol></li><li class="inactive"><a href="part-reference-mobility.html"><span class="number">IV </span><span class="name">Mobile computers</span></a><ol><li class="inactive"><a href="cha-mobile.html"><span class="number">27 </span><span class="name">Mobile computing with Linux</span></a></li><li class="inactive"><a href="cha-nm.html"><span class="number">28 </span><span class="name">Using NetworkManager</span></a></li><li class="inactive"><a href="cha-power-mgmt.html"><span class="number">29 </span><span class="name">Power management</span></a></li></ol></li><li class="inactive"><a href="app-nwscheme.html"><span class="number">A </span><span class="name">An example network</span></a></li><li class="inactive"><a href="bk02apb.html"><span class="number">B </span><span class="name">GNU licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 11. journalctl: query the systemd journal" href="cha-journalctl.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 13. Basic networking" href="cha-network.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #E11;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="Reference"><span class="book-icon">Reference</span></a><span> › </span><a class="crumb" href="part-reference-system.html">System</a><span> › </span><a class="crumb" href="cha-grub2.html">The boot loader GRUB 2</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 11. journalctl: query the systemd journal" href="cha-journalctl.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 13. Basic networking" href="cha-network.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha-grub2"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname "><span class="productname"><span class="phrase">openSUSE Leap</span></span></span> <span class="productnumber "><span class="productnumber"><span class="phrase">15.6</span></span></span></div><div><h2 class="title"><span class="number">12 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">The boot loader GRUB 2</span> <a title="Permalink" class="permalink" href="cha-grub2.html#">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/grub2.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>grub2.xml</li><li><span class="ds-label">ID: </span>cha-grub2</li></ul></div></div><div><div class="abstract"><div class="abstract-title-wrap"><h6 class="abstract-title">Abstract<a title="Permalink" class="permalink" href="cha-grub2.html#id-1.4.4.6.2.1">#</a></h6></div><p>
        This chapter describes how to configure GRUB 2, the boot loader used in
        <span class="productname"><span class="phrase">openSUSE® Leap</span></span>.  A YaST module is
        available for configuring the most important settings. The boot
        procedure as a whole is outlined in <a class="xref" href="cha-boot.html" title="Chapter 9. Introduction to the boot process">Chapter 9, <em>Introduction to the boot process</em></a>. For
        details on Secure Boot support for UEFI machines, see
        <a class="xref" href="cha-uefi.html" title="Chapter 14. UEFI (Unified Extensible Firmware Interface)">Chapter 14, <em>UEFI (Unified Extensible Firmware Interface)</em></a>.
      </p></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha-grub2.html#sec-grub2-new-features"><span class="number">12.1 </span><span class="name">Main differences between GRUB legacy and GRUB 2</span></a></span></dt><dt><span class="sect1"><a href="cha-grub2.html#sec-grub2-file-structure"><span class="number">12.2 </span><span class="name">Configuration file structure</span></a></span></dt><dt><span class="sect1"><a href="cha-grub2.html#sec-grub2-yast2-config"><span class="number">12.3 </span><span class="name">Configuring the boot loader with YaST</span></a></span></dt><dt><span class="sect1"><a href="cha-grub2.html#sec-grub2-commands"><span class="number">12.4 </span><span class="name">Helpful GRUB 2 commands</span></a></span></dt><dt><span class="sect1"><a href="cha-grub2.html#grub-rescue-target"><span class="number">12.5 </span><span class="name">Rescue mode</span></a></span></dt><dt><span class="sect1"><a href="cha-grub2.html#sec-grub2-info"><span class="number">12.6 </span><span class="name">More information</span></a></span></dt></dl></div></div><div class="sect1 " id="sec-grub2-new-features"><div class="titlepage"><div><div><h2 class="title"><span class="number">12.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Main differences between GRUB legacy and GRUB 2</span> <a title="Permalink" class="permalink" href="cha-grub2.html#sec-grub2-new-features">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/grub2.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>grub2.xml</li><li><span class="ds-label">ID: </span>sec-grub2-new-features</li></ul></div></div></div></div><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
          The configuration is stored in different files.
        </p></li><li class="listitem "><p>
          More file systems are supported (for example, Btrfs).
        </p></li><li class="listitem "><p>
          Can directly read files stored on LVM or RAID devices.
        </p></li><li class="listitem "><p>
          The user interface can be translated and altered with themes.
        </p></li><li class="listitem "><p>
          Includes a mechanism for loading modules to support additional
          features, such as file systems, etc.
        </p></li><li class="listitem "><p>
          Automatically searches for and generates boot entries for other
          kernels and operating systems, such as Windows.
        </p></li><li class="listitem "><p>
          Includes a minimal Bash-like console.
        </p></li></ul></div></div><div class="sect1 " id="sec-grub2-file-structure"><div class="titlepage"><div><div><h2 class="title"><span class="number">12.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Configuration file structure</span> <a title="Permalink" class="permalink" href="cha-grub2.html#sec-grub2-file-structure">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/grub2.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>grub2.xml</li><li><span class="ds-label">ID: </span>sec-grub2-file-structure</li></ul></div></div></div></div><p>
      The configuration of GRUB 2 is based on the following files:
    </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.4.6.4.3.1"><span class="term "><code class="filename">/boot/grub2/grub.cfg</code></span></dt><dd><p>
            This file contains the configuration of the GRUB 2 menu items. It
            replaces <code class="filename">menu.lst</code> used in GRUB Legacy.
            <code class="filename">grub.cfg</code> should not be edited—it is
            automatically generated by the command <code class="command">grub2-mkconfig -o
            /boot/grub2/grub.cfg</code>.
          </p></dd><dt id="id-1.4.4.6.4.3.2"><span class="term "><code class="filename">/boot/grub2/custom.cfg</code></span></dt><dd><p>
            This optional file is directly sourced by
            <code class="filename">grub.cfg</code> at boot time and can be used to add
            custom items to the boot menu. Starting with <span class="productname"><span class="phrase">openSUSE Leap</span></span>
            <span class="phrase">Leap
            42.2</span> these entries are also parsed when using
            <code class="command">grub-once</code>.
          </p></dd><dt id="id-1.4.4.6.4.3.3"><span class="term "><code class="filename">/etc/default/grub</code></span></dt><dd><p>
            This file controls the user settings of GRUB 2 and normally
            includes additional environmental settings such as backgrounds and
            themes.
          </p></dd><dt id="id-1.4.4.6.4.3.4"><span class="term ">Scripts under <code class="filename">/etc/grub.d/</code></span></dt><dd><p>
            The scripts in this directory are read during execution of the
            command <code class="command">grub2-mkconfig -o /boot/grub2/grub.cfg</code>.
            Their instructions are integrated into the main configuration file
            <code class="filename">/boot/grub/grub.cfg</code>.
          </p></dd><dt id="vle-grub2-sysconfig"><span class="term "><code class="filename">/etc/sysconfig/bootloader</code></span></dt><dd><p>
            This configuration file holds certain basic settings like the boot
            loader type and whether to enable UEFI Secure Boot support.
          </p></dd><dt id="id-1.4.4.6.4.3.6"><span class="term "><code class="filename">/boot/grub2/x86_64-efi</code>, </span></dt><dd><p>
            These configuration files contain architecture-specific options.
          </p></dd></dl></div><p>
      GRUB 2 can be controlled in multiple ways. Boot entries from an existing
      configuration can be selected from the graphical menu (splash screen).
      The configuration is loaded from the file
      <code class="filename">/boot/grub2/grub.cfg</code> which is compiled from other
      configuration files (see below). All GRUB 2 configuration files are
      considered system files, and you need <code class="systemitem">root</code> privileges to edit them.
    </p><div id="id-1.4.4.6.4.5" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg" /><h6>Note: Activating configuration changes</h6><p>
        After having manually edited GRUB 2 configuration files, you need to
        run <code class="command">grub2-mkconfig -o /boot/grub2/grub.cfg</code> to
        activate the changes. However, this is not necessary when changing the
        configuration with YaST, because YaST automatically runs this
        command.
      </p></div><div class="sect2 " id="sec-grub2-cfg"><div class="titlepage"><div><div><h3 class="title"><span class="number">12.2.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">The file <code class="filename">/boot/grub2/grub.cfg</code></span> <a title="Permalink" class="permalink" href="cha-grub2.html#sec-grub2-cfg">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/grub2.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>grub2.xml</li><li><span class="ds-label">ID: </span>sec-grub2-cfg</li></ul></div></div></div></div><p>
        The graphical splash screen with the boot menu is based on the GRUB 2
        configuration file <code class="filename">/boot/grub2/grub.cfg</code>, which
        contains information about all partitions or operating systems that can
        be booted by the menu.
      </p><p>
        Every time the system is booted, GRUB 2 loads the menu file directly
        from the file system. For this reason, GRUB 2 does not need to be
        re-installed after changes to the configuration file.
        <code class="filename">grub.cfg</code> is automatically rebuilt with kernel
        installations or removals.
      </p><p>
        <code class="filename">grub.cfg</code> is compiled from the file
        <code class="filename">/etc/default/grub</code> and scripts found in the
        <code class="filename">/etc/grub.d/</code> directory when running the command
        <code class="command">grub2-mkconfig -o /boot/grub2/grub.cfg</code>. Therefore
        you should never edit the file manually. Instead, edit the related
        source files or use the YaST <span class="guimenu ">Boot Loader</span> module to
        modify the configuration as described in
        <a class="xref" href="cha-grub2.html#sec-grub2-yast2-config" title="12.3. Configuring the boot loader with YaST">Section 12.3, “Configuring the boot loader with YaST”</a>.
      </p></div><div class="sect2 " id="sec-grub2-etc-default-grub"><div class="titlepage"><div><div><h3 class="title"><span class="number">12.2.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">The file <code class="filename">/etc/default/grub</code></span> <a title="Permalink" class="permalink" href="cha-grub2.html#sec-grub2-etc-default-grub">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/grub2.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>grub2.xml</li><li><span class="ds-label">ID: </span>sec-grub2-etc-default-grub</li></ul></div></div></div></div><p>
        More general options of GRUB 2 belong in this file, such as the time the menu
        is displayed, or the default OS to boot. To list all available options,
        see the output of the following command:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>grep "export GRUB_DEFAULT" -A50 /usr/sbin/grub2-mkconfig | grep GRUB_</pre></div><p>
        You can introduce custom variables and use them later in the scripts
        found in the <code class="filename">/etc/grub.d</code> directory.
      </p><p>
        After having edited <code class="filename">/etc/default/grub</code>, update the
        main configuration file with <code class="command">grub2-mkconfig -o
        /boot/grub2/grub.cfg</code>.
      </p><div id="id-1.4.4.6.4.7.6" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg" /><h6>Note: Scope</h6><p>
          All options specified in this file are general options that affect all
          boot entries. Options specific to a Xen hypervisor include the
          <code class="literal">_XEN_</code> substring.
        </p></div><div id="id-1.4.4.6.4.7.7" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg" /><h6>Important: Escaping inner quotes</h6><p>
          More complex options with spaces require quoting so that they are
          processed as one option. Such inner quotes need to be correctly
          escaped, for example:
        </p><div class="verbatim-wrap"><pre class="screen">GRUB_CMDLINE_LINUX_XEN="debug loglevel=9 log_buf_len=5M \"ddebug_query=file drivers/xen/xen-acpi-processor.c +p\""</pre></div></div><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.4.6.4.7.8.1"><span class="term "><code class="literal">GRUB_DEFAULT</code></span></dt><dd><p>
              Sets the boot menu entry that is booted by default. Its value can
              be a numeric value, the complete name of a menu entry, or
              <span class="quote">“<span class="quote ">saved</span>”</span>.
            </p><p>
              <code class="literal">GRUB_DEFAULT=2</code> boots the third (counted from
              zero) boot menu entry.
            </p><p>
              <code class="literal">GRUB_DEFAULT="2&gt;0"</code> boots the first submenu
              entry of the third top-level menu entry.
            </p><p>
              <code class="literal">GRUB_DEFAULT="Example boot menu entry"</code> boots
              the menu entry with the title <span class="quote">“<span class="quote ">Example boot menu
              entry</span>”</span>.
            </p><p>
              <code class="literal">GRUB_DEFAULT=saved</code> boots the entry specified
              by the <code class="command">grub2-once</code> or
              <code class="command">grub2-set-default</code> commands. While
              <code class="command">grub2-reboot</code> sets the default boot entry for
              the next reboot only, <code class="command">grub2-set-default</code> sets
              the default boot entry until changed. <code class="command">grub2-editenv
              list</code> lists the next boot entry.
            </p></dd><dt id="id-1.4.4.6.4.7.8.2"><span class="term "><code class="literal">GRUB_HIDDEN_TIMEOUT</code></span></dt><dd><p>
              Waits the specified number of seconds for the user to press a
              key. During the period no menu is shown unless the user presses a
              key. If no key is pressed during the time specified, the control
              is passed to <code class="literal">GRUB_TIMEOUT</code>.
              <code class="literal">GRUB_HIDDEN_TIMEOUT=0</code> first checks whether
              <span class="keycap">Shift</span> is pressed and shows the boot menu if
              yes, otherwise immediately boots the default menu entry. This is
              the default when only one bootable OS is identified by GRUB 2.
            </p></dd><dt id="id-1.4.4.6.4.7.8.3"><span class="term "><code class="literal">GRUB_HIDDEN_TIMEOUT_QUIET</code></span></dt><dd><p>
              If <code class="literal">false</code> is specified, a countdown timer is
              displayed on a blank screen when the
              <code class="literal">GRUB_HIDDEN_TIMEOUT</code> feature is active.
            </p></dd><dt id="id-1.4.4.6.4.7.8.4"><span class="term "><code class="literal">GRUB_TIMEOUT</code></span></dt><dd><p>
              Time period in seconds the boot menu is displayed before
              automatically booting the default boot entry. If you press a key,
              the timeout is cancelled and GRUB 2 waits for you to make the
              selection manually. <code class="literal">GRUB_TIMEOUT=-1</code> causes
              the menu to be displayed until you select the boot entry
              manually.
            </p></dd><dt id="id-1.4.4.6.4.7.8.5"><span class="term "><code class="literal">GRUB_CMDLINE_LINUX</code></span></dt><dd><p>
              Entries on this line are added at the end of the boot entries for
              normal and recovery modes. Use it to add kernel parameters to the
              boot entry.
            </p></dd><dt id="id-1.4.4.6.4.7.8.6"><span class="term "><code class="literal">GRUB_CMDLINE_LINUX_DEFAULT</code></span></dt><dd><p>
              Same as <code class="literal">GRUB_CMDLINE_LINUX</code> but the entries are
              appended in the normal mode only.
            </p></dd><dt id="id-1.4.4.6.4.7.8.7"><span class="term "><code class="literal">GRUB_CMDLINE_LINUX_RECOVERY</code></span></dt><dd><p>
              Same as <code class="literal">GRUB_CMDLINE_LINUX</code> but the entries are
              appended in the recovery mode only.
            </p></dd><dt id="id-1.4.4.6.4.7.8.8"><span class="term "><code class="literal">GRUB_CMDLINE_LINUX_XEN_REPLACE</code></span></dt><dd><p>
              This entry replaces the <code class="literal">GRUB_CMDLINE_LINUX</code>
              parameters for all Xen boot entries.
            </p></dd><dt id="id-1.4.4.6.4.7.8.9"><span class="term "><code class="literal">GRUB_CMDLINE_LINUX_XEN_REPLACE_DEFAULT</code></span></dt><dd><p>
              Same as <code class="literal">GRUB_CMDLINE_LINUX_XEN_REPLACE</code> but it
              only replaces parameters
              of <code class="literal">GRUB_CMDLINE_LINUX_DEFAULT</code>.
            </p></dd><dt id="id-1.4.4.6.4.7.8.10"><span class="term "><code class="literal">GRUB_CMDLINE_XEN</code></span></dt><dd><p>
              These entries are passed to the Xen hypervisor Xen menu
              entries for normal and recovery modes. For example:
            </p><div class="verbatim-wrap"><pre class="screen">GRUB_CMDLINE_XEN="loglvl=all guest_loglvl=all"</pre></div><div id="id-1.4.4.6.4.7.8.10.2.3" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg" /><h6>Tip: Xen hypervisor options</h6><p>
                Find a complete list of Xen hypervisor options in <a class="link" href="https://xenbits.xen.org/docs/unstable/misc/xen-command-line.html" target="_blank">https://xenbits.xen.org/docs/unstable/misc/xen-command-line.html</a>
              </p></div></dd><dt id="id-1.4.4.6.4.7.8.11"><span class="term "><code class="literal">GRUB_CMDLINE_XEN_DEFAULT</code></span></dt><dd><p>
              Same as <code class="literal">GRUB_CMDLINE_XEN</code> but the entries are
              appended in the normal mode only.
            </p></dd><dt id="id-1.4.4.6.4.7.8.12"><span class="term "><code class="literal">GRUB_TERMINAL</code></span></dt><dd><p>
              Enables and specifies an input/output terminal device. Can be
              <code class="literal">console</code> (PC BIOS and EFI consoles),
              <code class="literal">serial</code> (serial terminal),
              <code class="literal">ofconsole</code> (Open Firmware console), or the
              default <code class="literal">gfxterm</code> (graphics-mode output). It is
              also possible to enable more than one device by quoting the
              required options, for example, <code class="literal">GRUB_TERMINAL="console
              serial"</code>.
            </p></dd><dt id="id-1.4.4.6.4.7.8.13"><span class="term "><code class="literal">GRUB_GFXMODE</code></span></dt><dd><p>
              The resolution used for the <code class="literal">gfxterm</code> graphical
              terminal. You can only use modes supported by your graphics card
              (VBE). The default is ‘auto’, which tries to select a preferred
              resolution. You can display the screen resolutions available to
              GRUB 2 by typing <code class="command">videoinfo</code> in the GRUB 2
              command line. The command line is accessed by typing
              <span class="keycap">C</span> when the GRUB 2 boot menu screen is displayed.
            </p><p>
              You can also specify a color depth by appending it to the
              resolution setting, for example,
              <code class="literal">GRUB_GFXMODE=1280x1024x24</code>.
            </p></dd><dt id="id-1.4.4.6.4.7.8.14"><span class="term "><code class="literal">GRUB_BACKGROUND</code></span></dt><dd><p>
              Set a background image for the <code class="literal">gfxterm</code>
              graphical terminal. The image must be a file readable by GRUB 2
              at boot time, and it must end with the <code class="literal">.png</code>,
              <code class="literal">.tga</code>, <code class="literal">.jpg</code>, or
              <code class="literal">.jpeg</code> suffix. If necessary, the image is
              scaled to fit the screen.
            </p></dd><dt id="id-1.4.4.6.4.7.8.15"><span class="term "><code class="literal">GRUB_DISABLE_OS_PROBER</code></span></dt><dd><p>
              If this option is set to <code class="literal">true</code>, automatic
              searching for other operating systems is disabled. Only the
              kernel images in <code class="filename">/boot/</code> and the options from
              your own scripts in <code class="filename">/etc/grub.d/</code> are
              detected.
            </p></dd><dt id="id-1.4.4.6.4.7.8.16"><span class="term "><code class="literal">SUSE_BTRFS_SNAPSHOT_BOOTING</code></span></dt><dd><p>
              If this option is set to <code class="literal">true</code>, GRUB 2 can boot
              directly into Snapper snapshots. For more information, see
              <a class="xref" href="cha-snapper.html#sec-snapper-snapshot-boot" title="3.3. System rollback by booting from snapshots">Section 3.3, “System rollback by booting from snapshots”</a>.
            </p></dd></dl></div><p>
        For a complete list of options, see the
        <a class="link" href="https://www.gnu.org/software/grub/manual/grub/grub.html#Simple-configuration" target="_blank">
        GNU GRUB manual</a>.
      </p></div><div class="sect2 " id="sec-grub2-etc-grub-d"><div class="titlepage"><div><div><h3 class="title"><span class="number">12.2.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Scripts in <code class="filename">/etc/grub.d</code></span> <a title="Permalink" class="permalink" href="cha-grub2.html#sec-grub2-etc-grub-d">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/grub2.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>grub2.xml</li><li><span class="ds-label">ID: </span>sec-grub2-etc-grub-d</li></ul></div></div></div></div><p>
        The scripts in this directory are read during execution of the command
        <code class="command">grub2-mkconfig -o /boot/grub2/grub.cfg</code>. Their
        instructions are incorporated into
        <code class="filename">/boot/grub2/grub.cfg</code>. The order of menu items in
        <code class="filename">grub.cfg</code> is determined by the order in which the
        files in this directory are run. Files with a leading numeral are
        executed first, beginning with the lowest number.
        <code class="filename">00_header</code> is run before
        <code class="filename">10_linux</code>, which would run before
        <code class="filename">40_custom</code>. If files with alphabetic names are
        present, they are executed after the numerically named files. Only
        executable files generate output to <code class="filename">grub.cfg</code>
        during execution of <code class="command">grub2-mkconfig</code>. By default all
        files in the <code class="filename">/etc/grub.d</code> directory are executable.
      </p><div id="id-1.4.4.6.4.8.3" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg" /><h6>Tip: Persistent custom content in <code class="filename">grub.cfg</code></h6><p>
          Because <code class="filename">/boot/grub2/grub.cfg</code> is recompiled each
          time <code class="command">grub2-mkconfig</code> is run, any custom content is
          lost. To insert your lines directly into
          <code class="filename">/boot/grub2/grub.cfg</code> without losing them after
          <code class="command">grub2-mkconfig</code> is run, insert them between
        </p><div class="verbatim-wrap"><pre class="screen">### BEGIN /etc/grub.d/90_persistent ###</pre></div><p>
          and
        </p><div class="verbatim-wrap"><pre class="screen">### END /etc/grub.d/90_persistent ###</pre></div><p>
          The <code class="filename">90_persistent</code> script ensures that such
          content is preserved.
        </p><p>
          A list of the most important scripts follows:
        </p></div><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.4.6.4.8.4.1"><span class="term "><code class="filename">00_header</code></span></dt><dd><p>
              Sets environmental variables such as system file locations,
              display settings, themes and previously saved entries. It also
              imports preferences stored in the
              <code class="filename">/etc/default/grub</code>. Normally you do not need
              to make changes to this file.
            </p></dd><dt id="id-1.4.4.6.4.8.4.2"><span class="term "><code class="filename">10_linux</code></span></dt><dd><p>
              Identifies Linux kernels on the root device and creates relevant
              menu entries. This includes the associated recovery mode option
              if enabled. Only the latest kernel is displayed on the main menu
              page, with additional kernels included in a submenu.
            </p></dd><dt id="id-1.4.4.6.4.8.4.3"><span class="term "><code class="filename">30_os-prober</code></span></dt><dd><p>
              This script uses <code class="command">os-prober</code> to search for Linux
              and other operating systems and places the results in the GRUB 2
              menu. There are sections to identify specific other operating
              systems, such as Windows or macOS.
            </p></dd><dt id="id-1.4.4.6.4.8.4.4"><span class="term "><code class="filename">40_custom</code></span></dt><dd><p>
              This file provides a simple way to include custom boot entries
              into <code class="filename">grub.cfg</code>. Make sure that you do not
              change the <code class="literal">exec tail -n +3 $0</code> part at the
              beginning.
            </p></dd></dl></div><p>
        The processing sequence is set by the preceding numbers with the lowest
        number being executed first. If scripts are preceded by the same number
        the alphabetical order of the complete name decides the order.
      </p><div id="id-1.4.4.6.4.8.6" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg" /><h6>Tip: <code class="filename">/boot/grub2/custom.cfg</code></h6><p>
          If you create <code class="filename">/boot/grub2/custom.cfg</code> and fill it
          with content, it is automatically included into
          <code class="filename">/boot/grub2/grub.cfg</code> right after
          <code class="filename">40_custom</code> at boot time.
        </p></div></div><div class="sect2 " id="sec-grub2-map"><div class="titlepage"><div><div><h3 class="title"><span class="number">12.2.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Mapping between BIOS drives and Linux devices</span> <a title="Permalink" class="permalink" href="cha-grub2.html#sec-grub2-map">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/grub2.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>grub2.xml</li><li><span class="ds-label">ID: </span>sec-grub2-map</li></ul></div></div></div></div><p>
        In GRUB Legacy, the <code class="filename">device.map</code> configuration file
        was used to derive Linux device names from BIOS drive numbers. The
        mapping between BIOS drives and Linux devices cannot always be guessed
        correctly. For example, GRUB Legacy would get a wrong order if the boot
        sequence of IDE and SCSI drives is exchanged in the BIOS configuration.
      </p><p>
        GRUB 2 avoids this problem by using device ID strings (UUIDs) or file
        system labels when generating <code class="filename">grub.cfg</code>. GRUB 2
        utilities create a temporary device map on the fly, which is normally
        sufficient, particularly for single-disk systems.
      </p><p>
        However, if you need to override the GRUB 2's automatic device mapping
        mechanism, create your custom mapping file
        <code class="filename">/boot/grub2/device.map</code>. The following example
        changes the mapping to make <code class="literal">DISK 3</code> the boot disk.
        GRUB 2 partition numbers start with <code class="literal">1</code> and
        not with <code class="literal">0</code> as in GRUB 2 Legacy.
      </p><div class="verbatim-wrap"><pre class="screen">(hd1)  /dev/disk-by-id/<em class="replaceable ">DISK3 ID</em>
(hd2)  /dev/disk-by-id/<em class="replaceable ">DISK1 ID</em>
(hd3)  /dev/disk-by-id/<em class="replaceable ">DISK2 ID</em></pre></div></div><div class="sect2 " id="sec-grub2-menu-change"><div class="titlepage"><div><div><h3 class="title"><span class="number">12.2.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Editing menu entries during the boot procedure</span> <a title="Permalink" class="permalink" href="cha-grub2.html#sec-grub2-menu-change">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/grub2.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>grub2.xml</li><li><span class="ds-label">ID: </span>sec-grub2-menu-change</li></ul></div></div></div></div><p>
        Being able to directly edit menu entries is useful when the system does
        not boot anymore because of a faulty configuration. It can also be used
        to test new settings without altering the system configuration.
      </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
            In the graphical boot menu, select the entry you want to edit with
            the arrow keys.
          </p></li><li class="step "><p>
            Press <span class="keycap">E</span> to open the text-based editor.
          </p></li><li class="step "><p>
            Use the arrow keys to move to the line you want to edit.
          </p><div class="figure" id="fig-grub2-boot-editor"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/grub2_edit_config.png" target="_blank"><img src="images/grub2_edit_config.png" width="" alt="GRUB 2 boot editor" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 12.1: </span><span class="name">GRUB 2 boot editor </span><a title="Permalink" class="permalink" href="cha-grub2.html#fig-grub2-boot-editor">#</a></h6></div></div><p>
            Now you have two options:
          </p><ol type="a" class="substeps "><li class="step "><p>
                Add space-separated parameters to the end of the line starting
                with <code class="literal">linux</code> or <code class="literal">linuxefi</code> to
                edit the kernel parameters. A complete list of parameters is
                available at
                <a class="link" href="https://en.opensuse.org/Linuxrc" target="_blank">https://en.opensuse.org/Linuxrc</a>.
              </p></li><li class="step "><p>
                Or edit the general options to change, for example, the kernel
                version. The <span class="keycap">→|</span> key suggests all possible
                completions.
              </p></li></ol></li><li class="step "><p>
            Press <span class="keycap">F10</span> to boot the system with the changes you
            made or press <span class="keycap">Esc</span> to discard your edits and
            return to the GRUB 2 menu.
          </p></li></ol></div></div><p>
        Changes made this way only apply to the current boot process and are
        not saved permanently.
      </p><div id="id-1.4.4.6.4.10.5" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg" /><h6>Important: Keyboard layout during the boot procedure</h6><p>
          The US keyboard layout is the only one available when booting. See
          <span class="intraxref">Book “Start-Up”, Chapter 4 “Troubleshooting”, Section 4.3 “Booting from installation media fails”, US keyboard layout</span>.
        </p></div><div id="id-1.4.4.6.4.10.6" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg" /><h6>Note: Boot loader on the installation media</h6><p>
          The Boot Loader of the installation media on systems with a
          traditional BIOS is still GRUB Legacy. To add boot parameters, select
          an entry and start typing. Additions you make to the installation
          boot entry are permanently saved in the installed system.
        </p></div></div><div class="sect2 " id="sec-grub2-password"><div class="titlepage"><div><div><h3 class="title"><span class="number">12.2.6 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Setting a boot password</span> <a title="Permalink" class="permalink" href="cha-grub2.html#sec-grub2-password">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/grub2.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>grub2.xml</li><li><span class="ds-label">ID: </span>sec-grub2-password</li></ul></div></div></div></div><p>
        Even before the operating system is booted, GRUB 2 enables access to
        file systems. Users without root permissions can access files in your
        Linux system to which they have no access after the system is booted.
        To block this kind of access or to prevent users from booting certain
        menu entries, set a boot password.
      </p><div id="id-1.4.4.6.4.11.3" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg" /><h6>Important: Booting requires a password</h6><p>
          If set, the boot password is required on every boot, which means the
          system does not boot automatically.
        </p></div><p>
        Proceed as follows to set a boot password. Alternatively use YaST
        (<a class="xref" href="cha-grub2.html#vle-grub2-yast2-boot-password"><span class="guimenu ">Protect Boot Loader with Password</span>
     </a>).
      </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
            Encrypt the password using
            <code class="command">grub2-mkpasswd-pbkdf2:</code>
          </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> grub2-mkpasswd-pbkdf2
Password: ****
Reenter password: ****
PBKDF2 hash of your password is grub.pbkdf2.sha512.10000.9CA4611006FE96BC77A...</pre></div></li><li class="step "><p>
            Paste the resulting string into the file
            <code class="filename">/etc/grub.d/40_custom</code> together with the
            <code class="command">set superusers</code> command.
          </p><div class="verbatim-wrap"><pre class="screen">set superusers="root"
password_pbkdf2 root grub.pbkdf2.sha512.10000.9CA4611006FE96BC77A...</pre></div></li><li class="step "><p>
            To import the changes into the main configuration file, run:
          </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> grub2-mkconfig -o /boot/grub2/grub.cfg</pre></div></li></ol></div></div><p>
        After you reboot, GRUB 2 prompts you for a user name and a password
        when trying to boot a menu entry. Enter <code class="literal">root</code> and the
        password you typed during the <code class="command">grub2-mkpasswd-pbkdf2</code>
        command. If the credentials are correct, the system boots the
        selected boot entry.
      </p><p>
        For more information, see
        <a class="link" href="https://www.gnu.org/software/grub/manual/grub/grub.html#Security" target="_blank">https://www.gnu.org/software/grub/manual/grub/grub.html#Security</a>.
      </p></div><div class="sect2 " id="sec-grub2-authorization"><div class="titlepage"><div><div><h3 class="title"><span class="number">12.2.7 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Authorized access to boot menu entries</span> <a title="Permalink" class="permalink" href="cha-grub2.html#sec-grub2-authorization">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/grub2.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>grub2.xml</li><li><span class="ds-label">ID: </span>sec-grub2-authorization</li></ul></div></div></div></div><p>
        You can configure GRUB 2 to allow access to boot menu entries depending
        on the level of authorization. You can configure multiple user accounts
        protected with passwords and assign them access to different menu
        entries. To configure authorization in GRUB 2, follow these steps:
      </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
            Create and encrypt one password for each user account you want to
            use in GRUB 2. Use the <code class="command">grub2-mkpasswd-pbkdf2</code>
            command as described in <a class="xref" href="cha-grub2.html#sec-grub2-password" title="12.2.6. Setting a boot password">Section 12.2.6, “Setting a boot password”</a>.
          </p></li><li class="step "><p>
            Delete the file <code class="filename">/etc/grub.d/10_linux</code>. This
            prevents outputting the default GRUB 2 menu entries.
          </p></li><li class="step "><p>
            Edit the <code class="filename">/boot/grub2/custom.cfg</code> file and add
            custom menu entries manually. The following template is an example,
            adjust it to better match your use case:
          </p><div class="verbatim-wrap"><pre class="screen">set superusers=admin
password admin <em class="replaceable ">ADMIN_PASSWORD</em>
password maintainer <em class="replaceable ">MAINTAINER_PASSWORD</em>

menuentry 'Operational mode' {
  insmod ext2
  set root=hd0,1
  echo 'Loading Linux ...'
  linux /boot/vmlinuz root=/dev/vda1 $GRUB_CMDLINE_LINUX_DEFAULT $GRUB_CMDLINE_LINUX mode=operation
  echo 'Loading Initrd ...'
  initrd /boot/initrd
}

menuentry 'Maintenance mode' --users maintainer {
  insmod ext2
  set root=hd0,1
  echo 'Loading Linux ...'
  linux /boot/vmlinuz root=/dev/vda1 $GRUB_CMDLINE_LINUX_DEFAULT $GRUB_CMDLINE_LINUX mode=maintenance
  echo 'Loading Initrd ...'
  initrd /boot/initrd
}</pre></div></li><li class="step "><p>
            Import the changes into the main configuration file:
          </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> grub2-mkconfig -o /boot/grub2/grub.cfg</pre></div></li></ol></div></div><p>
        In the above example:
      </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
            The GRUB 2 menu has two entries, <span class="guimenu ">Operational
            mode</span> and <span class="guimenu ">Maintenance mode</span>.
          </p></li><li class="listitem "><p>
            If no user is specified, both boot menu entries are accessible, but
            no one can access GRUB 2 command line or edit existing menu
            entries.
          </p></li><li class="listitem "><p>
            <code class="literal">admin</code> user can access GRUB 2 command line and
            edit existing menu entries.
          </p></li><li class="listitem "><p>
            <code class="literal">maintenance</code> user can select the recovery menu
            item.
          </p></li></ul></div></div></div><div class="sect1 " id="sec-grub2-yast2-config"><div class="titlepage"><div><div><h2 class="title"><span class="number">12.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Configuring the boot loader with YaST</span> <a title="Permalink" class="permalink" href="cha-grub2.html#sec-grub2-yast2-config">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/grub2_yast_i.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>grub2_yast_i.xml</li><li><span class="ds-label">ID: </span>sec-grub2-yast2-config</li></ul></div></div></div></div><p>
  The easiest way to configure general options of the boot loader in your
  <span class="productname"><span class="phrase">openSUSE Leap</span></span> system is to use the YaST module. In the <span class="guimenu ">YaST Control Center</span>, select
  <span class="guimenu ">System</span> › <span class="guimenu ">Boot
  Loader</span>. The module shows the current boot loader
  configuration of your system and allows you to make changes.
 </p><p>
  Use the <span class="guimenu ">Boot Code Options</span> tab to view and change settings
  related to type, location and advanced loader settings. You can choose
  whether to use GRUB 2 in standard or EFI mode.
 </p><div id="id-1.4.4.6.5.5" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg" /><h6>Important: EFI systems require GRUB2-EFI</h6><p>
   If you have an EFI system you can only install GRUB2-EFI, otherwise your
   system is no longer bootable.
  </p></div><div id="id-1.4.4.6.5.6" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg" /><h6>Important: Reinstalling the boot loader</h6><p>
   To reinstall the boot loader, make sure to change a setting in YaST and
   then change it back. For example, to reinstall GRUB2-EFI, select
   <span class="guimenu ">GRUB2</span> first and then immediately switch back to
   <span class="guimenu ">GRUB2-EFI</span>.
  </p><p>
   Otherwise, the boot loader may only be partially reinstalled.
  </p></div><div id="id-1.4.4.6.5.7" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg" /><h6>Note: Custom boot loader</h6><p>
   To use a boot loader other than the ones listed, select <span class="guimenu ">Do Not
   Install Any Boot Loader</span>. Read the documentation of your boot
   loader carefully before choosing this option.
  </p></div><div class="sect2 " id="sec-grub2-yast2-location"><div class="titlepage"><div><div><h3 class="title"><span class="number">12.3.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Boot loader location and boot code options</span> <a title="Permalink" class="permalink" href="cha-grub2.html#sec-grub2-yast2-location">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/grub2_yast_i.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>grub2_yast_i.xml</li><li><span class="ds-label">ID: </span>sec-grub2-yast2-location</li></ul></div></div></div></div><p>
   The default location of the boot loader depends on the partition setup and
   is either the Master Boot Record (MBR) or the boot sector of the
   <code class="filename">/</code> partition. To modify the location of the boot loader,
   follow these steps:
  </p><div class="procedure " id="pro-sec-grub2-yast2-location"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 12.1: </span><span class="name">Changing the boot loader location </span><a title="Permalink" class="permalink" href="cha-grub2.html#pro-sec-grub2-yast2-location">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Select the <span class="guimenu ">Boot Code Options</span> tab and then choose one of
     the following options for <span class="guimenu ">Boot Loader Location</span>:
    </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.4.6.5.8.3.2.2.1"><span class="term "><span class="guimenu ">Boot from Master Boot Record</span>
      </span></dt><dd><p>
        This installs the boot loader in the MBR of the disk containing the
        directory <code class="filename">/boot</code>. Usually this will be the disk
        mounted to <code class="filename">/</code>, but if <code class="filename">/boot</code> is
        mounted to a separate partition on a different disk, the MBR of that
        disk will be used.
       </p></dd><dt id="id-1.4.4.6.5.8.3.2.2.2"><span class="term "><span class="guimenu ">Boot from Root Partition</span>
      </span></dt><dd><p>
        This installs the boot loader in the boot sector of the
        <code class="filename">/</code> partition.
       </p></dd><dt id="id-1.4.4.6.5.8.3.2.2.3"><span class="term "><span class="guimenu ">Custom Root Partition</span>
      </span></dt><dd><p>
        Use this option to specify the location of the boot loader manually.
       </p></dd></dl></div></li><li class="step "><p>
     Click <span class="guimenu ">OK</span> to apply the changes.
    </p></li></ol></div></div><div class="figure" id="fig-grub2-yast-boot-code-options0"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_bootloader_boot_code.png" target="_blank"><img src="images/yast2_bootloader_boot_code.png" width="" alt="Boot code options" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 12.2: </span><span class="name">Boot code options </span><a title="Permalink" class="permalink" href="cha-grub2.html#fig-grub2-yast-boot-code-options0">#</a></h6></div></div><p>
   The <span class="guimenu ">Boot Code Options</span> tab includes the following
   additional options:
  </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.4.6.5.8.6.1"><span class="term "><span class="guimenu ">Set Active Flag in Partition Table for Boot
      Partition</span>
     </span></dt><dd><p>
       Activates the partition that contains the
       <code class="filename">/boot</code> directory. For POWER systems it
       activates the PReP partition. Use this option on systems with
       old BIOS and/or legacy operating systems because they may fail
       to boot from a non-active partition. It is safe to leave this
       option active.
      </p></dd><dt id="id-1.4.4.6.5.8.6.2"><span class="term "><span class="guimenu ">Write Generic Boot Code to MBR</span>
     </span></dt><dd><p>
       If MBR contains a custom 'non-GRUB' code, this option replaces it with a
       generic, operating system independent code. If you deactivate this
       option, the system may become unbootable.
      </p></dd><dt id="id-1.4.4.6.5.8.6.3"><span class="term "><span class="guimenu ">Enable Trusted Boot Support</span>
     </span></dt><dd><p>
       Starts TrustedGRUB2, which supports trusted computing functionality
       (Trusted Platform Module (TPM)). For more information refer to
       <a class="link" href="https://github.com/Sirrix-AG/TrustedGRUB2" target="_blank">https://github.com/Sirrix-AG/TrustedGRUB2</a>.
      </p></dd></dl></div><p>
      The <span class="guimenu ">Protective MBR flag</span> section includes the following
      options:
      </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.4.6.5.8.8.1"><span class="term "><span class="guimenu ">set</span>
     </span></dt><dd><p>
       This is appropriate for traditional legacy BIOS booting.
      </p></dd><dt id="id-1.4.4.6.5.8.8.2"><span class="term "><span class="guimenu ">remove</span>
     </span></dt><dd><p>
       This is appropriate for UEFI booting.
      </p></dd><dt id="id-1.4.4.6.5.8.8.3"><span class="term "><span class="guimenu ">do not change</span>
     </span></dt><dd><p>
       This is usually the best choice if you have an already working
       system.
      </p></dd></dl></div><p>
       In most cases YaST defaults to the appropriate choice.
    </p></div><div class="sect2 " id="sec-grub2-yast2-config-order"><div class="titlepage"><div><div><h3 class="title"><span class="number">12.3.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Adjusting the disk order</span> <a title="Permalink" class="permalink" href="cha-grub2.html#sec-grub2-yast2-config-order">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/grub2_yast_i.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>grub2_yast_i.xml</li><li><span class="ds-label">ID: </span>sec-grub2-yast2-config-order</li></ul></div></div></div></div><p>
   If your computer has more than one hard disk, you can specify the boot
   sequence of the disks. The first disk in the list is where GRUB 2 will be
   installed in the case of booting from MBR. It is the disk where <span class="productname"><span class="phrase">openSUSE Leap</span></span>
   is installed by default. The rest of the list is a hint for
   GRUB 2's device mapper (see <a class="xref" href="cha-grub2.html#sec-grub2-map" title="12.2.4. Mapping between BIOS drives and Linux devices">Section 12.2.4, “Mapping between BIOS drives and Linux devices”</a>).
  </p><div id="id-1.4.4.6.5.9.3" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg" /><h6>Warning: Unbootable system</h6><p>
    The default value is usually valid for almost all deployments. If you change
    the boot order of disks wrongly, the system may become unbootable on the
    next reboot. For example, if the first disk in the list is not part of the
    BIOS boot order, and the other disks in the list have empty MBRs.
   </p></div><div class="procedure " id="pro-sec-grub2-yast2-config-order"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 12.2: </span><span class="name">Setting the disk order </span><a title="Permalink" class="permalink" href="cha-grub2.html#pro-sec-grub2-yast2-config-order">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Open the <span class="guimenu ">Boot Code Options</span> tab.
    </p></li><li class="step "><p>
     Click <span class="guimenu ">Edit Disk Boot Order</span>.
    </p></li><li class="step "><p>
     If more than one disk is listed, select a disk and click
     <span class="guimenu ">Up</span> or <span class="guimenu ">Down</span> to reorder the displayed
     disks.
    </p></li><li class="step "><p>
     Click <span class="guimenu ">OK</span> two times to save the changes.
    </p></li></ol></div></div></div><div class="sect2 " id="sec-grub2-yast2-config-advanced"><div class="titlepage"><div><div><h3 class="title"><span class="number">12.3.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Configuring advanced options</span> <a title="Permalink" class="permalink" href="cha-grub2.html#sec-grub2-yast2-config-advanced">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/grub2_yast_i.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>grub2_yast_i.xml</li><li><span class="ds-label">ID: </span>sec-grub2-yast2-config-advanced</li></ul></div></div></div></div><p>
   Advanced boot parameters can be configured via the <span class="guimenu ">Boot Loader
   Options</span> tab.
  </p><div class="sect3 " id="sec-grub2-yast2-config-advanced-boot-loader"><div class="titlepage"><div><div><h4 class="title"><span class="number">12.3.3.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name"><span class="guimenu ">Boot Loader Options</span> tab</span> <a title="Permalink" class="permalink" href="cha-grub2.html#sec-grub2-yast2-config-advanced-boot-loader">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/grub2_yast_i.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>grub2_yast_i.xml</li><li><span class="ds-label">ID: </span>sec-grub2-yast2-config-advanced-boot-loader</li></ul></div></div></div></div><div class="figure" id="fig-grub2-yast-bootloader-options"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_bootloader_options.png" target="_blank"><img src="images/yast2_bootloader_options.png" width="" alt="Boot loader options" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 12.3: </span><span class="name">Boot loader options </span><a title="Permalink" class="permalink" href="cha-grub2.html#fig-grub2-yast-bootloader-options">#</a></h6></div></div><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.4.6.5.10.3.3.1"><span class="term "><span class="guimenu ">Boot Loader Time-Out</span>
     </span></dt><dd><p>
       Change the value of <span class="guimenu ">Time-Out in Seconds</span> by typing in
       a new value and clicking the appropriate arrow key with your mouse.
      </p></dd><dt id="id-1.4.4.6.5.10.3.3.2"><span class="term "><span class="guimenu ">Probe Foreign OS</span>
     </span></dt><dd><p>
       When selected, the boot loader searches for other systems like Windows
       or other Linux installations.
      </p></dd><dt id="id-1.4.4.6.5.10.3.3.3"><span class="term "><span class="guimenu ">Hide Menu on Boot</span>
     </span></dt><dd><p>
       Hides the boot menu and boots the default entry.
      </p></dd><dt id="id-1.4.4.6.5.10.3.3.4"><span class="term "><span class="guimenu ">Adjusting the Default Boot Entry</span>
     </span></dt><dd><p>
       Select the desired entry from the <span class="quote">“<span class="quote ">Default Boot Section</span>”</span>
       list. Note that the <span class="quote">“<span class="quote ">&gt;</span>”</span> sign in the boot entry name
       delimits the boot section and its subsection.
      </p></dd><dt id="vle-grub2-yast2-boot-password"><span class="term "><span class="guimenu ">Protect Boot Loader with Password</span>
     </span></dt><dd><p>
       Protects the boot loader and the system with an additional password. For
       details on manual configuration, see <a class="xref" href="cha-grub2.html#sec-grub2-password" title="12.2.6. Setting a boot password">Section 12.2.6, “Setting a boot password”</a>.
       If this option is activated, the boot password is required on every boot,
       which means the system does not boot automatically. However, if you prefer
       the behavior of GRUB 1, additionally enable <span class="guimenu ">Protect Entry
       Modification Only</span>. With this setting, anybody is allowed to select
       a boot entry and boot the system, whereas the password for the GRUB 2 <code class="systemitem">root</code>
       user is only required for modifying boot entries.
      </p></dd></dl></div></div><div class="sect3 " id="sec-grub2-yast2-config-advanced-kernel-parameters"><div class="titlepage"><div><div><h4 class="title"><span class="number">12.3.3.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name"><span class="guimenu ">Kernel Parameters</span> tab</span> <a title="Permalink" class="permalink" href="cha-grub2.html#sec-grub2-yast2-config-advanced-kernel-parameters">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/grub2_yast_i.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>grub2_yast_i.xml</li><li><span class="ds-label">ID: </span>sec-grub2-yast2-config-advanced-kernel-parameters</li></ul></div></div></div></div><div class="figure" id="fig-grub2-yast-kernel-parameters"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_bootloader_kernel_parameters.png" target="_blank"><img src="images/yast2_bootloader_kernel_parameters.png" width="" alt="Kernel parameters" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 12.4: </span><span class="name">Kernel parameters </span><a title="Permalink" class="permalink" href="cha-grub2.html#fig-grub2-yast-kernel-parameters">#</a></h6></div></div><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.4.6.5.10.4.3.1"><span class="term "><span class="guimenu ">Optional Kernel Command Line Parameter</span>
     </span></dt><dd><p>
       Specify optional kernel parameters here to enable/disable system
       features, add drivers, etc. 
      </p></dd><dt id="vle-grub2-yast2-cpu-mitigations"><span class="term "><span class="guimenu ">CPU Mitigations</span></span></dt><dd><p>
       SUSE has released one or more kernel boot command line parameters for
       all software mitigations that have been deployed to prevent CPU side-channel
       attacks. Some of those may result in performance loss. Choose
       one the following options to strike a balance between security and
       performance, depending on your setting:
      </p><p><span class="formalpara-title"><span class="guimenu ">Auto</span>. </span>
   Enables all mitigations required for your CPU model, but does
   not protect against cross-CPU thread attacks. This setting may impact
   performance to some degree, depending on the workload.
  </p><p><span class="formalpara-title"><span class="guimenu ">Auto + No SMT</span>. </span>
    Provides the full set of available security mitigations. Enables all
    mitigations required for your CPU model. In addition, it disables
    Simultaneous Multithreading (SMT) to avoid side-channel attacks across
    multiple CPU threads. This setting may further impact performance,
    depending on the workload.
    </p><p><span class="formalpara-title"><span class="guimenu ">Off</span>. </span>
    Disables all mitigations. Side-channel attacks against your CPU
    are possible, depending on the CPU model. This setting has no impact
    on performance.
   </p><p><span class="formalpara-title"><span class="guimenu ">Manual</span>. </span>
    Does not set any mitigation level. Specify your CPU mitigations manually
    by using the kernel command line options.
   </p></dd><dt id="id-1.4.4.6.5.10.4.3.3"><span class="term "><span class="guimenu ">Use Graphical Console</span>
     </span></dt><dd><p>
       When checked, the boot menu appears on a graphical splash screen rather
       than in a text mode. The resolution of the boot screen is set
       automatically by default, but you can manually set it
       via <span class="guimenu ">Console resolution</span>. The graphical theme
       definition file can be specified with the <span class="guimenu ">Console
       theme</span> file chooser. Only change this if you want to apply
       your own, custom-made theme.
      </p></dd><dt id="id-1.4.4.6.5.10.4.3.4"><span class="term "><span class="guimenu ">Use Serial Console</span>
     </span></dt><dd><p>
       If your machine is controlled via a serial console, activate this option
       and specify which COM port to use at which speed. See <code class="command">info
       grub</code> or
       <a class="link" href="https://www.gnu.org/software/grub/manual/grub.html#Serial-terminal" target="_blank">https://www.gnu.org/software/grub/manual/grub.html#Serial-terminal</a>
      </p></dd></dl></div></div></div></div><div class="sect1 " id="sec-grub2-commands"><div class="titlepage"><div><div><h2 class="title"><span class="number">12.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Helpful GRUB 2 commands</span> <a title="Permalink" class="permalink" href="cha-grub2.html#sec-grub2-commands">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/grub2.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>grub2.xml</li><li><span class="ds-label">ID: </span>sec-grub2-commands</li></ul></div></div></div></div><div class="variablelist "><dl class="variablelist"><dt id="vle-grub2-mkconfig"><span class="term "><code class="command">grub2-mkconfig</code></span></dt><dd><p>
            Generates a new <code class="filename">/boot/grub2/grub.cfg</code> based on
            <code class="filename">/etc/default/grub</code> and the scripts from
            <code class="filename">/etc/grub.d/</code>.
          </p><div class="example" id="id-1.4.4.6.6.2.1.2.2"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 12.1: </span><span class="name">Usage of grub2-mkconfig </span><a title="Permalink" class="permalink" href="cha-grub2.html#id-1.4.4.6.6.2.1.2.2">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">grub2-mkconfig -o /boot/grub2/grub.cfg</pre></div></div></div><div id="id-1.4.4.6.6.2.1.2.3" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg" /><h6>Tip: Syntax check</h6><p>
              Running <code class="command">grub2-mkconfig</code> without any parameters
              prints the configuration to STDOUT where it can be reviewed. Use
              <a class="xref" href="cha-grub2.html#vle-grub2-script-check"><code class="command">grub2-script-check</code></a> after
              <code class="filename">/boot/grub2/grub.cfg</code> has been written to
              check its syntax.
            </p></div><div id="id-1.4.4.6.6.2.1.2.4" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg" /><h6>Important: <code class="command">grub2-mkconfig</code> cannot repair UEFI Secure Boot tables</h6><p>
              If you are using UEFI Secure Boot and your system is not reaching
              GRUB 2 correctly anymore, you may need to additionally reinstall
              the Shim and regenerate the UEFI boot table. To do so, use:
            </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>shim-install --config-file=/boot/grub2/grub.cfg</pre></div></div></dd><dt id="vle-grub2-mkrescue"><span class="term "><code class="command">grub2-mkrescue</code></span></dt><dd><p>
            Creates a bootable rescue image of your installed GRUB 2
            configuration.
          </p><div class="example" id="id-1.4.4.6.6.2.2.2.2"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 12.2: </span><span class="name">Usage of grub2-mkrescue </span><a title="Permalink" class="permalink" href="cha-grub2.html#id-1.4.4.6.6.2.2.2.2">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">grub2-mkrescue -o save_path/name.iso iso</pre></div></div></div></dd><dt id="vle-grub2-script-check"><span class="term "><code class="command">grub2-script-check</code></span></dt><dd><p>
            Checks the given file for syntax errors.
          </p><div class="example" id="id-1.4.4.6.6.2.3.2.2"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 12.3: </span><span class="name">Usage of grub2-script-check </span><a title="Permalink" class="permalink" href="cha-grub2.html#id-1.4.4.6.6.2.3.2.2">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">grub2-script-check /boot/grub2/grub.cfg</pre></div></div></div></dd><dt id="id-1.4.4.6.6.2.4"><span class="term "><code class="command">grub2-once</code></span></dt><dd><p>
            Set the default boot entry for the next boot only. To get the list
            of available boot entries use the <code class="option">--list</code> option.
          </p><div class="example" id="id-1.4.4.6.6.2.4.2.2"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 12.4: </span><span class="name">Usage of grub2-once </span><a title="Permalink" class="permalink" href="cha-grub2.html#id-1.4.4.6.6.2.4.2.2">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">grub2-once number_of_the_boot_entry</pre></div></div></div><div id="id-1.4.4.6.6.2.4.2.3" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg" /><h6>Tip: <code class="command">grub2-once</code> help</h6><p>
              Call the program without any option to get a full list of all
              possible options.
            </p></div></dd></dl></div></div><div class="sect1 " id="grub-rescue-target"><div class="titlepage"><div><div><h2 class="title"><span class="number">12.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Rescue mode</span> <a title="Permalink" class="permalink" href="cha-grub2.html#grub-rescue-target">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/grub2.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>grub2.xml</li><li><span class="ds-label">ID: </span>grub-rescue-target</li></ul></div></div></div></div><p>
      <span class="emphasis"><em>Rescue mode</em></span> is a specific <code class="systemitem">root</code> user session
      for troubleshooting and repairing systems where the booting process
      fails. It offers a single-user environment with local file systems and
      core system services active. Network interfaces are not activated. To
      enter the rescue mode, follow these steps.
    </p><div class="procedure " id="proc-rescue-mode"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 12.3: </span><span class="name">Entering rescue mode </span><a title="Permalink" class="permalink" href="cha-grub2.html#proc-rescue-mode">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
          Reboot the system. The boot screen appears, offering the GRUB 2 boot
          menu.
        </p></li><li class="step "><p>
          Select the menu entry to boot
          and press <span class="keycap">e</span> to edit the boot line.
        </p></li><li class="step "><p>
          Append the following parameter to the line containing the kernel
          parameters:
        </p><div class="verbatim-wrap"><pre class="screen">systemd.unit=rescue.target</pre></div></li><li class="step "><p>
          Press <span class="keycap">Ctrl</span>+<span class="keycap">X</span> to boot with
          these settings.
        </p></li><li class="step "><p>
          Enter the password for <code class="systemitem">root</code>.
        </p></li><li class="step "><p>
          Make all the necessary changes.
        </p></li><li class="step "><p>
          Enter normal operating target again by entering
          <code class="command">systemctl isolate multi-user.target</code> or
          <code class="command">systemctl isolate graphical.target</code> at the command
          line.
        </p></li></ol></div></div></div><div class="sect1 " id="sec-grub2-info"><div class="titlepage"><div><div><h2 class="title"><span class="number">12.6 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">More information</span> <a title="Permalink" class="permalink" href="cha-grub2.html#sec-grub2-info">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/grub2.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>grub2.xml</li><li><span class="ds-label">ID: </span>sec-grub2-info</li></ul></div></div></div></div><p>
      Extensive information about GRUB 2 is available at
      <a class="link" href="https://www.gnu.org/software/grub/" target="_blank">https://www.gnu.org/software/grub/</a>. Also refer to the
      <code class="command">grub</code> info page. 
    </p></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha-network.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 13 </span>Basic networking</span></a><a class="nav-link" href="cha-journalctl.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 11 </span><code class="command">journalctl</code>: query the <code class="systemitem">systemd</code> journal</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2024 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>