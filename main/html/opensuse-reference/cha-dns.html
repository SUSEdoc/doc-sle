<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The domain name system | Reference | openSUSE Leap 15.7</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" />
<meta name="title" content="The domain name system | openSUSE Leap 15.7" />
<meta name="description" content="DNS (domain name system) is needed to resolve the domain names and host names into IP addresses. In this way, the IP address 192.168.2.100 is assigned to the h…" />
<meta name="product-name" content="openSUSE Leap" />
<meta name="product-number" content="15.7" />
<meta name="book-title" content="Reference" />
<meta name="chapter-title" content="Chapter 19. The domain name system" />
<meta name="tracker-url" content="https://bugzilla.opensuse.org/enter_bug.cgi" />
<meta name="tracker-type" content="bsc" />
<meta name="tracker-bsc-assignee" content="fs@suse.com" />
<meta name="tracker-bsc-component" content="Documentation" />
<meta name="tracker-bsc-product" content="openSUSE Distribution" />
<meta name="tracker-bsc-version" content="Leap 15.4" />
<meta property="og:title" content="The domain name system | openSUSE Leap 15.7" />
<meta property="og:description" content="DNS (domain name system) is needed to resolve the domain names and host names into IP addresses. In this way, the IP address 192.168.2.100 is assigned to the h…" />
<meta property="og:type" content="article" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="The domain name system | openSUSE Leap 15.7" />
<meta name="twitter:description" content="DNS (domain name system) is needed to resolve the domain names and host names into IP addresses. In this way, the IP address 192.168.2.100 is assigned to the h…" />
<link rel="home" href="index.html" title="openSUSE Leap Documentation" /><link rel="up" href="part-reference-services.html" title="Part III. Services" /><link rel="prev" href="cha-ntp.html" title="Chapter 18. Time synchronization with NTP" /><link rel="next" href="cha-dhcp.html" title="Chapter 20. DHCP" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" /></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #E11;"><div id="_header"><div id="_logo"><img src="static/images/logo.svg" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="Reference"><span class="book-icon">Reference</span></a><span> › </span><a class="crumb" href="part-reference-services.html">Services</a><span> › </span><a class="crumb" href="cha-dns.html">The domain name system</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Reference</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface-reference.html"><span class="number"> </span><span class="name">About this guide</span></a></li><li class="inactive"><a href="part-reference-adv-admin.html"><span class="number">I </span><span class="name">Advanced administration</span></a><ol><li class="inactive"><a href="cha-yast-text.html"><span class="number">1 </span><span class="name">YaST in text mode</span></a></li><li class="inactive"><a href="cha-sw-cl.html"><span class="number">2 </span><span class="name">Managing software with command line tools</span></a></li><li class="inactive"><a href="cha-snapper.html"><span class="number">3 </span><span class="name">System recovery and snapshot management with Snapper</span></a></li><li class="inactive"><a href="cha-vnc.html"><span class="number">4 </span><span class="name">Remote graphical sessions with VNC</span></a></li><li class="inactive"><a href="cha-expert-partitioner.html"><span class="number">5 </span><span class="name"><span class="guimenu ">Expert Partitioner</span></span></a></li><li class="inactive"><a href="cha-tuning-multikernel.html"><span class="number">6 </span><span class="name">Installing multiple kernel versions</span></a></li><li class="inactive"><a href="cha-gui-desktop.html"><span class="number">7 </span><span class="name">Graphical user interface</span></a></li></ol></li><li class="inactive"><a href="part-reference-system.html"><span class="number">II </span><span class="name">System</span></a><ol><li class="inactive"><a href="cha-64bit.html"><span class="number">8 </span><span class="name">32-bit and 64-bit applications in a 64-bit system environment</span></a></li><li class="inactive"><a href="cha-boot.html"><span class="number">9 </span><span class="name">Introduction to the boot process</span></a></li><li class="inactive"><a href="cha-systemd.html"><span class="number">10 </span><span class="name">The <code class="systemitem">systemd</code> daemon</span></a></li><li class="inactive"><a href="cha-journalctl.html"><span class="number">11 </span><span class="name"><code class="command">journalctl</code>: query the <code class="systemitem">systemd</code> journal</span></a></li><li class="inactive"><a href="cha-grub2.html"><span class="number">12 </span><span class="name">The boot loader GRUB 2</span></a></li><li class="inactive"><a href="cha-network.html"><span class="number">13 </span><span class="name">Basic networking</span></a></li><li class="inactive"><a href="cha-uefi.html"><span class="number">14 </span><span class="name">UEFI (Unified Extensible Firmware Interface)</span></a></li><li class="inactive"><a href="cha-suse.html"><span class="number">15 </span><span class="name">Special system features</span></a></li><li class="inactive"><a href="cha-udev.html"><span class="number">16 </span><span class="name">Dynamic kernel device management with <code class="systemitem">udev</code></span></a></li></ol></li><li class="inactive"><a href="part-reference-services.html"><span class="number">III </span><span class="name">Services</span></a><ol><li class="inactive"><a href="cha-slp.html"><span class="number">17 </span><span class="name">SLP</span></a></li><li class="inactive"><a href="cha-ntp.html"><span class="number">18 </span><span class="name">Time synchronization with NTP</span></a></li><li class="inactive"><a href="cha-dns.html"><span class="number">19 </span><span class="name">The domain name system</span></a></li><li class="inactive"><a href="cha-dhcp.html"><span class="number">20 </span><span class="name">DHCP</span></a></li><li class="inactive"><a href="cha-samba.html"><span class="number">21 </span><span class="name">Samba</span></a></li><li class="inactive"><a href="cha-nfs.html"><span class="number">22 </span><span class="name">Sharing file systems with NFS</span></a></li><li class="inactive"><a href="cha-autofs.html"><span class="number">23 </span><span class="name">On-demand mounting with autofs</span></a></li><li class="inactive"><a href="cha-apache2.html"><span class="number">24 </span><span class="name">The Apache HTTP server</span></a></li><li class="inactive"><a href="cha-ftp.html"><span class="number">25 </span><span class="name">Setting up an FTP server with YaST</span></a></li><li class="inactive"><a href="cha-squid.html"><span class="number">26 </span><span class="name">Squid caching proxy server</span></a></li></ol></li><li class="inactive"><a href="part-reference-mobility.html"><span class="number">IV </span><span class="name">Mobile computers</span></a><ol><li class="inactive"><a href="cha-mobile.html"><span class="number">27 </span><span class="name">Mobile computing with Linux</span></a></li><li class="inactive"><a href="cha-nm.html"><span class="number">28 </span><span class="name">Using NetworkManager</span></a></li><li class="inactive"><a href="cha-power-mgmt.html"><span class="number">29 </span><span class="name">Power management</span></a></li></ol></li><li class="inactive"><a href="app-nwscheme.html"><span class="number">A </span><span class="name">An example network</span></a></li><li class="inactive"><a href="bk02apb.html"><span class="number">B </span><span class="name">GNU licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 18. Time synchronization with NTP" href="cha-ntp.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 20. DHCP" href="cha-dhcp.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #E11;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="Reference"><span class="book-icon">Reference</span></a><span> › </span><a class="crumb" href="part-reference-services.html">Services</a><span> › </span><a class="crumb" href="cha-dns.html">The domain name system</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 18. Time synchronization with NTP" href="cha-ntp.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 20. DHCP" href="cha-dhcp.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha-dns"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname "><span class="productname"><span class="phrase">openSUSE Leap</span></span></span> <span class="productnumber "><span class="productnumber"><span class="phrase">15.7</span></span></span></div><div><h2 class="title"><span class="number">19 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">The domain name system</span> <a title="Permalink" class="permalink" href="cha-dns.html#">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>cha-dns</li></ul></div></div><div><div class="abstract"><div class="abstract-title-wrap"><h6 class="abstract-title">Abstract<a title="Permalink" class="permalink" href="cha-dns.html#id-1.4.5.4.2.1">#</a></h6></div><p>
    DNS (domain name system) is needed to resolve the domain names and host
    names into IP addresses. In this way, the IP address 192.168.2.100 is assigned to
    the host name <code class="literal">jupiter</code>, for example. Before setting up your
    own name server, read the general information about DNS in
    <a class="xref" href="cha-network.html#sec-network-nameres" title="13.3. Name resolution">Section 13.3, “Name resolution”</a>. The following configuration
    examples refer to BIND, the default DNS server.
   </p></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha-dns.html#sec-dns-basic"><span class="number">19.1 </span><span class="name">DNS terminology</span></a></span></dt><dt><span class="sect1"><a href="cha-dns.html#sec-dns-install"><span class="number">19.2 </span><span class="name">Installation</span></a></span></dt><dt><span class="sect1"><a href="cha-dns.html#sec-dns-yast"><span class="number">19.3 </span><span class="name">Configuration with YaST</span></a></span></dt><dt><span class="sect1"><a href="cha-dns.html#sec-dns-bind"><span class="number">19.4 </span><span class="name">Starting the BIND name server</span></a></span></dt><dt><span class="sect1"><a href="cha-dns.html#sec-dns-named"><span class="number">19.5 </span><span class="name">The /etc/named.conf configuration file</span></a></span></dt><dt><span class="sect1"><a href="cha-dns.html#sec-dns-zonefile"><span class="number">19.6 </span><span class="name">Zone files</span></a></span></dt><dt><span class="sect1"><a href="cha-dns.html#sec-dns-dynupdate"><span class="number">19.7 </span><span class="name">Dynamic update of zone data</span></a></span></dt><dt><span class="sect1"><a href="cha-dns.html#sec-dns-tsig"><span class="number">19.8 </span><span class="name">Secure transactions</span></a></span></dt><dt><span class="sect1"><a href="cha-dns.html#sec-dns-dnssec"><span class="number">19.9 </span><span class="name">DNS security</span></a></span></dt><dt><span class="sect1"><a href="cha-dns.html#sec-dns-info"><span class="number">19.10 </span><span class="name">More information</span></a></span></dt></dl></div></div><div class="sect1 " id="sec-dns-basic"><div class="titlepage"><div><div><h2 class="title"><span class="number">19.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">DNS terminology</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-basic">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-basic</li></ul></div></div></div></div><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.5.4.3.2.1"><span class="term ">Zone</span></dt><dd><p>
      The domain namespace is divided into regions called zones. For example,
      if you have <code class="literal">example.com</code>, you have the
      <code class="literal">example</code> section (or zone) of the
      <code class="literal">com</code> domain.
     </p></dd><dt id="id-1.4.5.4.3.2.2"><span class="term ">DNS server</span></dt><dd><p>
      The DNS server is a server that maintains the name and IP information for
      a domain. You can have a primary DNS server for primary zone, a secondary
      server for secondary zone, or a secondary server without any zones for caching.
     </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.5.4.3.2.2.2.2.1"><span class="term ">Primary zone DNS server</span></dt><dd><p>
         The primary zone includes all hosts from your network and a DNS server
         primary zone stores up-to-date records for all the hosts in your
         domain.
        </p></dd><dt id="id-1.4.5.4.3.2.2.2.2.2"><span class="term ">Secondary zone DNS server</span></dt><dd><p>
         A secondary zone is a copy of the primary zone. The secondary zone DNS server
         obtains its zone data with zone transfer operations from its primary
         server. The secondary zone DNS server responds authoritatively for the
         zone if it has valid (not expired) zone data. If the secondary server
         cannot obtain a new copy of the zone data, it stops responding for the
         zone.
        </p></dd></dl></div></dd><dt id="id-1.4.5.4.3.2.3"><span class="term ">Forwarder</span></dt><dd><p>
      Forwarders are DNS servers to which your DNS server should send queries
      it cannot answer. To enable different configuration sources in one
      configuration, <code class="literal">netconfig</code> is used (see also
      <code class="command">man 8 netconfig</code>).
     </p></dd><dt id="id-1.4.5.4.3.2.4"><span class="term ">Record</span></dt><dd><p>
      The record is information about name and IP address. Supported records
      and their syntax are described in BIND documentation. Several special
      records are:
     </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.5.4.3.2.4.2.2.1"><span class="term ">NS record</span></dt><dd><p>
         An NS record tells name servers which machines are in charge of a
         given domain zone.
        </p></dd><dt id="id-1.4.5.4.3.2.4.2.2.2"><span class="term ">MX record</span></dt><dd><p>
         The MX (mail exchange) records describe the machines to contact for
         directing mail across the Internet.
        </p></dd><dt id="id-1.4.5.4.3.2.4.2.2.3"><span class="term ">SOA record</span></dt><dd><p>
         SOA (Start of Authority) record is the first record in a zone file.
         The SOA record is used when using DNS to synchronize data between
         multiple computers.
        </p></dd></dl></div></dd></dl></div></div><div class="sect1 " id="sec-dns-install"><div class="titlepage"><div><div><h2 class="title"><span class="number">19.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Installation</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-install">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-install</li></ul></div></div></div></div><p>
   To install a DNS server, start YaST and select
   <span class="guimenu ">Software</span> › <span class="guimenu ">Software
   Management</span>. Choose
   <span class="guimenu ">View</span> › <span class="guimenu ">Patterns</span>
   and select <span class="guimenu ">DHCP and DNS Server</span>. Confirm the installation
   of the dependent packages to finish the installation process.
  </p><p>
   Alternatively use the following command on the command line:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> zypper in -t pattern dhcp_dns_server</pre></div></div><div class="sect1 " id="sec-dns-yast"><div class="titlepage"><div><div><h2 class="title"><span class="number">19.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Configuration with YaST</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-yast</li></ul></div></div></div></div><p>
   Use the YaST DNS module to configure a DNS server for the local network.
   When starting the module for the first time, a wizard starts, prompting you
   to make a few decisions concerning administration of the server. Completing
   this initial setup produces a basic server configuration. Use the expert
   mode to deal with more advanced configuration tasks, such as setting up
   ACLs, logging, TSIG keys, and other options.
  </p><div class="sect2 " id="sec-dns-yast-wizard"><div class="titlepage"><div><div><h3 class="title"><span class="number">19.3.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Wizard configuration</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-wizard">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-yast-wizard</li></ul></div></div></div></div><p>
    The wizard consists of three steps or dialogs. At the appropriate places
    in the dialogs, you can enter the expert configuration mode.
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>



      When starting the module for the first time, the <span class="guimenu ">Forwarder
      Settings</span> dialog, shown in
      <a class="xref" href="cha-dns.html#fig-yast2-dnsinst-forwarders" title="DNS server installation: forwarder settings">Figure 19.1, “DNS server installation: forwarder settings”</a>, opens. The <span class="guimenu ">Local
      DNS Resolution Policy</span> allows to set the following options:
     </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
        <span class="guimenu ">Merging forwarders is disabled</span>

       </p></li><li class="listitem "><p>
        <span class="guimenu ">Automatic merging</span>

       </p></li><li class="listitem "><p>
        <span class="guimenu ">Merging forwarders is enabled</span>

       </p></li><li class="listitem "><p>

        <span class="guimenu ">Custom configuration</span>—If <span class="guimenu ">Custom
        configuration</span> is selected, <span class="guimenu ">Custom policy</span>
        can be specified; by default (with <span class="guimenu ">Automatic merging</span>
        selected), <span class="guimenu ">Custom policy</span> is set to
        <code class="literal">auto</code>, but here you can either set interface names or
        select from the two special policy names <code class="literal">STATIC</code> and
        <code class="literal">STATIC_FALLBACK</code>.
       </p></li></ul></div><p>
      In <span class="guimenu ">Local DNS Resolution Forwarder</span>, specify which
      service to use: <span class="guimenu ">Using system name servers</span>,
      <span class="guimenu ">This name server (bind)</span>, or <span class="guimenu ">Local dnsmasq
      server</span>.
     </p><p>
      For more information about all these settings, see <code class="command">man 8
      netconfig</code>.
     </p><div class="figure" id="fig-yast2-dnsinst-forwarders"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_dns_wiz_forw.png" target="_blank"><img src="images/yast2_dns_wiz_forw.png" width="" alt="DNS server installation: forwarder settings" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 19.1: </span><span class="name">DNS server installation: forwarder settings </span><a title="Permalink" class="permalink" href="cha-dns.html#fig-yast2-dnsinst-forwarders">#</a></h6></div></div><p>
      Forwarders are DNS servers to which your DNS server sends queries it
      cannot answer itself. Enter their IP address and click
      <span class="guimenu ">Add</span>.
     </p></li><li class="step "><p>
      The <span class="guimenu ">DNS Zones</span> dialog consists of several parts and is
      responsible for the management of zone files, described in
      <a class="xref" href="cha-dns.html#sec-dns-zonefile" title="19.6. Zone files">Section 19.6, “Zone files”</a>. For a new zone, provide a name for it
      in <span class="guimenu ">Name</span>. To add a reverse zone, the name must end in
      <code class="literal">.in-addr.arpa</code>. Finally, select the
      <span class="guimenu ">Type</span> (primary, secondary, or forward). See
      <a class="xref" href="cha-dns.html#fig-yast2-dnsinst-zones" title="DNS server installation: DNS zones">Figure 19.2, “DNS server installation: DNS zones”</a>. Click <span class="guimenu ">Edit </span>
      to configure other settings of an existing zone. To remove a zone, click
      <span class="guimenu ">Delete</span>.
     </p><div class="figure" id="fig-yast2-dnsinst-zones"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_dns_wiz_zone.png" target="_blank"><img src="images/yast2_dns_wiz_zone.png" width="" alt="DNS server installation: DNS zones" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 19.2: </span><span class="name">DNS server installation: DNS zones </span><a title="Permalink" class="permalink" href="cha-dns.html#fig-yast2-dnsinst-zones">#</a></h6></div></div></li><li class="step "><p>
      In the final dialog, you can open the DNS port in the firewall by
      clicking <span class="guimenu ">Open Port in Firewall</span>. Then decide whether to
      start the DNS server when booting (<span class="guimenu ">On</span> or
      <span class="guimenu ">Off</span>). You can also activate LDAP support. See
      <a class="xref" href="cha-dns.html#fig-yast2-dnsinst-finish" title="DNS server installation: finish wizard">Figure 19.3, “DNS server installation: finish wizard”</a>.
     </p><div class="figure" id="fig-yast2-dnsinst-finish"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_dns_wiz_finish.png" target="_blank"><img src="images/yast2_dns_wiz_finish.png" width="" alt="DNS server installation: finish wizard" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 19.3: </span><span class="name">DNS server installation: finish wizard </span><a title="Permalink" class="permalink" href="cha-dns.html#fig-yast2-dnsinst-finish">#</a></h6></div></div></li></ol></div></div></div><div class="sect2 " id="sec-dns-yast-expert"><div class="titlepage"><div><div><h3 class="title"><span class="number">19.3.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Expert configuration</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-yast-expert</li></ul></div></div></div></div><p>
    After starting the module, YaST opens a window displaying several
    configuration options. Completing it results in a DNS server configuration
    with the basic functions in place:
   </p><div class="sect3 " id="sec-dns-yast-expert-startup"><div class="titlepage"><div><div><h4 class="title"><span class="number">19.3.2.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Start-up</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert-startup">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-yast-expert-startup</li></ul></div></div></div></div><p>
     Under <span class="guimenu ">Start-Up</span>, define whether the DNS server should be
     started when the booting the system or manually. To start the DNS server
     immediately, click <span class="guimenu ">Start DNS Server Now</span>. To stop the
     DNS server, click <span class="guimenu ">Stop DNS Server Now</span>. To save the
     current settings, select <span class="guimenu ">Save Settings and Reload DNS Server
     Now</span>.

     You can open the DNS port in the firewall with <span class="guimenu ">Open Port in
     Firewall</span> and modify the firewall settings with <span class="guimenu ">Firewall
     Details</span>.
    </p><p>
     By selecting <span class="guimenu ">LDAP Support Active</span>, the zone files are
     managed by an LDAP database. Any changes to zone data written to the LDAP
     database are picked up by the DNS server when it is restarted or prompted
     to reload its configuration.
    </p></div><div class="sect3 " id="sec-dns-yast-expert-forwarders"><div class="titlepage"><div><div><h4 class="title"><span class="number">19.3.2.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Forwarders</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert-forwarders">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-yast-expert-forwarders</li></ul></div></div></div></div><p>
     If your local DNS server cannot answer a request, it tries to forward the
     request to a <span class="guimenu ">Forwarder</span>, if configured so. This
     forwarder may be added manually to the <span class="guimenu ">Forwarder List</span>.
     If the forwarder is not static like in dial-up connections,
     <span class="guimenu ">netconfig</span> handles the configuration. For more
     information about netconfig, see <code class="command">man 8 netconfig</code>.
    </p></div><div class="sect3 " id="sec-dns-yast-expert-basics"><div class="titlepage"><div><div><h4 class="title"><span class="number">19.3.2.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Basic options</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert-basics">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-yast-expert-basics</li></ul></div></div></div></div><p>
     In this section, set basic server options. From the
     <span class="guimenu ">Option</span> menu, select the desired item then specify the
     value in the corresponding text box. Include the new entry by selecting
     <span class="guimenu ">Add</span>.
    </p></div><div class="sect3 " id="sec-dns-yast-expert-logging"><div class="titlepage"><div><div><h4 class="title"><span class="number">19.3.2.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Logging</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert-logging">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-yast-expert-logging</li></ul></div></div></div></div><p>
     To set what the DNS server should log and how, select
     <span class="guimenu ">Logging</span>. Under <span class="guimenu ">Log Type</span>, specify
     where the DNS server should write the log data. Use the system-wide log by
     selecting <span class="guimenu ">System Log</span> or specify a different file by
     selecting <span class="guimenu ">File</span>. In the latter case, additionally
     specify a name, the maximum file size in megabytes and the number of log
     file versions to store.
    </p><p>
     Further options are available under <span class="guimenu ">Additional Logging</span>.
     Enabling <span class="guimenu ">Log All DNS Queries</span> causes
     <span class="emphasis"><em>every</em></span> query to be logged, in which case the log file
     could grow large. For this reason, it is not a good idea to
     enable this option for other than debugging purposes. To log the data
     traffic during zone updates between DHCP and DNS server, enable
     <span class="guimenu ">Log Zone Updates</span>. To log the data traffic during a zone
     transfer from primary to secondary server, enable <span class="guimenu ">Log Zone
     Transfer</span>. See <a class="xref" href="cha-dns.html#fig-yast2-dns-logging" title="DNS server: logging">Figure 19.4, “DNS server: logging”</a>.
    </p><div class="figure" id="fig-yast2-dns-logging"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_dns_def_logging.png" target="_blank"><img src="images/yast2_dns_def_logging.png" width="" alt="DNS server: logging" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 19.4: </span><span class="name">DNS server: logging </span><a title="Permalink" class="permalink" href="cha-dns.html#fig-yast2-dns-logging">#</a></h6></div></div></div><div class="sect3 " id="sec-dns-yast-expert-acls"><div class="titlepage"><div><div><h4 class="title"><span class="number">19.3.2.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">ACLs</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert-acls">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-yast-expert-acls</li></ul></div></div></div></div><p>
     Use this dialog to define ACLs (access control lists) to enforce access
     restrictions. After providing a distinct name under
     <span class="guimenu ">Name</span>, specify an IP address (with or without netmask)
     under <span class="guimenu ">Value</span> in the following fashion:
    </p><div class="verbatim-wrap"><pre class="screen">{ 192.168.1/24; }</pre></div><p>
     The syntax of the configuration file requires that the address ends with a
     semicolon and is put into curly braces.
    </p></div><div class="sect3 " id="sec-dns-yast-expert-tsig"><div class="titlepage"><div><div><h4 class="title"><span class="number">19.3.2.6 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">TSIG keys</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert-tsig">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-yast-expert-tsig</li></ul></div></div></div></div><p>
     The main purpose of TSIGs (transaction signatures) is to secure
     communications between DHCP and DNS servers. They are described in
     <a class="xref" href="cha-dns.html#sec-dns-tsig" title="19.8. Secure transactions">Section 19.8, “Secure transactions”</a>.
    </p><p>
     To generate a TSIG key, enter a distinctive name in the field labeled
     <span class="guimenu ">Key ID</span> and specify the file where the key should be
     stored (<span class="guimenu ">Filename</span>). Confirm your choices with
     <span class="guimenu ">Generate</span>.
    </p><p>
     To use a previously created key, leave the <span class="guimenu ">Key ID</span> field
     blank and select the file where it is stored under
     <span class="guimenu ">Filename</span>. After that, confirm with
     <span class="guimenu ">Add</span>.
    </p></div><div class="sect3 " id="sec-dns-yast-expert-add-secondary"><div class="titlepage"><div><div><h4 class="title"><span class="number">19.3.2.7 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">DNS zones (adding a secondary zone)</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert-add-secondary">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-yast-expert-add-secondary</li></ul></div></div></div></div><p>
     To add a secondary zone, select <span class="guimenu ">DNS Zones</span>, choose the zone
     type <span class="guimenu ">Secondary</span>, write the name of the new zone, and click
     <span class="guimenu ">Add</span>.
    </p><p>
     In the <span class="guimenu ">Zone Editor</span> sub-dialog under <span class="guimenu ">Primary DNS
     Server IP</span>, specify the primary server from which the secondary server should pull
     its data. To limit access to the server, select one of the ACLs from the
     list.

    </p></div><div class="sect3 " id="sec-dns-yast-expert-add-primary"><div class="titlepage"><div><div><h4 class="title"><span class="number">19.3.2.8 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">DNS zones (adding a primary zone)</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert-add-primary">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-yast-expert-add-primary</li></ul></div></div></div></div><p>
     To add a primary zone, select <span class="guimenu ">DNS Zones</span>, choose the zone
     type <span class="guimenu ">Primary</span>, write the name of the new zone, and click
     <span class="guimenu ">Add</span>. When adding a primary zone, a reverse zone is also
     needed. For example, when adding the zone
     <code class="systemitem">example.com</code> that points to hosts in a subnet
     <code class="literal">192.168.1.0/24</code>, you should also add a reverse zone for
     the IP-address range covered. By definition, this should be named
     <code class="literal">1.168.192.in-addr.arpa</code>.
    </p></div><div class="sect3 " id="sec-dns-yast-expert-edit-primary"><div class="titlepage"><div><div><h4 class="title"><span class="number">19.3.2.9 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">DNS zones (editing a primary zone)</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert-edit-primary">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-yast-expert-edit-primary</li></ul></div></div></div></div><p>
     To edit a primary zone, select <span class="guimenu ">DNS Zones</span>, select the
     primary zone from the table and click <span class="guimenu ">Edit</span>. The dialog
     consists of several pages: <span class="guimenu ">Basics</span> (the one opened
     first), <span class="guimenu ">NS Records</span>, <span class="guimenu ">MX Records</span>,
     <span class="guimenu ">SOA</span>, and <span class="guimenu ">Records</span>.
    </p><p>
     The basic dialog, shown in <a class="xref" href="cha-dns.html#fig-yast2-dns-ddns" title="DNS server: Zone Editor (Basics)">Figure 19.5, “DNS server: Zone Editor (Basics)”</a>, lets you
     define settings for dynamic DNS and access options for zone transfers to
     clients and secondary name servers. To permit the dynamic updating of zones,
     select <span class="guimenu ">Allow Dynamic Updates</span> and the
     corresponding TSIG key. The key must have been defined before the update
     action starts. To enable zone transfers, select the corresponding ACLs.
     ACLs must have been defined already.
    </p><p>
     In the <span class="guimenu ">Basics</span> dialog, select whether to enable zone
     transfers. Use the listed ACLs to define who can download zones.
    </p><div class="figure" id="fig-yast2-dns-ddns"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_dns_def_ddns.png" target="_blank"><img src="images/yast2_dns_def_ddns.png" width="" alt="DNS server: Zone Editor (Basics)" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 19.5: </span><span class="name">DNS server: Zone Editor (Basics) </span><a title="Permalink" class="permalink" href="cha-dns.html#fig-yast2-dns-ddns">#</a></h6></div></div><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.5.4.5.4.11.6.1"><span class="term ">Zone Editor (NS Records)</span></dt><dd><p>
        The <span class="guimenu ">NS Records</span> dialog allows you to define
        alternative name servers for the zones specified. Make sure that your
        own name server is included in the list. To add a record, enter its
        name under <span class="guimenu ">Name Server to Add</span> then confirm with
        <span class="guimenu ">Add</span>. See <a class="xref" href="cha-dns.html#fig-yast2-dns-nsrec" title="DNS server: Zone Editor (NS Records)">Figure 19.6, “DNS server: Zone Editor (NS Records)”</a>.
       </p><div class="figure" id="fig-yast2-dns-nsrec"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_dns_def_nsrec.png" target="_blank"><img src="images/yast2_dns_def_nsrec.png" width="" alt="DNS server: Zone Editor (NS Records)" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 19.6: </span><span class="name">DNS server: Zone Editor (NS Records) </span><a title="Permalink" class="permalink" href="cha-dns.html#fig-yast2-dns-nsrec">#</a></h6></div></div></dd><dt id="id-1.4.5.4.5.4.11.6.2"><span class="term ">Zone Editor (MX Records)</span></dt><dd><p>
        To add a mail server for the current zone to the existing list, enter
        the corresponding address and priority value. After doing so, confirm
        by selecting <span class="guimenu ">Add</span>. See
        <a class="xref" href="cha-dns.html#fig-yast2-dns-mxrec" title="DNS server: Zone Editor (MX Records)">Figure 19.7, “DNS server: Zone Editor (MX Records)”</a>.
       </p><div class="figure" id="fig-yast2-dns-mxrec"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_dns_def_mxrec.png" target="_blank"><img src="images/yast2_dns_def_mxrec.png" width="" alt="DNS server: Zone Editor (MX Records)" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 19.7: </span><span class="name">DNS server: Zone Editor (MX Records) </span><a title="Permalink" class="permalink" href="cha-dns.html#fig-yast2-dns-mxrec">#</a></h6></div></div></dd><dt id="id-1.4.5.4.5.4.11.6.3"><span class="term ">Zone Editor (SOA)</span></dt><dd><p>
        This page allows you to create SOA (start of authority) records. For an
        explanation of the individual options, refer to
        <a class="xref" href="cha-dns.html#ex-welt-zone" title="The /var/lib/named/example.com.zone file">Example 19.6, “The /var/lib/named/example.com.zone file”</a>. <span class="phrase">Changing SOA
        records is not supported for dynamic zones managed via LDAP.</span>
       </p><div class="figure" id="fig-yast2-dns-soa"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_dns_def_soa.png" target="_blank"><img src="images/yast2_dns_def_soa.png" width="" alt="DNS server: Zone Editor (SOA)" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 19.8: </span><span class="name">DNS server: Zone Editor (SOA) </span><a title="Permalink" class="permalink" href="cha-dns.html#fig-yast2-dns-soa">#</a></h6></div></div></dd><dt id="id-1.4.5.4.5.4.11.6.4"><span class="term ">Zone Editor (Records)</span></dt><dd><p>
        This dialog manages name resolution. In <span class="guimenu ">Record Key</span>,
        enter the host name then select its type. The <span class="guimenu ">A</span> type
        represents the main entry. The value for this should be an IP address
        (IPv4). Use <span class="guimenu ">AAAA</span> for IPv6 addresses.
        <span class="guimenu ">CNAME</span> is an alias. Use the types
        <span class="guimenu ">NS</span> and <span class="guimenu ">MX</span> for detailed or partial
        records that expand on the information provided in the <span class="guimenu ">NS
        Records</span> and <span class="guimenu ">MX Records</span> tabs. These three
        types resolve to an existing <code class="literal">A</code> record.
        <span class="guimenu ">PTR</span> is for reverse zones. It is the opposite of an
        <code class="literal">A</code> record, for example:
       </p><div class="verbatim-wrap"><pre class="screen">hostname.example.com. IN A 192.168.0.1
1.0.168.192.in-addr.arpa IN PTR hostname.example.com.</pre></div></dd></dl></div><div class="sect4 " id="sec-dns-yast-expert-edit-primary-rev"><div class="titlepage"><div><div><h5 class="title"><span class="number">19.3.2.9.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Adding reverse zones</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-yast-expert-edit-primary-rev">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h5><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-yast-expert-edit-primary-rev</li></ul></div></div></div></div><p>
      To add a reverse zone, follow this procedure:
     </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
        Start <span class="guimenu ">YaST</span> › <span class="guimenu ">DNS
        Server</span> › <span class="guimenu ">DNS Zones</span>.
       </p></li><li class="step "><p>
        If you have not added a primary forward zone, add it and
        <span class="guimenu ">Edit</span> it.
       </p></li><li class="step "><p>
        In the <span class="guimenu ">Records</span> tab, fill the corresponding
        <span class="guimenu ">Record Key</span> and <span class="guimenu ">Value</span>, then add
        the record with <span class="guimenu ">Add</span> and confirm with
        <span class="guimenu ">OK</span>. If YaST complains about a non-existing record
        for a name server, add it in the <span class="guimenu ">NS Records</span> tab.
       </p><div class="figure" id="id-1.4.5.4.5.4.11.7.3.3.2"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_dns_revzone1.png" target="_blank"><img src="images/yast2_dns_revzone1.png" width="" alt="Adding a record for a primary zone" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 19.9: </span><span class="name">Adding a record for a primary zone </span><a title="Permalink" class="permalink" href="cha-dns.html#id-1.4.5.4.5.4.11.7.3.3.2">#</a></h6></div></div></li><li class="step "><p>
        Back in the <span class="guimenu ">DNS Zones</span> window, add a reverse primary
        zone.
       </p><div class="figure" id="id-1.4.5.4.5.4.11.7.3.4.2"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_dns_revzone2.png" target="_blank"><img src="images/yast2_dns_revzone2.png" width="" alt="Adding a reverse zone" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 19.10: </span><span class="name">Adding a reverse zone </span><a title="Permalink" class="permalink" href="cha-dns.html#id-1.4.5.4.5.4.11.7.3.4.2">#</a></h6></div></div></li><li class="step "><p>
        <span class="guimenu ">Edit</span> the reverse zone, and in the
        <span class="guimenu ">Records</span> tab, you can see the <span class="guimenu ">PTR: Reverse
        translation</span> record type. Add the corresponding
        <span class="guimenu ">Record Key</span> and <span class="guimenu ">Value</span>, then click
        <span class="guimenu ">Add</span> and confirm with <span class="guimenu ">OK</span>.
       </p><div class="figure" id="id-1.4.5.4.5.4.11.7.3.5.2"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_dns_revzone3.png" target="_blank"><img src="images/yast2_dns_revzone3.png" width="" alt="Adding a reverse record" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 19.11: </span><span class="name">Adding a reverse record </span><a title="Permalink" class="permalink" href="cha-dns.html#id-1.4.5.4.5.4.11.7.3.5.2">#</a></h6></div></div><p>
        Add a name server record if needed.
       </p></li></ol></div></div><div id="id-1.4.5.4.5.4.11.7.4" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg" /><h6>Tip: Editing the reverse zone</h6><p>
       After adding a forward zone, go back to the main menu and select the
       reverse zone for editing. There in the tab <span class="guimenu ">Basics</span>
       activate the check box <span class="guimenu ">Automatically Generate Records
       From</span> and select your forward zone. That way, all changes to
       the forward zone are automatically updated in the reverse zone.
      </p></div></div></div></div></div><div class="sect1 " id="sec-dns-bind"><div class="titlepage"><div><div><h2 class="title"><span class="number">19.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Starting the BIND name server</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-bind">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-bind</li></ul></div></div></div></div><p>
   On a <span class="productname"><span class="phrase">openSUSE® Leap</span></span> system, the name server BIND (<span class="emphasis"><em>Berkeley
   Internet Name Domain</em></span>) comes preconfigured, so it can be started
   right after installation without any problems. Normally, if you already have an Internet connection and entered
   <code class="systemitem">127.0.0.1</code> as the name server
   address for <code class="systemitem">localhost</code> in
   <code class="filename">/var/run/netconfig/resolv.conf</code>, you already have a working
   name resolution without needing to know the DNS of the provider. BIND
   carries out name resolution via the root name server, a notably slower
   process. Normally, the DNS of the provider should be entered with its IP
   address in the configuration file <code class="filename">/etc/named.conf</code> under
   <code class="systemitem">forwarders</code> to ensure effective and secure name
   resolution. If this works so far, the name server runs as a pure
   <span class="emphasis"><em>caching-only</em></span> name server. Only when you configure its
   own zones it becomes a proper DNS. Find a simple example documented in
   <code class="filename">/usr/share/doc/packages/bind/config</code>.
  </p><div id="id-1.4.5.4.6.3" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg" /><h6>Tip: Automatic adaptation of the name server information</h6><p>
    Depending on the type of Internet connection or the network connection, the
    name server information can automatically be adapted to the current
    conditions. To do this, set the
    <code class="systemitem">NETCONFIG_DNS_POLICY</code> variable in the
    <code class="filename">/etc/sysconfig/network/config</code> file to
    <code class="literal">auto</code>.
   </p></div><p>
   However, do not set up an official domain until one is assigned to you by
   the responsible institution. Even if you have your own domain and it is
   managed by the provider, you are better off not using it, because BIND would
   otherwise not forward requests for this domain. The Web server at the
   provider, for example, would not be accessible for this domain.
  </p><p>
   To start the name server, enter the command <code class="command">systemctl start
   named</code> as <code class="systemitem">root</code>. Check
   with <code class="command">systemctl status named</code> whether named (as the name
   server process is called) has been started successfully. Test the name
   server immediately on the local system with the <code class="command">host</code> or
   <code class="command">dig</code> programs, which should return
   <code class="systemitem">localhost</code> as the default server
   with the address <code class="systemitem">127.0.0.1</code>. If
   this is not the case, <code class="filename">/var/run/netconfig/resolv.conf</code> may
   contain an incorrect name server entry or the file does not exist. For the
   first test, enter <code class="command">host</code> <code class="option">127.0.0.1</code>,
   which should always work. If you get an error message, use
   <code class="command">systemctl status named</code> to see whether the server is
   running. If the name server does not start or behaves unexpectedly,
   check the output of <code class="command">journalctl -e</code>.
  </p><p>
   To use the name server of the provider (or one already running on your
   network) as the forwarder, enter the corresponding IP address or addresses
   in the <code class="systemitem">options</code> section under
   <code class="systemitem">forwarders</code>. The addresses included in
   <a class="xref" href="cha-dns.html#ex-forward" title="Forwarding options in named.conf">Example 19.1, “Forwarding options in named.conf”</a> are examples only. Adjust these entries to your
   own setup.
  </p><div class="example" id="ex-forward"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 19.1: </span><span class="name">Forwarding options in named.conf </span><a title="Permalink" class="permalink" href="cha-dns.html#ex-forward">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">options {
        directory "/var/lib/named";
        forwarders { 10.11.12.13; 10.11.12.14; };
        listen-on { 127.0.0.1; 192.168.1.116; };
        allow-query { 127/8; 192.168/16 };
        notify no;
};</pre></div></div></div><p>
   The <code class="systemitem">options</code> entry is followed by entries for the
   zone, <code class="systemitem">localhost</code>, and
   <code class="systemitem">0.0.127.in-addr.arpa</code>. The <code class="literal">type
   hint</code> entry under <span class="quote">“<span class="quote ">.</span>”</span> should always be present. The
   corresponding files do not need to be modified and should work as they are.
   Also make sure that each entry is closed with a <span class="quote">“<span class="quote ">;</span>”</span> and that
   the curly braces are in the correct places. After changing the configuration
   file <code class="filename">/etc/named.conf</code> or the zone files, tell BIND to
   reread them with <code class="command">systemctl reload named</code>. Achieve the same
   by stopping and restarting the name server with <code class="command">systemctl restart
   named</code>. Stop the server at any time by entering <code class="command">systemctl
   stop named</code>.
  </p></div><div class="sect1 " id="sec-dns-named"><div class="titlepage"><div><div><h2 class="title"><span class="number">19.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">The /etc/named.conf configuration file</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-named">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-named</li></ul></div></div></div></div><p>
   All the settings for the BIND name server itself are stored in the
   <code class="filename">/etc/named.conf</code> file. However, the zone data for the
   domains to handle (consisting of the host names, IP addresses, and so on)
   are stored in separate files in the <code class="filename">/var/lib/named</code>
   directory. The details of this are described later.
  </p><p>
   <code class="filename">/etc/named.conf</code> is roughly divided into two areas. One
   is the <code class="systemitem">options</code> section for general settings and the
   other consists of <code class="systemitem">zone</code> entries for the individual
   domains. A <code class="systemitem">logging</code> section and
   <code class="systemitem">acl</code> (access control list) entries are optional.
   Comment lines begin with a <code class="literal">#</code> sign or
   <code class="literal">//</code>. A minimal <code class="filename">/etc/named.conf</code> is
   shown in <a class="xref" href="cha-dns.html#ex-named-mini" title="A basic /etc/named.conf">Example 19.2, “A basic /etc/named.conf”</a>.
  </p><div class="example" id="ex-named-mini"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 19.2: </span><span class="name">A basic /etc/named.conf </span><a title="Permalink" class="permalink" href="cha-dns.html#ex-named-mini">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">options {
        directory "/var/lib/named";
        forwarders { 10.0.0.1; };
        notify no;
};

zone "localhost" in {
       type master;
       file "localhost.zone";
};

zone "0.0.127.in-addr.arpa" in {
        type master;
        file "127.0.0.zone";
};

zone "." in {
        type hint;
        file "root.hint";
};</pre></div></div></div><div class="sect2 " id="sec-dns-named-options"><div class="titlepage"><div><div><h3 class="title"><span class="number">19.5.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Important configuration options</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-named-options">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-named-options</li></ul></div></div></div></div><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.5.4.7.5.2.1"><span class="term ">directory "<em class="replaceable ">FILENAME</em>";</span></dt><dd><p>
       Specifies the directory in which BIND can find the files containing the
       zone data. Usually, this is <code class="filename">/var/lib/named</code>.
      </p></dd><dt id="id-1.4.5.4.7.5.2.2"><span class="term ">forwarders { <em class="replaceable ">IP-ADDRESS</em>; };</span></dt><dd><p>
       Specifies the name servers (of the provider) to which DNS requests should
       be forwarded if they cannot be resolved directly. Replace
       <em class="replaceable ">IP-ADDRESS</em> with an IP address like
       <code class="literal">192.168.1.116</code>.
      </p></dd><dt id="id-1.4.5.4.7.5.2.3"><span class="term ">forward first;</span></dt><dd><p>
       Causes DNS requests to be forwarded before an attempt is made to resolve
       them via the root name servers. Instead of <code class="systemitem">forward
       first</code>, <code class="systemitem">forward only</code> can be written
       to have all requests forwarded and none sent to the root name servers.
       This makes sense for firewall configurations.
      </p></dd><dt id="id-1.4.5.4.7.5.2.4"><span class="term ">listen-on port 53 { 127.0.0.1; <em class="replaceable ">IP-ADDRESS</em>; };</span></dt><dd><p>
       Tells BIND on which network interfaces and port to accept client
       queries. <code class="literal">port 53</code> does not need to be specified
       explicitly, because <code class="literal">53</code> is the default port. Enter
       <code class="literal">127.0.0.1</code> to permit requests from the local host. If
       you omit this entry entirely, all interfaces are used by default.
      </p></dd><dt id="id-1.4.5.4.7.5.2.5"><span class="term ">listen-on-v6 port 53 {any; };</span></dt><dd><p>
       Tells BIND on which port it should listen for IPv6 client requests. The
       only alternative to <code class="literal">any</code> is <code class="literal">none</code>.
       As far as IPv6 is concerned, the server only accepts wild card
       addresses.
      </p></dd><dt id="id-1.4.5.4.7.5.2.6"><span class="term ">query-source address * port 53;</span></dt><dd><p>
       This entry is necessary if a firewall is blocking outgoing DNS requests.
       This tells BIND to post requests externally from port 53 and not from
       any of the high ports above 1024.
      </p></dd><dt id="id-1.4.5.4.7.5.2.7"><span class="term ">query-source-v6 address * port 53;</span></dt><dd><p>
       Tells BIND which port to use for IPv6 queries.
      </p></dd><dt id="id-1.4.5.4.7.5.2.8"><span class="term ">allow-query { 127.0.0.1; <em class="replaceable ">NET</em>; };</span></dt><dd><p>
       Defines the networks from which clients can post DNS requests. Replace
       <em class="replaceable ">NET</em> with address information like
       <code class="literal">192.168.2.0/24</code>. The <code class="systemitem">/24</code> at
       the end is an abbreviated expression for the netmask (in this case
       <code class="systemitem">255.255.255.0</code>).
      </p></dd><dt id="id-1.4.5.4.7.5.2.9"><span class="term ">allow-transfer  ! *;;</span></dt><dd><p>
       Controls which hosts can request zone transfers. In the example, such
       requests are denied with <code class="systemitem">! *</code>.
       Without this entry, zone transfers can be requested from anywhere
       without restrictions.
      </p></dd><dt id="id-1.4.5.4.7.5.2.10"><span class="term ">statistics-interval 0;</span></dt><dd><p>
       Without this entry, BIND generates several lines of
       statistical information per hour in the system's journal. Set it to 0 to
       suppress these statistics or set an interval in minutes.
      </p></dd><dt id="id-1.4.5.4.7.5.2.11"><span class="term ">cleaning-interval 720;</span></dt><dd><p>
       This option defines at which time intervals BIND clears its cache. This
       triggers an entry in the system's journal each time it occurs. The time
       specification is in minutes. The default is 60 minutes.
      </p></dd><dt id="id-1.4.5.4.7.5.2.12"><span class="term ">interface-interval 0;</span></dt><dd><p>
       BIND regularly searches the network interfaces for new or nonexistent
       interfaces. If this value is set to <code class="systemitem">0</code>, this is
       not done and BIND only listens at the interfaces detected at start-up.
       Otherwise, the interval can be defined in minutes. The default is sixty
       minutes.
      </p></dd><dt id="id-1.4.5.4.7.5.2.13"><span class="term ">notify no;</span></dt><dd><p>
       <code class="option">no</code> prevents other name servers from being informed when
       changes are made to the zone data or when the name server is restarted.
      </p></dd></dl></div><p>
    For a list of available options, read the man page <code class="command">man 5
    named.conf</code>.
   </p></div><div class="sect2 " id="sec-dns-named-log"><div class="titlepage"><div><div><h3 class="title"><span class="number">19.5.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Logging</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-named-log">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-named-log</li></ul></div></div></div></div><p>
    What, how and where logging takes place can be extensively configured in
    BIND. Normally, the default settings should be sufficient.
    <a class="xref" href="cha-dns.html#ex-no-log" title="Entry to disable logging">Example 19.3, “Entry to disable logging”</a>, shows the simplest form of such an entry and
    suppresses any logging.
   </p><div class="example" id="ex-no-log"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 19.3: </span><span class="name">Entry to disable logging </span><a title="Permalink" class="permalink" href="cha-dns.html#ex-no-log">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">logging {
        category default { null; };
};</pre></div></div></div></div><div class="sect2 " id="sec-dns-named-zones"><div class="titlepage"><div><div><h3 class="title"><span class="number">19.5.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Zone entries</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-named-zones">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-named-zones</li></ul></div></div></div></div><div class="example" id="ex-meine-domain"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 19.4: </span><span class="name">Zone entry for example.com </span><a title="Permalink" class="permalink" href="cha-dns.html#ex-meine-domain">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">zone "example.com" in {
      type master;
      file "example.com.zone";
      notify no;
};</pre></div></div></div><p>
    After <code class="systemitem">zone</code>, specify the name of the domain to
    administer (<code class="systemitem">example.com</code>)
    followed by <code class="systemitem">in</code> and a block of relevant options
    enclosed in curly braces, as shown in <a class="xref" href="cha-dns.html#ex-meine-domain" title="Zone entry for example.com">Example 19.4, “Zone entry for example.com”</a>. To
    define a <span class="emphasis"><em>secondary zone</em></span>, switch the
    <code class="systemitem">type</code> to <code class="literal">secondary</code> and specify a
    name server that administers this zone as <code class="literal">primary</code> (which,
    in turn, may be a secondary server of another primary server), as shown in
    <a class="xref" href="cha-dns.html#ex-andere-domain" title="Zone entry for example.net">Example 19.5, “Zone entry for example.net”</a>.
   </p><div class="example" id="ex-andere-domain"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 19.5: </span><span class="name">Zone entry for example.net </span><a title="Permalink" class="permalink" href="cha-dns.html#ex-andere-domain">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">zone "example.net" in {
      type secondary;
      file "secondary/example.net.zone";
      
      masters { 10.0.0.1; }; 
};</pre></div></div></div><p>
    The zone options:
   </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.5.4.7.7.6.1"><span class="term ">type primary;</span></dt><dd><p>
       By specifying <code class="literal">primary</code>, tell BIND that the zone is
       handled by the local name server. This assumes that a zone file has been
       created in the correct format.
      </p></dd><dt id="id-1.4.5.4.7.7.6.2"><span class="term ">type secondary;</span></dt><dd><p>
       This zone is transferred from another name server. It must be used
       together with <code class="systemitem">primary_servers</code>.
      </p></dd><dt id="id-1.4.5.4.7.7.6.3"><span class="term ">type hint;</span></dt><dd><p>
       The zone <code class="literal">.</code> of the <code class="literal">hint</code> type is
       used to set the root name servers. This zone definition can be left as
       is.
      </p></dd><dt id="id-1.4.5.4.7.7.6.4"><span class="term ">file <code class="filename">example.com.zone</code> or file
      <span class="quote">“<span class="quote ">secondary/example.net.zone</span>”</span>;</span></dt><dd><p>
       This entry specifies the file where zone data for the domain is located.
       This file is not required for a secondary server, because this data is pulled from
       another name server. To differentiate files of the primary and secondary server, use the
       directory <code class="filename">secondary</code> for the secondary files.
      </p></dd><dt id="id-1.4.5.4.7.7.6.5"><span class="term ">primary_servers { <em class="replaceable ">SERVER_IP_ADDRESS</em>; };</span></dt><dd><p>
       This entry is only needed for secondary zones. It specifies from which name
       server the zone file should be transferred.
      </p></dd><dt id="id-1.4.5.4.7.7.6.6"><span class="term ">allow-update {! *; };</span></dt><dd><p>
       This option controls external write access, which would allow clients to
       make a DNS entry—something not normally desirable for security
       reasons. Without this entry, zone updates are not allowed. The above
       entry achieves the same because <code class="literal">! *</code> effectively bans
       any such activity.
      </p></dd></dl></div></div></div><div class="sect1 " id="sec-dns-zonefile"><div class="titlepage"><div><div><h2 class="title"><span class="number">19.6 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Zone files</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-zonefile">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-zonefile</li></ul></div></div></div></div><p>
   Two types of zone files are needed. One assigns IP addresses to host names
   and the other does the reverse: it supplies a host name for an IP address.
  </p><div id="id-1.4.5.4.8.3" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg" /><h6>Tip: Using the dot (period, full stop) in zone files</h6><p>
    The <code class="literal">"."</code> has an important meaning in the zone files. If
    host names are given without a final dot (<code class="literal">.</code>), the zone
    is appended. Complete host names specified with a full domain name must end
    with a dot (<code class="literal">.</code>) to avoid having the domain added to it
    again. A missing or wrongly placed "." is the most frequent cause
    of name server configuration errors.
   </p></div><p>
   The first case to consider is the zone file
   <code class="filename">example.com.zone</code>, responsible for the domain
   <code class="filename">example.com</code>, shown in
   <a class="xref" href="cha-dns.html#ex-welt-zone" title="The /var/lib/named/example.com.zone file">Example 19.6, “The /var/lib/named/example.com.zone file”</a>.
  </p><div class="example" id="ex-welt-zone"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 19.6: </span><span class="name">The /var/lib/named/example.com.zone file </span><a title="Permalink" class="permalink" href="cha-dns.html#ex-welt-zone">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">$TTL 2D <span id="welt-zone-ttl"></span><span class="callout">1</span>
example.com. IN SOA      dns  root.example.com. ( <span id="welt-zone-soa-start"></span><span class="callout">2</span>
             2003072441  ; serial <span id="welt-zone-serial-no"></span><span class="callout">3</span>
             1D          ; refresh <span id="welt-zone-refresh"></span><span class="callout">4</span>
             2H          ; retry <span id="welt-zone-retry"></span><span class="callout">5</span>
             1W          ; expiry <span id="welt-zone-expire"></span><span class="callout">6</span>
             2D )        ; minimum <span id="welt-zone-caching-time"></span><span class="callout">7</span>

             IN NS       dns <span id="welt-zone-inns"></span><span class="callout">8</span>
             IN MX       10 mail dns <span id="welt-zone-mx"></span><span class="callout">9</span>
gate         IN A        192.168.5.1 <span id="welt-zone-ips"></span><span class="callout">10</span>
             IN A        10.0.0.1
dns          IN A        192.168.1.116
mail         IN A        192.168.3.108
jupiter      IN A        192.168.2.100
venus        IN A        192.168.2.101
saturn       IN A        192.168.2.102
mercury      IN A        192.168.2.103
ntp          IN CNAME    dns <span id="welt-zone-ntp"></span><span class="callout">11</span>
dns6         IN A6  0    2002:c0a8:174::</pre></div></div></div><div class="calloutlist "><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#welt-zone-ttl"><span class="callout">1</span></a> </p></td><td valign="top" align="left"><p>
     <code class="systemitem">$TTL</code> defines the default time to live that
     should apply to all the entries in this file. In this example, entries
     are valid for a period of two days (<code class="literal">2 D</code>).
    </p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#welt-zone-soa-start"><span class="callout">2</span></a> </p></td><td valign="top" align="left"><p>
     This is where the SOA (start of authority) control record begins:
    </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
       The name of the domain to administer is
       <code class="literal">example.com</code> in the first position. This ends
       with <code class="literal">"."</code>, because otherwise the zone would be
       appended a second time. Alternatively, <code class="literal">@</code> can be
       entered here, in which case the zone would be extracted from the
       corresponding entry in <code class="filename">/etc/named.conf</code>.
      </p></li><li class="listitem "><p>
       After <code class="systemitem">IN SOA</code> is the name of the name server in
       charge as a primary server for this zone. The name is expanded from
       <code class="literal">dns</code> to <code class="literal">dns.example.com</code>, because it does
       not end with a <code class="literal">"."</code>.
      </p></li><li class="listitem "><p>
       An e-mail address of the person in charge of this name server follows.
       Because the <code class="literal">@</code> sign already has a special meaning,
       <code class="literal">"."</code> is entered here instead. For
       <code class="systemitem">root@example.com</code> the entry must read
       <code class="systemitem">root.example.com.</code>. The
       <code class="literal">"."</code> must be included at the end to prevent the zone
       from being added.
      </p></li><li class="listitem "><p>
       The <code class="literal">(</code> includes all lines up to <code class="literal">)</code>
       into the SOA record.
      </p></li></ul></div></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#welt-zone-serial-no"><span class="callout">3</span></a> </p></td><td valign="top" align="left"><p>
     The <code class="systemitem">serial number</code> is a 10-digit number. It must
     be changed each time this file is changed. It is needed to inform the
     secondary name servers (secondary servers) of changes. For this, a 10-digit
     number of the date and run number, written as YYYYMMDDNN, has become the
     customary format (YYYY = year, MM = month and DD = day. NN is a
     sequence number in case you update it more than once on the given day).
    </p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#welt-zone-refresh"><span class="callout">4</span></a> </p></td><td valign="top" align="left"><p>
     The <code class="systemitem">refresh rate</code> specifies the time interval at
     which the secondary name servers verify the zone <code class="systemitem">serial
     number</code>. In this case, one day.
    </p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#welt-zone-retry"><span class="callout">5</span></a> </p></td><td valign="top" align="left"><p>
     The <code class="systemitem">retry rate</code> specifies the time interval at
     which a secondary name server, in case of error, attempts to contact the
     primary server again. Here, two hours.
    </p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#welt-zone-expire"><span class="callout">6</span></a> </p></td><td valign="top" align="left"><p>
     The <code class="systemitem">expiration time</code> specifies the time frame
     after which a secondary name server discards the cached data if it has
     not regained contact to the primary server. Here, a week.
    </p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#welt-zone-caching-time"><span class="callout">7</span></a> </p></td><td valign="top" align="left"><p>
     The last entry in the SOA record specifies the <code class="systemitem">negative
     caching TTL</code>—the time for which results of unresolved
     DNS queries from other servers may be cached.
    </p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#welt-zone-inns"><span class="callout">8</span></a> </p></td><td valign="top" align="left"><p>
     The <code class="systemitem">IN NS</code> specifies the name server responsible
     for this domain. <code class="systemitem">dns</code> is extended to
     <code class="systemitem">dns.example.com</code> because it does not end with a
     <code class="literal">"."</code>. There can be several lines like this—one for
     the primary and one for each secondary name server. If
     <code class="systemitem">notify</code> is not set to <code class="option">no</code> in
     <code class="filename">/etc/named.conf</code>, all the name servers listed here are
     informed of the changes made to the zone data.
    </p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#welt-zone-mx"><span class="callout">9</span></a> </p></td><td valign="top" align="left"><p>
     The MX record specifies the mail server that accepts, processes, and
     forwards e-mails for the domain <code class="systemitem">example.com</code>. In this example, this is
     the host <code class="systemitem">mail.example.com</code>. The
     number in front of the host name is the preference value. If there are
     multiple MX entries, the mail server with the smallest value is taken
     first. If mail delivery to this server fails, the entry with the
     next-smallest value is used.
    </p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#welt-zone-ips"><span class="callout">10</span></a> </p></td><td valign="top" align="left"><p>
     This and the following lines are the actual address records where one or more IP addresses are
      assigned to host names. The names are listed here without a
      <code class="literal">"."</code> because they do not include their domain, so
      <code class="systemitem">example.com</code> is added to
      them all. Two IP addresses are assigned to the host
      <code class="systemitem">gate</code>, as it has two network cards.

      Wherever the host address is a traditional one (IPv4), the record is
      marked with <code class="literal">A</code>. If the address is an IPv6 address, the
      entry is marked with <code class="literal">AAAA</code>.

     </p><div id="id-1.4.5.4.8.6.10.2" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg" /><h6>Note: IPv6 syntax</h6><p>
       The IPv6 record has a slightly different syntax than IPv4. Because of
       the fragmentation possibility, it is necessary to provide information
       about missed bits before the address. To fill up the IPv6 address with
       the needed number of <span class="quote">“<span class="quote ">0</span>”</span>, add two colons at the correct
       place in the address.

      </p><div class="verbatim-wrap"><pre class="screen">pluto     AAAA 2345:00C1:CA11::1234:5678:9ABC:DEF0
pluto     AAAA 2345:00D2:DA11::1234:5678:9ABC:DEF0</pre></div></div></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#welt-zone-ntp"><span class="callout">11</span></a> </p></td><td valign="top" align="left"><p>
     The alias <code class="literal">ntp</code> can be used to address
     <code class="literal">dns</code> (<code class="systemitem">CNAME</code> means
     <span class="emphasis"><em>canonical name</em></span>).
    </p></td></tr></table></div><p>
   The pseudo domain <code class="literal">in-addr.arpa</code> is used for the reverse
   lookup of IP addresses into host names. It is appended to the network part
   of the address in reverse notation. So
   <code class="systemitem">192.168</code> is resolved into
   <code class="systemitem">168.192.in-addr.arpa</code>. See
   <a class="xref" href="cha-dns.html#dat-arpa" title="Reverse lookup">Example 19.7, “Reverse lookup”</a>.
  </p><div class="example" id="dat-arpa"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 19.7: </span><span class="name">Reverse lookup </span><a title="Permalink" class="permalink" href="cha-dns.html#dat-arpa">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">$TTL 2D <span id="data-arpa-ttl"></span><span class="callout">1</span>
168.192.in-addr.arpa.   IN SOA dns.example.com. root.example.com. ( <span id="data-arpa-soa"></span><span class="callout">2</span>
                        2003072441      ; serial
                        1D              ; refresh
                        2H              ; retry
                        1W              ; expiry
                        2D )            ; minimum

                        IN NS           dns.example.com. <span id="data-arpa-inns"></span><span class="callout">3</span>

1.5                     IN PTR          gate.example.com. <span id="data-arpa-ips"></span><span class="callout">4</span>
100.3                   IN PTR          www.example.com.
253.2                   IN PTR          cups.example.com.</pre></div></div></div><div class="calloutlist "><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#data-arpa-ttl"><span class="callout">1</span></a> </p></td><td valign="top" align="left"><p>
     $TTL defines the standard TTL that applies to all entries here.
    </p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#data-arpa-soa"><span class="callout">2</span></a> </p></td><td valign="top" align="left"><p>
     The configuration file should activate reverse lookup for the network
     <code class="systemitem">192.168</code>. Given
     that the zone is called <code class="systemitem">168.192.in-addr.arpa</code>, it
     should not be added to the host names. Therefore, all host names are
     entered in their complete form—with their domain and with a
     <code class="literal">"."</code> at the end. The remaining entries correspond to
     those described for the previous <code class="systemitem">example.com</code>
     example.
    </p><p>
     See <a class="xref" href="cha-dns.html#ex-welt-zone" title="The /var/lib/named/example.com.zone file">Example 19.6, “The /var/lib/named/example.com.zone file”</a> for detail on the entries within this
     record.
    </p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#data-arpa-inns"><span class="callout">3</span></a> </p></td><td valign="top" align="left"><p>
     This line specifies the name server responsible for this zone. This time,
     however, the name is entered in its complete form with the domain and a
     <code class="literal">"."</code> at the end.
    </p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#data-arpa-ips"><span class="callout">4</span></a> </p></td><td valign="top" align="left"><p>
     This, and the following lines, are the pointer records hinting at the IP
     addresses on the respective hosts. Only the last part of the IP address is
     entered at the beginning of the line, without the <code class="literal">"."</code>
     at the end. Appending the zone to this (without the
     <code class="systemitem">.in-addr.arpa</code>) results in the complete IP address
     in reverse order.
    </p></td></tr></table></div><p>
   Normally, zone transfers between different versions of BIND should be
   possible without any problems.
  </p></div><div class="sect1 " id="sec-dns-dynupdate"><div class="titlepage"><div><div><h2 class="title"><span class="number">19.7 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Dynamic update of zone data</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-dynupdate">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-dynupdate</li></ul></div></div></div></div><p>
   The term <span class="emphasis"><em>dynamic update</em></span> refers to operations by which
   entries in the zone files of a primary server are added, changed or deleted.
   This mechanism is described in RFC 2136. Dynamic update is configured
   individually for each zone entry by adding an optional
   <code class="systemitem">allow-update</code> or
   <code class="systemitem">update-policy</code> rule. Zones to update dynamically
   should not be edited by hand.
  </p><p>
   Transmit the entries to update to the server with the command
   <code class="command">nsupdate</code>. For the exact syntax of this command, check the
   man page for nsupdate (<code class="command">man</code> <code class="option">8
   nsupdate</code>). For security reasons, any such update should be
   performed using TSIG keys as described in <a class="xref" href="cha-dns.html#sec-dns-tsig" title="19.8. Secure transactions">Section 19.8, “Secure transactions”</a>.
  </p></div><div class="sect1 " id="sec-dns-tsig"><div class="titlepage"><div><div><h2 class="title"><span class="number">19.8 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Secure transactions</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-tsig">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-tsig</li></ul></div></div></div></div><p>
   Secure transactions can be made with transaction signatures (TSIGs) based on
   shared secret keys (also called TSIG keys). This section describes how to
   generate and use such keys.
  </p><p>
   Secure transactions are needed for communication between different servers
   and for the dynamic update of zone data. Making the access control dependent
   on keys is much more secure than merely relying on IP addresses.
  </p><p>
   Generate a TSIG key with the following command (for details, see
   <code class="command">man</code> <code class="option">tsig-keygen</code>):
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> tsig-keygen -a hmac-md5 host1-host2 &gt; host1-host2.key</pre></div><p>
   This creates a file with the name <code class="filename">host1-host2.key</code> with
   contents that may look as follows:
  </p><div class="verbatim-wrap"><pre class="screen">key "host1-host2" {                       |
    algorithm hmac-md5;
    secret "oHpBLgtcZso6wxnRTWdJMA==";
};</pre></div><p>
   The file must be transferred to the remote host, preferably in a secure way
   (using scp, for example). To enable a secure communication between
   <code class="literal">host1</code> and <code class="literal">host2</code>, the key must be
   included in the <code class="filename">/etc/named.conf</code> file on both the local
   and the remote
   server.
  </p><div class="verbatim-wrap"><pre class="screen">key host1-host2 {
 algorithm hmac-md5;
 secret "ejIkuCyyGJwwuN3xAteKgg==";
};</pre></div><div id="id-1.4.5.4.10.10" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg" /><h6>Warning: File permissions of <code class="filename">/etc/named.conf</code></h6><p>
    Make sure that the permissions of <code class="filename">/etc/named.conf</code> are
    properly restricted. The default for this file is <code class="literal">0640</code>,
    with the owner being <code class="systemitem">root</code> and the
    group <code class="systemitem">named</code>. As an alternative,
    move the keys to an extra file with specially limited permissions, which is
    then included from <code class="filename">/etc/named.conf</code>. To include an
    external file, use:
   </p><div class="verbatim-wrap"><pre class="screen">include  "filename"</pre></div><p>
    Replace <code class="option">filename</code> with an absolute path to your file with
    keys.
   </p></div><p>





   To enable the server <code class="literal">host1</code> to use the key for
   <code class="literal">host2</code> (which has the address <code class="literal">10.1.2.3</code>
   in this example), the server's <code class="filename">/etc/named.conf</code> must
   include the following rule:
  </p><div class="verbatim-wrap"><pre class="screen">server 10.1.2.3 {
  keys { host1-host2. ;};
};</pre></div><p>
   Analogous entries must be included in the configuration files of
   <code class="literal">host2</code>.
  </p><p>
   Add TSIG keys for any ACLs (access control lists, not to be confused with
   file system ACLs) that are defined for IP addresses and address ranges to
   enable transaction security. The corresponding entry could look like this:
  </p><div class="verbatim-wrap"><pre class="screen">allow-update { key host1-host2. ;};</pre></div><p>
   This topic is discussed in more detail in the <span class="emphasis"><em>BIND Administrator
   Reference Manual</em></span> under <code class="literal">update-policy</code>.
  </p></div><div class="sect1 " id="sec-dns-dnssec"><div class="titlepage"><div><div><h2 class="title"><span class="number">19.9 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">DNS security</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-dnssec">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-dnssec</li></ul></div></div></div></div><p>
   DNSSEC, or DNS security, is described in RFC 2535. The tools available
   for DNSSEC are discussed in the BIND Manual.
  </p><p>
   A zone considered secure must have one or several zone keys associated with
   it. These are generated with <code class="command">dnssec-keygen</code>, as are the
   host keys. The DSA encryption algorithm is currently used to generate these
   keys. The public keys generated should be included in the corresponding zone
   file with an <code class="systemitem">$INCLUDE</code> rule.
  </p><p>
   With the command <code class="command">dnssec-signzone</code>, you can create sets of
   generated keys (<code class="literal">keyset-</code> files), transfer them to the
   parent zone in a secure manner, and sign them. This generates the files to
   include for each zone in <code class="filename">/etc/named.conf</code>.
  </p></div><div class="sect1 " id="sec-dns-info"><div class="titlepage"><div><div><h2 class="title"><span class="number">19.10 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">More information</span> <a title="Permalink" class="permalink" href="cha-dns.html#sec-dns-info">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_dns.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_dns.xml</li><li><span class="ds-label">ID: </span>sec-dns-info</li></ul></div></div></div></div><p>
   For more information, see the <span class="emphasis"><em>BIND Administrator Reference
   Manual</em></span> from the
   <code class="systemitem">bind-doc</code> package, which is
   installed under <code class="filename">/usr/share/doc/packages/bind/arm</code>.
   Consider additionally consulting the RFCs referenced by the manual and the
   manual pages included with BIND.
   <code class="filename">/usr/share/doc/packages/bind/README.SUSE</code> contains
   up-to-date information about BIND in <span class="productname"><span class="phrase">openSUSE Leap</span></span>.
  </p></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha-dhcp.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 20 </span>DHCP</span></a><a class="nav-link" href="cha-ntp.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 18 </span>Time synchronization with NTP</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2024 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>