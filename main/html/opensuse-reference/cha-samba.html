<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Samba | Reference | openSUSE Leap 15.6</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" />
<meta name="title" content="Samba | openSUSE Leap 15.6" />
<meta name="description" content="Using Samba, a Unix machine can be configured as a file and print server for macOS, Windows, and OS/2 machines. Samba has developed into a fully fledged and ra…" />
<meta name="product-name" content="openSUSE Leap" />
<meta name="product-number" content="15.6" />
<meta name="book-title" content="Reference" />
<meta name="chapter-title" content="Chapter 21. Samba" />
<meta name="tracker-url" content="https://bugzilla.opensuse.org/enter_bug.cgi" />
<meta name="tracker-type" content="bsc" />
<meta name="tracker-bsc-assignee" content="fs@suse.com" />
<meta name="tracker-bsc-component" content="Documentation" />
<meta name="tracker-bsc-product" content="openSUSE Distribution" />
<meta name="tracker-bsc-version" content="Leap 15.4" />
<meta property="og:title" content="Samba | openSUSE Leap 15.6" />
<meta property="og:description" content="Using Samba, a Unix machine can be configured as a file and print server for macOS, Windows, and OS/2 machines. Samba has developed into a fully fledged and ra…" />
<meta property="og:type" content="article" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Samba | openSUSE Leap 15.6" />
<meta name="twitter:description" content="Using Samba, a Unix machine can be configured as a file and print server for macOS, Windows, and OS/2 machines. Samba has developed into a fully fledged and ra…" />
<link rel="home" href="index.html" title="openSUSE Leap Documentation" /><link rel="up" href="part-reference-services.html" title="Part III. Services" /><link rel="prev" href="cha-dhcp.html" title="Chapter 20. DHCP" /><link rel="next" href="cha-nfs.html" title="Chapter 22. Sharing file systems with NFS" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" /></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #E11;"><div id="_header"><div id="_logo"><img src="static/images/logo.svg" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="Reference"><span class="book-icon">Reference</span></a><span> › </span><a class="crumb" href="part-reference-services.html">Services</a><span> › </span><a class="crumb" href="cha-samba.html">Samba</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Reference</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface-reference.html"><span class="number"> </span><span class="name">About this guide</span></a></li><li class="inactive"><a href="part-reference-adv-admin.html"><span class="number">I </span><span class="name">Advanced administration</span></a><ol><li class="inactive"><a href="cha-yast-text.html"><span class="number">1 </span><span class="name">YaST in text mode</span></a></li><li class="inactive"><a href="cha-sw-cl.html"><span class="number">2 </span><span class="name">Managing software with command line tools</span></a></li><li class="inactive"><a href="cha-snapper.html"><span class="number">3 </span><span class="name">System recovery and snapshot management with Snapper</span></a></li><li class="inactive"><a href="cha-vnc.html"><span class="number">4 </span><span class="name">Remote graphical sessions with VNC</span></a></li><li class="inactive"><a href="cha-expert-partitioner.html"><span class="number">5 </span><span class="name"><span class="guimenu ">Expert Partitioner</span></span></a></li><li class="inactive"><a href="cha-tuning-multikernel.html"><span class="number">6 </span><span class="name">Installing multiple kernel versions</span></a></li><li class="inactive"><a href="cha-gui-desktop.html"><span class="number">7 </span><span class="name">Graphical user interface</span></a></li></ol></li><li class="inactive"><a href="part-reference-system.html"><span class="number">II </span><span class="name">System</span></a><ol><li class="inactive"><a href="cha-64bit.html"><span class="number">8 </span><span class="name">32-bit and 64-bit applications in a 64-bit system environment</span></a></li><li class="inactive"><a href="cha-boot.html"><span class="number">9 </span><span class="name">Introduction to the boot process</span></a></li><li class="inactive"><a href="cha-systemd.html"><span class="number">10 </span><span class="name">The <code class="systemitem">systemd</code> daemon</span></a></li><li class="inactive"><a href="cha-journalctl.html"><span class="number">11 </span><span class="name"><code class="command">journalctl</code>: query the <code class="systemitem">systemd</code> journal</span></a></li><li class="inactive"><a href="cha-grub2.html"><span class="number">12 </span><span class="name">The boot loader GRUB 2</span></a></li><li class="inactive"><a href="cha-network.html"><span class="number">13 </span><span class="name">Basic networking</span></a></li><li class="inactive"><a href="cha-uefi.html"><span class="number">14 </span><span class="name">UEFI (Unified Extensible Firmware Interface)</span></a></li><li class="inactive"><a href="cha-suse.html"><span class="number">15 </span><span class="name">Special system features</span></a></li><li class="inactive"><a href="cha-udev.html"><span class="number">16 </span><span class="name">Dynamic kernel device management with <code class="systemitem">udev</code></span></a></li></ol></li><li class="inactive"><a href="part-reference-services.html"><span class="number">III </span><span class="name">Services</span></a><ol><li class="inactive"><a href="cha-slp.html"><span class="number">17 </span><span class="name">SLP</span></a></li><li class="inactive"><a href="cha-ntp.html"><span class="number">18 </span><span class="name">Time synchronization with NTP</span></a></li><li class="inactive"><a href="cha-dns.html"><span class="number">19 </span><span class="name">The domain name system</span></a></li><li class="inactive"><a href="cha-dhcp.html"><span class="number">20 </span><span class="name">DHCP</span></a></li><li class="inactive"><a href="cha-samba.html"><span class="number">21 </span><span class="name">Samba</span></a></li><li class="inactive"><a href="cha-nfs.html"><span class="number">22 </span><span class="name">Sharing file systems with NFS</span></a></li><li class="inactive"><a href="cha-autofs.html"><span class="number">23 </span><span class="name">On-demand mounting with autofs</span></a></li><li class="inactive"><a href="cha-apache2.html"><span class="number">24 </span><span class="name">The Apache HTTP server</span></a></li><li class="inactive"><a href="cha-ftp.html"><span class="number">25 </span><span class="name">Setting up an FTP server with YaST</span></a></li><li class="inactive"><a href="cha-squid.html"><span class="number">26 </span><span class="name">Squid caching proxy server</span></a></li></ol></li><li class="inactive"><a href="part-reference-mobility.html"><span class="number">IV </span><span class="name">Mobile computers</span></a><ol><li class="inactive"><a href="cha-mobile.html"><span class="number">27 </span><span class="name">Mobile computing with Linux</span></a></li><li class="inactive"><a href="cha-nm.html"><span class="number">28 </span><span class="name">Using NetworkManager</span></a></li><li class="inactive"><a href="cha-power-mgmt.html"><span class="number">29 </span><span class="name">Power management</span></a></li></ol></li><li class="inactive"><a href="app-nwscheme.html"><span class="number">A </span><span class="name">An example network</span></a></li><li class="inactive"><a href="bk02apb.html"><span class="number">B </span><span class="name">GNU licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 20. DHCP" href="cha-dhcp.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 22. Sharing file systems with NFS" href="cha-nfs.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #E11;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="Reference"><span class="book-icon">Reference</span></a><span> › </span><a class="crumb" href="part-reference-services.html">Services</a><span> › </span><a class="crumb" href="cha-samba.html">Samba</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 20. DHCP" href="cha-dhcp.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 22. Sharing file systems with NFS" href="cha-nfs.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha-samba"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname "><span class="productname"><span class="phrase">openSUSE Leap</span></span></span> <span class="productnumber "><span class="productnumber"><span class="phrase">15.6</span></span></span></div><div><h2 class="title"><span class="number">21 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Samba</span> <a title="Permalink" class="permalink" href="cha-samba.html#">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>cha-samba</li></ul></div></div><div><div class="abstract"><div class="abstract-title-wrap"><h6 class="abstract-title">Abstract<a title="Permalink" class="permalink" href="cha-samba.html#id-1.4.5.6.2.1">#</a></h6></div><p>
        Using Samba, a Unix machine can be configured as a file and print
        server for macOS, Windows, and OS/2 machines. Samba has developed into
        a fully fledged and rather complex product. Configure Samba with
        YaST, or by editing the configuration file manually.
      </p></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha-samba.html#sec-samba-term"><span class="number">21.1 </span><span class="name">Terminology</span></a></span></dt><dt><span class="sect1"><a href="cha-samba.html#sec-samba-install"><span class="number">21.2 </span><span class="name">Installing a Samba server</span></a></span></dt><dt><span class="sect1"><a href="cha-samba.html#sec-samba-serv-start"><span class="number">21.3 </span><span class="name">Starting and stopping Samba</span></a></span></dt><dt><span class="sect1"><a href="cha-samba.html#sec-samba-serv-inst"><span class="number">21.4 </span><span class="name">Configuring a Samba server</span></a></span></dt><dt><span class="sect1"><a href="cha-samba.html#sec-samba-client-inst"><span class="number">21.5 </span><span class="name">Configuring clients</span></a></span></dt><dt><span class="sect1"><a href="cha-samba.html#sec-samba-anmeld-serv"><span class="number">21.6 </span><span class="name">Samba as login server</span></a></span></dt><dt><span class="sect1"><a href="cha-samba.html#sec-samba-adnet"><span class="number">21.7 </span><span class="name">Samba server in the network with Active Directory</span></a></span></dt><dt><span class="sect1"><a href="cha-samba.html#sec-samba-advanced"><span class="number">21.8 </span><span class="name">Advanced topics</span></a></span></dt><dt><span class="sect1"><a href="cha-samba.html#sec-samba-info"><span class="number">21.9 </span><span class="name">More information</span></a></span></dt></dl></div></div><div id="id-1.4.5.6.3" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg" /><h6>Important: SMB1 is unsupported</h6><p>
      Starting with Samba version 4.17, the SMB1 protocol has been disabled in
      <span class="productname"><span class="phrase">openSUSE Leap</span></span>.
    </p></div><div class="sect1 " id="sec-samba-term"><div class="titlepage"><div><div><h2 class="title"><span class="number">21.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Terminology</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-term">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-term</li></ul></div></div></div></div><p>
      The following are some terms used in Samba documentation and in the
      YaST module.
    </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.5.6.4.3.1"><span class="term ">SMB protocol</span></dt><dd><p>
            Samba uses the SMB (server message block) protocol, which is based
            on <span class="productname">NetBIOS</span> services. Microsoft
            released the protocol so that software from other manufacturers
            could establish connections to servers running Microsoft
            operating systems. Samba implements the SMB protocol on top of the
            TCP/IP protocol, which means that TCP/IP must be installed and
            enabled on all clients.
          </p></dd><dt id="id-1.4.5.6.4.3.2"><span class="term ">CIFS protocol</span></dt><dd><p>
            The CIFS (Common Internet File System) protocol is an early version
            of the SMB protocol, also known as SMB1. CIFS defines a standard
            remote file system access protocol for use over TCP/IP, enabling
            groups of users to work together and share documents across the
            Internet.
          </p><p>
            SMB1 was superseded by SMB2, first released as part of Microsoft
            Windows Vista™. This was in turn superseded by SMB3 in
            Microsoft Windows 8™ and Microsoft Windows Server 2012. In
            recent versions of Samba, SMB1 is disabled by default for security
            reasons.
          </p></dd><dt id="id-1.4.5.6.4.3.3"><span class="term ">NetBIOS</span></dt><dd><p>
            <span class="productname">NetBIOS</span> is a software interface
            (API) designed for name resolution and communication between
            computers on a network. It enables machines connected to the
            network to reserve names for themselves. After reservation, these
            machines can be addressed by name. There is no central process that
            checks names. Any machine on the network can reserve as many names
            as it wants, as long as the names are not already in use. NetBIOS
            can be implemented on top of different network protocols. One
            relatively simple, non-routable implementation is called
            <span class="productname">NetBEUI</span>. (This is often
            confused with the NetBIOS API.) NetBIOS is also supported on top of
            the Novell IPX/SPX protocol. Since version 3.2, Samba supports
            NetBIOS over both IPv4 and IPv6.
          </p><p>
            The NetBIOS names sent via TCP/IP have nothing in common with the
            names used in <code class="filename">/etc/hosts</code> or those defined by
            DNS. NetBIOS uses its own, completely independent naming
            convention. However, we recommend using names that correspond
            to DNS host names, to make administration easier, or to use DNS
            natively. This is the default used by Samba.
          </p></dd><dt id="id-1.4.5.6.4.3.4"><span class="term ">Samba server</span></dt><dd><p>
            Samba server provides SMB/CIFS services and NetBIOS over IP naming
            services to clients. For Linux, there are three daemons for the
            Samba server: <code class="literal">smbd</code> for SMB/CIFS services,
            <code class="literal">nmbd</code> for naming services, and
            <code class="literal">winbind</code> for authentication.
          </p></dd><dt id="id-1.4.5.6.4.3.5"><span class="term ">Samba client</span></dt><dd><p>
            The Samba client is a system that uses Samba services from a Samba
            server over the SMB protocol. Common operating systems, such as
            Windows and macOS, support the SMB protocol. The TCP/IP protocol
            must be installed on all computers. Samba provides a client for the
            different Unix flavors. For Linux, there is a kernel module for SMB
            that allows the integration of SMB resources on the Linux system
            level. You do not need to run any daemon for the Samba client.
          </p></dd><dt id="id-1.4.5.6.4.3.6"><span class="term ">Shares</span></dt><dd><p>
            SMB servers provide resources to the clients by
            <span class="emphasis"><em>shares</em></span>. Shares are directories (including
            their subdirectories) and printers on the server. A share is
            exported by means of a <span class="emphasis"><em>share name</em></span>, and can be
            accessed by this name. The share name can be set to any
            name—it does not need to be the name of the export directory.
            Shared printers are also assigned names. Clients can access shared
            directories and printers by their names.
          </p><p>
            By convention, share names ending with a dollar symbol
            (<code class="literal">$</code>) are hidden. When using a Windows
            computer to browse available shares, they will not be displayed.
          </p></dd><dt id="id-1.4.5.6.4.3.7"><span class="term ">DC</span></dt><dd><p>
            A domain controller (DC) is a server that handles accounts in a
            domain. For data replication, it is possible to have multiple
            domain controllers in a single domain.
          </p></dd></dl></div></div><div class="sect1 " id="sec-samba-install"><div class="titlepage"><div><div><h2 class="title"><span class="number">21.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Installing a Samba server</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-install">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-install</li></ul></div></div></div></div><p>
      To install a Samba server, start YaST and select
      <span class="guimenu ">Software</span> › <span class="guimenu ">Software
      Management</span>. Choose
      <span class="guimenu ">View</span> › <span class="guimenu ">Patterns</span> and select <span class="guimenu ">File
      Server</span>. Confirm the installation of the required packages to
      finish the installation process.
    </p></div><div class="sect1 " id="sec-samba-serv-start"><div class="titlepage"><div><div><h2 class="title"><span class="number">21.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Starting and stopping Samba</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-serv-start">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-serv-start</li></ul></div></div></div></div><p>
      You can start or stop the Samba server automatically (during boot) or
      manually. The starting and stopping policy is a part of the YaST Samba
      server configuration described in <a class="xref" href="cha-samba.html#sec-samba-yast2-conf" title="21.4.1. Configuring a Samba server with YaST">Section 21.4.1, “Configuring a Samba server with YaST”</a>.
    </p><p>
      From a command line, stop services required for Samba with
      <code class="command">systemctl stop smb nmb</code> and start them with
      <code class="command">systemctl start nmb smb</code>. The <code class="literal">smb</code>
      service cares about <code class="literal">winbind</code> if needed.
    </p><div id="id-1.4.5.6.6.4" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg" /><h6>Tip: <code class="systemitem">winbind</code></h6><p>
        <code class="systemitem">winbind</code> is an independent service and
        is also offered as an individual <code class="systemitem">samba-winbind</code>
        package.
      </p></div></div><div class="sect1 " id="sec-samba-serv-inst"><div class="titlepage"><div><div><h2 class="title"><span class="number">21.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Configuring a Samba server</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-serv-inst">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-serv-inst</li></ul></div></div></div></div><p>
      A Samba server in <span class="productname"><span class="phrase">openSUSE® Leap</span></span> can be configured in two different
      ways: with YaST or manually. Manual configuration offers a higher level
      of detail, but lacks the convenience of the YaST GUI.
    </p><div class="sect2 " id="sec-samba-yast2-conf"><div class="titlepage"><div><div><h3 class="title"><span class="number">21.4.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Configuring a Samba server with YaST</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-yast2-conf">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-yast2-conf</li></ul></div></div></div></div><p>
        To configure a Samba server, start YaST and select
        <span class="guimenu ">Network Services</span> › <span class="guimenu ">Samba
        Server</span>.
      </p><div class="sect3 " id="sec-samba-yast2-conf-inst"><div class="titlepage"><div><div><h4 class="title"><span class="number">21.4.1.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Initial Samba configuration</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-yast2-conf-inst">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-yast2-conf-inst</li></ul></div></div></div></div><p>
          When starting the module for the first time, the <span class="guimenu ">Samba
          Installation</span> dialog starts, prompting you to make a few
          basic decisions concerning the administration of the server. At the end
          of the configuration, it prompts for the Samba administrator password
          (<span class="guimenu ">Samba Root Password</span>). For later starts, the
          <span class="guimenu ">Samba Configuration</span> dialog appears.
        </p><p>
          The <span class="guimenu ">Samba Installation</span> dialog consists of two
          steps and optional detailed settings:
        </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.5.6.7.3.3.4.1"><span class="term ">Workgroup or domain name</span></dt><dd><p>
                Select an existing name from <span class="guimenu ">Workgroup or Domain
                Name</span> or enter a new one and click
                <span class="guimenu ">Next</span>.
              </p></dd><dt id="id-1.4.5.6.7.3.3.4.2"><span class="term ">Samba server type</span></dt><dd><p>
                In the next step, specify whether your server should act as a
                primary domain controller (PDC), backup domain controller
                (BDC), or not act as a domain controller. Continue with
                <span class="guimenu ">Next</span>.
              </p></dd></dl></div><p>
          If you do not want to proceed with a detailed server configuration,
          confirm with <span class="guimenu ">OK</span>. Then in the final pop-up box, set
          the <span class="guimenu ">Samba root Password</span>.
        </p><p>
          You can change all settings later in the <span class="guimenu ">Samba
          Configuration</span> dialog with the <span class="guimenu ">Start-Up</span>,
          <span class="guimenu ">Shares</span>, <span class="guimenu ">Identity</span>,
          <span class="guimenu ">Trusted Domains</span>, and <span class="guimenu ">LDAP
          Settings</span> tabs.
        </p></div><div class="sect3 " id="sec-samba-server-new-protocol"><div class="titlepage"><div><div><h4 class="title"><span class="number">21.4.1.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Enabling current versions of the SMB protocol on the server</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-server-new-protocol">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-server-new-protocol</li></ul></div></div></div></div><p>
          On clients running current versions of <span class="productname"><span class="phrase">openSUSE Leap</span></span> or other recent
          Linux versions, the insecure SMB1/CIFS protocol is disabled by
          default. However, existing instances of Samba may be configured to
          only serve shares using the SMB1/CIFS version of the protocol. To
          interact with such clients, you need to configure Samba to serve
          shares using at least the SMB 2.1 protocol.
        </p><p>
          There are setups in which only SMB1 can be used—for example,
          because they rely on SMB1's/CIFS's Unix extensions. These extensions
          have not been ported to newer protocol versions. If you are in this
          situation, consider changing your setup or see
          <a class="xref" href="cha-samba.html#sec-samba-client-old-server" title="21.5.2. Mounting SMB1/CIFS shares on clients">Section 21.5.2, “Mounting SMB1/CIFS shares on clients”</a>.
        </p><p>
          To do so, in the configuration file
          <code class="filename">/etc/samba/smb.conf</code>, set the global parameter
          <code class="literal">server max protocol = SMB2_10</code>. For a list of all
          possible values, see <code class="command">man smb.conf</code>.
        </p></div><div class="sect3 " id="sec-samba-yast2-conf-adv"><div class="titlepage"><div><div><h4 class="title"><span class="number">21.4.1.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Advanced Samba configuration</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-yast2-conf-adv">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-yast2-conf-adv</li></ul></div></div></div></div><p>
          During the first start of the Samba server module, the <span class="guimenu ">Samba
          Configuration</span> dialog appears directly after the two initial
          steps described in <a class="xref" href="cha-samba.html#sec-samba-yast2-conf-inst" title="21.4.1.1. Initial Samba configuration">Section 21.4.1.1, “Initial Samba configuration”</a>. Use
          it to adjust your Samba server configuration.
        </p><p>
          After editing your configuration, click <span class="guimenu ">OK</span> to save
          your settings.
        </p><div class="sect4 " id="sec-samba-yast2-conf-adv-start"><div class="titlepage"><div><div><h5 class="title"><span class="number">21.4.1.3.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Starting the server</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-yast2-conf-adv-start">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h5><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-yast2-conf-adv-start</li></ul></div></div></div></div><p>
            In the <span class="guimenu ">Start Up</span> tab, configure the start of the
            Samba server. To start the service every time your system boots,
            select <span class="guimenu ">During Boot</span>. To activate manual start,
            choose <span class="guimenu ">Manually</span>. More information about starting
            a Samba server is provided in
            <a class="xref" href="cha-samba.html#sec-samba-serv-start" title="21.3. Starting and stopping Samba">Section 21.3, “Starting and stopping Samba”</a>.
          </p><p>
            In this tab, you can also open ports in your firewall. To do so,
            select <span class="guimenu ">Open Port in Firewall</span>. If you have
            multiple network interfaces, select the network interface for Samba
            services by clicking <span class="guimenu ">Firewall Details</span>, selecting
            the interfaces, and clicking <span class="guimenu ">OK</span>.
          </p></div><div class="sect4 " id="sec-samba-yast2-conf-adv-shares"><div class="titlepage"><div><div><h5 class="title"><span class="number">21.4.1.3.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Shares</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-yast2-conf-adv-shares">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h5><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-yast2-conf-adv-shares</li></ul></div></div></div></div><p>
            In the <span class="guimenu ">Shares</span> tab, determine the Samba shares to
            activate. There are some predefined shares, like homes and
            printers. Use <span class="guimenu ">Toggle Status</span> to switch between
            <span class="guimenu ">Active</span> and <span class="guimenu ">Inactive</span>. Click
            <span class="guimenu ">Add</span> to add new shares and
            <span class="guimenu ">Delete</span> to delete the selected share.
          </p><p>
            <span class="guimenu ">Allow Users to Share Their Directories</span> enables
            members of the group in <span class="guimenu ">Permitted Group</span> to share
            directories they own with other users. For example,
            <code class="systemitem">users</code> for a local scope or
            <code class="systemitem">DOMAIN\Users</code> for a domain scope. The user
            also must make sure that the file system permissions allow access.
            With <span class="guimenu ">Maximum Number of Shares</span>, limit the total
            amount of shares that may be created. To permit access to user
            shares without authentication, enable <span class="guimenu ">Allow Guest
            Access</span>.
          </p></div><div class="sect4 " id="sec-samba-yast2-conf-adv-identity"><div class="titlepage"><div><div><h5 class="title"><span class="number">21.4.1.3.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Identity</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-yast2-conf-adv-identity">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h5><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-yast2-conf-adv-identity</li></ul></div></div></div></div><p>
            In the <span class="guimenu ">Identity</span> tab, you can determine the
            domain with which the host is associated (<span class="guimenu ">Base
            Settings</span>) and whether to use an alternative host name in
            the network (<span class="guimenu ">NetBIOS Hostname</span>).
            
            It is also possible to use Microsoft Windows Internet Name Service
            (WINS) for name resolution. In this case, activate <span class="guimenu ">Use
            WINS for Hostname Resolution</span> and decide whether to
            <span class="guimenu ">Retrieve WINS server via DHCP</span>. To set expert
            global settings or set a user authentication source,
            <span class="phrase">for example LDAP instead of TDB database,
            </span>click <span class="guimenu ">Advanced Settings</span>.
          </p></div><div class="sect4 " id="sec-samba-yast2-conf-adv-trusted"><div class="titlepage"><div><div><h5 class="title"><span class="number">21.4.1.3.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Trusted domains</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-yast2-conf-adv-trusted">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h5><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-yast2-conf-adv-trusted</li></ul></div></div></div></div><p>
            To enable users from other domains to access your domain, make the
            appropriate settings in the <span class="guimenu ">Trusted Domains</span> tab.
            Add a new domain by clicking <span class="guimenu ">Add</span>. To remove the
            selected domain, click <span class="guimenu ">Delete</span>.
          </p></div><div class="sect4 " id="sec-samba-yast2-conf-adv-ldap"><div class="titlepage"><div><div><h5 class="title"><span class="number">21.4.1.3.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">LDAP settings</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-yast2-conf-adv-ldap">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h5><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-yast2-conf-adv-ldap</li></ul></div></div></div></div><p>
            In the tab <span class="guimenu ">LDAP Settings</span>, you can determine the
            LDAP server to use for authentication. To test the connection to
            your LDAP server, click <span class="guimenu ">Test Connection</span>. To set
            expert LDAP settings or use default values, click <span class="guimenu ">Advanced
            Settings</span>.
          </p><p>
            For more information about LDAP configuration, see
            <span class="intraxref">Book “Security and Hardening Guide”, Chapter 5 “LDAP with 389 Directory Server”</span>.
          </p></div></div></div><div class="sect2 " id="sec-samba-serv-inst-manual"><div class="titlepage"><div><div><h3 class="title"><span class="number">21.4.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Configuring the server manually</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-serv-inst-manual">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-serv-inst-manual</li></ul></div></div></div></div><p>
        If you intend to use Samba as a server, install
        <code class="systemitem">samba</code>. The main configuration
        file for Samba is <code class="filename">/etc/samba/smb.conf</code>. This file
        can be divided into two logical parts. The <code class="literal">[global]</code>
        section contains the central and global settings. The following default
        sections contain the individual file and printer shares:
      </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
            [homes]
          </p></li><li class="listitem "><p>
            [profiles]
          </p></li><li class="listitem "><p>
            [users]
          </p></li><li class="listitem "><p>
            [groups]
          </p></li><li class="listitem "><p>
            [printers]
          </p></li><li class="listitem "><p>
            [print$]
          </p></li></ul></div><p>
        Using this approach, options of the shares can be set differently or
        globally in the <code class="literal">[global]</code> section, which makes the
        configuration file easier to understand.
      </p><div class="sect3 " id="sec-samba-smb-conf-Erlaeuterung"><div class="titlepage"><div><div><h4 class="title"><span class="number">21.4.2.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">The global section</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-smb-conf-Erlaeuterung">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-smb-conf-Erlaeuterung</li></ul></div></div></div></div><p>
          The following parameters of the <code class="literal">[global]</code> section
          should be modified to match the requirements of your network setup,
          so other machines can access your Samba server via SMB in a Windows
          environment.
        </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.5.6.7.4.5.4.1"><span class="term "><code class="literal">workgroup = WORKGROUP</code></span></dt><dd><p>
                This line assigns the Samba server to a workgroup. Replace
                <code class="literal">WORKGROUP</code> with an appropriate workgroup in
                your networking environment. Your Samba server appears under
                its DNS name unless this name has been assigned to some other
                machine in the network. If the DNS name is not available, set
                the server name using
                <code class="literal">netbiosname=<em class="replaceable ">MYNAME</em></code>.
                For more details about this parameter, see the
                <code class="systemitem">smb.conf</code> man page.
              </p></dd><dt id="id-1.4.5.6.7.4.5.4.2"><span class="term "><code class="literal">os level = 20</code></span></dt><dd><p>
                This parameter triggers whether your Samba server tries to
                become an LMB (local master browser) for its workgroup. Choose a
                very low value, such as <code class="literal">2</code>, to spare the
                existing Windows network from any interruptions caused by a
                misconfigured Samba server. More information about this topic
                can be found in the Network Browsing chapter of the Samba 3
                Howto. For more information about the Samba 3 Howto, see
                <a class="xref" href="cha-samba.html#sec-samba-info" title="21.9. More information">Section 21.9, “More information”</a>.
              </p><p>
                If no other SMB server is in your network (such as Windows
                2000 server) and you want the Samba server to keep a list of
                all systems present in the local environment, set the
                <code class="literal">os level</code> to a higher value (for example,
                <code class="literal">65</code>). Your Samba server is then chosen as LMB
                for your local network.
              </p><p>
                When changing this setting, consider carefully how this could
                affect an existing Windows network environment. First, test the
                changes in an isolated network or at a noncritical time of day.
              </p></dd><dt id="id-1.4.5.6.7.4.5.4.3"><span class="term "><code class="literal">wins support</code> and <code class="literal">wins server</code></span></dt><dd><p>
                To integrate your Samba server into an existing Windows network
                with an active WINS server, enable the <code class="option">wins
                server</code> option and set its value to the IP address of
                that WINS server.
              </p><p>
                If your Windows machines are connected to separate subnets and
                need to still be aware of each other, you need to set up a WINS
                server. To turn a Samba server into such a WINS server, set the
                option <code class="literal">wins support = Yes</code>. Make sure that
                only one Samba server of the network has this setting enabled.
                The options <code class="literal">wins server</code> and <code class="literal">wins
                support</code> must never be enabled at the same time in
                your <code class="filename">smb.conf</code> file.
              </p></dd></dl></div></div><div class="sect3 " id="sec-samba-smb-conf-shares"><div class="titlepage"><div><div><h4 class="title"><span class="number">21.4.2.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Shares</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-smb-conf-shares">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-smb-conf-shares</li></ul></div></div></div></div><p>
          The following examples illustrate how a CD-ROM drive and the user
          directories (<code class="literal">homes</code>) are made available to the SMB
          clients.
        </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.5.6.7.4.6.3.1"><span class="term ">[cdrom]</span></dt><dd><p>
                To avoid having the CD-ROM drive accidentally made available,
                these lines are deactivated with comment marks (semicolons in
                this case). Remove the semicolons in the first column to share
                the CD-ROM drive with Samba.
              </p><div class="example" id="dat-cd-rom"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 21.1: </span><span class="name">A CD-ROM share </span><a title="Permalink" class="permalink" href="cha-samba.html#dat-cd-rom">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">[cdrom]
       comment = Linux CD-ROM
       path = /media/cdrom
       locking = No</pre></div></div></div><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.5.6.7.4.6.3.1.2.3.1"><span class="term "><code class="option">[cdrom]</code> and <code class="option">comment</code></span></dt><dd><p>
                      The <code class="literal">[cdrom]</code> section entry is the name
                      of the share that can be seen by all SMB clients on the
                      network. An additional <code class="literal">comment</code> can be
                      added to further describe the share.
                    </p></dd><dt id="id-1.4.5.6.7.4.6.3.1.2.3.2"><span class="term "><code class="option">path = /media/cdrom</code></span></dt><dd><p>
                      <code class="option">path</code> exports the directory
                      <code class="filename">/media/cdrom</code>.
                    </p></dd></dl></div><p>
                By means of a very restrictive default configuration, this kind
                of share is only made available to the users present on this
                system. If this share should be made available to everybody,
                add a line <code class="literal">guest ok = yes</code> to the
                configuration. This setting gives read permissions to anyone on
                the network. We recommend handling this parameter with
                great care. This applies even more to the use of this parameter
                in the <code class="literal">[global]</code> section.
              </p></dd><dt id="id-1.4.5.6.7.4.6.3.2"><span class="term "><code class="option">[homes]</code></span></dt><dd><p>
                The <code class="option">[homes]</code> share is of special importance
                here. If the user has a valid account and password for the
                Linux file server and their own home directory, they can be
                connected to it.
              </p><div class="example" id="dat-homes-frei"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 21.2: </span><span class="name">[homes] share </span><a title="Permalink" class="permalink" href="cha-samba.html#dat-homes-frei">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">[homes]
        comment = Home Directories
        valid users = %S
        browseable = No
        read only = No
        inherit acls = Yes</pre></div></div></div><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.5.6.7.4.6.3.2.2.3.1"><span class="term ">[homes]</span></dt><dd><p>
                      As long as there is no other share using the share name
                      of the user connecting to the SMB server, a share is
                      dynamically generated using the
                      <code class="literal">[homes]</code> share directives. The
                      resulting name of the share is the user name.
                    </p></dd><dt id="id-1.4.5.6.7.4.6.3.2.2.3.2"><span class="term "><code class="option">valid users = %S</code></span></dt><dd><p>
                      <code class="literal">%S</code> is replaced with the concrete name
                      of the share when a connection has been successfully
                      established. For a <code class="option">[homes]</code> share, this
                      is always the user name. As a consequence, access rights
                      to a user's share are restricted exclusively to that
                      user.
                    </p></dd><dt id="id-1.4.5.6.7.4.6.3.2.2.3.3"><span class="term "><code class="option">browseable = No</code></span></dt><dd><p>
                      This setting makes the share invisible in the network
                      environment.
                    </p></dd><dt id="id-1.4.5.6.7.4.6.3.2.2.3.4"><span class="term "><code class="option">read only = No</code></span></dt><dd><p>
                      By default, Samba prohibits write access to any exported
                      share by means of the <code class="literal">read only = Yes</code>
                      parameter. To make a share writable, set the value
                      <code class="literal">read only = No</code>, which is synonymous
                      with <code class="literal">writable = Yes</code>.
                    </p></dd><dt id="id-1.4.5.6.7.4.6.3.2.2.3.5"><span class="term "><code class="option">create mask = 0640</code></span></dt><dd><p>
                      Systems that are not based on MS Windows NT do not
                      understand the concept of Unix permissions, so they
                      cannot assign permissions when creating a file. The
                      parameter <code class="literal">create mask</code> defines the
                      access permissions assigned to newly created files. This
                      only applies to writable shares. In effect, this setting
                      means the owner has read and write permissions and the
                      members of the owner's primary group have read
                      permissions. <code class="option">valid users = %S</code> prevents
                      read access even if the group has read permissions. For
                      the group to have read or write access, deactivate the
                      line <code class="option">valid users = %S</code>.
                    </p></dd></dl></div></dd></dl></div><div id="id-1.4.5.6.7.4.6.4" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg" /><h6>Warning: Do not share <code class="literal">NFS</code> mounts with Samba</h6><p>
            Sharing <code class="literal">NFS</code> mounts with Samba may result in data
            loss and is not supported. Install Samba directly on the file
            server or consider using alternatives, such as
            <code class="literal">iSCSI</code>.
          </p></div></div><div class="sect3 " id="sec-samba-rechte"><div class="titlepage"><div><div><h4 class="title"><span class="number">21.4.2.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Security levels</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-rechte">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-rechte</li></ul></div></div></div></div><p>
          To improve security, each share access can be protected with a
          password. SMB offers the following ways of checking permissions:
        </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.5.6.7.4.7.3.1"><span class="term ">User level security (<code class="literal">security = user</code>)</span></dt><dd><p>
                This variant introduces the concept of the user to SMB. Each
                user must register with the server with their own password.
                After registration, the server can grant access to individual
                exported shares dependent on user names.
              </p></dd><dt id="id-1.4.5.6.7.4.7.3.2"><span class="term ">ADS level security (<code class="literal">security = ADS</code>)</span></dt><dd><p>
                In this mode, Samba will act as a domain member in an Active
                Directory environment. To operate in this mode, the machine
                running Samba needs Kerberos installed and configured. You must
                join the machine using Samba to the ADS realm. This can be done
                using the YaST <span class="guimenu ">Windows Domain Membership</span>
                module.
              </p></dd><dt id="id-1.4.5.6.7.4.7.3.3"><span class="term ">Domain level security (<code class="literal">security = domain</code>)</span></dt><dd><p>
                This mode will only work correctly if the machine has been
                joined to a Windows NT domain. Samba will try to validate the
                user name and password by passing it to a Windows Primary or
                Backup Domain Controller, the same way as a Windows Server
                would do. It expects the encrypted passwords parameter to be
                set to <code class="literal">yes</code>.
              </p></dd></dl></div><p>
          The selection of share, user, server, or domain level security
          applies to the entire server. It is not possible to offer individual
          shares of a server configuration with share level security and others
          with user level security. However, you can run a separate Samba
          server for each configured IP address on a system.
        </p><p>
          More information about this subject can be found in the Samba 3
          HOWTO. For multiple servers on one system, pay attention to the
          options <code class="option">interfaces</code> and <code class="option">bind interfaces
          only</code>.
        </p></div></div></div><div class="sect1 " id="sec-samba-client-inst"><div class="titlepage"><div><div><h2 class="title"><span class="number">21.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Configuring clients</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-client-inst">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-client-inst</li></ul></div></div></div></div><p>
      Clients can only access the Samba server via TCP/IP. NetBEUI and NetBIOS
      via IPX cannot be used with Samba.
    </p><div class="sect2 " id="sec-samba-client-inst-yast"><div class="titlepage"><div><div><h3 class="title"><span class="number">21.5.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Configuring a Samba client with YaST</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-client-inst-yast">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-client-inst-yast</li></ul></div></div></div></div><p>
        Configure a Samba client to access resources (files or printers) on the
        Samba or Windows server. Enter the Windows or Active Directory domain
        or workgroup in the dialog <span class="guimenu ">Network
        Services</span> › <span class="guimenu ">Windows Domain
        Membership</span>. If you activate <span class="guimenu ">Also Use
        SMB Information for Linux Authentication</span>, the user
        authentication runs over the Samba, Windows, or Kerberos server.
      </p><p>
        Click <span class="guimenu ">Expert Settings</span> for advanced configuration
        options. For example, use the <span class="guimenu ">Mount Server
        Directories</span> table to enable mounting the server home directory
        automatically with authentication. This way users can access their home
        directories when hosted on CIFS. For details, see the
        <code class="systemitem">pam_mount</code> man page.
      </p><p>
        After completing all settings, confirm the dialog to finish the
        configuration.
      </p></div><div class="sect2 " id="sec-samba-client-old-server"><div class="titlepage"><div><div><h3 class="title"><span class="number">21.5.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Mounting SMB1/CIFS shares on clients</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-client-old-server">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-client-old-server</li></ul></div></div></div></div><p>
        The first version of the SMB network protocol, SMB1 or CIFS, is an old
        and insecure protocol, which has been deprecated by its originator,
        Microsoft. For security reasons, the <code class="command">mount</code> command
        on <span class="productname"><span class="phrase">openSUSE Leap</span></span> will only mount SMB shares using newer protocol
        versions by default, namely SMB 2.1, SMB 3.0, or SMB 3.02.
      </p><p>
        However, this change only affects <code class="command">mount</code> and mounting
        via <code class="filename">/etc/fstab</code>. SMB1 is still available by
        explicitly requiring it. Use the following:
      </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
            The <code class="command">smbclient</code> tool.
          </p></li><li class="listitem "><p>
            The Samba server software shipped with
            
            <span class="phrase">openSUSE</span>.
          </p></li></ul></div><p>
        There are setups in which this default setting will lead to connection
        failures, because only SMB1 can be used:
      </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
            Setups using an SMB server that does not support newer SMB protocol
            versions. Windows has offered SMB 2.1 support since Windows 7 and
            Windows Server 2008.
          </p></li><li class="listitem "><p>
            Setups that rely on SMB1's/CIFS's Unix extensions. These extensions
            have not been ported to newer protocol versions.
          </p></li></ul></div><div id="id-1.4.5.6.8.4.7" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg" /><h6>Important: Decreased system security</h6><p>
          Following the instruction below makes it possible to exploit security
          issues. For more information about the issues, see
          <a class="link" href="https://blogs.technet.microsoft.com/filecab/2016/09/16/stop-using-smb1/" target="_blank">https://blogs.technet.microsoft.com/filecab/2016/09/16/stop-using-smb1/</a>.
        </p><p>
          As soon as possible, upgrade your server to allow for a more secure
          SMB version.
        </p><p>
          For information about enabling suitable protocol versions on
          <span class="productname"><span class="phrase">openSUSE Leap</span></span>, see <a class="xref" href="cha-samba.html#sec-samba-server-new-protocol" title="21.4.1.2. Enabling current versions of the SMB protocol on the server">Section 21.4.1.2, “Enabling current versions of the SMB protocol on the server”</a>.
        </p></div><p>
        If you need to enable SMB1 shares on the current <span class="productname"><span class="phrase">openSUSE Leap</span></span> kernel,
        add the option <code class="option">vers=1.0</code> to the
        <code class="command">mount</code> command line you use:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>mount -t cifs //<em class="replaceable ">HOST</em>/<em class="replaceable ">SHARE</em> /<em class="replaceable ">MOUNT_POINT</em> –o username=<em class="replaceable ">USER_ID</em>,<span class="bold"><strong>vers=1.0</strong></span></pre></div><p>
        Alternatively, you can enable SMB1 shares globally within your
        <span class="productname"><span class="phrase">openSUSE Leap</span></span> installation. To do so, add the following to
        <code class="filename">/etc/samba/smb.conf</code> under the section
        <code class="literal">[global]</code>:
      </p><div class="verbatim-wrap"><pre class="screen">        client min protocol = CORE</pre></div></div></div><div class="sect1 " id="sec-samba-anmeld-serv"><div class="titlepage"><div><div><h2 class="title"><span class="number">21.6 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Samba as login server</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-anmeld-serv">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-anmeld-serv</li></ul></div></div></div></div><p>
      In business settings, it is often desirable to allow access only to users
      registered on a central instance. In a Windows-based network, this task
      is handled by a primary domain controller (PDC). You can use a Windows
      Server configured as PDC, but this task can also be done with a Samba
      server. The entries that must be made in the <code class="literal">[global]</code>
      section of <code class="filename">smb.conf</code> are shown in
      <a class="xref" href="cha-samba.html#dat-samba-smb-conf-dom" title="Global section in smb.conf">Example 21.3, “Global section in smb.conf”</a>.
    </p><div class="example" id="dat-samba-smb-conf-dom"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 21.3: </span><span class="name">Global section in smb.conf </span><a title="Permalink" class="permalink" href="cha-samba.html#dat-samba-smb-conf-dom">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">[global]
    workgroup = WORKGROUP
    domain logons = Yes
    domain master = Yes</pre></div></div></div><p>
      It is necessary to prepare user accounts and passwords in an encryption
      format that conforms to Windows. Do this with the command
      <code class="command">smbpasswd</code> <code class="option">-a name</code>. Create the domain
      account for the computers required by the Windows domain concept with
      the following commands:
    </p><div class="verbatim-wrap"><pre class="screen">useradd hostname
smbpasswd -a -m hostname</pre></div><p>
      With the <code class="command">useradd</code> command, a dollar sign is added. The
      command <code class="command">smbpasswd</code> inserts this automatically when the
      parameter <code class="option">-m</code> is used. The commented configuration
      example
      (<code class="filename">/usr/share/doc/packages/samba/examples/smb.conf.SUSE</code>)
      contains settings that automate this task.
    </p><div class="verbatim-wrap"><pre class="screen">add machine script = /usr/sbin/useradd -g nogroup -c "NT Machine Account" \
-s /bin/false %m</pre></div><p>
      To make sure that Samba can execute this script correctly, choose a Samba
      user with the required administrator permissions and add it to the
      <code class="systemitem">ntadmin</code> group. Then all users
      belonging to this Linux group can be assigned <code class="literal">Domain
      Admin</code> status with the command:
    </p><div class="verbatim-wrap"><pre class="screen">net groupmap add ntgroup="Domain Admins" unixgroup=ntadmin</pre></div></div><div class="sect1 " id="sec-samba-adnet"><div class="titlepage"><div><div><h2 class="title"><span class="number">21.7 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Samba server in the network with Active Directory</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-adnet">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-adnet</li></ul></div></div></div></div><p>
      If you run Linux servers and Windows servers together, you can build two
      independent authentication systems and networks or connect servers to one
      network with one central authentication system. Because Samba can
      cooperate with an Active Directory domain, you can join your
      <span class="productname"><span class="phrase">openSUSE Leap</span></span> server with an Active Directory (AD) domain.
    </p><p>
      To join an AD domain, proceed as follows:
    </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
          Log in as <code class="systemitem">root</code> and start YaST.
        </p></li><li class="step "><p>
          Start <span class="guimenu ">Network Services</span> › <span class="guimenu ">Windows Domain Membership</span>.
        </p></li><li class="step "><p>
          Enter the domain to join in the <span class="guimenu ">Domain or
          Workgroup</span> field in the <span class="guimenu ">Windows Domain
          Membership</span> screen.
        </p><div class="figure" id="id-1.4.5.6.10.4.3.2"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/ad_sambaclient.png" target="_blank"><img src="images/ad_sambaclient.png" width="" alt="Joining workgroup or domain." /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 21.1: </span><span class="name">Determining Windows domain membership </span><a title="Permalink" class="permalink" href="cha-samba.html#id-1.4.5.6.10.4.3.2">#</a></h6></div></div></li><li class="step "><p>
          Check <span class="guimenu ">Also Use SMB Information for Linux
          Authentication</span> to use the SMB source for Linux
          authentication on your server.
        </p></li><li class="step "><p>
          Click <span class="guimenu ">OK</span> and confirm the domain join when prompted
          for it.
        </p></li><li class="step "><p>
          Provide the password for the Windows Administrator on the AD server
          and click <span class="guimenu ">OK</span>.
        </p><p>
          Your server is now set up to pull in all authentication data from the
          Active Directory domain controller.
        </p></li></ol></div></div><p>
      Alternatively, you can use the <code class="command">realmd</code> tool to connect
      to Active Directory. For details, refer to
      <a class="xref" href="cha-samba.html#sec-realmd-ad" title="21.7.1. Using realmd to manage Active Directory">Section 21.7.1, “Using <code class="command">realmd</code> to manage Active Directory”</a>.
    </p><div id="id-1.4.5.6.10.6" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg" /><h6>Tip: Identity mapping</h6><p>
        In an environment with more than one Samba server, UIDs and GIDs will
        not be created consistently. The UIDs that get assigned to users will
        be dependent on the order in which they first log in, which results in
        UID conflicts across servers. To fix this, you need to use identity
        mapping. See
        <a class="link" href="https://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/idmapper.html" target="_blank">https://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/idmapper.html</a>
        for more details.
      </p></div><div class="sect2 " id="sec-realmd-ad"><div class="titlepage"><div><div><h3 class="title"><span class="number">21.7.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Using <code class="command">realmd</code> to manage Active Directory</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-realmd-ad">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-realmd-ad</li></ul></div></div></div></div><p>
        <code class="command">realmd</code> is a DBus service that allows you to
        configure network authentication and domain membership.
      </p><div class="sect3 " id="sec-realmd-discovery"><div class="titlepage"><div><div><h4 class="title"><span class="number">21.7.1.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Discovering Active Directory domains</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-realmd-discovery">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-realmd-discovery</li></ul></div></div></div></div><p>
          <code class="command">realmd</code> discovers which domains or realms can be
          used or configured by checking the DNS SRV records. Ensure that a
          DNS SRV record is available for the Active Directory domain to be
          discovered; <span class="emphasis"><em>domain.example.com</em></span> in the following
          example:
        </p><div class="verbatim-wrap"><pre class="screen">_ldap._tcp.dc._msdcs.domain.example.com.</pre></div><p>
          The DNS records should be created automatically by the DNS server
          that comes with the Active Directory.
        </p><p>
          To discover a particular domain name, run the command:
        </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">realm discover --verbose domain.example.com</code>

* Resolving: _ldap._tcp.dc._msdcs.domain.example.com
 * Sending MS-CLDAP ping to: 192.168.20.10
 * Sending MS-CLDAP ping to: 192.168.12.12
 * Successfully discovered: domain.example.com
...</pre></div><p>
          To join a particular Active Directory domain, run the command:
        </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">realm join --verbose domain.example.com</code></pre></div><p>
          Once you joined the Active Directory domain, you can configure the
          machine to enable logging in using the domain accounts. To do so,
          run:
        </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">realm permit --realm domain.example.com --all</code></pre></div><p>
          To permit only specific accounts by specifying them in the command as
          follows:
        </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">realm permit --realm domain.example.com DOMAIN\\<em class="replaceable ">USERNAME</em> DOMAIN\\<em class="replaceable ">USERNAME</em></code></pre></div><p>
          To deny logins from any domain account, use the following command:
        </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">realm deny --realm domain.example.com --all</code></pre></div></div></div></div><div class="sect1 " id="sec-samba-advanced"><div class="titlepage"><div><div><h2 class="title"><span class="number">21.8 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Advanced topics</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-advanced">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-advanced</li></ul></div></div></div></div><p>
      This section introduces more advanced techniques to manage both the
      client and server parts of the Samba suite.
    </p><div class="sect2 " id="sec-automount-systemd"><div class="titlepage"><div><div><h3 class="title"><span class="number">21.8.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Automounting CIFS file system using <code class="systemitem">systemd</code></span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-automount-systemd">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-automount-systemd</li></ul></div></div></div></div><p>
        You can use <code class="systemitem">systemd</code> to mount CIFS shares on startup. To do so,
        proceed as described further:
      </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
            Create the mount points:
          </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>mkdir -p <em class="replaceable ">PATH_SERVER_SHARED_FOLDER</em></pre></div><p>
            where <em class="replaceable ">PATH_SERVER_SHARED_FOLDER</em> is
            <code class="literal">/cifs/shared</code> in further steps.
          </p></li><li class="step "><p>
            Create the <code class="systemitem">systemd</code> unit file and generate a file name from the
            path specified in the previous step where "/" are replaced with
            "-", for example:
          </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> touch /etc/systemd/system/cifs-shared.mount</pre></div><p>
            with the following content:
          </p><div class="verbatim-wrap"><pre class="screen">[Unit]
Description=CIFS share from The-Server

[Mount]
What=//The-Server/Shared-Folder
Where=/cifs/shared
Type=cifs
Options=rw,username=vagrant,password=admin

[Install]
WantedBy=multi-user.target</pre></div></li><li class="step "><p>
            Enable the service:
          </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> systemctl enable cifs-shared.mount</pre></div></li><li class="step "><p>
            Start the service:
          </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> systemctl start cifs-shared.mount</pre></div><p>
            To verify that the service is running, run the command:
          </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> systemctl status cifs-shared.mount</pre></div></li><li class="step "><p>
            To confirm that the CIFS shared path is available, try the
            following command:
          </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code> cd /cifs/shared
<code class="prompt user">&gt; </code>ls -l

total 0
-rwxrwxrwx. 1 root    root    0 Oct 24 22:31 hello-world-cifs.txt
drwxrwxrwx. 2 root    root    0 Oct 24 22:31 subfolder
-rw-r--r--. 1 vagrant vagrant 0 Oct 28 21:51 testfile.txt</pre></div></li></ol></div></div></div><div class="sect2 " id="sec-samba-advanced-compress"><div class="titlepage"><div><div><h3 class="title"><span class="number">21.8.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Transparent file compression on Btrfs</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-advanced-compress">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-advanced-compress</li></ul></div></div></div></div><p>
        Samba allows clients to remotely manipulate file and directory
        compression flags for shares placed on the Btrfs file system. Windows
        Explorer provides the ability to flag files/directories for transparent
        compression via the
        <span class="guimenu ">File</span> › <span class="guimenu ">Properties</span> › <span class="guimenu ">Advanced</span>
        dialog:
      </p><div class="figure" id="id-1.4.5.6.11.4.3"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/samba_win_expl_advattr.png" target="_blank"><img src="images/samba_win_expl_advattr.png" width="" alt="File properties" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 21.2: </span><span class="name">Windows Explorer <span class="guimenu ">Advanced Attributes</span> dialog </span><a title="Permalink" class="permalink" href="cha-samba.html#id-1.4.5.6.11.4.3">#</a></h6></div></div><p>
        Files flagged for compression are transparently compressed and
        decompressed by the underlying file system when accessed or modified.
        This normally results in storage capacity savings at the expense of
        extra CPU overhead when accessing the file. New files and directories
        inherit the compression flag from the parent directory, unless created
        with the FILE_NO_COMPRESSION option.
      </p><p>
        Windows Explorer presents compressed files and directories visually
        differently to those that are not compressed:
      </p><div class="figure" id="id-1.4.5.6.11.4.6"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/samba_win_expl_view_compressed.png" target="_blank"><img src="images/samba_win_expl_view_compressed.png" width="" alt="Windows Explorer directory listing" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 21.3: </span><span class="name">Windows Explorer directory listing with compressed files </span><a title="Permalink" class="permalink" href="cha-samba.html#id-1.4.5.6.11.4.6">#</a></h6></div></div><p>
        You can enable Samba share compression either manually by adding
      </p><div class="verbatim-wrap"><pre class="screen">vfs objects = btrfs</pre></div><p>
        to the share configuration in <code class="filename">/etc/samba/smb.conf</code>,
        or using YaST: <span class="guimenu ">Network
        Services</span> › <span class="guimenu ">Samba
        Server</span> › <span class="guimenu ">Add</span>, and checking
        <span class="guimenu ">Utilize Btrfs Features</span>.
      </p></div><div class="sect2 " id="sec-samba-advanced-snapshots"><div class="titlepage"><div><div><h3 class="title"><span class="number">21.8.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Snapshots</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-advanced-snapshots">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-advanced-snapshots</li></ul></div></div></div></div><p>
        Snapshots, also called Shadow Copies, are copies of the state of a file
        system subvolume at a certain point in time. Snapper is the tool to
        manage these snapshots in Linux. Snapshots are supported on the Btrfs
        file system or thinly provisioned LVM volumes. The Samba suite supports
        managing remote snapshots through the FSRVP protocol on both the server
        and client side.
      </p><div class="sect3 " id="sec-samba-advanced-snapshots-client"><div class="titlepage"><div><div><h4 class="title"><span class="number">21.8.3.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Previous versions</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-advanced-snapshots-client">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-advanced-snapshots-client</li></ul></div></div></div></div><p>
          Snapshots on a Samba server can be exposed to remote Windows clients
          as previous versions of files or directories.
        </p><p>
          To enable snapshots on a Samba server, the following conditions must
          be fulfilled:
        </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
              The SMB network share resides on a Btrfs subvolume.
            </p></li><li class="listitem "><p>
              The SMB network share path has a related Snapper configuration
              file. You can create the snapper file with
            </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> snapper -c &lt;cfg_name&gt; create-config <code class="option">/path/to/share</code></pre></div><p>
              For more information on Snapper, see
              <a class="xref" href="cha-snapper.html" title="Chapter 3. System recovery and snapshot management with Snapper">Chapter 3, <em>System recovery and snapshot management with Snapper</em></a>.
            </p></li><li class="listitem "><p>
              The snapshot directory tree must allow access for relevant users.
              For more information, see the PERMISSIONS section of the
              vfs_snapper manual page (<code class="command">man 8 vfs_snapper</code>).
            </p></li></ul></div><p>
          To support remote snapshots, you need to modify the
          <code class="filename">/etc/samba/smb.conf</code> file. You can do this either
          with <span class="guimenu ">YaST</span> › <span class="guimenu ">Network
          Services</span> › <span class="guimenu ">Samba Server</span>, or
          manually by enhancing the relevant share section with
        </p><div class="verbatim-wrap"><pre class="screen">vfs objects = snapper</pre></div><p>
          Note that you need to restart the Samba service for manual changes to
          <code class="filename">smb.conf</code> to take effect:
        </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> systemctl restart nmb smb</pre></div><div class="figure" id="fig-yast2-samba-snapshot"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_samba_snapshot.png" target="_blank"><img src="images/yast2_samba_snapshot.png" width="" alt="Adding a new Samba share" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 21.4: </span><span class="name">Adding a new Samba share with snapshots enabled </span><a title="Permalink" class="permalink" href="cha-samba.html#fig-yast2-samba-snapshot">#</a></h6></div></div><p>
          After being configured, snapshots created by Snapper for the Samba
          share path can be accessed from Windows Explorer from a file or
          directory's <span class="guimenu ">Previous Versions</span> tab.
        </p><div class="figure" id="fig-samba-win-explorer"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/samba_winexpl_previous_versions.png" target="_blank"><img src="images/samba_winexpl_previous_versions.png" width="" alt="Previous versions tab" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 21.5: </span><span class="name">The <span class="guimenu ">Previous versions</span> tab in Windows explorer </span><a title="Permalink" class="permalink" href="cha-samba.html#fig-samba-win-explorer">#</a></h6></div></div></div><div class="sect3 " id="sec-samba-advanced-snapshots-server"><div class="titlepage"><div><div><h4 class="title"><span class="number">21.8.3.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Remote share snapshots</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-advanced-snapshots-server">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-advanced-snapshots-server</li></ul></div></div></div></div><p>
          By default, snapshots can only be created and deleted on the Samba
          server locally, via the Snapper command line utility, or using
          Snapper's timeline feature.
        </p><p>
          Samba can be configured to process share snapshot creation and
          deletion requests from remote hosts using the File Server Remote VSS
          Protocol (FSRVP).
        </p><p>
          In addition to the configuration and prerequisites documented in
          <a class="xref" href="cha-samba.html#sec-samba-advanced-snapshots-client" title="21.8.3.1. Previous versions">Section 21.8.3.1, “Previous versions”</a>, the following
          global configuration is required in
          <code class="filename">/etc/samba/smb.conf</code>:
        </p><div class="verbatim-wrap"><pre class="screen">[global]
rpc_daemon:fssd = fork
registry shares = yes
include = registry</pre></div><p>
          FSRVP clients, including Samba's <code class="command">rpcclient</code> and
          Windows Server 2012 <code class="command">DiskShadow.exe</code>, can then
          instruct Samba to create or delete a snapshot for a given share, and
          expose the snapshot as a new share.
        </p></div><div class="sect3 " id="sec-samba-advanced-snapshots-client-linux"><div class="titlepage"><div><div><h4 class="title"><span class="number">21.8.3.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Managing snapshots remotely from Linux with <code class="command">rpcclient</code></span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-advanced-snapshots-client-linux">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-advanced-snapshots-client-linux</li></ul></div></div></div></div><p>
          The <code class="systemitem">samba-client</code> package contains an FSRVP
          client that can remotely request a Windows/Samba server to create and
          expose a snapshot of a given share. You can then use existing tools
          in <span class="productname"><span class="phrase">openSUSE Leap</span></span> to mount the exposed share and back up its files.
          Requests to the server are sent using the
          <code class="command">rpcclient</code> binary.
        </p><div class="complex-example"><div class="example" id="id-1.4.5.6.11.5.5.3"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 21.4: </span><span class="name">Using <code class="command">rpcclient</code> to request a Windows server 2012 share snapshot </span><a title="Permalink" class="permalink" href="cha-samba.html#id-1.4.5.6.11.5.5.3">#</a></h6></div><div class="example-contents"><p>
            Connect to <code class="literal">win-server.example.com</code> server as an
            administrator in an <code class="literal">EXAMPLE</code> domain:
          </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>rpcclient -U '<em class="replaceable ">EXAMPLE</em>\Administrator' ncacn_np:<em class="replaceable ">win-server.example.com</em>[ndr64,sign]
Enter EXAMPLE/Administrator's password:</pre></div><p>
            Check that the SMB share is visible for
            <code class="command">rpcclient</code>:
          </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>rpcclient $&gt; netshareenum
netname: windows_server_2012_share
remark:
path:   C:\Shares\windows_server_2012_share
password:       (null)</pre></div><p>
            Check that the SMB share supports snapshot creation:
          </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>rpcclient $&gt; fss_is_path_sup windows_server_2012_share \
UNC \\WIN-SERVER\windows_server_2012_share\ supports shadow copy requests</pre></div><p>
            Request the creation of a share snapshot:
          </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>rpcclient $&gt; fss_create_expose backup ro windows_server_2012_share
13fe880e-e232-493d-87e9-402f21019fb6: shadow-copy set created
13fe880e-e232-493d-87e9-402f21019fb6(1c26544e-8251-445f-be89-d1e0a3938777): \
\\WIN-SERVER\windows_server_2012_share\ shadow-copy added to set
13fe880e-e232-493d-87e9-402f21019fb6: prepare completed in 0 secs
13fe880e-e232-493d-87e9-402f21019fb6: commit completed in 1 secs
13fe880e-e232-493d-87e9-402f21019fb6(1c26544e-8251-445f-be89-d1e0a3938777): \
share windows_server_2012_share@{1C26544E-8251-445F-BE89-D1E0A3938777} \
exposed as a snapshot of \\WIN-SERVER\windows_server_2012_share\</pre></div><p>
            Confirm that the snapshot share is exposed by the server:
          </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>rpcclient $&gt; netshareenum
netname: windows_server_2012_share
remark:
path:   C:\Shares\windows_server_2012_share
password:       (null)

netname: windows_server_2012_share@{1C26544E-8251-445F-BE89-D1E0A3938777}
remark: (null)
path:   \\?\GLOBALROOT\Device\HarddiskVolumeShadowCopy{F6E6507E-F537-11E3-9404-B8AC6F927453}\Shares\windows_server_2012_share\
password:       (null)</pre></div><p>
            Attempt to delete the snapshot share:
          </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>rpcclient $&gt; fss_delete windows_server_2012_share \
13fe880e-e232-493d-87e9-402f21019fb6 1c26544e-8251-445f-be89-d1e0a3938777
13fe880e-e232-493d-87e9-402f21019fb6(1c26544e-8251-445f-be89-d1e0a3938777): \
\\WIN-SERVER\windows_server_2012_share\ shadow-copy deleted</pre></div><p>
            Confirm that the snapshot share has been removed by the server:
          </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>rpcclient $&gt; netshareenum
netname: windows_server_2012_share
remark:
path:   C:\Shares\windows_server_2012_share
password:       (null)</pre></div></div></div></div></div><div class="sect3 " id="sec-samba-advanced-snapshots-client-winserver"><div class="titlepage"><div><div><h4 class="title"><span class="number">21.8.3.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Managing snapshots remotely from Windows with <code class="command">DiskShadow.exe</code></span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-advanced-snapshots-client-winserver">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-advanced-snapshots-client-winserver</li></ul></div></div></div></div><p>
          You can manage snapshots of SMB shares on the Linux Samba server from
          Windows clients as well. Windows Server 2012 includes the
          <code class="command">DiskShadow.exe</code> utility which can manage remote
          shares similarly to the <code class="command">rpcclient</code> command
          described in
          <a class="xref" href="cha-samba.html#sec-samba-advanced-snapshots-client-linux" title="21.8.3.3. Managing snapshots remotely from Linux with rpcclient">Section 21.8.3.3, “Managing snapshots remotely from Linux with <code class="command">rpcclient</code>”</a>. Note
          that you need to carefully set up the Samba server first.
        </p><p>
          The following is an example procedure to set up the Samba server so
          that the Windows client can manage its shares' snapshots. Note that
          <em class="replaceable ">EXAMPLE</em> is the Active Directory domain
          used in the testing environment, <code class="uri">fsrvp-server.example.com</code>
          is the host name of the Samba server, and
          <code class="filename">/srv/smb</code> is the path to the SMB share.
        </p><div class="procedure " id="id-1.4.5.6.11.5.6.4"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 21.1: </span><span class="name">Detailed Samba server configuration </span><a title="Permalink" class="permalink" href="cha-samba.html#id-1.4.5.6.11.5.6.4">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
              Join an Active Directory domain via YaST.<span class="phrase">
              For more information, see
              <a class="xref" href="cha-samba.html#sec-samba-adnet" title="21.7. Samba server in the network with Active Directory">Section 21.7, “Samba server in the network with Active Directory”</a>.</span>
            </p></li><li class="step "><p>
              Ensure that the Active Directory domain's DNS entry is correct:
            </p><div class="verbatim-wrap"><pre class="screen">fsrvp-server:~ # net -U 'Administrator' ads dns register \
fsrvp-server.example.com &lt;IP address&gt;
Successfully registered hostname with DNS</pre></div></li><li class="step "><p>
              Create Btrfs subvolume at <code class="filename">/srv/smb</code>:
            </p><div class="verbatim-wrap"><pre class="screen">fsrvp-server:~ # btrfs subvolume create /srv/smb</pre></div></li><li class="step "><p>
              Create a Snapper configuration file for the path
              <code class="filename">/srv/smb</code>:
            </p><div class="verbatim-wrap"><pre class="screen">fsrvp-server:~ # snapper -c &lt;snapper_config&gt; create-config /srv/smb</pre></div></li><li class="step "><p>
              Create a new share with path <code class="filename">/srv/smb</code>, and
              the YaST <span class="guimenu ">Expose Snapshots</span> check box enabled.
              Make sure to add the following snippets to the global section of
              <code class="filename">/etc/samba/smb.conf</code>, as mentioned in
              <a class="xref" href="cha-samba.html#sec-samba-advanced-snapshots-server" title="21.8.3.2. Remote share snapshots">Section 21.8.3.2, “Remote share snapshots”</a>:
            </p><div class="verbatim-wrap"><pre class="screen">[global]
 rpc_daemon:fssd = fork
 registry shares = yes
 include = registry</pre></div></li><li class="step "><p>
              Restart Samba with <code class="command">systemctl restart nmb smb</code>.
            </p></li><li class="step "><p>
              Configure Snapper permissions:
            </p><div class="verbatim-wrap"><pre class="screen">fsrvp-server:~ # snapper -c &lt;snapper_config&gt; set-config \
ALLOW_USERS="EXAMPLE\\\\Administrator EXAMPLE\\\\win-client$"</pre></div><p>
              Ensure that any instances of <code class="literal">ALLOW_USERS</code> are
              also permitted access to the <code class="filename">.snapshots</code>
              subdirectory.
            </p><div class="verbatim-wrap"><pre class="screen">fsrvp-server:~ # snapper -c &lt;snapper_config&gt; set-config SYNC_ACL=yes</pre></div><div id="id-1.4.5.6.11.5.6.4.8.5" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg" /><h6>Important: Path escaping</h6><p>
                Be careful about the '\' escapes! Escape twice to ensure that
                the value stored in
                <code class="filename">/etc/snapper/configs/&lt;snapper_config&gt;</code>
                is escaped once.
              </p></div><p>
              "EXAMPLE\win-client$" corresponds to the Windows client computer
              account. Windows issues initial FSRVP requests while
              authenticated with this account.
            </p></li><li class="step "><p>
              Grant the Windows client account necessary privileges:
            </p><div class="verbatim-wrap"><pre class="screen">fsrvp-server:~ # net -U 'Administrator' rpc rights grant \
"EXAMPLE\\win-client$" SeBackupPrivilege
Successfully granted rights.</pre></div><p>
              The previous command is not needed for the
              "EXAMPLE\Administrator" user, which has privileges already
              granted.
            </p></li></ol></div></div><div class="procedure " id="id-1.4.5.6.11.5.6.5"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 21.2: </span><span class="name">Windows client setup and <code class="command">DiskShadow.exe</code> in action </span><a title="Permalink" class="permalink" href="cha-samba.html#id-1.4.5.6.11.5.6.5">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
              Boot Windows Server 2012 (example host name WIN-CLIENT).
            </p></li><li class="step "><p>
              Join the same Active Directory domain EXAMPLE as with the
              <span class="productname"><span class="phrase">openSUSE Leap</span></span>.
            </p></li><li class="step "><p>
              Reboot.
            </p></li><li class="step "><p>
              Open PowerShell.
            </p></li><li class="step "><p>
              Start <code class="command">DiskShadow.exe</code> and begin the backup
              procedure:
            </p><div class="verbatim-wrap"><pre class="screen">PS C:\Users\Administrator.EXAMPLE&gt; diskshadow.exe
Microsoft DiskShadow version 1.0
Copyright (C) 2012 Microsoft Corporation
On computer:  WIN-CLIENT,  6/17/2014 3:53:54 PM

DISKSHADOW&gt; begin backup</pre></div></li><li class="step "><p>
              Specify that shadow copies persist across program exits, resets,
              and reboots:
            </p><div class="verbatim-wrap"><pre class="screen">DISKSHADOW&gt; set context PERSISTENT</pre></div></li><li class="step "><p>
              Check whether the specified share supports snapshots, and create
              one:
            </p><div class="verbatim-wrap"><pre class="screen">DISKSHADOW&gt; add volume \\fsrvp-server\sles_snapper

DISKSHADOW&gt; create
Alias VSS_SHADOW_1 for shadow ID {de4ddca4-4978-4805-8776-cdf82d190a4a} set as \
 environment variable.
Alias VSS_SHADOW_SET for shadow set ID {c58e1452-c554-400e-a266-d11d5c837cb1} \
 set as environment variable.

Querying all shadow copies with the shadow copy set ID \
 {c58e1452-c554-400e-a266-d11d5c837cb1}

 * Shadow copy ID = {de4ddca4-4978-4805-8776-cdf82d190a4a}     %VSS_SHADOW_1%
    - Shadow copy set: {c58e1452-c554-400e-a266-d11d5c837cb1}  %VSS_SHADOW_SET%
    - Original count of shadow copies = 1
    - Original volume name: \\FSRVP-SERVER\SLES_SNAPPER\ \
      [volume not on this machine]
    - Creation time: 6/17/2014 3:54:43 PM
    - Shadow copy device name:
      \\FSRVP-SERVER\SLES_SNAPPER@{31afd84a-44a7-41be-b9b0-751898756faa}
    - Originating machine: FSRVP-SERVER
    - Service machine: win-client.example.com
    - Not exposed
    - Provider ID: {89300202-3cec-4981-9171-19f59559e0f2}
    - Attributes:  No_Auto_Release Persistent FileShare

Number of shadow copies listed: 1</pre></div></li><li class="step "><p>
              Finish the backup procedure:
            </p><div class="verbatim-wrap"><pre class="screen">DISKSHADOW&gt; end backup</pre></div></li><li class="step "><p>
              After the snapshot was created, try to delete it and verify the
              deletion:
            </p><div class="verbatim-wrap"><pre class="screen">DISKSHADOW&gt; delete shadows volume \\FSRVP-SERVER\SLES_SNAPPER\
Deleting shadow copy {de4ddca4-4978-4805-8776-cdf82d190a4a} on volume \
 \\FSRVP-SERVER\SLES_SNAPPER\ from provider \
{89300202-3cec-4981-9171-19f59559e0f2} [Attributes: 0x04000009]...

Number of shadow copies deleted: 1

DISKSHADOW&gt; list shadows all

Querying all shadow copies on the computer ...
No shadow copies found in system.</pre></div></li></ol></div></div></div></div></div><div class="sect1 " id="sec-samba-info"><div class="titlepage"><div><div><h2 class="title"><span class="number">21.9 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">More information</span> <a title="Permalink" class="permalink" href="cha-samba.html#sec-samba-info">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/net_samba.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>net_samba.xml</li><li><span class="ds-label">ID: </span>sec-samba-info</li></ul></div></div></div></div><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p><span class="formalpara-title">Man pages: </span>
            To see a list of all <code class="command">man</code> pages installed with
            the package <span class="package ">samba</span>, run <code class="command">apropos
            samba</code>. Open any of the man pages with <code class="command">man
            <em class="replaceable ">NAME_OF_MAN_PAGE</em></code>.
          </p></li><li class="listitem "><p><span class="formalpara-title">SUSE-specific README file: </span>
            The package <span class="package ">samba-client</span> contains the file
            <code class="filename">/usr/share/doc/packages/samba/README.SUSE</code>.
          </p></li><li class="listitem "><p><span class="formalpara-title">Additional package documentation: </span>
            Install the package <code class="systemitem">samba-doc</code> with
            <code class="command">zypper install samba-doc</code>.
          </p><p>
          This documentation installs into
          <code class="filename">/usr/share/doc/packages/samba</code>. It contains an
          HTML version of the man pages and a library of example configurations
          (such as <code class="filename">smb.conf.SUSE</code>).
        </p></li><li class="listitem "><p><span class="formalpara-title">Online documentation: </span>
            The Samba wiki contains extensive <em class="citetitle ">User
            Documentation</em> at
            <a class="link" href="https://wiki.samba.org/index.php/User_Documentation" target="_blank">https://wiki.samba.org/index.php/User_Documentation</a>.
          </p></li></ul></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha-nfs.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 22 </span>Sharing file systems with NFS</span></a><a class="nav-link" href="cha-dhcp.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 20 </span>DHCP</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2024 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>