<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Dynamic kernel device management with udev | Reference | openSUSE Leap 15.7</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" />
<meta name="title" content="Dynamic kernel device management with udev | openSUSE …" />
<meta name="description" content="The kernel can add or remove almost any device in a running system. Changes in the device state (whether a device is plugged in or removed) need to be propagat…" />
<meta name="product-name" content="openSUSE Leap" />
<meta name="product-number" content="15.7" />
<meta name="book-title" content="Reference" />
<meta name="chapter-title" content="Chapter 16. Dynamic kernel device management with udev" />
<meta name="tracker-url" content="https://bugzilla.opensuse.org/enter_bug.cgi" />
<meta name="tracker-type" content="bsc" />
<meta name="tracker-bsc-assignee" content="fs@suse.com" />
<meta name="tracker-bsc-component" content="Documentation" />
<meta name="tracker-bsc-product" content="openSUSE Distribution" />
<meta name="tracker-bsc-version" content="Leap 15.4" />
<meta property="og:title" content="Dynamic kernel device management with udev | openSUSE …" />
<meta property="og:description" content="The kernel can add or remove almost any device in a running system. Changes in the device state (whether a device is plugged in or removed) need to be propagat…" />
<meta property="og:type" content="article" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Dynamic kernel device management with udev | openSUSE …" />
<meta name="twitter:description" content="The kernel can add or remove almost any device in a running system. Changes in the device state (whether a device is plugged in or removed) need to be propagat…" />
<link rel="home" href="index.html" title="openSUSE Leap Documentation" /><link rel="up" href="part-reference-system.html" title="Part II. System" /><link rel="prev" href="cha-suse.html" title="Chapter 15. Special system features" /><link rel="next" href="part-reference-services.html" title="Part III. Services" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" /></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #E11;"><div id="_header"><div id="_logo"><img src="static/images/logo.svg" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="Reference"><span class="book-icon">Reference</span></a><span> › </span><a class="crumb" href="part-reference-system.html">System</a><span> › </span><a class="crumb" href="cha-udev.html">Dynamic kernel device management with udev</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Reference</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface-reference.html"><span class="number"> </span><span class="name">About this guide</span></a></li><li class="inactive"><a href="part-reference-adv-admin.html"><span class="number">I </span><span class="name">Advanced administration</span></a><ol><li class="inactive"><a href="cha-yast-text.html"><span class="number">1 </span><span class="name">YaST in text mode</span></a></li><li class="inactive"><a href="cha-sw-cl.html"><span class="number">2 </span><span class="name">Managing software with command line tools</span></a></li><li class="inactive"><a href="cha-snapper.html"><span class="number">3 </span><span class="name">System recovery and snapshot management with Snapper</span></a></li><li class="inactive"><a href="cha-vnc.html"><span class="number">4 </span><span class="name">Remote graphical sessions with VNC</span></a></li><li class="inactive"><a href="cha-expert-partitioner.html"><span class="number">5 </span><span class="name"><span class="guimenu ">Expert Partitioner</span></span></a></li><li class="inactive"><a href="cha-tuning-multikernel.html"><span class="number">6 </span><span class="name">Installing multiple kernel versions</span></a></li><li class="inactive"><a href="cha-gui-desktop.html"><span class="number">7 </span><span class="name">Graphical user interface</span></a></li></ol></li><li class="inactive"><a href="part-reference-system.html"><span class="number">II </span><span class="name">System</span></a><ol><li class="inactive"><a href="cha-64bit.html"><span class="number">8 </span><span class="name">32-bit and 64-bit applications in a 64-bit system environment</span></a></li><li class="inactive"><a href="cha-boot.html"><span class="number">9 </span><span class="name">Introduction to the boot process</span></a></li><li class="inactive"><a href="cha-systemd.html"><span class="number">10 </span><span class="name">The <code class="systemitem">systemd</code> daemon</span></a></li><li class="inactive"><a href="cha-journalctl.html"><span class="number">11 </span><span class="name"><code class="command">journalctl</code>: query the <code class="systemitem">systemd</code> journal</span></a></li><li class="inactive"><a href="cha-grub2.html"><span class="number">12 </span><span class="name">The boot loader GRUB 2</span></a></li><li class="inactive"><a href="cha-network.html"><span class="number">13 </span><span class="name">Basic networking</span></a></li><li class="inactive"><a href="cha-uefi.html"><span class="number">14 </span><span class="name">UEFI (Unified Extensible Firmware Interface)</span></a></li><li class="inactive"><a href="cha-suse.html"><span class="number">15 </span><span class="name">Special system features</span></a></li><li class="inactive"><a href="cha-udev.html"><span class="number">16 </span><span class="name">Dynamic kernel device management with <code class="systemitem">udev</code></span></a></li></ol></li><li class="inactive"><a href="part-reference-services.html"><span class="number">III </span><span class="name">Services</span></a><ol><li class="inactive"><a href="cha-slp.html"><span class="number">17 </span><span class="name">SLP</span></a></li><li class="inactive"><a href="cha-ntp.html"><span class="number">18 </span><span class="name">Time synchronization with NTP</span></a></li><li class="inactive"><a href="cha-dns.html"><span class="number">19 </span><span class="name">The domain name system</span></a></li><li class="inactive"><a href="cha-dhcp.html"><span class="number">20 </span><span class="name">DHCP</span></a></li><li class="inactive"><a href="cha-samba.html"><span class="number">21 </span><span class="name">Samba</span></a></li><li class="inactive"><a href="cha-nfs.html"><span class="number">22 </span><span class="name">Sharing file systems with NFS</span></a></li><li class="inactive"><a href="cha-autofs.html"><span class="number">23 </span><span class="name">On-demand mounting with autofs</span></a></li><li class="inactive"><a href="cha-apache2.html"><span class="number">24 </span><span class="name">The Apache HTTP server</span></a></li><li class="inactive"><a href="cha-ftp.html"><span class="number">25 </span><span class="name">Setting up an FTP server with YaST</span></a></li><li class="inactive"><a href="cha-squid.html"><span class="number">26 </span><span class="name">Squid caching proxy server</span></a></li></ol></li><li class="inactive"><a href="part-reference-mobility.html"><span class="number">IV </span><span class="name">Mobile computers</span></a><ol><li class="inactive"><a href="cha-mobile.html"><span class="number">27 </span><span class="name">Mobile computing with Linux</span></a></li><li class="inactive"><a href="cha-nm.html"><span class="number">28 </span><span class="name">Using NetworkManager</span></a></li><li class="inactive"><a href="cha-power-mgmt.html"><span class="number">29 </span><span class="name">Power management</span></a></li></ol></li><li class="inactive"><a href="app-nwscheme.html"><span class="number">A </span><span class="name">An example network</span></a></li><li class="inactive"><a href="bk02apb.html"><span class="number">B </span><span class="name">GNU licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 15. Special system features" href="cha-suse.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Part III. Services" href="part-reference-services.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #E11;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="Reference"><span class="book-icon">Reference</span></a><span> › </span><a class="crumb" href="part-reference-system.html">System</a><span> › </span><a class="crumb" href="cha-udev.html">Dynamic kernel device management with udev</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 15. Special system features" href="cha-suse.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Part III. Services" href="part-reference-services.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha-udev"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname "><span class="productname"><span class="phrase">openSUSE Leap</span></span></span> <span class="productnumber "><span class="productnumber"><span class="phrase">15.7</span></span></span></div><div><h2 class="title"><span class="number">16 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Dynamic kernel device management with <code class="systemitem">udev</code></span> <a title="Permalink" class="permalink" href="cha-udev.html#">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/udev.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>udev.xml</li><li><span class="ds-label">ID: </span>cha-udev</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha-udev.html#sec-udev-devdir"><span class="number">16.1 </span><span class="name">The <code class="filename">/dev</code> directory</span></a></span></dt><dt><span class="sect1"><a href="cha-udev.html#sec-udev-kernel"><span class="number">16.2 </span><span class="name">Kernel <code class="systemitem">uevents</code> and <code class="systemitem">udev</code></span></a></span></dt><dt><span class="sect1"><a href="cha-udev.html#sec-udev-drivers"><span class="number">16.3 </span><span class="name">Drivers, kernel modules and devices</span></a></span></dt><dt><span class="sect1"><a href="cha-udev.html#sec-udev-boot"><span class="number">16.4 </span><span class="name">Booting and initial device setup</span></a></span></dt><dt><span class="sect1"><a href="cha-udev.html#sec-udev-debug"><span class="number">16.5 </span><span class="name">Monitoring the running <code class="systemitem">udev</code> daemon</span></a></span></dt><dt><span class="sect1"><a href="cha-udev.html#sec-udev-rules"><span class="number">16.6 </span><span class="name">Influencing kernel device event handling with <code class="systemitem">udev</code> rules</span></a></span></dt><dt><span class="sect1"><a href="cha-udev.html#sec-udev-persdev"><span class="number">16.7 </span><span class="name">Persistent device naming</span></a></span></dt><dt><span class="sect1"><a href="cha-udev.html#sec-udev-files"><span class="number">16.8 </span><span class="name">Files used by <code class="systemitem">udev</code></span></a></span></dt><dt><span class="sect1"><a href="cha-udev.html#sec-udev-moreinfo"><span class="number">16.9 </span><span class="name">More information</span></a></span></dt></dl></div></div><p>
  The kernel can add or remove almost any device in a running system. Changes
  in the device state (whether a device is plugged in or removed) need to be
  propagated to user space. Devices need to be configured when they are
  plugged in and recognized. Users of a certain device need to be informed
  about any changes in this device's recognized state.
  <code class="systemitem">udev</code> provides the needed
  infrastructure to dynamically maintain the device node files and symbolic
  links in the <code class="filename">/dev</code> directory.
  <code class="systemitem">udev</code> rules provide a way to plug
  external tools into the kernel device event processing. This allows you to
  customize <code class="systemitem">udev</code> device handling by adding certain scripts to execute as part of kernel device
  handling, or request and import additional data to evaluate during device
  handling.
 </p><div class="sect1 " id="sec-udev-devdir"><div class="titlepage"><div><div><h2 class="title"><span class="number">16.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">The <code class="filename">/dev</code> directory</span> <a title="Permalink" class="permalink" href="cha-udev.html#sec-udev-devdir">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/udev.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>udev.xml</li><li><span class="ds-label">ID: </span>sec-udev-devdir</li></ul></div></div></div></div><p>
   The device nodes in the <code class="filename">/dev</code> directory provide access
   to the corresponding kernel devices. With
   <code class="systemitem">udev</code>, the <code class="filename">/dev</code>
   directory reflects the current state of the kernel. Every kernel device has
   one corresponding device file. If a device is disconnected from the system,
   the device node is removed.
  </p><p>
   The content of the <code class="filename">/dev</code> directory is kept on a
   temporary file system and all files are rendered at every system start-up.
   Manually created or modified files do not, by design, survive a reboot.
   Static files and directories that should always be in the
   <code class="filename">/dev</code> directory regardless of the state of the
   corresponding kernel device can be created with systemd-tmpfiles. The
   configuration files are found in <code class="filename">/usr/lib/tmpfiles.d/</code>
   and <code class="filename">/etc/tmpfiles.d/</code>; for more information, see the
   <code class="systemitem">systemd-tmpfiles(8)</code> man page.
  </p></div><div class="sect1 " id="sec-udev-kernel"><div class="titlepage"><div><div><h2 class="title"><span class="number">16.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Kernel <code class="systemitem">uevents</code> and <code class="systemitem">udev</code></span> <a title="Permalink" class="permalink" href="cha-udev.html#sec-udev-kernel">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/udev.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>udev.xml</li><li><span class="ds-label">ID: </span>sec-udev-kernel</li></ul></div></div></div></div><p>
   The required device information is exported by the
   <code class="systemitem">sysfs</code> file system. For every
   device the kernel has detected and initialized, a directory with the device
   name is created. It contains attribute files with device-specific
   properties.
  </p><p>
   Every time a device is added or removed, the kernel sends a uevent to notify
   <code class="systemitem">udev</code> of the change. The
   <code class="systemitem">udev</code> daemon reads and parses all
   rules from the <code class="filename">/usr/lib/udev/rules.d/*.rules</code> and
   <code class="filename">/etc/udev/rules.d/*.rules</code> files at start-up and keeps
   them in memory. If rules files are changed, added or removed, the daemon can
   reload their in-memory representation with the command
   <code class="command">udevadm control --reload</code>. For more details on
   <code class="systemitem">udev</code> rules and their syntax, refer
   to <a class="xref" href="cha-udev.html#sec-udev-rules" title="16.6. Influencing kernel device event handling with udev rules">Section 16.6, “Influencing kernel device event handling with <code class="systemitem">udev</code> rules”</a>.
  </p><p>
   Every received event is matched against the set of provides rules. The rules
   can add or change event environment keys, request a specific name for the
   device node to create, add symbolic links pointing to the node or add
   programs to run after the device node is created. The driver core
   <code class="systemitem">uevents</code> are received from a kernel
   netlink socket.
  </p></div><div class="sect1 " id="sec-udev-drivers"><div class="titlepage"><div><div><h2 class="title"><span class="number">16.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Drivers, kernel modules and devices</span> <a title="Permalink" class="permalink" href="cha-udev.html#sec-udev-drivers">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/udev.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>udev.xml</li><li><span class="ds-label">ID: </span>sec-udev-drivers</li></ul></div></div></div></div><p>
   The kernel bus drivers probe for devices. For every detected device, the
   kernel creates an internal device structure while the driver core sends a
   uevent to the <code class="systemitem">udev</code> daemon. Bus
   devices identify themselves by a specially formatted ID, which tells what
   kind of device it is. These IDs consist of vendor and product ID and
   other subsystem-specific values. Every bus has its own scheme for these IDs,
   called <code class="envar">MODALIAS</code>. The kernel takes the device information,
   composes a <code class="envar">MODALIAS</code> ID string from it and sends that string
   along with the event. For a USB mouse, it looks like this:
  </p><div class="verbatim-wrap"><pre class="screen">MODALIAS=usb:v046DpC03Ed2000dc00dsc00dp00ic03isc01ip02</pre></div><p>
   Every device driver carries a list of known aliases for devices it can
   handle. The list is contained in the kernel module file itself. The program
   depmod reads the ID lists and creates the file
   <code class="filename">modules.alias</code> in the kernel's
   <code class="filename">/lib/modules</code> directory for all currently available
   modules. With this infrastructure, module loading is as easy as calling
   <code class="command">modprobe</code> for every event that carries a
   <code class="literal">MODALIAS</code> key. If <code class="command">modprobe $MODALIAS</code> is
   called, it matches the device alias composed for the device with the aliases
   provided by the modules. If a matching entry is found, that module is
   loaded. All this is automatically triggered by
   <code class="systemitem">udev</code>.
  </p></div><div class="sect1 " id="sec-udev-boot"><div class="titlepage"><div><div><h2 class="title"><span class="number">16.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Booting and initial device setup</span> <a title="Permalink" class="permalink" href="cha-udev.html#sec-udev-boot">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/udev.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>udev.xml</li><li><span class="ds-label">ID: </span>sec-udev-boot</li></ul></div></div></div></div><p>
   All device events happening during the boot process before the
   <code class="systemitem">udev</code> daemon is running are lost,
   because the infrastructure to handle these events resides on the root file
   system and is not available at that time. To cover that loss, the kernel
   provides a <code class="filename">uevent</code> file located in the device directory
   of every device in the <code class="systemitem">sysfs</code>
   file system. By writing <code class="literal">add</code> to that file, the kernel
   resends the same event as the one lost during boot. A simple loop over all
   <code class="filename">uevent</code> files in <code class="filename">/sys</code> triggers all
   events again to create the device nodes and perform device setup.
  </p><p>
   As an example, a USB mouse present during boot may not be initialized by the
   early boot logic, because the driver is not available at that time. The
   event for the device discovery was lost and failed to find a kernel module
   for the device. Instead of manually searching for connected
   devices, <code class="systemitem">udev</code> requests all device
   events from the kernel after the root file system is available, so the event
   for the USB mouse device runs again. Now it finds the kernel module on the
   mounted root file system and the USB mouse can be initialized.
  </p><p>
   From user space, there is no visible difference between a device coldplug
   sequence and a device discovery during runtime. In both cases, the same
   rules are used to match and the same configured programs are run.
  </p></div><div class="sect1 " id="sec-udev-debug"><div class="titlepage"><div><div><h2 class="title"><span class="number">16.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Monitoring the running <code class="systemitem">udev</code> daemon</span> <a title="Permalink" class="permalink" href="cha-udev.html#sec-udev-debug">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/udev.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>udev.xml</li><li><span class="ds-label">ID: </span>sec-udev-debug</li></ul></div></div></div></div><p>
   The program <code class="command">udevadm monitor</code> can be used to visualize the
   driver core events and the timing of the
   <code class="systemitem">udev</code> event processes.
  </p><div class="verbatim-wrap"><pre class="screen">UEVENT[1185238505.276660] add   /devices/pci0000:00/0000:00:1d.2/usb3/3-1 (usb)
UDEV  [1185238505.279198] add   /devices/pci0000:00/0000:00:1d.2/usb3/3-1 (usb)
UEVENT[1185238505.279527] add   /devices/pci0000:00/0000:00:1d.2/usb3/3-1/3-1:1.0 (usb)
UDEV  [1185238505.285573] add   /devices/pci0000:00/0000:00:1d.2/usb3/3-1/3-1:1.0 (usb)
UEVENT[1185238505.298878] add   /devices/pci0000:00/0000:00:1d.2/usb3/3-1/3-1:1.0/input/input10 (input)
UDEV  [1185238505.305026] add   /devices/pci0000:00/0000:00:1d.2/usb3/3-1/3-1:1.0/input/input10 (input)
UEVENT[1185238505.305442] add   /devices/pci0000:00/0000:00:1d.2/usb3/3-1/3-1:1.0/input/input10/mouse2 (input)
UEVENT[1185238505.306440] add   /devices/pci0000:00/0000:00:1d.2/usb3/3-1/3-1:1.0/input/input10/event4 (input)
UDEV  [1185238505.325384] add   /devices/pci0000:00/0000:00:1d.2/usb3/3-1/3-1:1.0/input/input10/event4 (input)
UDEV  [1185238505.342257] add   /devices/pci0000:00/0000:00:1d.2/usb3/3-1/3-1:1.0/input/input10/mouse2 (input)</pre></div><p>
   The <code class="literal">UEVENT</code> lines show the events the kernel has sent over
   netlink. The <code class="literal">UDEV</code> lines show the finished
   <code class="systemitem">udev</code> event handlers. The timing is
   printed in microseconds. The time between <code class="literal">UEVENT</code> and
   <code class="literal">UDEV</code> is the time
   <code class="systemitem">udev</code> took to process this event or
   the <code class="systemitem">udev</code> daemon has delayed its
   execution to synchronize this event with related and already running events.
   For example, events for hard disk partitions always wait for the main disk
   device event to finish, because the partition events may rely on the data
   that the main disk event has queried from the hardware.
  </p><p>
   <code class="command">udevadm monitor --env</code> shows the complete event
   environment:
  </p><div class="verbatim-wrap"><pre class="screen">ACTION=add
DEVPATH=/devices/pci0000:00/0000:00:1d.2/usb3/3-1/3-1:1.0/input/input10
SUBSYSTEM=input
SEQNUM=1181
NAME="Logitech USB-PS/2 Optical Mouse"
PHYS="usb-0000:00:1d.2-1/input0"
UNIQ=""
EV=7
KEY=70000 0 0 0 0
REL=103
MODALIAS=input:b0003v046DpC03Ee0110-e0,1,2,k110,111,112,r0,1,8,amlsfw</pre></div><p>
   <code class="systemitem">udev</code> also sends messages to syslog.
   The default syslog priority that controls which messages are sent to syslog
   is specified in the <code class="systemitem">udev</code>
   configuration file <code class="filename">/etc/udev/udev.conf</code>. The log
   priority of the running daemon can be changed with <code class="command">udevadm control
   --log_priority=</code><em class="replaceable ">LEVEL/NUMBER</em>.
  </p></div><div class="sect1 " id="sec-udev-rules"><div class="titlepage"><div><div><h2 class="title"><span class="number">16.6 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Influencing kernel device event handling with <code class="systemitem">udev</code> rules</span> <a title="Permalink" class="permalink" href="cha-udev.html#sec-udev-rules">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/udev.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>udev.xml</li><li><span class="ds-label">ID: </span>sec-udev-rules</li></ul></div></div></div></div><p>
   A <code class="systemitem">udev</code> rule can match any property
   the kernel adds to the event itself or any information that the kernel
   exports to <code class="filename">sysfs</code>. The rule can also request additional
   information from external programs. Events are matched against all rules
   provided in the directories <code class="filename">/usr/lib/udev/rules.d/</code>
   (for default rules) and <code class="filename">/etc/udev/rules.d</code>
   (system-specific configuration).
  </p><p>
   Every line in the rules file contains at least one key value pair. There are
   two kinds of keys, match and assignment keys. If all match keys match their
   values, the rule is applied and the assignment keys are assigned the
   specified value. A matching rule may specify the name of the device node,
   add symbolic links pointing to the node or run a specified program as part
   of the event handling. If no matching rule is found, the default device node
   name is used to create the device node. Detailed information about the rule
   syntax and the provided keys to match or import data are described in the
   <code class="systemitem">udev</code> man page. The following
   example rules provide a basic introduction to
   <code class="systemitem">udev</code> rule syntax. The example rules
   are all taken from the <code class="systemitem">udev</code> default
   rule set <code class="filename">/usr/lib/udev/rules.d/50-udev-default.rules</code>.
  </p><div class="example" id="ex-rules"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 16.1: </span><span class="name">Example <code class="systemitem">udev</code> rules </span><a title="Permalink" class="permalink" href="cha-udev.html#ex-rules">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen"># console
KERNEL=="console", MODE="0600", OPTIONS="last_rule"

# serial devices
KERNEL=="ttyUSB*", ATTRS{product}=="[Pp]alm*Handheld*", SYMLINK+="pilot"

# printer
SUBSYSTEM=="usb", KERNEL=="lp*", NAME="usb/%k", SYMLINK+="usb%k", GROUP="lp"

# kernel firmware loader
SUBSYSTEM=="firmware", ACTION=="add", RUN+="firmware.sh"</pre></div></div></div><p>
   The <code class="systemitem">console</code> rule consists of three keys: one match
   key (<code class="literal">KERNEL</code>) and two assign keys
   (<code class="literal">MODE</code>, <code class="literal">OPTIONS</code>). The
   <code class="literal">KERNEL</code> match rule searches the device list for any items
   of the type <code class="literal">console</code>. Only exact matches are valid and
   trigger this rule to be executed. The <code class="literal">MODE</code> key assigns
   special permissions to the device node, in this case, read and write
   permissions to the owner of this device only. The <code class="literal">OPTIONS</code>
   key makes this rule the last rule to be applied to any device of this type.
   Any later rule matching this particular device type does not have any
   effect.
  </p><p>
   The <code class="systemitem">serial devices</code> rule is not available in
   <code class="filename">50-udev-default.rules</code> anymore, but it is still worth
   considering. It consists of two match keys (<code class="literal">KERNEL</code> and
   <code class="literal">ATTRS</code>) and one assign key (<code class="literal">SYMLINK</code>).
   The <code class="literal">KERNEL</code> key searches for all devices of the
   <code class="literal">ttyUSB</code> type. Using the <code class="literal">*</code> wild card,
   this key matches several of these devices. The second match key,
   <code class="literal">ATTRS</code>, checks whether the <code class="filename">product</code>
   attribute file in <code class="literal">sysfs</code> for any <code class="literal">ttyUSB</code>
   device contains a certain string. The assign key
   (<code class="literal">SYMLINK</code>) triggers the addition of a symbolic link to
   this device under <code class="filename">/dev/pilot</code>. The operator used in this
   key (<code class="literal">+=</code>) tells
   <code class="systemitem">udev</code> to additionally perform this
   action, even if previous or later rules add other symbolic links. As this
   rule contains two match keys, it is only applied if both conditions are met.
  </p><p>
   The <code class="systemitem">printer</code> rule deals with USB printers and
   contains two match keys which must both apply to get the entire rule applied
   (<code class="literal">SUBSYSTEM</code> and <code class="literal">KERNEL</code>). Three assign
   keys deal with the naming for this device type (<code class="literal">NAME</code>),
   the creation of symbolic device links (<code class="literal">SYMLINK</code>) and the
   group membership for this device type (<code class="literal">GROUP</code>). Using the
   <code class="literal">*</code> wild card in the <code class="literal">KERNEL</code> key makes it
   match several <code class="literal">lp</code> printer devices. Substitutions are used
   in both, the <code class="literal">NAME</code> and the <code class="literal">SYMLINK</code> keys
   to extend these strings by the internal device name. For example, the
   symbolic link to the first <code class="literal">lp</code> USB printer would read
   <code class="filename">/dev/usblp0</code>.
  </p><p>
   The <code class="systemitem">kernel firmware loader</code> rule makes
   <code class="systemitem">udev</code> load additional firmware by an
   external helper script during runtime. The <code class="literal">SUBSYSTEM</code>
   match key searches for the <code class="literal">firmware</code> subsystem. The
   <code class="literal">ACTION</code> key checks whether any device belonging to the
   <code class="literal">firmware</code> subsystem has been added. The
   <code class="literal">RUN+=</code> key triggers the execution of the
   <code class="literal">firmware.sh</code> script to locate the firmware that is to be
   loaded.
  </p><p>
   General characteristics are common to all rules:
  </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     Each rule consists of one or more key value pairs separated by a comma.
    </p></li><li class="listitem "><p>
     A key's operation is determined by the operator.
     <code class="systemitem">udev</code> rules support several
     operators.
    </p></li><li class="listitem "><p>
     Each given value must be enclosed by quotation marks.
    </p></li><li class="listitem "><p>
     Each line of the rules file represents one rule. If a rule is longer than
     one line, use <code class="literal">\</code> to join the different lines as you
     would do in shell syntax.
    </p></li><li class="listitem "><p>
     <code class="systemitem">udev</code> rules support a shell-style
     pattern that matches the <code class="literal">*</code>, <code class="literal">?</code>, and
     <code class="literal">[]</code> patterns.
    </p></li><li class="listitem "><p>
     <code class="systemitem">udev</code> rules support substitutions.
    </p></li></ul></div><div class="sect2 " id="sec-udev-rules-ops"><div class="titlepage"><div><div><h3 class="title"><span class="number">16.6.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Using operators in <code class="systemitem">udev</code> rules</span> <a title="Permalink" class="permalink" href="cha-udev.html#sec-udev-rules-ops">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/udev.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>udev.xml</li><li><span class="ds-label">ID: </span>sec-udev-rules-ops</li></ul></div></div></div></div><p>
    Creating keys you can choose from several operators, depending on the type
    of key you want to create. Match keys will normally be used to find a value
    that either matches or explicitly mismatches the search value. Match keys
    contain either of the following operators:
   </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.4.10.9.11.3.1"><span class="term "><code class="literal">==</code>
     </span></dt><dd><p>
       Compare for equality. If the key contains a search pattern, all results
       matching this pattern are valid.
      </p></dd><dt id="id-1.4.4.10.9.11.3.2"><span class="term "><code class="literal">!=</code>
     </span></dt><dd><p>
       Compare for non-equality. If the key contains a search pattern, all
       results matching this pattern are valid.
      </p></dd></dl></div><p>
    Any of the following operators can be used with assign keys:
   </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.4.10.9.11.5.1"><span class="term "><code class="literal">=</code>
     </span></dt><dd><p>
       Assign a value to a key. If the key previously consisted of a list of
       values, the key resets and only the single value is assigned.
      </p></dd><dt id="id-1.4.4.10.9.11.5.2"><span class="term "><code class="literal">+=</code>
     </span></dt><dd><p>
       Add a value to a key that contains a list of entries.
      </p></dd><dt id="id-1.4.4.10.9.11.5.3"><span class="term "><code class="literal">:=</code>
     </span></dt><dd><p>
       Assign a final value. Disallow any later change by later rules.
      </p></dd></dl></div></div><div class="sect2 " id="sec-udev-rules-subst"><div class="titlepage"><div><div><h3 class="title"><span class="number">16.6.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Using substitutions in <code class="systemitem">udev</code> rules</span> <a title="Permalink" class="permalink" href="cha-udev.html#sec-udev-rules-subst">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/udev.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>udev.xml</li><li><span class="ds-label">ID: </span>sec-udev-rules-subst</li></ul></div></div></div></div><p>
    <code class="systemitem">udev</code> rules support the use of
    placeholders and substitutions. Use them in a similar fashion as you would
    do in any other scripts. The following substitutions can be used with
    <code class="systemitem">udev</code> rules:
   </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.4.10.9.12.3.1"><span class="term "><code class="literal">%r</code>, <code class="literal">$root</code>
     </span></dt><dd><p>
       The device directory, <code class="filename">/dev</code> by default.
      </p></dd><dt id="id-1.4.4.10.9.12.3.2"><span class="term "><code class="literal">%p</code>, <code class="literal">$devpath</code>
     </span></dt><dd><p>
       The value of <code class="envar">DEVPATH</code>.
      </p></dd><dt id="id-1.4.4.10.9.12.3.3"><span class="term "><code class="literal">%k</code>, <code class="literal">$kernel</code>
     </span></dt><dd><p>
       The value of <code class="envar">KERNEL</code> or the internal device name.
      </p></dd><dt id="id-1.4.4.10.9.12.3.4"><span class="term "><code class="literal">%n</code>, <code class="literal">$number</code>
     </span></dt><dd><p>
       The device number.
      </p></dd><dt id="id-1.4.4.10.9.12.3.5"><span class="term "><code class="literal">%N</code>, <code class="literal">$tempnode</code>
     </span></dt><dd><p>
       The temporary name of the device file.
      </p></dd><dt id="id-1.4.4.10.9.12.3.6"><span class="term "><code class="literal">%M</code>, <code class="literal">$major</code>
     </span></dt><dd><p>
       The major number of the device.
      </p></dd><dt id="id-1.4.4.10.9.12.3.7"><span class="term "><code class="literal">%m</code>, <code class="literal">$minor</code>
     </span></dt><dd><p>
       The minor number of the device.
      </p></dd><dt id="id-1.4.4.10.9.12.3.8"><span class="term "><code class="literal">%s{<em class="replaceable ">ATTRIBUTE</em>}</code>,
     <code class="literal">$attr{<em class="replaceable ">ATTRIBUTE</em>}</code>
     </span></dt><dd><p>
       The value of a <code class="filename">sysfs</code> attribute (specified by
       <em class="replaceable ">ATTRIBUTE</em>).
      </p></dd><dt id="id-1.4.4.10.9.12.3.9"><span class="term "><code class="literal">%E{<em class="replaceable ">VARIABLE</em>}</code>,
     <code class="literal">$env{<em class="replaceable ">VARIABLE</em>}</code>
     </span></dt><dd><p>
       The value of an environment variable (specified by
       <em class="replaceable ">VARIABLE</em>).
      </p></dd><dt id="id-1.4.4.10.9.12.3.10"><span class="term "><code class="literal">%c</code>, <code class="literal">$result</code>
     </span></dt><dd><p>
       The output of <code class="envar">PROGRAM</code>.
      </p></dd><dt id="id-1.4.4.10.9.12.3.11"><span class="term "><code class="literal">%%</code>
     </span></dt><dd><p>
       The <code class="literal">%</code> character.
      </p></dd><dt id="id-1.4.4.10.9.12.3.12"><span class="term "><code class="literal">$$</code>
     </span></dt><dd><p>
       The <code class="literal">$</code> character.
      </p></dd></dl></div></div><div class="sect2 " id="sec-udev-rules-match"><div class="titlepage"><div><div><h3 class="title"><span class="number">16.6.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Using <code class="systemitem">udev</code> match keys</span> <a title="Permalink" class="permalink" href="cha-udev.html#sec-udev-rules-match">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/udev.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>udev.xml</li><li><span class="ds-label">ID: </span>sec-udev-rules-match</li></ul></div></div></div></div><p>
    Match keys describe conditions that must be met before a
    <code class="systemitem">udev</code> rule can be applied. The
    following match keys are available:
   </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.4.10.9.13.3.1"><span class="term "><code class="literal">ACTION</code>
     </span></dt><dd><p>
       The name of the event action, for example, <code class="literal">add</code> or
       <code class="literal">remove</code> when adding or removing a device.
      </p></dd><dt id="id-1.4.4.10.9.13.3.2"><span class="term "><code class="literal">DEVPATH</code>
     </span></dt><dd><p>
       The device path of the event device, for example,
       <code class="literal">DEVPATH=/bus/pci/drivers/ipw3945</code> to search for all
       events related to the ipw3945 driver.
      </p></dd><dt id="id-1.4.4.10.9.13.3.3"><span class="term "><code class="literal">KERNEL</code>
     </span></dt><dd><p>
       The internal (kernel) name of the event device.
      </p></dd><dt id="id-1.4.4.10.9.13.3.4"><span class="term "><code class="literal">SUBSYSTEM</code>
     </span></dt><dd><p>
       The subsystem of the event device, for example,
       <code class="literal">SUBSYSTEM=usb</code> for all events related to USB devices.
      </p></dd><dt id="id-1.4.4.10.9.13.3.5"><span class="term "><code class="literal">ATTR{<em class="replaceable ">FILENAME</em>}</code>
     </span></dt><dd><p>
       <code class="systemitem">sysfs</code> attributes of the
       event device. To match a string contained in the
       <code class="filename">vendor</code> attribute file name, you could use
       <code class="literal">ATTR{vendor}=="On[sS]tream"</code>, for example.
      </p></dd><dt id="id-1.4.4.10.9.13.3.6"><span class="term "><code class="literal">KERNELS</code>
     </span></dt><dd><p>
       Let <code class="systemitem">udev</code> search the device path
       upward for a matching device name.
      </p></dd><dt id="id-1.4.4.10.9.13.3.7"><span class="term "><code class="literal">SUBSYSTEMS</code>
     </span></dt><dd><p>
       Let <code class="systemitem">udev</code> search the device path
       upward for a matching device subsystem name.
      </p></dd><dt id="id-1.4.4.10.9.13.3.8"><span class="term "><code class="literal">DRIVERS</code>
     </span></dt><dd><p>
       Let <code class="systemitem">udev</code> search the device path
       upward for a matching device driver name.
      </p></dd><dt id="id-1.4.4.10.9.13.3.9"><span class="term "><code class="literal">ATTRS{<em class="replaceable ">FILENAME</em>}</code>
     </span></dt><dd><p>
       Let <code class="systemitem">udev</code> search the device path
       upward for a device with matching
       <code class="systemitem">sysfs</code> attribute values.
      </p></dd><dt id="id-1.4.4.10.9.13.3.10"><span class="term "><code class="literal">ENV{<em class="replaceable ">KEY</em>}</code>
     </span></dt><dd><p>
       The value of an environment variable, for example,
       <code class="literal">ENV{ID_BUS}="ieee1394</code> to search for all events
       related to the FireWire bus ID.
      </p></dd><dt id="id-1.4.4.10.9.13.3.11"><span class="term "><code class="literal">PROGRAM</code>
     </span></dt><dd><p>
       Let <code class="systemitem">udev</code> execute an external
       program. To be successful, the program must return with exit code zero.
       The program's output, printed to STDOUT, is available to the
       <code class="literal">RESULT</code> key.
      </p></dd><dt id="id-1.4.4.10.9.13.3.12"><span class="term "><code class="literal">RESULT</code>
     </span></dt><dd><p>
       Match the output string of the last <code class="literal">PROGRAM</code> call.
       Either include this key in the same rule as the
       <code class="literal">PROGRAM</code> key or in a later one.
      </p></dd></dl></div></div><div class="sect2 " id="sec-udev-rules-assign"><div class="titlepage"><div><div><h3 class="title"><span class="number">16.6.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Using <code class="systemitem">udev</code> assign keys</span> <a title="Permalink" class="permalink" href="cha-udev.html#sec-udev-rules-assign">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/udev.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>udev.xml</li><li><span class="ds-label">ID: </span>sec-udev-rules-assign</li></ul></div></div></div></div><p>
    In contrast to the match keys described above, assign keys do not describe
    conditions that must be met. They assign values, names and actions to the
    device nodes maintained by <code class="systemitem">udev</code>.
   </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.4.10.9.14.3.1"><span class="term "><code class="literal">NAME</code>
     </span></dt><dd><p>
       The name of the device node to be created. After a rule has set a node
       name, all other rules with a <code class="literal">NAME</code> key for this node
       are ignored.
      </p></dd><dt id="id-1.4.4.10.9.14.3.2"><span class="term "><code class="literal">SYMLINK</code>
     </span></dt><dd><p>
       The name of a symbolic link related to the node to be created. Multiple
       matching rules can add symbolic links to be created with the device
       node. You can also specify multiple symbolic links for one node in one
       rule using the space character to separate the symbolic link names.
      </p></dd><dt id="id-1.4.4.10.9.14.3.3"><span class="term "><code class="literal">OWNER, GROUP, MODE</code>
     </span></dt><dd><p>
       The permissions for the new device node. Values specified here overwrite
       anything that has been compiled in.
      </p></dd><dt id="id-1.4.4.10.9.14.3.4"><span class="term "><code class="literal">ATTR{<em class="replaceable ">KEY</em>}</code>
     </span></dt><dd><p>
       Specify a value to be written to a
       <code class="systemitem">sysfs</code> attribute of the event
       device. If the <code class="literal">==</code> operator is used, this key is also
       used to match against the value of a
       <code class="systemitem">sysfs</code> attribute.
      </p></dd><dt id="id-1.4.4.10.9.14.3.5"><span class="term "><code class="literal">ENV{<em class="replaceable ">KEY</em>}</code>
     </span></dt><dd><p>
       Tell <code class="systemitem">udev</code> to export a variable
       to the environment. If the <code class="literal">==</code> operator is used, this
       key is also used to match against an environment variable.
      </p></dd><dt id="id-1.4.4.10.9.14.3.6"><span class="term "><code class="literal">RUN</code>
     </span></dt><dd><p>
       Tell <code class="systemitem">udev</code> to add a program to
       the list of programs to be executed for this device. Keep in mind to
       restrict this to short tasks to avoid blocking further events for
       this device.
      </p></dd><dt id="id-1.4.4.10.9.14.3.7"><span class="term "><code class="literal">LABEL</code>
     </span></dt><dd><p>
       Add a label where a <code class="literal">GOTO</code> can jump to.
      </p></dd><dt id="id-1.4.4.10.9.14.3.8"><span class="term "><code class="literal">GOTO</code>
     </span></dt><dd><p>
       Tell <code class="systemitem">udev</code> to skip several
       rules and continue with the one that carries the label referenced by the
       <code class="literal">GOTO</code> key.
      </p></dd><dt id="id-1.4.4.10.9.14.3.9"><span class="term "><code class="literal">IMPORT{<em class="replaceable ">TYPE</em>}</code>
     </span></dt><dd><p>
       Load variables into the event environment such as the output of an
       external program. <code class="systemitem">udev</code> imports
       variables of several types. If no type is specified,
       <code class="systemitem">udev</code> tries to determine the
       type itself based on the executable bit of the file permissions.
      </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
         <code class="literal">program</code> tells
         <code class="systemitem">udev</code> to execute an external
         program and import its output.
        </p></li><li class="listitem "><p>
         <code class="literal">file</code> tells
         <code class="systemitem">udev</code> to import a text file.
        </p></li><li class="listitem "><p>
         <code class="literal">parent</code> tells
         <code class="systemitem">udev</code> to import the stored
         keys from the parent device.
        </p></li></ul></div></dd><dt id="id-1.4.4.10.9.14.3.10"><span class="term "><code class="literal">WAIT_FOR_SYSFS</code>
     </span></dt><dd><p>
       Tells <code class="systemitem">udev</code> to wait for the
       specified <code class="systemitem">sysfs</code> file to be
       created for a certain device. For example,
       <code class="literal">WAIT_FOR_SYSFS="ioerr_cnt"</code> informs
       <code class="systemitem">udev</code> to wait until the
       <code class="filename">ioerr_cnt</code> file has been created.
      </p></dd><dt id="id-1.4.4.10.9.14.3.11"><span class="term "><code class="literal">OPTIONS</code>
     </span></dt><dd><p>
       The <code class="literal">OPTION</code> key may have several values:
      </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
         <code class="literal">last_rule</code> tells
         <code class="systemitem">udev</code> to ignore all later
         rules.
        </p></li><li class="listitem "><p>
         <code class="literal">ignore_device</code> tells
         <code class="systemitem">udev</code> to ignore this event.
        </p></li><li class="listitem "><p>
         <code class="literal">ignore_remove</code> tells
         <code class="systemitem">udev</code> to ignore all later
         remove events for the device.
        </p></li><li class="listitem "><p>
         <code class="literal">all_partitions</code> tells
         <code class="systemitem">udev</code> to create device nodes
         for all available partitions on a block device.
        </p></li></ul></div></dd></dl></div></div></div><div class="sect1 " id="sec-udev-persdev"><div class="titlepage"><div><div><h2 class="title"><span class="number">16.7 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Persistent device naming</span> <a title="Permalink" class="permalink" href="cha-udev.html#sec-udev-persdev">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/udev.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>udev.xml</li><li><span class="ds-label">ID: </span>sec-udev-persdev</li></ul></div></div></div></div><p>
   The dynamic device directory and the
   <code class="systemitem">udev</code> rules infrastructure make it
   possible to provide stable names for all disk devices—regardless of
   their order of recognition or the connection used for the device. Every
   appropriate block device the kernel creates is examined by tools with
   special knowledge about certain buses, drive types or file systems. Along
   with the dynamic kernel-provided device node name,
   <code class="systemitem">udev</code> maintains classes of
   persistent symbolic links pointing to the device:
  </p><div class="verbatim-wrap"><pre class="screen">/dev/disk
|-- by-id
|   |-- scsi-SATA_HTS726060M9AT00_MRH453M4HWHG7B -&gt; ../../sda
|   |-- scsi-SATA_HTS726060M9AT00_MRH453M4HWHG7B-part1 -&gt; ../../sda1
|   |-- scsi-SATA_HTS726060M9AT00_MRH453M4HWHG7B-part6 -&gt; ../../sda6
|   |-- scsi-SATA_HTS726060M9AT00_MRH453M4HWHG7B-part7 -&gt; ../../sda7
|   |-- usb-Generic_STORAGE_DEVICE_02773 -&gt; ../../sdd
|   `-- usb-Generic_STORAGE_DEVICE_02773-part1 -&gt; ../../sdd1
|-- by-label
|   |-- Photos -&gt; ../../sdd1
|   |-- SUSE10 -&gt; ../../sda7
|   `-- devel -&gt; ../../sda6
|-- by-path
|   |-- pci-0000:00:1f.2-scsi-0:0:0:0 -&gt; ../../sda
|   |-- pci-0000:00:1f.2-scsi-0:0:0:0-part1 -&gt; ../../sda1
|   |-- pci-0000:00:1f.2-scsi-0:0:0:0-part6 -&gt; ../../sda6
|   |-- pci-0000:00:1f.2-scsi-0:0:0:0-part7 -&gt; ../../sda7
|   |-- pci-0000:00:1f.2-scsi-1:0:0:0 -&gt; ../../sr0
|   |-- usb-02773:0:0:2 -&gt; ../../sdd
|   |-- usb-02773:0:0:2-part1 -&gt; ../../sdd1
`-- by-uuid
    |-- 159a47a4-e6e6-40be-a757-a629991479ae -&gt; ../../sda7
    |-- 3e999973-00c9-4917-9442-b7633bd95b9e -&gt; ../../sda6
    `-- 4210-8F8C -&gt; ../../sdd1</pre></div></div><div class="sect1 " id="sec-udev-files"><div class="titlepage"><div><div><h2 class="title"><span class="number">16.8 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Files used by <code class="systemitem">udev</code></span> <a title="Permalink" class="permalink" href="cha-udev.html#sec-udev-files">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/udev.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>udev.xml</li><li><span class="ds-label">ID: </span>sec-udev-files</li></ul></div></div></div></div><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.4.10.11.2.1"><span class="term "><code class="filename">/sys/*</code>
    </span></dt><dd><p>
      Virtual file system provided by the Linux kernel, exporting all currently
      known devices. This information is used by
      <code class="systemitem">udev</code> to create device nodes in
      <code class="filename">/dev</code>
     </p></dd><dt id="id-1.4.4.10.11.2.2"><span class="term "><code class="filename">/dev/*</code>
    </span></dt><dd><p>
      Dynamically created device nodes and static content created with
      systemd-tmpfiles; for more information, see the
      <code class="systemitem">systemd-tmpfiles(8)</code> man page.
     </p></dd></dl></div><p>
   The following files and directories contain the crucial elements of the
   <code class="systemitem">udev</code> infrastructure:
  </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.4.10.11.4.1"><span class="term "><code class="filename">/etc/udev/udev.conf</code>
    </span></dt><dd><p>
      Main <code class="systemitem">udev</code> configuration file.
     </p></dd><dt id="id-1.4.4.10.11.4.2"><span class="term "><code class="filename">/etc/udev/rules.d/*</code>
    </span></dt><dd><p>
      System-specific <code class="systemitem">udev</code> event
      matching rules. You can add custom rules here to modify or override
      the default rules from <code class="filename">/usr/lib/udev/rules.d/*</code>.
     </p><p>
      Files are parsed in alphanumeric order. Rules from files with a higher
      priority modify or override rules with lower priority. The lower the
      number, the higher the priority.
     </p></dd><dt id="id-1.4.4.10.11.4.3"><span class="term "><code class="filename">/usr/lib/udev/rules.d/*</code>
    </span></dt><dd><p>
      Default <code class="systemitem">udev</code> event matching
      rules. The files in this directory are owned by packages and will be
      overwritten by updates. Do not add, remove or edit files here, use
      <code class="filename">/etc/udev/rules.d</code> instead.
     </p></dd><dt id="id-1.4.4.10.11.4.4"><span class="term "><code class="filename">/usr/lib/udev/*</code>
    </span></dt><dd><p>
      Helper programs called from <code class="systemitem">udev</code>
      rules.
     </p></dd><dt id="id-1.4.4.10.11.4.5"><span class="term "><code class="filename">/usr/lib/tmpfiles.d/</code> and
     <code class="filename">/etc/tmpfiles.d/</code>
    </span></dt><dd><p>
      Responsible for static <code class="filename">/dev</code> content.
     </p></dd></dl></div></div><div class="sect1 " id="sec-udev-moreinfo"><div class="titlepage"><div><div><h2 class="title"><span class="number">16.9 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">More information</span> <a title="Permalink" class="permalink" href="cha-udev.html#sec-udev-moreinfo">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/udev.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>udev.xml</li><li><span class="ds-label">ID: </span>sec-udev-moreinfo</li></ul></div></div></div></div><p>
   For more information about the <code class="systemitem">udev</code>
   infrastructure, refer to the following man pages:
  </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.4.10.12.3.1"><span class="term "><code class="systemitem">udev</code>
    </span></dt><dd><p>
      General information about <code class="systemitem">udev</code>,
      keys, rules and other important configuration issues.
     </p></dd><dt id="id-1.4.4.10.12.3.2"><span class="term "><code class="command">udevadm</code>
    </span></dt><dd><p>
      <code class="command">udevadm</code> can be used to control the runtime behavior of
      <code class="systemitem">udev</code>, request kernel events,
      manage the event queue and provide simple debugging mechanisms.
     </p></dd><dt id="id-1.4.4.10.12.3.3"><span class="term "><code class="systemitem">udevd</code>
    </span></dt><dd><p>
      Information about the <code class="systemitem">udev</code> event
      managing daemon.
     </p></dd></dl></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="part-reference-services.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Part III </span>Services</span></a><a class="nav-link" href="cha-suse.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 15 </span>Special system features</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2024 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>