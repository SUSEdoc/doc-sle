<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Installing multiple kernel versions | Reference | openSUSE Leap 15.7</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" />
<meta name="title" content="Installing multiple kernel versions | openSUSE Leap 15…" />
<meta name="description" content="openSUSE Leap supports the parallel installation of multiple kernel versions. When installing a second kernel, a boot entry and an initrd are automatically cre…" />
<meta name="product-name" content="openSUSE Leap" />
<meta name="product-number" content="15.7" />
<meta name="book-title" content="Reference" />
<meta name="chapter-title" content="Chapter 6. Installing multiple kernel versions" />
<meta name="tracker-url" content="https://bugzilla.opensuse.org/enter_bug.cgi" />
<meta name="tracker-type" content="bsc" />
<meta name="tracker-bsc-assignee" content="fs@suse.com" />
<meta name="tracker-bsc-component" content="Documentation" />
<meta name="tracker-bsc-product" content="openSUSE Distribution" />
<meta name="tracker-bsc-version" content="Leap 15.4" />
<meta property="og:title" content="Installing multiple kernel versions | openSUSE Leap 15…" />
<meta property="og:description" content="openSUSE Leap supports the parallel installation of multiple kernel versions. When installing a second kernel, a boot entry and an initrd are automatically cre…" />
<meta property="og:type" content="article" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Installing multiple kernel versions | openSUSE Leap 15…" />
<meta name="twitter:description" content="openSUSE Leap supports the parallel installation of multiple kernel versions. When installing a second kernel, a boot entry and an initrd are automatically cre…" />
<link rel="home" href="index.html" title="openSUSE Leap Documentation" /><link rel="up" href="part-reference-adv-admin.html" title="Part I. Advanced administration" /><link rel="prev" href="cha-expert-partitioner.html" title="Chapter 5. Expert Partitioner" /><link rel="next" href="cha-gui-desktop.html" title="Chapter 7. Graphical user interface" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" /></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #E11;"><div id="_header"><div id="_logo"><img src="static/images/logo.svg" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="Reference"><span class="book-icon">Reference</span></a><span> › </span><a class="crumb" href="part-reference-adv-admin.html">Advanced administration</a><span> › </span><a class="crumb" href="cha-tuning-multikernel.html">Installing multiple kernel versions</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Reference</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface-reference.html"><span class="number"> </span><span class="name">About this guide</span></a></li><li class="inactive"><a href="part-reference-adv-admin.html"><span class="number">I </span><span class="name">Advanced administration</span></a><ol><li class="inactive"><a href="cha-yast-text.html"><span class="number">1 </span><span class="name">YaST in text mode</span></a></li><li class="inactive"><a href="cha-sw-cl.html"><span class="number">2 </span><span class="name">Managing software with command line tools</span></a></li><li class="inactive"><a href="cha-snapper.html"><span class="number">3 </span><span class="name">System recovery and snapshot management with Snapper</span></a></li><li class="inactive"><a href="cha-vnc.html"><span class="number">4 </span><span class="name">Remote graphical sessions with VNC</span></a></li><li class="inactive"><a href="cha-expert-partitioner.html"><span class="number">5 </span><span class="name"><span class="guimenu ">Expert Partitioner</span></span></a></li><li class="inactive"><a href="cha-tuning-multikernel.html"><span class="number">6 </span><span class="name">Installing multiple kernel versions</span></a></li><li class="inactive"><a href="cha-gui-desktop.html"><span class="number">7 </span><span class="name">Graphical user interface</span></a></li></ol></li><li class="inactive"><a href="part-reference-system.html"><span class="number">II </span><span class="name">System</span></a><ol><li class="inactive"><a href="cha-64bit.html"><span class="number">8 </span><span class="name">32-bit and 64-bit applications in a 64-bit system environment</span></a></li><li class="inactive"><a href="cha-boot.html"><span class="number">9 </span><span class="name">Introduction to the boot process</span></a></li><li class="inactive"><a href="cha-systemd.html"><span class="number">10 </span><span class="name">The <code class="systemitem">systemd</code> daemon</span></a></li><li class="inactive"><a href="cha-journalctl.html"><span class="number">11 </span><span class="name"><code class="command">journalctl</code>: query the <code class="systemitem">systemd</code> journal</span></a></li><li class="inactive"><a href="cha-grub2.html"><span class="number">12 </span><span class="name">The boot loader GRUB 2</span></a></li><li class="inactive"><a href="cha-network.html"><span class="number">13 </span><span class="name">Basic networking</span></a></li><li class="inactive"><a href="cha-uefi.html"><span class="number">14 </span><span class="name">UEFI (Unified Extensible Firmware Interface)</span></a></li><li class="inactive"><a href="cha-suse.html"><span class="number">15 </span><span class="name">Special system features</span></a></li><li class="inactive"><a href="cha-udev.html"><span class="number">16 </span><span class="name">Dynamic kernel device management with <code class="systemitem">udev</code></span></a></li></ol></li><li class="inactive"><a href="part-reference-services.html"><span class="number">III </span><span class="name">Services</span></a><ol><li class="inactive"><a href="cha-slp.html"><span class="number">17 </span><span class="name">SLP</span></a></li><li class="inactive"><a href="cha-ntp.html"><span class="number">18 </span><span class="name">Time synchronization with NTP</span></a></li><li class="inactive"><a href="cha-dns.html"><span class="number">19 </span><span class="name">The domain name system</span></a></li><li class="inactive"><a href="cha-dhcp.html"><span class="number">20 </span><span class="name">DHCP</span></a></li><li class="inactive"><a href="cha-samba.html"><span class="number">21 </span><span class="name">Samba</span></a></li><li class="inactive"><a href="cha-nfs.html"><span class="number">22 </span><span class="name">Sharing file systems with NFS</span></a></li><li class="inactive"><a href="cha-autofs.html"><span class="number">23 </span><span class="name">On-demand mounting with autofs</span></a></li><li class="inactive"><a href="cha-apache2.html"><span class="number">24 </span><span class="name">The Apache HTTP server</span></a></li><li class="inactive"><a href="cha-ftp.html"><span class="number">25 </span><span class="name">Setting up an FTP server with YaST</span></a></li><li class="inactive"><a href="cha-squid.html"><span class="number">26 </span><span class="name">Squid caching proxy server</span></a></li></ol></li><li class="inactive"><a href="part-reference-mobility.html"><span class="number">IV </span><span class="name">Mobile computers</span></a><ol><li class="inactive"><a href="cha-mobile.html"><span class="number">27 </span><span class="name">Mobile computing with Linux</span></a></li><li class="inactive"><a href="cha-nm.html"><span class="number">28 </span><span class="name">Using NetworkManager</span></a></li><li class="inactive"><a href="cha-power-mgmt.html"><span class="number">29 </span><span class="name">Power management</span></a></li></ol></li><li class="inactive"><a href="app-nwscheme.html"><span class="number">A </span><span class="name">An example network</span></a></li><li class="inactive"><a href="bk02apb.html"><span class="number">B </span><span class="name">GNU licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 5. Expert Partitioner" href="cha-expert-partitioner.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 7. Graphical user interface" href="cha-gui-desktop.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #E11;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="Reference"><span class="book-icon">Reference</span></a><span> › </span><a class="crumb" href="part-reference-adv-admin.html">Advanced administration</a><span> › </span><a class="crumb" href="cha-tuning-multikernel.html">Installing multiple kernel versions</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 5. Expert Partitioner" href="cha-expert-partitioner.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 7. Graphical user interface" href="cha-gui-desktop.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha-tuning-multikernel"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname "><span class="productname"><span class="phrase">openSUSE Leap</span></span></span> <span class="productnumber "><span class="productnumber"><span class="phrase">15.7</span></span></span></div><div><h2 class="title"><span class="number">6 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Installing multiple kernel versions</span> <a title="Permalink" class="permalink" href="cha-tuning-multikernel.html#">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_multikernel.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_multikernel.xml</li><li><span class="ds-label">ID: </span>cha-tuning-multikernel</li></ul></div></div><div><div class="abstract"><div class="abstract-title-wrap"><h6 class="abstract-title">Abstract<a title="Permalink" class="permalink" href="cha-tuning-multikernel.html#id-1.4.3.7.2.1">#</a></h6></div><p>
    <span class="productname"><span class="phrase">openSUSE Leap</span></span> supports the parallel installation of multiple kernel
    versions. When installing a second kernel, a boot entry and an initrd are
    automatically created, so no further manual configuration is needed. When
    rebooting the machine, the newly added kernel is available as an additional
    boot parameter.
   </p><p>
    Using this functionality, you can safely test kernel updates while being
    able to always fall back to the proven former kernel. To do this, do not use
    the update tools (such as the YaST Online Update or the updater applet),
    but instead follow the process described in this chapter.
   </p></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha-tuning-multikernel.html#sec-tuning-multikernel-enable"><span class="number">6.1 </span><span class="name">Enabling and configuring multiversion support</span></a></span></dt><dt><span class="sect1"><a href="cha-tuning-multikernel.html#sec-tuning-multikernel-yast"><span class="number">6.2 </span><span class="name">Installing/removing multiple kernel versions with YaST</span></a></span></dt><dt><span class="sect1"><a href="cha-tuning-multikernel.html#sec-tuning-multikernel-zypper"><span class="number">6.3 </span><span class="name">Installing/removing multiple kernel versions with Zypper</span></a></span></dt><dt><span class="sect1"><a href="cha-tuning-multikernel.html#sec-tuning-multikernel-latest"><span class="number">6.4 </span><span class="name">Installing the latest kernel version from the repository <code class="literal">Kernel:HEAD</code></span></a></span></dt></dl></div></div><div id="id-1.4.3.7.3" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg" /><h6>Tip: Check your boot loader configuration kernel</h6><p>
   It is recommended to check your boot loader configuration after having
   installed another kernel to set the default boot entry of your choice. See
   <a class="xref" href="cha-grub2.html#sec-grub2-yast2-config" title="12.3. Configuring the boot loader with YaST">Section 12.3, “Configuring the boot loader with YaST”</a> for more information.
  </p></div><div class="sect1 " id="sec-tuning-multikernel-enable"><div class="titlepage"><div><div><h2 class="title"><span class="number">6.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Enabling and configuring multiversion support</span> <a title="Permalink" class="permalink" href="cha-tuning-multikernel.html#sec-tuning-multikernel-enable">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_multikernel.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_multikernel.xml</li><li><span class="ds-label">ID: </span>sec-tuning-multikernel-enable</li></ul></div></div></div></div><p>
   Installing multiple versions of a software package (multiversion support) is
   enabled by default with <span class="phrase">openSUSE Leap</span> and newer versions. To verify this
   setting, proceed as follows:
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Open <code class="filename">/etc/zypp/zypp.conf</code> with the editor of your
     choice as <code class="systemitem">root</code>.
    </p></li><li class="step "><p>
     Search for the string <code class="literal">multiversion</code>. If multiversion is
     enabled for all kernel packages capable of this feature, the following
     line appears uncommented:
    </p><div class="verbatim-wrap"><pre class="screen">multiversion = provides:multiversion(kernel)</pre></div></li><li class="step "><p>
     To restrict multi-version support to certain kernel flavors, add the
     package names as a comma-separated list to the
     <code class="literal">multiversion</code> option in
     <code class="filename">/etc/zypp/zypp.conf</code>, for example,
    </p><div class="verbatim-wrap"><pre class="screen">multiversion = kernel-default,kernel-default-base,kernel-source</pre></div></li><li class="step "><p>
     Save your changes.
    </p></li></ol></div></div><div id="id-1.4.3.7.4.4" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg" /><h6>Warning: Kernel Module Packages (KMP)</h6><p>
    Make sure that required vendor-provided kernel modules (Kernel Module
    Packages) are also installed for the new updated kernel. The kernel update
    process will not warn about eventually missing kernel modules because
    package requirements are still fulfilled by the old kernel that is kept on
    the system.
   </p></div><div class="sect2 " id="sec-tuning-multikernel-enable-keep"><div class="titlepage"><div><div><h3 class="title"><span class="number">6.1.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Automatically deleting unused kernels</span> <a title="Permalink" class="permalink" href="cha-tuning-multikernel.html#sec-tuning-multikernel-enable-keep">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_multikernel.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_multikernel.xml</li><li><span class="ds-label">ID: </span>sec-tuning-multikernel-enable-keep</li></ul></div></div></div></div><p>
    When frequently testing new kernels with multiversion support enabled, the
    boot menu quickly becomes confusing. Since a <code class="filename">/boot</code>
    partition normally has limited space, you may run into trouble with
    <code class="filename">/boot</code> overflowing. While you can delete unused kernel
    versions manually with YaST or Zypper (as described below), you can also
    configure <code class="systemitem">libzypp</code> to automatically
    delete kernels no longer used. By default no kernels are deleted.
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Open <code class="filename">/etc/zypp/zypp.conf</code> with the editor of your
      choice as <code class="systemitem">root</code>.
     </p></li><li class="step "><p>
      Search for the string <code class="literal">multiversion.kernels</code> and
      activate this option by uncommenting the line. This option takes a
      comma-separated list of the following values:
     </p><p><span class="formalpara-title"><code class="literal"><em class="replaceable ">5.3.18-53.3</em></code>: </span>
       keep the kernel with the specified version number
      </p><p><span class="formalpara-title"><code class="literal">latest</code>: </span>
       keep the kernel with the highest version number
      </p><p><span class="formalpara-title"><code class="literal">latest-N</code>: </span>
       keep the kernel with the Nth highest version number
      </p><p><span class="formalpara-title"><code class="literal">running</code>: </span>
       keep the running kernel
      </p><p><span class="formalpara-title"><code class="literal">oldest</code>: </span>
       keep the kernel with the lowest version number (the one that was
       originally shipped with <span class="productname"><span class="phrase">openSUSE Leap</span></span>)
      </p><p><span class="formalpara-title"><code class="literal">oldest+N</code>. </span>
       keep the kernel with the Nth lowest version number
      </p><p>
      Here are several examples
     </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.3.7.4.5.3.2.9.1"><span class="term "><code class="literal">multiversion.kernels = latest,running</code>
       </span></dt><dd><p>
         Keep the latest kernel and the one currently running. This is similar
         to not enabling the multiversion feature, except that the old kernel
         is removed <span class="emphasis"><em>after the next reboot</em></span> and not
         immediately after the installation.
        </p></dd><dt id="id-1.4.3.7.4.5.3.2.9.2"><span class="term "><code class="literal">multiversion.kernels = latest,latest-1,running
           </code>
       </span></dt><dd><p>
         Keep the last two kernels and the one currently running.
        </p></dd><dt id="id-1.4.3.7.4.5.3.2.9.3"><span class="term "><code class="literal">
         multiversion.kernels = latest,running,<em class="replaceable ">5.3.18-53.3
           </em></code>
       </span></dt><dd><p>
         Keep the latest kernel, the one currently running, and
         <em class="replaceable ">5.3.18-53.3</em>.
        </p></dd></dl></div><div id="id-1.4.3.7.4.5.3.2.10" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg" /><h6>Tip: Keep the running kernel</h6><p>
       Unless you are using a special setup, always keep the
       kernel marked <code class="literal">running</code>.
      </p><p>
       If you do not keep the running kernel, it will be deleted when updating
       the kernel. In turn, this means that all the running kernel's modules are
       also deleted and cannot be loaded anymore.
      </p><p>
       If you decide not to keep the running kernel, always reboot
       immediately after a kernel upgrade to avoid issues with modules.
      </p></div></li></ol></div></div></div><div class="sect2 " id="sec-tuning-multikernel-deleteoldkernel"><div class="titlepage"><div><div><h3 class="title"><span class="number">6.1.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Use case: deleting an old kernel after reboot only</span> <a title="Permalink" class="permalink" href="cha-tuning-multikernel.html#sec-tuning-multikernel-deleteoldkernel">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_multikernel.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_multikernel.xml</li><li><span class="ds-label">ID: </span>sec-tuning-multikernel-deleteoldkernel</li></ul></div></div></div></div><p>
    You want to make sure that an old kernel will only be deleted after the
    system has rebooted successfully with the new kernel.
   </p><p>
    Change the following line in <code class="filename">/etc/zypp/zypp.conf</code>:
   </p><div class="verbatim-wrap"><pre class="screen">multiversion.kernels = latest,running</pre></div><p>
    The previous parameters tell the system to keep the latest kernel and the
    running one only if they differ.
   </p></div><div class="sect2 " id="sec-tuning-multikernel-fallback"><div class="titlepage"><div><div><h3 class="title"><span class="number">6.1.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Use case: keeping older kernels as fallback</span> <a title="Permalink" class="permalink" href="cha-tuning-multikernel.html#sec-tuning-multikernel-fallback">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_multikernel.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_multikernel.xml</li><li><span class="ds-label">ID: </span>sec-tuning-multikernel-fallback</li></ul></div></div></div></div><p>
    You want to keep one or more kernel versions to have one or more
    <span class="quote">“<span class="quote ">spare</span>”</span> kernels.
   </p><p>
    This can be useful if you need kernels for testing. If something goes wrong
    (for example, your machine does not boot), you
    still can use one or more kernel versions which are known to be good.
   </p><p>
    Change the following line in <code class="filename">/etc/zypp/zypp.conf</code>:
   </p><div class="verbatim-wrap"><pre class="screen">multiversion.kernels = latest,latest-1,latest-2,running</pre></div><p>
    When you reboot your system after the installation of a new kernel, the
    system will keep three kernels: the current kernel (configured as
    <code class="literal">latest,running</code>) and its two immediate predecessors
    (configured as <code class="literal">latest-1</code> and 
    <code class="literal">latest-2</code>).
   </p></div><div class="sect2 " id="sec-tuning-multikernel-specificversion"><div class="titlepage"><div><div><h3 class="title"><span class="number">6.1.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Use case: keeping a specific kernel version</span> <a title="Permalink" class="permalink" href="cha-tuning-multikernel.html#sec-tuning-multikernel-specificversion">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_multikernel.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_multikernel.xml</li><li><span class="ds-label">ID: </span>sec-tuning-multikernel-specificversion</li></ul></div></div></div></div><p>
    You make regular system updates and install new kernel versions. However,
    you are also compiling your own kernel version and want
    to make sure that the system will keep them.
   </p><p>
    Change the following line in <code class="filename">/etc/zypp/zypp.conf</code>:
   </p><div class="verbatim-wrap"><pre class="screen">multiversion.kernels = latest,5.3.18-53.3,running</pre></div><p>
    When you reboot your system after the installation of a new kernel, the
    system will keep two kernels: the new and running kernel (configured as
    <code class="literal">latest,running</code>) and your self-compiled kernel
    (configured as <code class="literal">5.3.18-53.3</code>).
   </p></div></div><div class="sect1 " id="sec-tuning-multikernel-yast"><div class="titlepage"><div><div><h2 class="title"><span class="number">6.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Installing/removing multiple kernel versions with YaST</span> <a title="Permalink" class="permalink" href="cha-tuning-multikernel.html#sec-tuning-multikernel-yast">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_multikernel.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_multikernel.xml</li><li><span class="ds-label">ID: </span>sec-tuning-multikernel-yast</li></ul></div></div></div></div><p>
   You can install or remove multiple kernels with YaST:
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Start YaST and open the software manager via <span class="guimenu ">Software</span> › <span class="guimenu ">Software Management</span>.
    </p></li><li class="step "><p>
     List all packages capable of providing multiple versions by choosing
     <span class="guimenu ">View</span> › <span class="guimenu ">Package Classification</span> › <span class="guimenu ">Multiversion Packages</span>.
    </p><div class="figure" id="id-1.4.3.7.5.3.2.2"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_sw_multiversion.png" target="_blank"><img src="images/yast2_sw_multiversion.png" width="" alt="The YaST software manager: multiversion view" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 6.1: </span><span class="name">The YaST software manager: multiversion view </span><a title="Permalink" class="permalink" href="cha-tuning-multikernel.html#id-1.4.3.7.5.3.2.2">#</a></h6></div></div></li><li class="step "><p>
     Select a package and open its <span class="guimenu ">Version</span> tab in the bottom
     pane on the left.
    </p></li><li class="step "><p>
     To install a package, click the check box next to it. A green check mark indicates it
     is selected for installation.
    </p><p>
     To remove an already installed package (marked with a white check mark),
     click the check box next to it until a red <code class="literal">X</code> indicates it is
     selected for removal.
    </p></li><li class="step "><p>
     Click <span class="guimenu ">Accept</span> to start the installation.
    </p></li></ol></div></div></div><div class="sect1 " id="sec-tuning-multikernel-zypper"><div class="titlepage"><div><div><h2 class="title"><span class="number">6.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Installing/removing multiple kernel versions with Zypper</span> <a title="Permalink" class="permalink" href="cha-tuning-multikernel.html#sec-tuning-multikernel-zypper">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_multikernel.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_multikernel.xml</li><li><span class="ds-label">ID: </span>sec-tuning-multikernel-zypper</li></ul></div></div></div></div><p>
   You can install or remove multiple kernels with <code class="command">zypper</code>:
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Use the command <code class="command">zypper se -s 'kernel*'</code> to display a
     list of all kernel packages available:
    </p><div class="verbatim-wrap"><pre class="screen">S  | Name                 | Type    | Version           | Arch   | Repository
---+----------------------+---------+-------------------+--------+------------------------------------------------------
i+ | kernel-default                          | package | 6.4.0-150600.9.2              | x86_64 | SLE-Module-Basesystem15-SP6-Pool
   | kernel-default-base                     | package | 6.4.0-150600.9.2.150600.10.40 | x86_64 | SLE-Module-Basesystem15-SP6-Pool
   | kernel-default-devel                    | package | 6.4.0-150600.9.2              | x86_64 | SLE-Module-Basesystem15-SP6-Pool
   | kernel-devel                            | package | 6.4.0-150600.9.2              | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-all                     | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-amdgpu                  | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-ath10k                  | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-ath11k                  | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-ath12k                  | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-atheros                 | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-bluetooth               | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-bnx2                    | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-brcm                    | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-chelsio                 | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-dpaa2                   | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-i915                    | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-intel                   | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-iwlwifi                 | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-liquidio                | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-marvell                 | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-media                   | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-mediatek                | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-mellanox                | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-mwifiex                 | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-network                 | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-nfp                     | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-nvidia                  | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
   | kernel-firmware-nvidia-gsp-G06          | package | 525.116.04-150500.1.1         | x86_64 | SLE-Module-Basesystem15-SP6-Pool
   | kernel-firmware-nvidia-gspx-G06         | package | 550.54.14-150600.1.1          | x86_64 | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-platform                | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-prestera                | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-qcom                    | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-qlogic                  | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-radeon                  | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-realtek                 | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-serial                  | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-sound                   | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-ti                      | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-ueagle                  | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
i  | kernel-firmware-usb-network             | package | 20240201-150600.1.1           | noarch | SLE-Module-Basesystem15-SP6-Pool
   | kernel-macros                           | package | 6.4.0-150600.9.2              | noarch | SLE-Module-Basesystem15-SP6-Pool</pre></div></li><li class="step "><p>
     Specify the exact version when installing:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> zypper in kernel-default-6.4.0-150600.9.2</pre></div></li><li class="step "><p>
     When uninstalling a kernel, use the commands <code class="command">zypper se -si
     'kernel*'</code> to list all kernels installed and <code class="command">zypper
     rm</code> <em class="replaceable ">PACKAGENAME-VERSION</em> to remove the
     package.
    </p></li></ol></div></div></div><div class="sect1 " id="sec-tuning-multikernel-latest"><div class="titlepage"><div><div><h2 class="title"><span class="number">6.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Installing the latest kernel version from the repository <code class="literal">Kernel:HEAD</code></span> <a title="Permalink" class="permalink" href="cha-tuning-multikernel.html#sec-tuning-multikernel-latest">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_multikernel.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_multikernel.xml</li><li><span class="ds-label">ID: </span>sec-tuning-multikernel-latest</li></ul></div></div></div></div><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Add the <code class="literal">Kernel:HEAD</code> repository with (the repository
     is added using the alias <code class="literal">kernel-repo</code>):
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> zypper ar \
http://download.opensuse.org/repositories/Kernel:/HEAD/standard/ \
kernel-repo</pre></div></li><li class="step "><p>
     To refresh repositories, run:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> zypper ref</pre></div></li><li class="step "><p>
     To upgrade the kernel to the latest version in the
     <code class="literal">Kernel:HEAD</code> repository, run:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> zypper dist-upgrade --allow-vendor-change --from kernel-repo</pre></div></li><li class="step "><p>
     Reboot the machine.
    </p></li></ol></div></div><div id="id-1.4.3.7.7.3" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg" /><h6>Warning: Installing from <code class="literal">Kernel:HEAD</code> may break the system</h6><p>
    Installing a kernel from <code class="literal">Kernel:HEAD</code> should never be
    necessary, because important fixes are backported by SUSE and are made
    available as official updates. Installing the latest kernel only makes
    sense for kernel developers and kernel testers. If installing from
    <code class="literal">Kernel:HEAD</code>, be aware that it may break your system.
    Make sure to always have the original kernel available for booting as
    well.
   </p></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha-gui-desktop.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 7 </span>Graphical user interface</span></a><a class="nav-link" href="cha-expert-partitioner.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 5 </span><span class="guimenu ">Expert Partitioner</span></span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2024 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>