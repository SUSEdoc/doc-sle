<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The auto-installation process | AutoYaST Guide | openSUSE Leap 15.6</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" />
<meta name="title" content="The auto-installation process | openSUSE Leap 15.6" />
<meta name="description" content="After the system has booted into an automatic installation and the control file has been retrieved, YaST configures the system according to the information pro…" />
<meta name="product-name" content="openSUSE Leap" />
<meta name="product-number" content="15.6" />
<meta name="book-title" content="AutoYaST Guide" />
<meta name="chapter-title" content="Chapter 9. The auto-installation process" />
<meta name="tracker-url" content="https://bugzilla.opensuse.org/enter_bug.cgi" />
<meta name="tracker-type" content="bsc" />
<meta name="tracker-bsc-assignee" content="fs@suse.com" />
<meta name="tracker-bsc-component" content="Documentation" />
<meta name="tracker-bsc-product" content="openSUSE Distribution" />
<meta name="tracker-bsc-version" content="Leap 15.4" />
<meta property="og:title" content="The auto-installation process | openSUSE Leap 15.6" />
<meta property="og:description" content="After the system has booted into an automatic installation and the control file has been retrieved, YaST configures the system according to the information pro…" />
<meta property="og:type" content="article" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="The auto-installation process | openSUSE Leap 15.6" />
<meta name="twitter:description" content="After the system has booted into an automatic installation and the control file has been retrieved, YaST configures the system according to the information pro…" />
<link rel="home" href="index.html" title="openSUSE Leap Documentation" /><link rel="up" href="bk07pt04.html" title="Part IV. Understanding the auto-installation process" /><link rel="prev" href="bk07pt04.html" title="Part IV. Understanding the auto-installation process" /><link rel="next" href="bk07pt05.html" title="Part V. Uses for AutoYaST on installed systems" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" /></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #E11;"><div id="_header"><div id="_logo"><img src="static/images/logo.svg" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="AutoYaST Guide"><span class="book-icon">AutoYaST Guide</span></a><span> › </span><a class="crumb" href="bk07pt04.html">Understanding the auto-installation process</a><span> › </span><a class="crumb" href="Invoking.html">The auto-installation process</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>AutoYaST Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="ay-preface.html"><span class="number"> </span><span class="name">Preface</span></a></li><li class="inactive"><a href="cha-intro-to-autoyast.html"><span class="number">1 </span><span class="name">Introduction to AutoYaST</span></a></li><li class="inactive"><a href="part-control.html"><span class="number">I </span><span class="name">Understanding and creating the AutoYaST control file</span></a><ol><li class="inactive"><a href="cha-autoyast-control-file.html"><span class="number">2 </span><span class="name">The AutoYaST control file</span></a></li><li class="inactive"><a href="cha-autoyast-create-control-file.html"><span class="number">3 </span><span class="name">Creating an AutoYaST control file</span></a></li></ol></li><li class="inactive"><a href="part-configuration.html"><span class="number">II </span><span class="name">AutoYaST configuration examples</span></a><ol><li class="inactive"><a href="cha-configuration-installation-options.html"><span class="number">4 </span><span class="name">Configuration and installation options</span></a></li></ol></li><li class="inactive"><a href="part-dynamic-profiles.html"><span class="number">III </span><span class="name">Managing mass installations with dynamic profiles</span></a><ol><li class="inactive"><a href="dynamic-profiles.html"><span class="number">5 </span><span class="name">Supported approaches to dynamic profiles</span></a></li><li class="inactive"><a href="rulesandclass.html"><span class="number">6 </span><span class="name">Rules and classes</span></a></li><li class="inactive"><a href="erb-templates.html"><span class="number">7 </span><span class="name">ERB templates</span></a></li><li class="inactive"><a href="pre-scripts.html"><span class="number">8 </span><span class="name">Combining ERB templates and scripts</span></a></li></ol></li><li class="inactive"><a href="bk07pt04.html"><span class="number">IV </span><span class="name">Understanding the auto-installation process</span></a><ol><li class="inactive"><a href="Invoking.html"><span class="number">9 </span><span class="name">The auto-installation process</span></a></li></ol></li><li class="inactive"><a href="bk07pt05.html"><span class="number">V </span><span class="name">Uses for AutoYaST on installed systems</span></a><ol><li class="inactive"><a href="InstalledSystem.html"><span class="number">10 </span><span class="name">Running AutoYaST in an installed system</span></a></li></ol></li><li class="inactive"><a href="bk07pt06.html"><span class="number">VI </span><span class="name">Appendixes</span></a><ol><li class="inactive"><a href="handlingrules.html"><span class="number">A </span><span class="name">Handling rules</span></a></li><li class="inactive"><a href="app-ay-faq.html"><span class="number">B </span><span class="name">AutoYaST FAQ—frequently asked questions</span></a></li><li class="inactive"><a href="appendix-linuxrc.html"><span class="number">C </span><span class="name">Advanced <code class="command">linuxrc</code> options</span></a></li><li class="inactive"><a href="bk07pt06apd.html"><span class="number">D </span><span class="name">GNU licenses</span></a></li></ol></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Part IV. Understanding the auto-installation process" href="bk07pt04.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Part V. Uses for AutoYaST on installed systems" href="bk07pt05.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #E11;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="AutoYaST Guide"><span class="book-icon">AutoYaST Guide</span></a><span> › </span><a class="crumb" href="bk07pt04.html">Understanding the auto-installation process</a><span> › </span><a class="crumb" href="Invoking.html">The auto-installation process</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Part IV. Understanding the auto-installation process" href="bk07pt04.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Part V. Uses for AutoYaST on installed systems" href="bk07pt05.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="Invoking"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname "><span class="productname"><span class="phrase">openSUSE Leap</span></span></span> <span class="productnumber "><span class="productnumber"><span class="phrase">15.6</span></span></span></div><div><h2 class="title"><span class="number">9 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">The auto-installation process</span> <a title="Permalink" class="permalink" href="Invoking.html#">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/ay_auto_installation.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>ay_auto_installation.xml</li><li><span class="ds-label">ID: </span>Invoking</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="Invoking.html#Installation-process"><span class="number">9.1 </span><span class="name">Introduction</span></a></span></dt><dt><span class="sect1"><a href="Invoking.html#bootmedium"><span class="number">9.2 </span><span class="name">Choosing the right boot medium</span></a></span></dt><dt><span class="sect1"><a href="Invoking.html#invoking-autoinst"><span class="number">9.3 </span><span class="name">Invoking the auto-installation process</span></a></span></dt><dt><span class="sect1"><a href="Invoking.html#System-Configuration"><span class="number">9.4 </span><span class="name">System configuration</span></a></span></dt></dl></div></div><div class="sect1 " id="Installation-process"><div class="titlepage"><div><div><h2 class="title"><span class="number">9.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Introduction</span> <a title="Permalink" class="permalink" href="Invoking.html#Installation-process">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/ay_auto_installation.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>ay_auto_installation.xml</li><li><span class="ds-label">ID: </span>Installation-process</li></ul></div></div></div></div><p>
   After the system has booted into an automatic installation and the control
   file has been retrieved, YaST configures the system according to the
   information provided in the control file. All configuration settings are
   summarized in a window that is shown by default and should be deactivated if
   a fully automatic installation is needed.
  </p><p>
   By the time YaST displays the summary of the configuration, YaST has
   only probed hardware and prepared the system for auto-installation. Nothing
   has been changed in the system yet. In case of any error, you can still
   abort the process.
  </p><p>
   A system should be automatically installable without the need to have any
   graphic adapter or monitor. Having a monitor attached to the client machine
   is nevertheless recommended so you can supervise the process and to get
   feedback in case of errors. Choose between the graphical and the text-based
   Ncurses interfaces. For headless clients, system messages can be monitored
   using the serial console.
  </p><div class="sect2 " id="Installation-Interface-X11"><div class="titlepage"><div><div><h3 class="title"><span class="number">9.1.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">X11 interface (graphical)</span> <a title="Permalink" class="permalink" href="Invoking.html#Installation-Interface-X11">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/ay_auto_installation.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>ay_auto_installation.xml</li><li><span class="ds-label">ID: </span>Installation-Interface-X11</li></ul></div></div></div></div><p>
    This is the default interface while auto-installing. No special variables
    are required to activate it.
   </p></div><div class="sect2 " id="Installation-Interface-SerialConsole"><div class="titlepage"><div><div><h3 class="title"><span class="number">9.1.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Serial console</span> <a title="Permalink" class="permalink" href="Invoking.html#Installation-Interface-SerialConsole">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/ay_auto_installation.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>ay_auto_installation.xml</li><li><span class="ds-label">ID: </span>Installation-Interface-SerialConsole</li></ul></div></div></div></div><p>
    Start installing a system using the serial console by adding the keyword
    <code class="literal">console</code> (for example <code class="literal">console=ttyS0</code>)
    to the command line of the kernel. This starts <code class="command">linuxrc</code>
    in console mode and later YaST in serial console mode.
   </p></div><div class="sect2 " id="Installation-Interface-Ncurses"><div class="titlepage"><div><div><h3 class="title"><span class="number">9.1.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Text-based YaST installation</span> <a title="Permalink" class="permalink" href="Invoking.html#Installation-Interface-Ncurses">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/ay_auto_installation.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>ay_auto_installation.xml</li><li><span class="ds-label">ID: </span>Installation-Interface-Ncurses</li></ul></div></div></div></div><p>
    This option can also be activated on the command line. To start YaST in
    text mode, add <code class="literal">textmode=1</code> on the command line.
   </p><p>
    Starting YaST in the text mode is recommended when installing a client
    with less than 64 MB or when X11 should not be configured, especially on
    headless machines.
   </p></div></div><div class="sect1 " id="bootmedium"><div class="titlepage"><div><div><h2 class="title"><span class="number">9.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Choosing the right boot medium</span> <a title="Permalink" class="permalink" href="Invoking.html#bootmedium">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/ay_auto_installation.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>ay_auto_installation.xml</li><li><span class="ds-label">ID: </span>bootmedium</li></ul></div></div></div></div><p>
   There are different methods for booting the client. The computer can boot
   from its network interface card (NIC) to receive the boot images via DHCP or
   TFTP. Alternatively a suitable kernel and initrd image can be loaded from a
   flash disk (for example, a USB stick) or a bootable DVD-ROM.
  </p><p>
   YaST will check for <code class="filename">autoinst.xml</code> in the root
   directory of the boot medium or the initrd upon start-up and switch to an
   automated installation if it was found. In case the control file is named
   differently or located elsewhere, specify its location on the kernel command
   line with the parameter
   <code class="literal">AutoYaST=<em class="replaceable ">URL</em></code>.
  </p><p>
    Alternatively, you can place the <code class="filename">autoinst.xml</code> into a device, mounted either physically or virtually, that is labeled <code class="literal">OEMDRV</code>. In this case, you do not need to specify the location of the <code class="filename">autoinst.xml</code> on the kernel command line. The <code class="literal">autoinst.xml</code> must be located in the root directory of the device.
  </p><div class="sect2 " id="bootmedium-flash"><div class="titlepage"><div><div><h3 class="title"><span class="number">9.2.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Booting from a flash disk (for example, a USB stick)</span> <a title="Permalink" class="permalink" href="Invoking.html#bootmedium-flash">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/ay_auto_installation.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>ay_auto_installation.xml</li><li><span class="ds-label">ID: </span>bootmedium-flash</li></ul></div></div></div></div><p>
    For testing/rescue purposes or because the NIC does not have a PROM or PXE,
    you can build a bootable flash disk to use with AutoYaST. Flash disks can also
    store the control file.
   </p><div id="id-1.9.7.2.4.5.3" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg" /><h6>Tip: Copying the installation medium image to a removable flash disk</h6><p>
     Use the following command to copy the contents of the installation image
     to a removable flash disk.
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> dd if=<em class="replaceable ">IMAGE</em> of=<em class="replaceable ">FLASH_DISK</em> bs=4M &amp;&amp; sync</pre></div><p>
     <em class="replaceable ">IMAGE</em> needs to be replaced with the path to the
     <code class="filename">SLE-15-SP6-Online-<em class="replaceable ">ARCH</em>-GM-media1.iso</code> or <code class="filename">SLE-15-SP6-Full-<em class="replaceable ">ARCH</em>-GM-media1.iso</code>
     image file. <em class="replaceable ">FLASH_DISK</em> needs to be replaced
     with the flash device. To identify the device, insert it and run:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>grep -Ff &lt;(hwinfo --disk --short) &lt;(hwinfo --usb --short)
      disk:
      /dev/sdc             General USB Flash Disk</pre></div><p>
     Make sure the size of the device is sufficient for the desired image. You
     can check the size of the device with:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>fdisk -l /dev/sdc | grep -e "^/dev"
      /dev/sdc1  *     2048 31490047 31488000  15G 83 Linux</pre></div><p>
     In this example, the device has a capacity of 15 GB. The command to use
     for the <code class="filename">SLE-15-SP6-Full-<em class="replaceable ">ARCH</em>-GM-media1.iso</code> would be:
    </p><div class="verbatim-wrap"><pre class="screen">dd if=SLE-15-SP6-Full-<em class="replaceable ">ARCH</em>-GM-media1.iso of=/dev/sdc bs=4M &amp;&amp; sync</pre></div><p>
     The device must not be mounted when running the <code class="command">dd</code>
     command. Note that all data on the partition will be erased!
    </p></div></div><div class="sect2 " id="bootmedium-installer"><div class="titlepage"><div><div><h3 class="title"><span class="number">9.2.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Booting from the SUSE Linux Enterprise installation medium</span> <a title="Permalink" class="permalink" href="Invoking.html#bootmedium-installer">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/ay_auto_installation.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>ay_auto_installation.xml</li><li><span class="ds-label">ID: </span>bootmedium-installer</li></ul></div></div></div></div><p>
    You can use the SUSE Linux Enterprise installation medium
    (<code class="filename">SLE-15-SP6-Online-<em class="replaceable ">ARCH</em>-GM-media1.iso</code> or
    <code class="filename">SLE-15-SP6-Full-<em class="replaceable ">ARCH</em>-GM-media1.iso</code>) in combination with other media. For
    example, the control file can be provided via a flash disk or a specified
    location on the network. Alternatively, create a customized installation
    media that includes the control file.
   </p></div><div class="sect2 " id="bootmedium-pxe"><div class="titlepage"><div><div><h3 class="title"><span class="number">9.2.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Booting via PXE over the network</span> <a title="Permalink" class="permalink" href="Invoking.html#bootmedium-pxe">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/ay_auto_installation.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>ay_auto_installation.xml</li><li><span class="ds-label">ID: </span>bootmedium-pxe</li></ul></div></div></div></div><p>
    Booting via PXE requires a DHCP and a TFTP server in your network. The
    computer will then boot without a physical medium.
    
   </p><p>
    If you install via PXE, the installation will run in an endless loop. This
    happens because after the first reboot, the machine performs the PXE boot
    again and restarts the installation instead of booting from the hard
    disk<span class="phrase"> for the second stage of the
    installation</span>.
   </p><p>
    There are several ways to solve this problem. You can use an HTTP server to
    provide the AutoYaST control file. Alternatively, instead of a static control
    file, run a CGI script on the Web server that provides the control file and
    changes the TFTP server configuration for your target host. This way, the
    next PXE boot of the machine will be from the hard disk by default.
   </p><p>
    Another way is to use AutoYaST to upload a new PXE boot configuration for the
    target host via the control file:
   </p><div class="verbatim-wrap"><pre class="screen">&lt;pxe&gt;
  &lt;pxe_localboot config:type="boolean"&gt;true&lt;/pxe_localboot&gt;
  &lt;pxelinux-config&gt;
    DEFAULT linux
    LABEL linux
    localboot 0
  &lt;/pxelinux-config&gt;
  &lt;tftp-server&gt;192.168.1.115&lt;/tftp-server&gt;
  &lt;pxelinux-dir&gt;/pxelinux.cfg&lt;/pxelinux-dir&gt;
  &lt;filename&gt;__MAC__&lt;/filename&gt;
&lt;/pxe&gt;</pre></div><p>
    This entry will upload a new configuration for the target host to the TFTP
    server shortly before the first reboot happens. In most installations the
    TFTP daemon runs as user <code class="systemitem">nobody</code>.
    You need to make sure this user has write permissions to the
    <code class="filename">pxelinux.cfg</code> directory. You can also configure the
    file name that will be uploaded. If you use the <span class="quote">“<span class="quote ">magic</span>”</span>
    <code class="literal">__MAC__</code> file name, the file name will be the MAC address
    of your machine like, for example <code class="literal">01-08-00-27-79-49-ee</code>.
    If the file name setting is missing, the IP address will be used for the
    file name.
   </p><p>
    To do another auto-installation on the same machine, you need to remove the
    file from the TFTP server.
   </p></div></div><div class="sect1 " id="invoking-autoinst"><div class="titlepage"><div><div><h2 class="title"><span class="number">9.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Invoking the auto-installation process</span> <a title="Permalink" class="permalink" href="Invoking.html#invoking-autoinst">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/ay_auto_installation.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>ay_auto_installation.xml</li><li><span class="ds-label">ID: </span>invoking-autoinst</li></ul></div></div></div></div><p>
   
  </p><div class="sect2 " id="invoking-autoinst-options"><div class="titlepage"><div><div><h3 class="title"><span class="number">9.3.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Command line options</span> <a title="Permalink" class="permalink" href="Invoking.html#invoking-autoinst-options">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/ay_auto_installation.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>ay_auto_installation.xml</li><li><span class="ds-label">ID: </span>invoking-autoinst-options</li></ul></div></div></div></div><p>
    Adding the command line variable <code class="literal">autoyast</code> causes
    <code class="command">linuxrc</code> to start in automated mode. The
    <code class="command">linuxrc</code> program searches for a configuration file, which
    should be distinguished from the main control file, in the following
    places:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      in the root directory of the initial RAM disk used for booting the
      system;
     </p></li><li class="listitem "><p>
      in the root directory of the boot medium.
     </p></li></ul></div><p>
    The <code class="command">linuxrc</code> configuration file supports multiple
    keywords. For a detailed description of how <code class="command">linuxrc</code>
    works and other keywords, see <a class="xref" href="appendix-linuxrc.html" title="Appendix C. Advanced linuxrc options">Appendix C, <em>Advanced <code class="command">linuxrc</code> options</em></a>. Some of
    the more common ones are:
   </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.9.7.2.5.3.5.1"><span class="term ">autoupgrade</span></dt><dd><p>
       Initiate an automatic upgrade using AutoYaST; see
       <a class="xref" href="cha-configuration-installation-options.html#CreateProfile-upgrade" title="4.10. Upgrade">Section 4.10, “Upgrade”</a>.
      </p></dd><dt id="id-1.9.7.2.5.3.5.2"><span class="term ">autoyast</span></dt><dd><p>
       Location of the control file for automatic installation; see
       <a class="xref" href="Invoking.html#Commandline-ay" title="AutoYaST control file locations">AutoYaST control file locations</a> for details.
      </p></dd><dt id="id-1.9.7.2.5.3.5.3"><span class="term ">ifcfg</span></dt><dd><p>
       Configure and start the network. Required if the AutoYaST is to be fetched
       from a remote location. See <a class="xref" href="appendix-linuxrc.html#ay-adv-network" title="C.3. Advanced network setup">Section C.3, “Advanced network setup”</a> for
       details.
      </p></dd><dt id="id-1.9.7.2.5.3.5.4"><span class="term ">insmod</span></dt><dd><p>
       Kernel modules to load
      </p></dd><dt id="id-1.9.7.2.5.3.5.5"><span class="term ">install</span></dt><dd><p>
       Location of the installation directory, for example
       <code class="literal">install=nfs://192.168.2.1/CDs/</code>.
      </p><div id="id-1.9.7.2.5.3.5.5.2.2" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg" /><h6>Note: Disabling SSL checks</h6><p>
         When you are using HTTPS, SSL checking is enabled by default. If 
         necessary, you can disable SSL checking by appending <code class="literal">ssl_verify=no</code>
          to your HTTPS URL, like the following examples:
        </p><div class="verbatim-wrap"><pre class="screen">install=<em class="replaceable ">https://192.168.2.1/CDs/</em>?ssl_verify=no</pre></div><p>
          If you are passing multiple query options, separate them with 
          ampersands:
        </p><div class="verbatim-wrap"><pre class="screen">install=<em class="replaceable ">https://192.168.2.1/CDs/</em>?foo=bar&amp;ssl_verify=no</pre></div><p>
          See the "FTP/HTTP/HTTPS directory tree" section of 
          <code class="command">man 8 zypper</code> for more information.
        </p></div></dd><dt id="id-1.9.7.2.5.3.5.6"><span class="term ">instmode</span></dt><dd><p>
       Installation mode, for example <code class="literal">nfs</code>,
       <code class="literal">http</code> etc. (not needed if <code class="literal">install</code>
       is set).
      </p></dd><dt id="id-1.9.7.2.5.3.5.7"><span class="term ">rootpassword</span></dt><dd><p>
       Password for root user if not specified in AutoYaST profile
      </p></dd><dt id="id-1.9.7.2.5.3.5.8"><span class="term ">server</span></dt><dd><p>
       Server (NFS) to contact for source directory
      </p></dd><dt id="id-1.9.7.2.5.3.5.9"><span class="term ">serverdir</span></dt><dd><p>
       Directory on NFS Server
      </p></dd><dt id="id-1.9.7.2.5.3.5.10"><span class="term ">y2confirm</span></dt><dd><p>
       Even with &lt;confirm&gt;no&lt;/confirm&gt; in the control file, the
       confirm proposal comes up.
      </p></dd></dl></div><p>
    These variables and keywords will bring the system up to the point where
    YaST can take over with the main control file. Currently, the source
    medium is automatically discovered, which in some cases makes it possible
    to initiate the auto-install process without giving any instructions to
    <code class="command">linuxrc</code>.
   </p><p>
    The traditional <code class="command">linuxrc</code> configuration file
    (<code class="filename">info</code>) has the function of giving the client enough
    information about the installation server and the location of the sources.
    Usually, this file is not required, but it is needed in special network
    environments where DHCP and BOOTP are not used or when special kernel
    modules need to be loaded.
   </p><p>
    You can pass keywords to <code class="command">linuxrc</code> using the kernel
    command line. This can be done in several ways. You can specify
    <code class="command">linuxrc</code> keywords along with other kernel parameters
    interactively at boot time, in the usual way. You can also insert kernel
    parameters into custom network-bootable disk images. It is also possible to
    configure a DHCP server to pass kernel parameters in combination with
    Etherboot or PXE.
   </p><div id="id-1.9.7.2.5.3.9" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg" /><h6>Note: Using <code class="literal">autoyast2</code> boot option instead of <code class="literal">autoyast</code></h6><p>
     The <code class="literal">autoyast2</code> option is similar to the
     <code class="literal">autoyast</code> option, but <code class="command">linuxrc</code> parses
     the provided value and, for example, tries to configure a network when
     needed. This option is not described in this documentation. For
     information about differences between the AutoYaST and
     <code class="command">linuxrc</code> URI syntax, see the <code class="command">linuxrc</code>
     appendix: <a class="xref" href="appendix-linuxrc.html" title="Appendix C. Advanced linuxrc options">Appendix C, <em>Advanced <code class="command">linuxrc</code> options</em></a>. AutoYaST's rules and classes are
     <span class="emphasis"><em>not</em></span> supported.
    </p></div><p>
    The command line variable <code class="literal">autoyast</code> can be used in the
    format described in the following list.
   </p><div class="variablelist " id="Commandline-ay"><div class="variablelist-title-wrap"><h6 class="variablelist-title"><span class="name">AutoYaST control file locations </span><a title="Permalink" class="permalink" href="Invoking.html#Commandline-ay">#</a></h6></div><dl class="variablelist"><dt id="id-1.9.7.2.5.3.11.2"><span class="term ">Format of URIs</span></dt><dd><p>
       The <code class="literal">autoyast</code> syntax for the URIs for your control
       file locations can be confusing. The format is
       SCHEMA://HOST/PATH-TO-FILE. The number of forward slashes to use varies.
       For remote locations of your control file, the URI looks like this
       example for an NFS server, with two slashes:
       <code class="literal">autoyast=nfs://SERVER/PATH</code>.
      </p><p>
       It is different when your control file is on a local file system. For
       example, <code class="literal">autoyast=usb:///profile.xml</code> is the same as
       <code class="literal">autoyast=usb://localhost/profile.xml</code>. You may omit
       the local host name, but you must keep the third slash.
       <code class="literal">autoyast=usb://profile.xml</code> will fail because
       <code class="literal">profile.xml</code> is interpreted as the host name.
      </p></dd><dt id="id-1.9.7.2.5.3.11.3"><span class="term ">When no control file specification is needed</span></dt><dd><p>
       For upgrades, no <code class="literal">autoyast</code> variable is needed for an
       automated offline upgrade, see
       <a class="xref" href="cha-configuration-installation-options.html#pro-upgrade-offline-upgrade-mode" title="Starting AutoYaST in offline upgrade mode">Procedure 4.1, “Starting AutoYaST in offline upgrade mode”</a>.
      </p><p>
       For new installations, <code class="literal">autoyast</code> will be started if a
       file named <code class="filename">autoinst.xml</code> is in one of the following
       three locations:
      </p><div class="orderedlist "><ol class="orderedlist" type="1"><li class="listitem "><p>
         The root directory of the installation flash disk (for example, a USB
         stick)
        </p></li><li class="listitem "><p>
         The root directory of the installation medium
        </p></li><li class="listitem "><p>
         The root directory of the initial RAM disk used to boot the system
        </p></li></ol></div></dd><dt id="id-1.9.7.2.5.3.11.4"><span class="term "><code class="literal">autoyast=file:///<em class="replaceable ">PATH</em></code></span></dt><dd><p>
       Looks for control file in the specified path, relative to the source
       root directory, for example <code class="literal">file:///autoinst.xml</code> when
       the control file is in the top-level directory of any local file system,
       including mounted external devices such as a CD or USB drive. (This is
       the same as
       <code class="literal">file://<em class="replaceable ">localhost/autoinst.xml</em></code>.)
      </p></dd><dt id="id-1.9.7.2.5.3.11.5"><span class="term "><code class="literal">autoyast=device://<em class="replaceable ">DEVICE</em>/<em class="replaceable ">FILENAME</em></code></span></dt><dd><p>
       Looks for the control file on a storage device. Do not specify the full
       path to the device, but the device name only (for example,
       <code class="literal">device://<em class="replaceable ">vda1/autoyast.xml</em></code>).
       You may also omit specifying the device and trigger
       <code class="literal">autoyast</code> to search all devices, for example,
       <code class="literal">autoyast=device://<em class="replaceable ">localhost/autoinst.xml</em></code>,
       or
       <code class="literal">autoyast=device:///<em class="replaceable ">autoinst.xml</em></code>.
      </p></dd><dt id="id-1.9.7.2.5.3.11.6"><span class="term "><code class="literal">autoyast=nfs://<em class="replaceable ">SERVER</em>/<em class="replaceable ">PATH</em></code></span></dt><dd><p>
       Looks for the control file on an NFS server.
      </p></dd><dt id="id-1.9.7.2.5.3.11.7"><span class="term "><code class="literal">autoyast=http://[user:password@]<em class="replaceable ">SERVER</em>/<em class="replaceable ">PATH</em></code></span></dt><dd><p>
       Retrieves the control file from a Web server using the HTTP protocol.
       Specifying a user name and a password is optional.
      </p></dd><dt id="id-1.9.7.2.5.3.11.8"><span class="term "><code class="literal">autoyast=https://[user:password@]<em class="replaceable ">SERVER</em>/<em class="replaceable ">PATH</em></code></span></dt><dd><p>
       Retrieves the control file from a Web server using HTTPS. Specifying a
       user name and a password is optional.
      </p></dd><dt id="id-1.9.7.2.5.3.11.9"><span class="term "><code class="literal">autoyast=tftp://<em class="replaceable ">SERVER</em>/<em class="replaceable ">PATH</em></code></span></dt><dd><p>
       Retrieve the control file via TFTP.
      </p></dd><dt id="id-1.9.7.2.5.3.11.10"><span class="term "><code class="literal">autoyast=ftp://[user:password@]<em class="replaceable ">SERVER</em>/<em class="replaceable ">PATH</em></code></span></dt><dd><p>
       Retrieve the control file via FTP. Specifying a user name and a password
       is optional.
      </p></dd><dt id="id-1.9.7.2.5.3.11.11"><span class="term "><code class="literal">autoyast=usb:///<em class="replaceable ">PATH</em></code></span></dt><dd><p>
       Retrieve the control file from USB devices (<code class="literal">autoyast</code>
       will search all connected USB devices).
      </p></dd><dt id="id-1.9.7.2.5.3.11.12"><span class="term "><code class="literal">autoyast=relurl://<em class="replaceable ">PATH</em></code></span></dt><dd><p>
       Retrieve the control file from the installation source: either from the
       default installation source or from the installation source defined in
       <code class="literal">install=<em class="replaceable ">INSTALLATION_SOURCE_PATH</em></code>.
      </p></dd><dt id="id-1.9.7.2.5.3.11.13"><span class="term "><code class="literal">autoyast=repo:/<em class="replaceable ">PATH</em></code></span></dt><dd><p>
          Retrieve the control file from the specified path. The path must be relative to the installation source.
        </p></dd><dt id="id-1.9.7.2.5.3.11.14"><span class="term "><code class="literal">autoyast=cifs://<em class="replaceable ">SERVER</em>/<em class="replaceable ">PATH</em></code></span></dt><dd><p>
       Looks for the control file on a CIFS server.
      </p></dd><dt id="id-1.9.7.2.5.3.11.15"><span class="term "><code class="literal">autoyast=label://<em class="replaceable ">LABEL</em>/<em class="replaceable ">PATH</em></code></span></dt><dd><p>
       Searches for a control file on a device with the specified label.
      </p></dd></dl></div><p>
    Several scenarios for auto-installation are possible using different types
    of infrastructure and source media. The simplest way is to use the
    appropriate installation media of <span class="productname"><span class="phrase">openSUSE Leap</span></span>
    <span class="phrase">(<code class="filename">SLE-15-SP6-Online-<em class="replaceable ">ARCH</em>-GM-media1.iso</code> or
    <code class="filename">SLE-15-SP6-Full-<em class="replaceable ">ARCH</em>-GM-media1.iso</code>)</span>. But to initiate the
    auto-installation process, the auto-installation command line variable
    should be entered at system boot-up and the control file should be
    accessible for YaST.
   </p><p>
    In a scripting context, you can use a serial console for your virtual
    machine, that allows you to work in text mode. Then you can pass the
    required parameters from an expect script or equivalent.
   </p><p>
    The following list of scenarios explains how the control file can be
    supplied:
   </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.9.7.2.5.3.15.1"><span class="term ">Using the <span class="productname"><span class="phrase">openSUSE Leap</span></span> installation media</span></dt><dd><p>
       When using the original installation media
       <span class="phrase">(<code class="filename">SLE-15-SP6-Online-<em class="replaceable ">ARCH</em>-GM-media1.iso</code> or
       <code class="filename">SLE-15-SP6-Full-<em class="replaceable ">ARCH</em>-GM-media1.iso</code> is needed)</span>, the control
       file needs to be accessible via flash disk (for example, a USB stick) or
       network:
      </p><p><span class="formalpara-title">Flash disk (for example, a USB stick). </span>
        Access the control file via the
        <code class="literal">autoyast=usb://<em class="replaceable ">PATH</em></code>
        option.
       </p><p><span class="formalpara-title">Network. </span>
        Access the control file via the following commands:
        <code class="literal">autoyast=nfs://..</code>,
        <code class="literal">autoyast=ftp://..</code>,
        <code class="literal">autoyast=http://..</code>,
        <code class="literal">autoyast=https://..</code>,
        <code class="literal">autoyast=tftp://..</code>, or
        <code class="literal">autoyast=cifs://..</code>. Network access needs to be
        defined using the boot options in linuxrc. This can be done via DHCP:
        <code class="command">netsetup=dhcp
        autoyast=http://<em class="replaceable ">163.122.3.5/autoyast.xml</em></code>
       </p></dd><dt id="id-1.9.7.2.5.3.15.2"><span class="term ">Using a custom installation media</span></dt><dd><p>
       In this case, you can include the control file directly on the
       installation media. When placing it in the root directory and naming it
       <code class="filename">autoinst.xml</code>, it will automatically be found and
       used for the installation. Otherwise use
       <code class="literal">autoyast=file:///<em class="replaceable ">PATH</em></code> to
       specify the path to the control file.
      </p></dd><dt id="id-1.9.7.2.5.3.15.3"><span class="term ">Using a network installation source</span></dt><dd><p>
       This option is the most important one because installations of multiple
       machines are usually done using SLP or NFS servers and other network
       services like BOOTP and DHCP. The easiest way to make the control file
       available is to place it in the root directory of the installation
       source, naming it <code class="filename">autoinst.xml</code>. In this case, it
       will automatically be found and used for the installation. The control
       file can also reside in the following places:
      </p><p><span class="formalpara-title">Flash disk (for example, a USB stick). </span>
        Access the control file via the
        <code class="literal">autoyast=usb://<em class="replaceable ">PATH</em></code>
        option.
       </p><p><span class="formalpara-title">Network. </span>
        Access the control file via the following commands:
        <code class="literal">autoyast=nfs://..</code>,
        <code class="literal">autoyast=ftp://..</code>,
        <code class="literal">autoyast=http://..</code>,
        <code class="literal">autoyast=https://..</code>,
        <code class="literal">autoyast=tftp://..</code>, or
        <code class="literal">autoyast=cifs://..</code>.
       </p></dd></dl></div><div id="id-1.9.7.2.5.3.16" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg" /><h6>Note: Disabling network and DHCP</h6><p>
     To disable the network during installations where it is not needed or
     unavailable, for example when auto-installing from DVD-ROMs, use the
     <code class="command">linuxrc</code> option <code class="literal">netsetup=0</code> to disable
     the network setup.
    </p></div><p>
    With all AutoYaST invocation options it is possible to specify the location of
    the control file in the following ways:
   </p><div class="orderedlist "><ol class="orderedlist" type="1"><li class="listitem "><p>
      Specify the exact location of the control file:
     </p><div class="verbatim-wrap"><pre class="screen">autoyast=http://192.168.1.1/control-files/client01.xml</pre></div></li><li class="listitem "><p>
      Specify a directory where several control files are located:
     </p><div class="verbatim-wrap"><pre class="screen">autoyast=http://192.168.1.1/control-files/</pre></div><p>
      In this case the relevant control file is retrieved using the hex digit
      representation of the IP as described below.
     </p><p>
      The path of this directory needs to end with a <code class="literal">/</code>.
     </p><p>
      The files in the directory must not have any extension, for example
      <code class="literal">.xml</code>. So the file name needs to be the IP or MAC
      address only.
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>ls -r control-files
C00002 0080C8F6484C default</pre></div></li></ol></div><p>
    If only the path prefix variable is defined, YaST will fetch the control
    file from the specified location in the following way:
   </p><div class="orderedlist "><ol class="orderedlist" type="1"><li class="listitem "><p>
      First, it will search for the control file using its own IP address in
      uppercase hexadecimal, for example <code class="literal">192.0.2.91 -&gt;
      C000025B</code>.
     </p></li><li class="listitem "><p>
      If this file is not found, YaST will remove one hex digit and try
      again. This action is repeated until the file with the correct name is
      found. Ultimately, it will try looking for a file with the MAC address of
      the client as the file name (mac should have the following syntax:
      <code class="literal">0080C8F6484C</code>) and if not found a file named
      <code class="filename">default</code> (in lowercase).
     </p></li></ol></div><p>
    As an example, for 192.0.2.91, the HTTP client will try:
   </p><div class="verbatim-wrap"><pre class="screen">C000025B
C000025
C00002
C0000
C000
C00
C0
C
0080C8F6484C
default</pre></div><p>
    in that order.
   </p><p>
    To determine the hex representation of the IP address of the client, use
    the utility called <code class="command">/usr/bin/gethostip</code> available with the
    <code class="systemitem">syslinux</code> package.
   </p><div class="example" id="id-1.9.7.2.5.3.25"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 9.1: </span><span class="name">Determine HEX code for an IP address </span><a title="Permalink" class="permalink" href="Invoking.html#id-1.9.7.2.5.3.25">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>/usr/bin/gethostip 10.10.0.1
10.10.0.1 10.10.0.1 0A0A0001</pre></div></div></div></div><div class="sect2 " id="autoinstall-singlesystem"><div class="titlepage"><div><div><h3 class="title"><span class="number">9.3.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Auto-installing a single system</span> <a title="Permalink" class="permalink" href="Invoking.html#autoinstall-singlesystem">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/ay_auto_installation.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>ay_auto_installation.xml</li><li><span class="ds-label">ID: </span>autoinstall-singlesystem</li></ul></div></div></div></div><p>
    The easiest way to auto-install a system without any network connection is
    to use the original <span class="productname"><span class="phrase">openSUSE Leap</span></span> DVD-ROMs and a flash disk (for example, a
    USB stick). You do not need to set up an installation server nor the
    network environment.
   </p><p>
    Create the control file and name it <code class="filename">autoinst.xml</code>. Copy
    the file <code class="filename">autoinst.xml</code> to the flash disk.
   </p></div><div class="sect2 " id="invoking-autoinst-linuxrc"><div class="titlepage"><div><div><h3 class="title"><span class="number">9.3.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Combining the <code class="command">linuxrc</code> <code class="filename">info</code> file with the AutoYaST control file</span> <a title="Permalink" class="permalink" href="Invoking.html#invoking-autoinst-linuxrc">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/ay_auto_installation.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>ay_auto_installation.xml</li><li><span class="ds-label">ID: </span>invoking-autoinst-linuxrc</li></ul></div></div></div></div><p>
    If you choose to pass information to <code class="command">linuxrc</code> using the
    <code class="filename">info</code> file or as boot options, you may integrate the
    keywords into the AutoYaST control file. Add an <code class="literal">info_file</code>
    section as shown in the example below. This section contains
    keyword—value pairs, separated by colons, one pair per line.
   </p><div class="example" id="id-1.9.7.2.5.5.4"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 9.2: </span><span class="name"><code class="command">linuxrc</code> Options in the AutoYaST control file </span><a title="Permalink" class="permalink" href="Invoking.html#id-1.9.7.2.5.5.4">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">....
  &lt;install&gt;
....
    &lt;init&gt;
        &lt;info_file&gt;

install: nfs://192.168.1.1/CDs/full-x86_64
dud: https://example.com/driver_updates/filename.dud
upgrade: 1
textmode: 1
      &lt;/info_file&gt;
    &lt;/init&gt;
......
  &lt;/install&gt;
  ....</pre></div></div></div><p>
    Note that the <code class="literal">autoyast2</code> keyword must point to the same
    file. If it is on a flash disk (for example, a USB stick), then the option
    <code class="literal">usb://</code> needs to be used. If the
    <code class="filename">info</code> file is stored in the initial RAM disk, the
    <code class="literal">file:///</code> option needs to be used.
   </p></div></div><div class="sect1 " id="System-Configuration"><div class="titlepage"><div><div><h2 class="title"><span class="number">9.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">System configuration</span> <a title="Permalink" class="permalink" href="Invoking.html#System-Configuration">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/ay_auto_installation.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>ay_auto_installation.xml</li><li><span class="ds-label">ID: </span>System-Configuration</li></ul></div></div></div></div><p>
   The system configuration during auto-installation is the most important part
   of the whole process. As you have seen in the previous chapters, almost
   anything can be configured automatically on the target system. In addition
   to the pre-defined directives, you can always use post-scripts to change
   other things in the system. Additionally you can change any system
   variables, and if required, copy complete configuration files into the
   target system.
  </p><div class="sect2 " id="System-Configuration-post"><div class="titlepage"><div><div><h3 class="title"><span class="number">9.4.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Post-install and system configuration</span> <a title="Permalink" class="permalink" href="Invoking.html#System-Configuration-post">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/ay_auto_installation.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>ay_auto_installation.xml</li><li><span class="ds-label">ID: </span>System-Configuration-post</li></ul></div></div></div></div><p>
    The post-installation and system configuration are initiated directly after
    the last package is installed on the target system and continue after the
    system has booted for the first time.
   </p><p>
    Before the system is booted for the first time, AutoYaST writes all data
    collected during installation and writes the boot loader in the specified
    location. In addition to these regular tasks, AutoYaST executes the
    chroot-scripts as specified in the control file. Note that these scripts
    are executed while the system is not yet mounted.
   </p><p>
    If a different kernel than the default is installed, a hard reboot will be
    required. A hard reboot can also be forced during auto-installation,
    independent of the installed kernel. Use the <code class="literal">reboot</code>
    property of the <code class="literal">general</code> resource (see
    <a class="xref" href="cha-configuration-installation-options.html#CreateProfile-General" title="4.1. General options">Section 4.1, “General options”</a>).
   </p></div><div class="sect2 " id="System-Configuration-custom"><div class="titlepage"><div><div><h3 class="title"><span class="number">9.4.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">System customization</span> <a title="Permalink" class="permalink" href="Invoking.html#System-Configuration-custom">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/ay_auto_installation.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>ay_auto_installation.xml</li><li><span class="ds-label">ID: </span>System-Configuration-custom</li></ul></div></div></div></div><p>
    Most of the system customization is done in the second stage of the
    installation. If you require customization that cannot be done using AutoYaST
    resources, use post-install scripts for further modifications.
   </p><p>
    You can define an unlimited number of custom scripts in the control file,
    either by editing the control file or by using the configuration system.
   </p></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="bk07pt05.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Part V </span>Uses for AutoYaST on installed systems</span></a><a class="nav-link" href="bk07pt04.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Part IV </span>Understanding the auto-installation process</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2024 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>