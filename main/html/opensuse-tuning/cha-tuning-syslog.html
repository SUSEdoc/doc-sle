<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>System log files | System Analysis and Tuning Guide | openSUSE Leap 15.6</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" />
<meta name="title" content="System log files | openSUSE Leap 15.6" />
<meta name="description" content="System log file analysis is one of the most important tasks when analyzing the system. In fact, looking at the system log files should be the first thing to do…" />
<meta name="product-name" content="openSUSE Leap" />
<meta name="product-number" content="15.6" />
<meta name="book-title" content="System Analysis and Tuning Guide" />
<meta name="chapter-title" content="Chapter 3. System log files" />
<meta name="tracker-url" content="https://bugzilla.opensuse.org/enter_bug.cgi" />
<meta name="tracker-type" content="bsc" />
<meta name="tracker-bsc-assignee" content="fs@suse.com" />
<meta name="tracker-bsc-component" content="Documentation" />
<meta name="tracker-bsc-product" content="openSUSE Distribution" />
<meta name="tracker-bsc-version" content="Leap 15.4" />
<meta property="og:title" content="System log files | openSUSE Leap 15.6" />
<meta property="og:description" content="System log file analysis is one of the most important tasks when analyzing the system. In fact, looking at the system log files should be the first thing to do…" />
<meta property="og:type" content="article" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="System log files | openSUSE Leap 15.6" />
<meta name="twitter:description" content="System log file analysis is one of the most important tasks when analyzing the system. In fact, looking at the system log files should be the first thing to do…" />
<link rel="home" href="index.html" title="openSUSE Leap Documentation" /><link rel="up" href="part-tuning-monitoring.html" title="Part II. System monitoring" /><link rel="prev" href="cha-util.html" title="Chapter 2. System monitoring utilities" /><link rel="next" href="part-tuning-kerneltrace.html" title="Part III. Kernel monitoring" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" /></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #E11;"><div id="_header"><div id="_logo"><img src="static/images/logo.svg" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="System Analysis and Tuning Guide"><span class="book-icon">System Analysis and Tuning Guide</span></a><span> › </span><a class="crumb" href="part-tuning-monitoring.html">System monitoring</a><span> › </span><a class="crumb" href="cha-tuning-syslog.html">System log files</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>System Analysis and Tuning Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface-tuning.html"><span class="number"> </span><span class="name">Preface</span></a></li><li class="inactive"><a href="part-tuning-basics.html"><span class="number">I </span><span class="name">Basics</span></a><ol><li class="inactive"><a href="cha-tuning-basics.html"><span class="number">1 </span><span class="name">General notes on system tuning</span></a></li></ol></li><li class="inactive"><a href="part-tuning-monitoring.html"><span class="number">II </span><span class="name">System monitoring</span></a><ol><li class="inactive"><a href="cha-util.html"><span class="number">2 </span><span class="name">System monitoring utilities</span></a></li><li class="inactive"><a href="cha-tuning-syslog.html"><span class="number">3 </span><span class="name">System log files</span></a></li></ol></li><li class="inactive"><a href="part-tuning-kerneltrace.html"><span class="number">III </span><span class="name">Kernel monitoring</span></a><ol><li class="inactive"><a href="cha-tuning-systemtap.html"><span class="number">4 </span><span class="name">SystemTap—filtering and analyzing system data</span></a></li><li class="inactive"><a href="cha-tuning-kprobes.html"><span class="number">5 </span><span class="name">Kernel probes</span></a></li><li class="inactive"><a href="cha-perf.html"><span class="number">6 </span><span class="name">Hardware-based performance monitoring with Perf</span></a></li><li class="inactive"><a href="cha-tuning-oprofile.html"><span class="number">7 </span><span class="name">OProfile—system-wide profiler</span></a></li><li class="inactive"><a href="cha-tuning-dynamic-debug.html"><span class="number">8 </span><span class="name">Dynamic debug—kernel debugging messages</span></a></li></ol></li><li class="inactive"><a href="part-tuning-resources.html"><span class="number">IV </span><span class="name">Resource management</span></a><ol><li class="inactive"><a href="cha-tuning-resources.html"><span class="number">9 </span><span class="name">General system resource management</span></a></li><li class="inactive"><a href="cha-tuning-cgroups.html"><span class="number">10 </span><span class="name">Kernel control groups</span></a></li><li class="inactive"><a href="cha-tuning-numactl.html"><span class="number">11 </span><span class="name">Automatic Non-Uniform Memory Access (NUMA) balancing</span></a></li><li class="inactive"><a href="cha-tuning-power.html"><span class="number">12 </span><span class="name">Power management</span></a></li></ol></li><li class="inactive"><a href="part-tuning-kernel.html"><span class="number">V </span><span class="name">Kernel tuning</span></a><ol><li class="inactive"><a href="cha-tuning-io.html"><span class="number">13 </span><span class="name">Tuning I/O performance</span></a></li><li class="inactive"><a href="cha-tuning-taskscheduler.html"><span class="number">14 </span><span class="name">Tuning the task scheduler</span></a></li><li class="inactive"><a href="cha-tuning-memory.html"><span class="number">15 </span><span class="name">Tuning the memory management subsystem</span></a></li><li class="inactive"><a href="cha-tuning-network.html"><span class="number">16 </span><span class="name">Tuning the network</span></a></li></ol></li><li class="inactive"><a href="part-tuning-dumps.html"><span class="number">VI </span><span class="name">Handling system dumps</span></a><ol><li class="inactive"><a href="cha-tuning-tracing.html"><span class="number">17 </span><span class="name">Tracing tools</span></a></li><li class="inactive"><a href="cha-tuning-kexec.html"><span class="number">18 </span><span class="name">Kexec and Kdump</span></a></li><li class="inactive"><a href="cha-tuning-systemd-coredump.html"><span class="number">19 </span><span class="name">Using <code class="systemitem">systemd-coredump</code> to debug application crashes</span></a></li></ol></li><li class="inactive"><a href="part-tuning-ptp.html"><span class="number">VII </span><span class="name">Synchronized clocks with Precision Time Protocol</span></a><ol><li class="inactive"><a href="cha-tuning-ptp.html"><span class="number">20 </span><span class="name">Precision Time Protocol</span></a></li></ol></li><li class="inactive"><a href="bk05apa.html"><span class="number">A </span><span class="name">GNU licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 2. System monitoring utilities" href="cha-util.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Part III. Kernel monitoring" href="part-tuning-kerneltrace.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #E11;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="System Analysis and Tuning Guide"><span class="book-icon">System Analysis and Tuning Guide</span></a><span> › </span><a class="crumb" href="part-tuning-monitoring.html">System monitoring</a><span> › </span><a class="crumb" href="cha-tuning-syslog.html">System log files</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 2. System monitoring utilities" href="cha-util.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Part III. Kernel monitoring" href="part-tuning-kerneltrace.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha-tuning-syslog"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname "><span class="productname"><span class="phrase">openSUSE Leap</span></span></span> <span class="productnumber "><span class="productnumber"><span class="phrase">15.6</span></span></span></div><div><h2 class="title"><span class="number">3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">System log files</span> <a title="Permalink" class="permalink" href="cha-tuning-syslog.html#">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_logfiles.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_logfiles.xml</li><li><span class="ds-label">ID: </span>cha-tuning-syslog</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha-tuning-syslog.html#sec-tuning-syslog-logs"><span class="number">3.1 </span><span class="name">System log files in <code class="filename">/var/log/</code></span></a></span></dt><dt><span class="sect1"><a href="cha-tuning-syslog.html#sec-tuning-syslog-view"><span class="number">3.2 </span><span class="name">Viewing and parsing log files</span></a></span></dt><dt><span class="sect1"><a href="cha-tuning-syslog.html#sec-tuning-syslog-logrotate"><span class="number">3.3 </span><span class="name">Managing log files with <code class="command">logrotate</code></span></a></span></dt><dt><span class="sect1"><a href="cha-tuning-syslog.html#sec-tuning-syslog-logwatch"><span class="number">3.4 </span><span class="name">Monitoring log files with <code class="command">logwatch</code></span></a></span></dt><dt><span class="sect1"><a href="cha-tuning-syslog.html#sec-tuning-syslog-forward"><span class="number">3.5 </span><span class="name">Configuring mail forwarding for <code class="systemitem">root</code></span></a></span></dt><dt><span class="sect1"><a href="cha-tuning-syslog.html#sec-tuning-syslog-server"><span class="number">3.6 </span><span class="name">Forwarding log messages to a central syslog server</span></a></span></dt><dt><span class="sect1"><a href="cha-tuning-syslog.html#sec-tuning-syslog-logger"><span class="number">3.7 </span><span class="name">Using <code class="command">logger</code> to make system log entries</span></a></span></dt></dl></div></div><p>
  System log file analysis is one of the most important tasks when analyzing
  the system. In fact, looking at the system log files should be the first
  thing to do when maintaining or troubleshooting a system. <span class="productname"><span class="phrase">openSUSE Leap</span></span>
  automatically logs almost everything that happens on the system in detail.
  Since the move to <code class="systemitem">systemd</code>, kernel messages and messages of system
  services registered with <code class="systemitem">systemd</code> are logged in <code class="systemitem">systemd</code> journal
  (see <span class="intraxref">Book “Reference”, Chapter 11 “<code class="command">journalctl</code>: query the <code class="systemitem">systemd</code> journal”</span>). Other log files (mainly those of
  system applications) are written in plain text and can be easily read
  using an editor or pager. It is also possible to parse them using scripts.
  This allows you to filter their content.
 </p><div class="sect1 " id="sec-tuning-syslog-logs"><div class="titlepage"><div><div><h2 class="title"><span class="number">3.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">System log files in <code class="filename">/var/log/</code></span> <a title="Permalink" class="permalink" href="cha-tuning-syslog.html#sec-tuning-syslog-logs">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_logfiles.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_logfiles.xml</li><li><span class="ds-label">ID: </span>sec-tuning-syslog-logs</li></ul></div></div></div></div><p>
   System log files are always located under the
   <code class="filename">/var/log</code> directory. The following list presents an
   overview of all system log files from <span class="productname"><span class="phrase">openSUSE Leap</span></span> present after a
   default installation. Depending on your installation scope,
   <code class="filename">/var/log</code> also contains log files from other services
   and applications not listed here. Some files and directories described
   below are <span class="quote">“<span class="quote ">placeholders</span>”</span> and are only used, when the
   corresponding application is installed. Most log files are only visible
   for the user <code class="systemitem">root</code>.
  </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.7.4.3.4.3.1"><span class="term "><code class="filename">apparmor/</code>
    </span></dt><dd><p>
      <span class="phrase">AppArmor</span> log files. For more information about <span class="phrase">AppArmor</span>, see
      <span class="intraxref">Book “Security and Hardening Guide”</span>.
     </p></dd><dt id="id-1.7.4.3.4.3.2"><span class="term "><code class="filename">audit/</code>
    </span></dt><dd><p>
      Logs from the audit framework. See <span class="intraxref">Book “Security and Hardening Guide”</span> for
      details.
     </p></dd><dt id="id-1.7.4.3.4.3.3"><span class="term "><code class="filename">ConsoleKit/</code>
    </span></dt><dd><p>
      Logs of the <code class="systemitem">ConsoleKit</code> daemon
      (daemon for tracking what users are logged in and how they interact
      with the computer).
     </p></dd><dt id="id-1.7.4.3.4.3.4"><span class="term "><code class="filename">cups/</code>
    </span></dt><dd><p>
      Access and error logs of the Common Unix Printing System
      (<code class="systemitem">cups</code>).
     </p></dd><dt id="id-1.7.4.3.4.3.5"><span class="term "><code class="filename">firewall</code>
    </span></dt><dd><p>
      Firewall logs.
     </p></dd><dt id="id-1.7.4.3.4.3.6"><span class="term "><code class="filename">gdm/</code>
    </span></dt><dd><p>
      Log files from the GNOME display manager.
     </p></dd><dt id="id-1.7.4.3.4.3.7"><span class="term "><code class="filename">krb5/</code>
    </span></dt><dd><p>
      Log files from the Kerberos network authentication system.
     </p></dd><dt id="id-1.7.4.3.4.3.8"><span class="term "><code class="filename">lastlog</code>
    </span></dt><dd><p>
      A database containing information on the last login of each user. Use
      the command <code class="command">lastlog</code> to view. See <code class="command">man 8
      lastlog</code> for more information.
     </p></dd><dt id="id-1.7.4.3.4.3.9"><span class="term "><code class="filename">localmessages</code>
    </span></dt><dd><p>
      Log messages of certain boot scripts, for example, the log of the DHCP
      client.
     </p></dd><dt id="id-1.7.4.3.4.3.10"><span class="term "><code class="filename">mail*</code>
    </span></dt><dd><p>
      Mail server (<code class="systemitem">postfix</code>,
      <code class="systemitem">sendmail</code>) logs.
     </p></dd><dt id="id-1.7.4.3.4.3.11"><span class="term "><code class="filename">messages</code>
    </span></dt><dd><p>
      This is the default place where all kernel and system log messages go
      and should be the first place (along with
      <code class="filename">/var/log/warn</code>) to look at in case of problems.
     </p></dd><dt id="id-1.7.4.3.4.3.12"><span class="term "><code class="filename">NetworkManager</code>
    </span></dt><dd><p>
      NetworkManager log files.
     </p></dd><dt id="id-1.7.4.3.4.3.13"><span class="term "><code class="filename">news/</code>
    </span></dt><dd><p>
      Log messages from a news server.
     </p></dd><dt id="id-1.7.4.3.4.3.14"><span class="term "><code class="filename">chrony/</code>
    </span></dt><dd><p>
      Logs from the Network Time Protocol daemon
      (<code class="systemitem">chrony</code>).
     </p></dd><dt id="id-1.7.4.3.4.3.15"><span class="term "><code class="filename">pk_backend_zypp*</code>
    </span></dt><dd><p>
      PackageKit (with <code class="systemitem">libzypp</code>
      back-end) log files.
     </p></dd><dt id="id-1.7.4.3.4.3.16"><span class="term "><code class="filename">samba/</code>
    </span></dt><dd><p>
      Log files from Samba, the Windows SMB/CIFS file server.
     </p></dd><dt id="id-1.7.4.3.4.3.17"><span class="term "><code class="filename">warn</code>
    </span></dt><dd><p>
      Log of all system warnings and errors. This should be the first place
      (along with the output of the <code class="systemitem">systemd</code> journal) to look in case of
      problems.
     </p></dd><dt id="id-1.7.4.3.4.3.18"><span class="term "><code class="filename">wtmp</code>
    </span></dt><dd><p>
      Database of all login/logout activities,
      
      and remote connections. Use the command <code class="command">last</code> to
      view. See <code class="command">man 1 last</code> for more information.
     </p></dd><dt id="id-1.7.4.3.4.3.19"><span class="term "><code class="filename">Xorg.<em class="replaceable ">NUMBER</em>.log</code>
    </span></dt><dd><p>
      X.Org start-up log file. Refer to these files in case you have
      problems starting X.Org.
     </p><p>
      The <em class="replaceable ">NUMBER</em> in the file name is the
      display number. For example, the default <code class="filename">Xorg.0.log</code> is the log for display number
      <code class="literal">0</code>, and <code class="filename">Xorg.1.log</code> is the log for display number
      <code class="literal">1</code>. Copies from previous X.Org starts are named as <code class="filename">Xorg.<em class="replaceable ">NUMBER</em>.log.old</code>.
     </p><div id="id-1.7.4.3.4.3.19.2.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg" /><h6>Note</h6><p>
       The X.Org log files are available in the
       <code class="filename">/var/log/</code> directory
       only if you start an X.Org session as <code class="systemitem">root</code>.
       If you start an X.Org session as any other user, you can locate the log files in the <code class="filename">~/.local/share/xorg/</code> directory.
      </p></div></dd><dt id="id-1.7.4.3.4.3.20"><span class="term "><code class="filename">YaST2/</code>
    </span></dt><dd><p>
      All YaST log files.
     </p></dd><dt id="id-1.7.4.3.4.3.21"><span class="term "><code class="filename">zypp/</code>
    </span></dt><dd><p>
      <code class="systemitem">libzypp</code> log files. Refer to
      these files for the package installation history.
     </p></dd><dt id="id-1.7.4.3.4.3.22"><span class="term "><code class="filename">zypper.log</code>
    </span></dt><dd><p>
      Logs from the command line installer <code class="command">zypper</code>.
     </p></dd></dl></div></div><div class="sect1 " id="sec-tuning-syslog-view"><div class="titlepage"><div><div><h2 class="title"><span class="number">3.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Viewing and parsing log files</span> <a title="Permalink" class="permalink" href="cha-tuning-syslog.html#sec-tuning-syslog-view">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_logfiles.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_logfiles.xml</li><li><span class="ds-label">ID: </span>sec-tuning-syslog-view</li></ul></div></div></div></div><p>
   To view log files, you can use any text editor. There is also a simple
   YaST module for viewing the system log available in the YaST
   control center under <span class="guimenu ">Miscellaneous</span> › <span class="guimenu ">System Log</span>.
  </p><p>
   For viewing log files in a text console, use the commands
   <code class="command">less</code> or <code class="command">more</code>. Use
   <code class="command">head</code> and <code class="command">tail</code> to view the beginning
   or end of a log file. To view entries appended to a log file in real-time
   use <code class="command">tail</code> <code class="option">-f</code>. For information about
   how to use these tools, see their man pages.
  </p><p>
   To search for strings or regular expressions in log files use
   <code class="command">grep</code>. <code class="command">awk</code> is useful for parsing and
   rewriting log files.
  </p></div><div class="sect1 " id="sec-tuning-syslog-logrotate"><div class="titlepage"><div><div><h2 class="title"><span class="number">3.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Managing log files with <code class="command">logrotate</code></span> <a title="Permalink" class="permalink" href="cha-tuning-syslog.html#sec-tuning-syslog-logrotate">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_logfiles.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_logfiles.xml</li><li><span class="ds-label">ID: </span>sec-tuning-syslog-logrotate</li></ul></div></div></div></div><p>
   Log files under <code class="filename">/var/log</code> grow on a daily basis and
   quickly become large. <code class="command">logrotate</code> is a tool that
   helps you manage log files and their growth. It allows automatic
   rotation, removal, compression, and mailing of log files. Log files can
   be handled periodically (daily, weekly, or monthly) or when exceeding a
   particular size.
  </p><p>
   <code class="command">logrotate</code> is run daily by <code class="systemitem">systemd</code>,
   and thus modifies log files only once a day. However, exceptions
   occur when a log file is modified because of its size, if
   <code class="command">logrotate</code> is run multiple times a day, or if
   <code class="option">--force</code> is enabled. Use
   <code class="filename">/var/lib/misc/logrotate.status</code> to find out when a
   particular file was last rotated.
  </p><p>
   The main configuration file of <code class="command">logrotate</code> is
   <code class="filename">/etc/logrotate.conf</code>. System packages and
   programs that produce log files (for example,
   <code class="systemitem">apache2</code>) put their own
   configuration files in the <code class="filename">/etc/logrotate.d/</code>
   directory. The content of <code class="filename">/etc/logrotate.d/</code> is
   included via <code class="filename">/etc/logrotate.conf</code>.
  </p><div class="complex-example"><div class="example" id="ex-tuning-syslog-logrotate-config"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 3.1: </span><span class="name">Example for <code class="filename">/etc/logrotate.conf</code> </span><a title="Permalink" class="permalink" href="cha-tuning-syslog.html#ex-tuning-syslog-logrotate-config">#</a></h6></div><div class="example-contents"><p>
    
   </p><div class="verbatim-wrap"><pre class="screen"># see "man logrotate" for details
# rotate log files weekly
weekly

# keep 4 weeks worth of backlogs
rotate 4

# create new (empty) log files after rotating old ones
create

# use date as a suffix of the rotated file
dateext

# uncomment this if you want your log files compressed
#compress

# comment these to switch compression to use gzip or another
# compression scheme
compresscmd /usr/bin/bzip2
uncompresscmd /usr/bin/bunzip2

# RPM packages drop log rotation information into this directory
include /etc/logrotate.d</pre></div></div></div></div><div id="id-1.7.4.3.6.6" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg" /><h6>Important: Avoid permission conflicts</h6><p>
    The <code class="systemitem">create</code> option pays heed to the modes and
    ownership of files specified in <code class="filename">/etc/permissions*</code>.
    If you modify these settings, make sure no conflicts arise.
   </p></div></div><div class="sect1 " id="sec-tuning-syslog-logwatch"><div class="titlepage"><div><div><h2 class="title"><span class="number">3.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Monitoring log files with <code class="command">logwatch</code></span> <a title="Permalink" class="permalink" href="cha-tuning-syslog.html#sec-tuning-syslog-logwatch">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_logfiles.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_logfiles.xml</li><li><span class="ds-label">ID: </span>sec-tuning-syslog-logwatch</li></ul></div></div></div></div><p>
   <code class="command">logwatch</code> is a customizable, pluggable log-monitoring
   script. It parses system logs, extracts the important information and
   presents them in a human readable manner. To use
   <code class="command">logwatch</code>, install the <span class="package ">logwatch</span> package.
  </p><p>
   <code class="command">logwatch</code> can either be used at the command line to
   generate on-the-fly reports, or via <code class="systemitem">cron</code> to regularly create custom
   reports. Reports can either be printed on the screen, saved to a file, or
   be mailed to a specified address. The latter is especially useful when
   automatically generating reports via <code class="systemitem">cron</code>.
  </p><p>
   On the command line, you can tell <code class="command">logwatch</code> for which
   service and time span to generate a report and how much detail should be
   included:
  </p><div class="verbatim-wrap"><pre class="screen"># Detailed report on all kernel messages from yesterday
logwatch --service kernel --detail High --range Yesterday --print

# Low detail report on all sshd events recorded (incl. archived logs)
logwatch --service sshd --detail Low --range All --archives --print

# Mail a report on all smartd messages from May 5th to May 7th to root@localhost
logwatch --service smartd --range 'between 5/5/2005 and 5/7/2005' \
--mailto root@localhost --print</pre></div><p>
   The <code class="option">--range</code> option has got a complex syntax—see
   <code class="command">logwatch</code> <code class="option">--range help</code> for details. A
   list of all services that can be queried is available with the following
   command:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>ls /usr/share/logwatch/default.conf/services/ | sed 's/\.conf//g'</pre></div><p>
   <code class="command">logwatch</code> can be customized to great detail. However,
   the default configuration should be sufficient. The default
   configuration files are located under
   <code class="filename">/usr/share/logwatch/default.conf/</code>. Never change them
   because they would get overwritten again with the next update. Rather
   place custom configuration in <code class="filename">/etc/logwatch/conf/</code>
   (you may use the default configuration file as a template, though). A
   detailed HOWTO on customizing <code class="command">logwatch</code> is available at
   <code class="filename">/usr/share/doc/packages/logwatch/HOWTO-Customize-LogWatch</code>.
   The following configuration files exist:
  </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.7.4.3.7.9.1"><span class="term "><code class="filename">logwatch.conf</code>
    </span></dt><dd><p>
      The main configuration file. The default version is extensively
      commented. Each configuration option can be overwritten on the command
      line.
     </p></dd><dt id="id-1.7.4.3.7.9.2"><span class="term "><code class="filename">ignore.conf</code>
    </span></dt><dd><p>
      Filter for all lines that should globally be ignored by
      <code class="command">logwatch</code>.
     </p></dd><dt id="id-1.7.4.3.7.9.3"><span class="term "><code class="filename">services/*.conf</code>
    </span></dt><dd><p>
      The service directory holds configuration files for each service you
      can generate a report for.
     </p></dd><dt id="id-1.7.4.3.7.9.4"><span class="term "><code class="filename">logfiles/*.conf</code>
    </span></dt><dd><p>
      Specifications on which log files should be parsed for each service.
     </p></dd></dl></div></div><div class="sect1 " id="sec-tuning-syslog-forward"><div class="titlepage"><div><div><h2 class="title"><span class="number">3.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Configuring mail forwarding for <code class="systemitem">root</code></span> <a title="Permalink" class="permalink" href="cha-tuning-syslog.html#sec-tuning-syslog-forward">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_logfiles.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_logfiles.xml</li><li><span class="ds-label">ID: </span>sec-tuning-syslog-forward</li></ul></div></div></div></div><p>
   System daemons, <code class="systemitem">cron</code> jobs, <code class="systemitem">systemd</code>
   timers, and other applications can generate messages and send them to the
   <code class="systemitem">root</code> user of the system. By default, each user account owns a local
   mailbox and will be notified about new mail messages upon login.
  </p><p>
   These messages can contain security relevant reports and incidents that require a quick response by the system administrator. To get notified about
   these messages in a timely fashion, it is strongly recommended to forward
   these mails to a dedicated remote e-mail account that is regularly checked.
  </p><div class="procedure " id="pro-tuning-syslog-forward"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 3.1: </span><span class="name">Configure mail forwarding for the <code class="systemitem">root</code> user </span><a title="Permalink" class="permalink" href="cha-tuning-syslog.html#pro-tuning-syslog-forward">#</a></h6></div><div class="procedure-contents"><p>
    To forward mail for the <code class="systemitem">root</code> user, perform the following steps:
   </p><ol class="procedure" type="1"><li class="step "><p>
     Install the <span class="package ">yast2-mail</span> package:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">zypper in yast2-mail</code></pre></div></li><li class="step "><p>
     Run the interactive YaST mail configuration:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">yast mail</code></pre></div></li><li class="step "><p>
     Choose <span class="guimenu ">Permanent</span> as <span class="guimenu ">Connection type</span>
     and proceed with <span class="guimenu ">Next</span>.
    </p></li><li class="step "><p>
     Enter the address of the <span class="guimenu ">Outgoing mail server</span>. If
     necessary, configure <span class="guimenu ">Authentication</span>. It is strongly
     recommended to <span class="guimenu ">Enforce TLS encryption </span> to prevent
     potentially sensitive system data from being sent unencrypted over the
     network. Proceed with <span class="guimenu ">Next</span>.
    </p></li><li class="step "><p>
     Enter the e-mail address to <span class="guimenu ">Forward root's mail to</span> and
     <span class="guimenu ">Finish</span> the configuration.
    </p><div id="id-1.7.4.3.8.4.7.2" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg" /><h6>Important: Do not accept remote SMTP connections</h6><p>
      Do <span class="emphasis"><em>not</em></span> enable <span class="guimenu ">Accept remote SMTP
       connections</span>, otherwise the local machine will act as a mail
      relay.
     </p></div></li><li class="step "><p>
     Send a message to test whether mail forwarding works correctly:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">mail root</code>
subject: test
test
.</pre></div></li><li class="step "><p>
     Use the <code class="command">mailq</code> command to verify that the test message
     has been sent. Upon success, the queue should be empty. The message should
     be received by the dedicated mail address configured previously.
    </p></li></ol></div></div><p>
   Depending on the number of managed machines and the number of persons who
   need to be informed about system events, different e-mail address models can
   be established:
  </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     Collect messages from different systems in an e-mail account that is only
     accessed by a single person.
    </p></li><li class="listitem "><p>
     Collect messages from different systems in a group e-mail account (aliases
     or mailing list) that can be accessed by all relevant persons.
    </p></li><li class="listitem "><p>
     Create separate e-mail accounts for each system.
    </p></li></ul></div><p>
   It is crucial that administrators regularly check the related e-mail accounts.
   To facilitate this effort and identify important events, avoid sending
   unnecessary information. Configure applications to only send relevant
   information.
  </p></div><div class="sect1 " id="sec-tuning-syslog-server"><div class="titlepage"><div><div><h2 class="title"><span class="number">3.6 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Forwarding log messages to a central syslog server</span> <a title="Permalink" class="permalink" href="cha-tuning-syslog.html#sec-tuning-syslog-server">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_logfiles.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_logfiles.xml</li><li><span class="ds-label">ID: </span>sec-tuning-syslog-server</li></ul></div></div></div></div><p>
   System log data can be forwarded from individual systems to a central
   syslog server on the network. This allows administrators to get an overview
   of events on all hosts, and prevents attackers that succeed in taking over a
   system from manipulating system logs to cover their tracks.
  </p><p>
   Setting up a central syslog server consists of two parts. First you configure
   the central log server, then the clients for remote logging.
  </p><div class="sect2 " id="sec-tuning-syslog-server-setup"><div class="titlepage"><div><div><h3 class="title"><span class="number">3.6.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Set up the central syslog server</span> <a title="Permalink" class="permalink" href="cha-tuning-syslog.html#sec-tuning-syslog-server-setup">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_logfiles.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_logfiles.xml</li><li><span class="ds-label">ID: </span>sec-tuning-syslog-server-setup</li></ul></div></div></div></div><div class="procedure " id="pro-tuning-syslog-server"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 3.2: </span><span class="name">Configure the central <code class="systemitem">rsyslog</code> server </span><a title="Permalink" class="permalink" href="cha-tuning-syslog.html#pro-tuning-syslog-server">#</a></h6></div><div class="procedure-contents"><p>
     To set up a central syslog server, perform the following steps:
    </p><ol class="procedure" type="1"><li class="step "><p>
      Edit the configuration file
      <code class="filename">/etc/rsyslog.d/remote.conf</code>.
     </p></li><li class="step "><p>
      Uncomment the following lines in the <code class="literal">UDP Syslog Server</code>
      or <code class="literal">TCP Syslog Server</code> section of the configuration file.
      Assign an IP address and port for <code class="systemitem">rsyslogd</code>.
     </p><p>
      TCP example:
     </p><div class="verbatim-wrap"><pre class="screen">$ModLoad imtcp.so
$UDPServerAddress <em class="replaceable ">IP</em><span id="co-tuning-syslog-server-ip"></span><span class="callout">1</span>
$InputTCPServerRun <em class="replaceable ">PORT</em><span id="co-tuning-syslog-server-port"></span><span class="callout">2</span></pre></div><p>
      UDP example:
     </p><div class="verbatim-wrap"><pre class="screen">$ModLoad imudp.so
$UDPServerAddress <em class="replaceable ">IP</em><a class="xref" href="cha-tuning-syslog.html#co-tuning-syslog-server-ip"><span class="callout">1</span></a>
$UDPServerRun <em class="replaceable ">PORT</em><a class="xref" href="cha-tuning-syslog.html#co-tuning-syslog-server-port"><span class="callout">2</span></a></pre></div><div class="calloutlist "><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-tuning-syslog-server-ip"><span class="callout">1</span></a> </p></td><td valign="top" align="left"><p>
        IP address of the interface for <code class="systemitem">rsyslogd</code> to listen on. If no address is
        given, the daemon listens on all interfaces.
       </p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-tuning-syslog-server-port"><span class="callout">2</span></a> </p></td><td valign="top" align="left"><p>
        Port for <code class="systemitem">rsyslogd</code> to listen on.
        Select a privileged port below 1024. The default is 514.
       </p></td></tr></table></div><div id="id-1.7.4.3.9.4.2.4.7" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg" /><h6>Important: TCP versus UDP protocol</h6><p>
       Traditionally syslog uses the UDP protocol to transmit log messages over
       the network. This involves less overhead, but lacks reliability. Log
       messages can get lost under high load.
       
       
      </p><p>
       The TCP protocol is more reliable and should be preferred over UDP.
      </p></div><div id="id-1.7.4.3.9.4.2.4.8" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg" /><h6>Note: <code class="literal">UDPServerAddress</code> with TCP</h6><p>
       The <code class="literal">$UDPServerAddress</code> configuration parameter in the
       TCP example is no error. Despite its name it is used for both TCP and
       UDP.
      </p></div></li><li class="step "><p>
      Save the file.
     </p></li><li class="step "><p>
      Restart the <code class="systemitem">rsyslog</code> service:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">systemctl restart rsyslog.service</code></pre></div></li><li class="step "><p>Open the respective port in the firewall. For <code class="systemitem">firewalld</code> with TCP on port 514 run:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">firewall-cmd --add-port <em class="replaceable ">514/tcp</em> --permanent</code>
<code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">firewall-cmd --reload</code></pre></div></li></ol></div></div><p>
    You have now configured the central syslog server. Next, configure clients
    for remote logging.
   </p></div><div class="sect2 " id="sec-tuning-syslog-server-client"><div class="titlepage"><div><div><h3 class="title"><span class="number">3.6.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Set up the client machines</span> <a title="Permalink" class="permalink" href="cha-tuning-syslog.html#sec-tuning-syslog-server-client">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_logfiles.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_logfiles.xml</li><li><span class="ds-label">ID: </span>sec-tuning-syslog-server-client</li></ul></div></div></div></div><div class="procedure " id="pro-tuning-syslog-client"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 3.3: </span><span class="name">Configure a <span class="guimenu ">rsyslog</span> instance for remote logging </span><a title="Permalink" class="permalink" href="cha-tuning-syslog.html#pro-tuning-syslog-client">#</a></h6></div><div class="procedure-contents"><p>
     To configure a machine for remote logging to a central syslog server,
     perform the following steps:
    </p><ol class="procedure" type="1"><li class="step "><p>
      Edit the configuration file
      <code class="filename">/etc/rsyslog.d/remote.conf</code>.
     </p></li><li class="step "><p>
      Uncomment the appropriate line (TCP or UDP) and replace
      <code class="literal">remote-host</code> with the address of the central syslog
      server set up in <a class="xref" href="cha-tuning-syslog.html#sec-tuning-syslog-server-setup" title="3.6.1. Set up the central syslog server">Section 3.6.1, “Set up the central syslog server”</a>.
     </p><p>
      TCP example:
     </p><div class="verbatim-wrap"><pre class="screen"># Remote Logging using TCP for reliable delivery
# remote host is: name/ip:port, e.g. 192.168.0.1:514, port optional
*.* <em class="replaceable ">@@remote-host</em></pre></div><p>
      UDP example:
     </p><div class="verbatim-wrap"><pre class="screen"># Remote Logging using UDP
# remote host is: name/ip:port, e.g. 192.168.0.1:514, port optional
*.* <em class="replaceable ">@remote-host</em></pre></div></li><li class="step "><p>
      Save the file.
     </p></li><li class="step "><p>
      Restart the <code class="systemitem">rsyslog</code> service:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">systemctl restart rsyslog.service</code></pre></div></li><li class="step "><p>
      Verify the proper function of the syslog forwarding:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">logger "hello world"</code></pre></div><p>
      The log message <code class="literal">hello world</code> should now appear on the
      central syslog server.
     </p></li></ol></div></div><p>
    You have now configured a system for remote logging to your central syslog
    server. Repeat this procedure for all systems that should log remotely.
   </p></div><div class="sect2 " id="sec-tuning-syslog-server-more"><div class="titlepage"><div><div><h3 class="title"><span class="number">3.6.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">More information</span> <a title="Permalink" class="permalink" href="cha-tuning-syslog.html#sec-tuning-syslog-server-more">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_logfiles.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_logfiles.xml</li><li><span class="ds-label">ID: </span>sec-tuning-syslog-server-more</li></ul></div></div></div></div><p>
    This basic setup does not include encryption and is only suitable for
    trusted internal networks. TLS encryption is strongly recommended, but
    requires a certificate infrastructure.
   </p><p>
    In this configuration, all messages from remote hosts are treated the
    same on the central syslog server. Consider filtering messages into separate
    files by remote host or classify them by message category.
   </p><p>
    For more information about encryption, filtering, and other advanced topics,
    consult the <span class="productname">RSyslog</span> documentation at
    <a class="link" href="https://www.rsyslog.com/doc/master/index.html#manual" target="_blank">https://www.rsyslog.com/doc/master/index.html#manual</a>.
   </p></div></div><div class="sect1 " id="sec-tuning-syslog-logger"><div class="titlepage"><div><div><h2 class="title"><span class="number">3.7 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Using <code class="command">logger</code> to make system log entries</span> <a title="Permalink" class="permalink" href="cha-tuning-syslog.html#sec-tuning-syslog-logger">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_logfiles.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_logfiles.xml</li><li><span class="ds-label">ID: </span>sec-tuning-syslog-logger</li></ul></div></div></div></div><p>
   <code class="command">logger</code> is a tool for making entries in the system log.
   It provides a shell command interface to the rsyslogd system log module.
   For example, the following line outputs its message in
   <code class="filename">/var/log/messages</code> or directly in the journal (if no
   logging facility is running):
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>logger -t Test "This message comes from $USER"</pre></div><p>
   Depending on the current user and host name, the log contains a line
   similar to this:
  </p><div class="verbatim-wrap"><pre class="screen">Sep 28 13:09:31 venus Test: This message comes from tux</pre></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="part-tuning-kerneltrace.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Part III </span>Kernel monitoring</span></a><a class="nav-link" href="cha-util.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 2 </span>System monitoring utilities</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2024 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>