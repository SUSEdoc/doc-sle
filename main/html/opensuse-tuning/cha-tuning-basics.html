<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>General notes on system tuning | System Analysis and Tuning Guide | openSUSE Leap 15.7</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" />
<meta name="title" content="General notes on system tuning | openSUSE Leap 15.7" />
<meta name="description" content="This manual discusses how to find the reasons for performance problems and provides means to solve these problems. Before you start tuning your system, you sho…" />
<meta name="product-name" content="openSUSE Leap" />
<meta name="product-number" content="15.7" />
<meta name="book-title" content="System Analysis and Tuning Guide" />
<meta name="chapter-title" content="Chapter 1. General notes on system tuning" />
<meta name="tracker-url" content="https://bugzilla.opensuse.org/enter_bug.cgi" />
<meta name="tracker-type" content="bsc" />
<meta name="tracker-bsc-assignee" content="fs@suse.com" />
<meta name="tracker-bsc-component" content="Documentation" />
<meta name="tracker-bsc-product" content="openSUSE Distribution" />
<meta name="tracker-bsc-version" content="Leap 15.4" />
<meta property="og:title" content="General notes on system tuning | openSUSE Leap 15.7" />
<meta property="og:description" content="This manual discusses how to find the reasons for performance problems and provides means to solve these problems. Before you start tuning your system, you sho…" />
<meta property="og:type" content="article" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="General notes on system tuning | openSUSE Leap 15.7" />
<meta name="twitter:description" content="This manual discusses how to find the reasons for performance problems and provides means to solve these problems. Before you start tuning your system, you sho…" />
<link rel="home" href="index.html" title="openSUSE Leap Documentation" /><link rel="up" href="part-tuning-basics.html" title="Part I. Basics" /><link rel="prev" href="part-tuning-basics.html" title="Part I. Basics" /><link rel="next" href="part-tuning-monitoring.html" title="Part II. System monitoring" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" /></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #E11;"><div id="_header"><div id="_logo"><img src="static/images/logo.svg" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="System Analysis and Tuning Guide"><span class="book-icon">System Analysis and Tuning Guide</span></a><span> › </span><a class="crumb" href="part-tuning-basics.html">Basics</a><span> › </span><a class="crumb" href="cha-tuning-basics.html">General notes on system tuning</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>System Analysis and Tuning Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface-tuning.html"><span class="number"> </span><span class="name">Preface</span></a></li><li class="inactive"><a href="part-tuning-basics.html"><span class="number">I </span><span class="name">Basics</span></a><ol><li class="inactive"><a href="cha-tuning-basics.html"><span class="number">1 </span><span class="name">General notes on system tuning</span></a></li></ol></li><li class="inactive"><a href="part-tuning-monitoring.html"><span class="number">II </span><span class="name">System monitoring</span></a><ol><li class="inactive"><a href="cha-util.html"><span class="number">2 </span><span class="name">System monitoring utilities</span></a></li><li class="inactive"><a href="cha-tuning-syslog.html"><span class="number">3 </span><span class="name">System log files</span></a></li></ol></li><li class="inactive"><a href="part-tuning-kerneltrace.html"><span class="number">III </span><span class="name">Kernel monitoring</span></a><ol><li class="inactive"><a href="cha-tuning-systemtap.html"><span class="number">4 </span><span class="name">SystemTap—filtering and analyzing system data</span></a></li><li class="inactive"><a href="cha-tuning-kprobes.html"><span class="number">5 </span><span class="name">Kernel probes</span></a></li><li class="inactive"><a href="cha-perf.html"><span class="number">6 </span><span class="name">Hardware-based performance monitoring with Perf</span></a></li><li class="inactive"><a href="cha-tuning-oprofile.html"><span class="number">7 </span><span class="name">OProfile—system-wide profiler</span></a></li><li class="inactive"><a href="cha-tuning-dynamic-debug.html"><span class="number">8 </span><span class="name">Dynamic debug—kernel debugging messages</span></a></li></ol></li><li class="inactive"><a href="part-tuning-resources.html"><span class="number">IV </span><span class="name">Resource management</span></a><ol><li class="inactive"><a href="cha-tuning-resources.html"><span class="number">9 </span><span class="name">General system resource management</span></a></li><li class="inactive"><a href="cha-tuning-cgroups.html"><span class="number">10 </span><span class="name">Kernel control groups</span></a></li><li class="inactive"><a href="cha-tuning-numactl.html"><span class="number">11 </span><span class="name">Automatic Non-Uniform Memory Access (NUMA) balancing</span></a></li><li class="inactive"><a href="cha-tuning-power.html"><span class="number">12 </span><span class="name">Power management</span></a></li></ol></li><li class="inactive"><a href="part-tuning-kernel.html"><span class="number">V </span><span class="name">Kernel tuning</span></a><ol><li class="inactive"><a href="cha-tuning-io.html"><span class="number">13 </span><span class="name">Tuning I/O performance</span></a></li><li class="inactive"><a href="cha-tuning-taskscheduler.html"><span class="number">14 </span><span class="name">Tuning the task scheduler</span></a></li><li class="inactive"><a href="cha-tuning-memory.html"><span class="number">15 </span><span class="name">Tuning the memory management subsystem</span></a></li><li class="inactive"><a href="cha-tuning-network.html"><span class="number">16 </span><span class="name">Tuning the network</span></a></li></ol></li><li class="inactive"><a href="part-tuning-dumps.html"><span class="number">VI </span><span class="name">Handling system dumps</span></a><ol><li class="inactive"><a href="cha-tuning-tracing.html"><span class="number">17 </span><span class="name">Tracing tools</span></a></li><li class="inactive"><a href="cha-tuning-kexec.html"><span class="number">18 </span><span class="name">Kexec and Kdump</span></a></li><li class="inactive"><a href="cha-tuning-systemd-coredump.html"><span class="number">19 </span><span class="name">Using <code class="systemitem">systemd-coredump</code> to debug application crashes</span></a></li></ol></li><li class="inactive"><a href="part-tuning-ptp.html"><span class="number">VII </span><span class="name">Synchronized clocks with Precision Time Protocol</span></a><ol><li class="inactive"><a href="cha-tuning-ptp.html"><span class="number">20 </span><span class="name">Precision Time Protocol</span></a></li></ol></li><li class="inactive"><a href="bk05apa.html"><span class="number">A </span><span class="name">GNU licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Part I. Basics" href="part-tuning-basics.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Part II. System monitoring" href="part-tuning-monitoring.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #E11;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="System Analysis and Tuning Guide"><span class="book-icon">System Analysis and Tuning Guide</span></a><span> › </span><a class="crumb" href="part-tuning-basics.html">Basics</a><span> › </span><a class="crumb" href="cha-tuning-basics.html">General notes on system tuning</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Part I. Basics" href="part-tuning-basics.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Part II. System monitoring" href="part-tuning-monitoring.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha-tuning-basics"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname "><span class="productname"><span class="phrase">openSUSE Leap</span></span></span> <span class="productnumber "><span class="productnumber"><span class="phrase">15.7</span></span></span></div><div><h2 class="title"><span class="number">1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">General notes on system tuning</span> <a title="Permalink" class="permalink" href="cha-tuning-basics.html#">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_how.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_how.xml</li><li><span class="ds-label">ID: </span>cha-tuning-basics</li></ul></div></div><div><div class="abstract"><div class="abstract-title-wrap"><h6 class="abstract-title">Abstract<a title="Permalink" class="permalink" href="cha-tuning-basics.html#id-1.7.3.2.2.1">#</a></h6></div><p>
    This manual discusses how to find the reasons for performance problems
    and provides means to solve these problems. Before you start tuning your
    system, you should make sure you have ruled out common problems and have
    found the cause for the problem. You should also have a detailed plan on
    how to tune the system, because applying random tuning tips does
    not help and could make things worse.
   </p></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha-tuning-basics.html#sec-tuning-basics-what"><span class="number">1.1 </span><span class="name">Be sure what problem to solve</span></a></span></dt><dt><span class="sect1"><a href="cha-tuning-basics.html#sec-tuning-basics-common"><span class="number">1.2 </span><span class="name">Rule out common problems</span></a></span></dt><dt><span class="sect1"><a href="cha-tuning-basics.html#sec-tuning-basics-bottleneck"><span class="number">1.3 </span><span class="name">Finding the bottleneck</span></a></span></dt><dt><span class="sect1"><a href="cha-tuning-basics.html#sec-tuning-basics-tuning"><span class="number">1.4 </span><span class="name">Step-by-step tuning</span></a></span></dt></dl></div></div><div class="procedure " id="id-1.7.3.2.3"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 1.1: </span><span class="name">General approach when tuning a system </span><a title="Permalink" class="permalink" href="cha-tuning-basics.html#id-1.7.3.2.3">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
    Specify the problem that needs to be solved.
   </p></li><li class="step "><p>
    In case the degradation is new, identify any recent changes to the
    system.
   </p></li><li class="step " id="st-tuning-basics-whyproblem"><p>
    Identify why the issue is considered a performance problem.
   </p></li><li class="step "><p>
    Specify a metric that can be used to analyze performance. This metric
    could for example be latency, throughput, the maximum number of
    users that are simultaneously logged in, or the maximum number of active users.
   </p></li><li class="step "><p>
    Measure current performance using the metric from the previous step.
   </p></li><li class="step "><p>
    Identify the subsystems where the application is spending the most
    time.
   </p></li><li class="step "><ol type="a" class="substeps "><li class="step "><p>
      Monitor the system and/or the application.
     </p></li><li class="step "><p>
      Analyze the data, categorize where time is being spent.
     </p></li></ol></li><li class="step "><p>
    Tune the subsystem identified in the previous step.
   </p></li><li class="step "><p>
    Remeasure the current performance without monitoring using the same
    metric as before.
   </p></li><li class="step "><p>
    If performance is still not acceptable, start over with
    <a class="xref" href="cha-tuning-basics.html#st-tuning-basics-whyproblem" title="Step 3">Step 3</a>.
   </p></li></ol></div></div><div class="sect1 " id="sec-tuning-basics-what"><div class="titlepage"><div><div><h2 class="title"><span class="number">1.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Be sure what problem to solve</span> <a title="Permalink" class="permalink" href="cha-tuning-basics.html#sec-tuning-basics-what">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_how.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_how.xml</li><li><span class="ds-label">ID: </span>sec-tuning-basics-what</li></ul></div></div></div></div><p>
   Before starting to tuning a system, try to describe the problem as
   exactly as possible. A statement like <span class="quote">“<span class="quote ">The system is slow!</span>”</span>
   is not a helpful problem description. For example, it could make a
   difference whether the system speed needs to be generally improved, or
   only at peak times.
  </p><p>
   Furthermore, make sure you can apply a measurement to your problem,
   otherwise you cannot verify if the tuning was a success or
   not. You should always be able to compare <span class="quote">“<span class="quote ">before</span>”</span> and
   <span class="quote">“<span class="quote ">after</span>”</span>. Which metrics to use depends on the scenario or
   application you are looking into. For example, relevant Web server metrics could be expressed in
   terms of the following:
  </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.7.3.2.4.4.1"><span class="term ">Latency</span></dt><dd><p>
      The time to deliver a page
     </p></dd><dt id="id-1.7.3.2.4.4.2"><span class="term ">Throughput</span></dt><dd><p>
      Number of pages served per second or megabytes transferred per second
     </p></dd><dt id="id-1.7.3.2.4.4.3"><span class="term ">Active users</span></dt><dd><p>
      The maximum number of users that can download pages while still
      receiving pages within an acceptable latency
     </p></dd></dl></div></div><div class="sect1 " id="sec-tuning-basics-common"><div class="titlepage"><div><div><h2 class="title"><span class="number">1.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Rule out common problems</span> <a title="Permalink" class="permalink" href="cha-tuning-basics.html#sec-tuning-basics-common">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_how.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_how.xml</li><li><span class="ds-label">ID: </span>sec-tuning-basics-common</li></ul></div></div></div></div><p>
   A performance problem often is caused by network or hardware problems,
   bugs or configuration issues. Make sure to rule out problems such as the
   ones listed below before attempting to tune your system:
  </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     Check the output of the <code class="systemitem">systemd</code> journal (see
     <span class="intraxref">Book “Reference”, Chapter 11 “<code class="command">journalctl</code>: query the <code class="systemitem">systemd</code> journal”</span>) for unusual entries.
    </p></li><li class="listitem "><p>
     Check (using <code class="command">top</code> or <code class="command">ps</code>) whether a
     certain process misbehaves by eating up unusual amounts of CPU time or
     memory.
    </p></li><li class="listitem "><p>
     Check for network problems by inspecting
     <code class="filename">/proc/net/dev</code>.
    </p></li><li class="listitem "><p>
     In case of I/O problems with physical disks, make sure it is not caused
     by hardware problems (check the disk with the
     <code class="systemitem">smartmontools</code>) or by a full disk.
    </p></li><li class="listitem "><p>
     Ensure that background jobs are scheduled to be carried out in times
     the server load is low. Those jobs should also run with low priority
     (set via <code class="command">nice</code>).
    </p></li><li class="listitem "><p>
     If the machine runs several services using the same resources, consider
     moving services to another server.
    </p></li><li class="listitem "><p>
     Last, make sure your software is up-to-date.
    </p></li></ul></div></div><div class="sect1 " id="sec-tuning-basics-bottleneck"><div class="titlepage"><div><div><h2 class="title"><span class="number">1.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Finding the bottleneck</span> <a title="Permalink" class="permalink" href="cha-tuning-basics.html#sec-tuning-basics-bottleneck">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_how.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_how.xml</li><li><span class="ds-label">ID: </span>sec-tuning-basics-bottleneck</li></ul></div></div></div></div><p>
   Finding the bottleneck is the hardest part when tuning a
   system. <span class="productname"><span class="phrase">openSUSE Leap</span></span> offers many tools to help you with this task.
   See <a class="xref" href="part-tuning-monitoring.html" title="Part II. System monitoring">Part II, “System monitoring”</a> for detailed information on
   general system monitoring applications and log file analysis. If the
   problem requires a long-time in-depth analysis, the Linux kernel offers
   means to perform such analysis. See
   <a class="xref" href="part-tuning-kerneltrace.html" title="Part III. Kernel monitoring">Part III, “Kernel monitoring”</a> for coverage.
  </p><p>
   Once you have collected the data, it needs to be analyzed. First, inspect
   if the server's hardware (memory, CPU, bus) and its I/O capacities (disk,
   network) are sufficient. If these basic conditions are met, the system
   can benefit from tuning.
  </p></div><div class="sect1 " id="sec-tuning-basics-tuning"><div class="titlepage"><div><div><h2 class="title"><span class="number">1.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Step-by-step tuning</span> <a title="Permalink" class="permalink" href="cha-tuning-basics.html#sec-tuning-basics-tuning">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/tuning_how.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>tuning_how.xml</li><li><span class="ds-label">ID: </span>sec-tuning-basics-tuning</li></ul></div></div></div></div><p>
   Make sure to carefully plan the tuning itself. It is of vital importance
   to only do one step at a time. Only by doing so can you
   measure whether the change made an improvement or even had a negative
   impact. Each tuning activity should be measured over a sufficient time
   period to ensure you can do an analysis based on significant
   data. If you cannot measure a positive effect, do not make the change
   permanent. Chances are that it can have a negative effect in the
   future.
  </p></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="part-tuning-monitoring.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Part II </span>System monitoring</span></a><a class="nav-link" href="part-tuning-basics.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Part I </span>Basics</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2024 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>