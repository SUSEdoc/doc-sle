<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Printer operation | Start-Up | openSUSE Leap 15.7</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" />
<meta name="title" content="Printer operation | openSUSE Leap 15.7" />
<meta name="description" content="openSUSE® Leap supports printing with many types of printers, including remote network printers. Printers can be configured manually or with YaST. For configur…" />
<meta name="product-name" content="openSUSE Leap" />
<meta name="product-number" content="15.7" />
<meta name="book-title" content="Start-Up" />
<meta name="chapter-title" content="Chapter 7. Printer operation" />
<meta name="tracker-url" content="https://bugzilla.opensuse.org/enter_bug.cgi" />
<meta name="tracker-type" content="bsc" />
<meta name="tracker-bsc-assignee" content="fs@suse.com" />
<meta name="tracker-bsc-component" content="Documentation" />
<meta name="tracker-bsc-product" content="openSUSE Distribution" />
<meta name="tracker-bsc-version" content="Leap 15.4" />
<meta property="og:title" content="Printer operation | openSUSE Leap 15.7" />
<meta property="og:description" content="openSUSE® Leap supports printing with many types of printers, including remote network printers. Printers can be configured manually or with YaST. For configur…" />
<meta property="og:type" content="article" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Printer operation | openSUSE Leap 15.7" />
<meta name="twitter:description" content="openSUSE® Leap supports printing with many types of printers, including remote network printers. Printers can be configured manually or with YaST. For configur…" />
<link rel="home" href="index.html" title="openSUSE Leap Documentation" /><link rel="up" href="part-reference-administration.html" title="Part II. Administration" /><link rel="prev" href="cha-yast-lang.html" title="Chapter 6. Changing language and country settings with YaST" /><link rel="next" href="cha-fuse.html" title="Chapter 8. Accessing file systems with FUSE" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" /></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #E11;"><div id="_header"><div id="_logo"><img src="static/images/logo.svg" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="Start-Up"><span class="book-icon">Start-Up</span></a><span> › </span><a class="crumb" href="part-reference-administration.html">Administration</a><span> › </span><a class="crumb" href="cha-print.html">Printer operation</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Start-Up</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface-start-up.html"><span class="number"> </span><span class="name">About this guide</span></a></li><li class="inactive"><a href="part-basics.html"><span class="number">I </span><span class="name">Installation</span></a><ol><li class="inactive"><a href="art-opensuse-installquick.html"><span class="number">1 </span><span class="name">Installation Quick Start</span></a></li><li class="inactive"><a href="cha-boot-parameters.html"><span class="number">2 </span><span class="name">Boot parameters</span></a></li><li class="inactive"><a href="cha-install.html"><span class="number">3 </span><span class="name">Installation steps</span></a></li><li class="inactive"><a href="cha-installation-troubleshooting.html"><span class="number">4 </span><span class="name">Troubleshooting</span></a></li></ol></li><li class="inactive"><a href="part-reference-administration.html"><span class="number">II </span><span class="name">Administration</span></a><ol><li class="inactive"><a href="cha-yast-userman.html"><span class="number">5 </span><span class="name">Managing users with YaST</span></a></li><li class="inactive"><a href="cha-yast-lang.html"><span class="number">6 </span><span class="name">Changing language and country settings with YaST</span></a></li><li class="inactive"><a href="cha-print.html"><span class="number">7 </span><span class="name">Printer operation</span></a></li><li class="inactive"><a href="cha-fuse.html"><span class="number">8 </span><span class="name">Accessing file systems with FUSE</span></a></li></ol></li><li class="inactive"><a href="part-reference-software.html"><span class="number">III </span><span class="name">Managing and updating software</span></a><ol><li class="inactive"><a href="cha-yast-software.html"><span class="number">9 </span><span class="name">Installing or removing software</span></a></li><li class="inactive"><a href="cha-add-ons.html"><span class="number">10 </span><span class="name">Installing add-on products</span></a></li><li class="inactive"><a href="cha-onlineupdate-you.html"><span class="number">11 </span><span class="name">YaST online update</span></a></li><li class="inactive"><a href="cha-update-osuse.html"><span class="number">12 </span><span class="name">Upgrading the system and system changes</span></a></li></ol></li><li class="inactive"><a href="part-bash.html"><span class="number">IV </span><span class="name">The Bash shell</span></a><ol><li class="inactive"><a href="cha-new-bash.html"><span class="number">13 </span><span class="name">Shell basics</span></a></li><li class="inactive"><a href="cha-adm-shell.html"><span class="number">14 </span><span class="name">Bash and Bash scripts</span></a></li></ol></li><li class="inactive"><a href="part-hardware.html"><span class="number">V </span><span class="name">Hardware configuration</span></a><ol><li class="inactive"><a href="sec-yast-hw-keym.html"><span class="number">15 </span><span class="name">Setting up your system keyboard layout</span></a></li><li class="inactive"><a href="sec-yast-hw-sound.html"><span class="number">16 </span><span class="name">Setting up sound cards</span></a></li><li class="inactive"><a href="sec-yast-hw-print.html"><span class="number">17 </span><span class="name">Setting up a printer</span></a></li><li class="inactive"><a href="sec-yast-hw-scan.html"><span class="number">18 </span><span class="name">Setting up a scanner</span></a></li><li class="inactive"><a href="cha-nvdimm.html"><span class="number">19 </span><span class="name">Persistent memory</span></a></li></ol></li><li class="inactive"><a href="part-help.html"><span class="number">VI </span><span class="name">Help and troubleshooting</span></a><ol><li class="inactive"><a href="cha-adminhelp.html"><span class="number">20 </span><span class="name">Help and documentation</span></a></li><li class="inactive"><a href="cha-trouble.html"><span class="number">21 </span><span class="name">Common problems and their solutions</span></a></li></ol></li><li class="inactive"><a href="bk01apa.html"><span class="number">A </span><span class="name">GNU licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 6. Changing language and country settings with YaST" href="cha-yast-lang.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 8. Accessing file systems with FUSE" href="cha-fuse.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #E11;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="Start-Up"><span class="book-icon">Start-Up</span></a><span> › </span><a class="crumb" href="part-reference-administration.html">Administration</a><span> › </span><a class="crumb" href="cha-print.html">Printer operation</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 6. Changing language and country settings with YaST" href="cha-yast-lang.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 8. Accessing file systems with FUSE" href="cha-fuse.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha-print"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname "><span class="productname"><span class="phrase">openSUSE Leap</span></span></span> <span class="productnumber "><span class="productnumber"><span class="phrase">15.7</span></span></span></div><div><h2 class="title"><span class="number">7 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Printer operation</span> <a title="Permalink" class="permalink" href="cha-print.html#">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>cha-print</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha-print.html#sec-print-workflow"><span class="number">7.1 </span><span class="name">The CUPS workflow</span></a></span></dt><dt><span class="sect1"><a href="cha-print.html#sec-print-method"><span class="number">7.2 </span><span class="name">Methods and protocols for connecting printers</span></a></span></dt><dt><span class="sect1"><a href="cha-print.html#sec-print-software"><span class="number">7.3 </span><span class="name">Installing the software</span></a></span></dt><dt><span class="sect1"><a href="cha-print.html#sec-print-net"><span class="number">7.4 </span><span class="name">Network printers</span></a></span></dt><dt><span class="sect1"><a href="cha-print.html#sec-print-net-config-cmdl"><span class="number">7.5 </span><span class="name">Configuring CUPS with command line tools</span></a></span></dt><dt><span class="sect1"><a href="cha-print.html#sec-print-appl-commandline"><span class="number">7.6 </span><span class="name">Printing from the command line</span></a></span></dt><dt><span class="sect1"><a href="cha-print.html#sec-print-special"><span class="number">7.7 </span><span class="name">Special features in <span class="productname"><span class="phrase">openSUSE Leap</span></span></span></a></span></dt><dt><span class="sect1"><a href="cha-print.html#sec-print-prob"><span class="number">7.8 </span><span class="name">Troubleshooting</span></a></span></dt></dl></div></div><p>
  <span class="productname"><span class="phrase">openSUSE® Leap</span></span> supports printing with many types of printers, including
  remote network printers. Printers can be configured manually or with YaST.
  For configuration instructions, refer to <a class="xref" href="sec-yast-hw-print.html" title="Chapter 17. Setting up a printer">Chapter 17, <em>Setting up a printer</em></a>.
  Both graphical and command line utilities are available for starting and
  managing print jobs. If your printer does not work as expected, refer to
  <a class="xref" href="cha-print.html#sec-print-prob" title="7.8. Troubleshooting">Section 7.8, “Troubleshooting”</a>.
 </p><p>
  CUPS (Common Unix Printing System) is the standard print system in
  <span class="productname"><span class="phrase">openSUSE Leap</span></span>.
 </p><p>
  Printers can be distinguished by interface, such as USB or network, and
  printer language. When buying a printer, make sure that the printer has an
  interface that is supported (USB, Ethernet or Wi-Fi) and a suitable printer
  language. Printers can be categorized on the basis of the following three
  classes of printer languages:
 </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.3.4.4.6.1"><span class="term ">PostScript printers</span></dt><dd><p>
     PostScript is the printer language in which most print jobs in Linux and
     Unix are generated and processed by the internal print system. If
     PostScript documents can be processed directly by the printer and do not
     need to be converted in additional stages in the print system, the number
     of potential error sources is reduced.
    </p><p>
     Currently PostScript is being replaced by PDF as the standard print job
     format. PostScript+PDF printers that can directly print PDF (in addition
     to PostScript) already exist. For traditional PostScript printers PDF
     needs to be converted to PostScript in the printing workflow.
    </p></dd><dt id="id-1.3.4.4.6.2"><span class="term ">Standard printers (languages like PCL and ESC/p)</span></dt><dd><p>
     For known printer languages, the print system can convert PostScript jobs
     to the respective printer language with Ghostscript. This processing stage
     is called interpreting. The best-known languages are PCL (which is used by
     HP printers and their clones) and ESC/P (which is used by Epson printers).
     These printer languages are normally supported by Linux and produce an
     adequate print result. Linux may not be able to address certain special
     printer functions. Except for HP and Epson, there are currently no printer
     manufacturers who develop Linux drivers and make them available to Linux
     distributors under an open source license.
    </p></dd><dt id="sec-print-prep-gdi"><span class="term ">Proprietary printers (also called GDI printers)</span></dt><dd><p>
     These printers do not support any of the common printer languages. They
     use their own undocumented printer languages, which are subject to change
     when a new edition of a model is released. Normally, only Windows drivers
     are available for these printers. See <a class="xref" href="cha-print.html#sec-print-gdi" title="7.8.1. Printers without standard printer language support">Section 7.8.1, “Printers without standard printer language support”</a>
     for more information.
    </p></dd></dl></div><p>
  Before you buy a new printer, refer to the following sources to check how
  well the printer you intend to buy is supported:
 </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.3.4.4.8.1"><span class="term "><a class="link" href="https://www.openprinting.org/printers" target="_blank">https://www.openprinting.org/printers</a>
   </span></dt><dd><p>
     The OpenPrinting home page with the printer database. The database shows
     the latest Linux support status. However, a Linux distribution can only
     integrate the drivers available at production time. Accordingly, a printer
     currently rated as <span class="quote">“<span class="quote ">perfectly supported</span>”</span> may not have had
     this status when the latest <span class="productname"><span class="phrase">openSUSE Leap</span></span> version was released. Thus, the
     databases may not necessarily indicate the correct status, but only
     provide an approximation.
    </p></dd><dt id="id-1.3.4.4.8.2"><span class="term "><a class="link" href="https://www.ghostscript.com" target="_blank">https://www.ghostscript.com</a>
   </span></dt><dd><p>
     The Ghostscript Web page.
    </p></dd><dt id="id-1.3.4.4.8.3"><span class="term "><code class="filename">/usr/share/doc/packages/ghostscript/catalog.devices</code>
   </span></dt><dd><p>
     List of built-in Ghostscript drivers.
    </p></dd></dl></div><div class="sect1 " id="sec-print-workflow"><div class="titlepage"><div><div><h2 class="title"><span class="number">7.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">The CUPS workflow</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-workflow">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-workflow</li></ul></div></div></div></div><p>
   The user creates a print job. The print job consists of the data to print
   plus information for the spooler. This includes the name of the printer or the
   name of the print queue, and optionally, information for the filter, such as
   printer-specific options.
  </p><p>
   At least one dedicated print queue exists for every printer. The spooler
   holds the print job in the queue until the desired printer is ready to
   receive data. When the printer is ready, the spooler sends the data through
   the filter and back-end to the printer.
  </p><p>
   The filter converts the data generated by the application that is printing
   (normally PostScript or PDF, but also ASCII, JPEG, etc.) into
   printer-specific data (PostScript, PCL, ESC/P, etc.). The features of the
   printer are described in the PPD files. A PPD file contains printer-specific
   options with the parameters needed to enable them on the printer. The filter
   system makes sure that options selected by the user are enabled.
  </p><p>
   If you use a PostScript printer, the filter system converts the data into
   printer-specific PostScript. This does not require a printer driver. If you
   use a non-PostScript printer, the filter system converts the data into
   printer-specific data. This requires a printer driver suitable for your
   printer. The back-end receives the printer-specific data from the filter
   then passes it to the printer.
  </p></div><div class="sect1 " id="sec-print-method"><div class="titlepage"><div><div><h2 class="title"><span class="number">7.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Methods and protocols for connecting printers</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-method">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-method</li></ul></div></div></div></div><p>
   There are multiple possibilities for connecting a printer to the system. The
   configuration of CUPS does not distinguish between a local printer and a
   printer connected to the system over the network. For more information about
   the printer connection, read the article <span class="emphasis"><em>CUPS in a
   Nutshell</em></span> at
   <a class="link" href="https://en.opensuse.org/SDB:CUPS_in_a_Nutshell" target="_blank">https://en.opensuse.org/SDB:CUPS_in_a_Nutshell</a>.
  </p><div id="id-1.3.4.4.10.3" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg" /><h6>Warning: Changing cable connections in a running system</h6><p>
    When connecting the printer to the machine, do not forget that only USB
    devices can be plugged in or unplugged during operation. To avoid damaging
    your system or printer, shut down the system before changing any
    connections that are not USB.
   </p></div></div><div class="sect1 " id="sec-print-software"><div class="titlepage"><div><div><h2 class="title"><span class="number">7.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Installing the software</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-software">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-software</li></ul></div></div></div></div><p>
   PPD (PostScript printer description) is the computer language that describes
   the properties, like resolution, and options, such as the availability of a
   duplex unit. These descriptions are required for using printer options in
   CUPS. Without a PPD file, the print data would be forwarded to the printer in
   a <span class="quote">“<span class="quote ">raw</span>”</span> state, which is not desired.
  </p><p>
   To configure a PostScript printer, the best approach is to get a suitable
   PPD file. Many PPD files are available in the packages
   <code class="systemitem">manufacturer-PPDs</code> and
   <code class="systemitem">OpenPrintingPPDs-postscript</code>. See
   <a class="xref" href="cha-print.html#sec-print-special-ppd" title="7.7.3. PPD files in multiple packages">Section 7.7.3, “PPD files in multiple packages”</a> and
   <a class="xref" href="cha-print.html#sec-print-prob-ppd" title="7.8.2. No suitable PPD file available for a PostScript printer">Section 7.8.2, “No suitable PPD file available for a PostScript printer”</a>.
  </p><p>
   New PPD files can be stored in the directory
   <code class="filename">/usr/share/cups/model/</code> or added to the print system
   with YaST as described in <a class="xref" href="sec-yast-hw-print.html#sec-yast-hw-print-local-get-ppd" title="17.1.1. Adding drivers with YaST">Section 17.1.1, “Adding drivers with YaST”</a>.
   Subsequently, the PPD file can be selected during the printer setup.
  </p><p>
   Be careful if a printer manufacturer wants you to install entire software
   packages. This kind of installation may result in the loss of the
   support provided by <span class="productname"><span class="phrase">openSUSE Leap</span></span>. Also, print commands may work
   differently and the system may no longer be able to address devices of other
   manufacturers. For this reason, the installation of manufacturer software is
   not recommended.
  </p></div><div class="sect1 " id="sec-print-net"><div class="titlepage"><div><div><h2 class="title"><span class="number">7.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Network printers</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-net">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-net</li></ul></div></div></div></div><p>
   A network printer can support multiple protocols. Although most of the
   supported protocols are standardized, certain manufacturers modify the
   standard. Manufacturers then provide drivers for only a few operating systems
   and Linux drivers are rarely provided. The current situation is such that you
   cannot act on the assumption that every protocol works smoothly in Linux.
   Therefore, you may need to experiment with several options to achieve a
   functional configuration.
  </p><p>
   CUPS supports the <code class="systemitem">socket</code>,
   <code class="systemitem">LPD</code>, <code class="systemitem">IPP</code> and
   <code class="systemitem">smb</code> protocols.
  </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.3.4.4.12.4.1"><span class="term ">socket</span></dt><dd><p>
      <span class="emphasis"><em>Socket</em></span> refers to a connection in which the plain
      print data is sent directly to a TCP socket. Socket port numbers
      that are commonly used are <code class="option">9100</code> or <code class="option">35</code>.
      The device URI (uniform resource identifier) syntax is:
      socket://<em class="replaceable ">IP.OF.THE.PRINTER</em>:<em class="replaceable ">PORT</em>,
      for example: <code class="systemitem">socket://192.168.2.202:9100/</code>.
     </p></dd><dt id="id-1.3.4.4.12.4.2"><span class="term ">LPD (line printer daemon)</span></dt><dd><p>
      The LPD protocol is described in RFC 1179. Under this protocol,
      specific job-related data, such as the ID of the print queue, is sent
      before the actual print data is sent. Therefore, a print queue must be
      specified when configuring the LPD protocol. The implementations of
      diverse printer manufacturers are flexible enough to accept any name as
      the print queue. If necessary, the printer manual should indicate what
      name to use. LPT, LPT1, LP1 or similar names are often used. The port
      number for an LPD service is <code class="option">515</code>. An example device URI
      is
      <code class="systemitem">lpd://192.168.2.202/LPT1</code>.
     </p></dd><dt id="id-1.3.4.4.12.4.3"><span class="term ">IPP (Internet printing protocol)</span></dt><dd><p>
      IPP is based on the HTTP protocol. With
      IPP, more job-related data is transmitted than with the other protocols.
      CUPS uses IPP for internal data transmission. The name of the print queue
      is necessary to configure IPP correctly. The port number for IPP is
      <code class="literal">631</code>. Example device URIs are
      <code class="systemitem">ipp://192.168.2.202/ps</code> and
      <code class="systemitem">ipp://192.168.2.202/printers/ps</code>.
     </p></dd><dt id="id-1.3.4.4.12.4.4"><span class="term ">SMB (Windows share)</span></dt><dd><p>
      CUPS also supports printing on printers connected to Windows shares. The
      protocol used for this purpose is SMB. SMB uses the port numbers
      <code class="option">137</code>, <code class="option">138</code> and <code class="option">139</code>.
      Example device URIs are
      <code class="systemitem">smb://user:password@workgroup/smb.example.com/printer</code>,
      <code class="systemitem">smb://user:password@smb.example.com/printer</code>, and
      <code class="systemitem">smb://smb.example.com/printer</code>.
     </p></dd></dl></div><p>
   The protocol supported by the printer must be determined before
   configuration. If the manufacturer does not provide the needed information,
   the command <code class="command">nmap</code> (which comes with the
   <code class="systemitem">nmap</code> package) can be used to ascertain the
   protocol. <code class="command">nmap</code> checks a host for open ports. For example:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>nmap -p 35,137-139,515,631,9100-10000 <em class="replaceable ">IP.OF.THE.PRINTER</em></pre></div></div><div class="sect1 " id="sec-print-net-config-cmdl"><div class="titlepage"><div><div><h2 class="title"><span class="number">7.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Configuring CUPS with command line tools</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-net-config-cmdl">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-net-config-cmdl</li></ul></div></div></div></div><p>
   CUPS can be configured with command line tools like
   <code class="command">lpinfo</code>, <code class="command">lpadmin</code> and
   <code class="command">lpoptions</code>. You need a device URI consisting of a
   back-end, such as USB, and parameters. To determine valid device URIs on
   your system use the command <code class="command">lpinfo -v | grep ":/"</code>:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> lpinfo -v | grep ":/"
direct usb://ACME/FunPrinter%20XL
network socket://192.168.2.253</pre></div><p>
   With <code class="command">lpadmin</code> the CUPS server administrator can add,
   remove or manage print queues. To add a print queue, use the following
   syntax:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> lpadmin -p <em class="replaceable ">QUEUE</em> -v <em class="replaceable ">DEVICE-URI</em> -P <em class="replaceable ">PPD-FILE</em> -E</pre></div><p>
   Then the device (<code class="option">-v</code>) is available as
   <em class="replaceable ">QUEUE</em> (<code class="option">-p</code>), using the specified
   PPD file (<code class="option">-P</code>). This means that you must know the PPD file
   and the device URI to configure the printer manually.
  </p><p>
   Do not use <code class="option">-E</code> as the first option. For all CUPS commands,
   <code class="option">-E</code> as the first argument sets use of an encrypted
   connection. To enable the printer, <code class="option">-E</code> must be used as shown
   in the following example:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> lpadmin -p ps -v usb://ACME/FunPrinter%20XL -P \
/usr/share/cups/model/Postscript.ppd.gz -E</pre></div><p>
   The following example configures a network printer:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> lpadmin -p ps -v socket://192.168.2.202:9100/ -P \
/usr/share/cups/model/Postscript-level1.ppd.gz -E</pre></div><p>
   For more options of <code class="command">lpadmin</code>, see the man page of
   <code class="systemitem">lpadmin(8)</code>.
  </p><p>
   During printer setup, certain options are set as default. These options can
   be modified for every print job (depending on the print tool used). Changing
   these default options with YaST is also possible. Using command line
   tools, set default options as follows:
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     First, list all options:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> lpoptions -p <em class="replaceable ">QUEUE</em> -l</pre></div><p>
     Example:
    </p><div class="verbatim-wrap"><pre class="screen">Resolution/Output Resolution: 150dpi *300dpi 600dpi</pre></div><p>
     The activated default option is identified by a preceding asterisk
     (<code class="literal">*</code>).
    </p></li><li class="step "><p>
     Change the option with <code class="command">lpadmin</code>:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> lpadmin -p <em class="replaceable ">QUEUE</em> -o Resolution=600dpi</pre></div></li><li class="step "><p>
     Check the new setting:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> lpoptions -p <em class="replaceable ">QUEUE</em> -l

Resolution/Output Resolution: 150dpi 300dpi *600dpi</pre></div></li></ol></div></div><p>
   When a normal user runs <code class="command">lpoptions</code>, the settings are
   written to <code class="filename">~/.cups/lpoptions</code>. However,
   <code class="systemitem">root</code> settings are written to
   <code class="filename">/etc/cups/lpoptions</code>.
  </p></div><div class="sect1 " id="sec-print-appl-commandline"><div class="titlepage"><div><div><h2 class="title"><span class="number">7.6 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Printing from the command line</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-appl-commandline">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-appl-commandline</li></ul></div></div></div></div><p>
   To print from the command line, enter <code class="command">lp -d</code>
   <em class="replaceable ">QUEUENAME</em> <em class="replaceable ">FILENAME</em>,
   substituting the corresponding names for
   <em class="replaceable ">QUEUENAME</em> and
   <em class="replaceable ">FILENAME</em>.
  </p><p>
   Several applications rely on the <code class="command">lp</code> command for printing.
   In this case, enter the correct command in the application's print dialog,
   normally without specifying <em class="replaceable ">FILENAME</em>, for example,
   <code class="command">lp -d</code> <em class="replaceable ">QUEUENAME</em>.
  </p></div><div class="sect1 " id="sec-print-special"><div class="titlepage"><div><div><h2 class="title"><span class="number">7.7 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Special features in <span class="productname"><span class="phrase">openSUSE Leap</span></span></span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-special">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-special</li></ul></div></div></div></div><p>
   Several CUPS features have been adapted for <span class="productname"><span class="phrase">openSUSE Leap</span></span>. The most important
   changes are covered here.
  </p><div class="sect2 " id="sec-print-special-cupsfire"><div class="titlepage"><div><div><h3 class="title"><span class="number">7.7.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">CUPS and firewall</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-special-cupsfire">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-special-cupsfire</li></ul></div></div></div></div><p>
    After completing a default installation of <span class="productname"><span class="phrase">openSUSE Leap</span></span>,
    <code class="systemitem">firewalld</code> is active and the network interfaces are configured to be in
    the <code class="literal">public</code> zone, which blocks incoming traffic. 
</p><p>
       When <code class="systemitem">firewalld</code> is active, you may need to configure it to
       allow clients to browse network printers by allowing
       <code class="literal">mdns</code> and <code class="literal">ipp</code> through
       the internal network zone. The public zone should never
       expose printer queues. 
   </p><p>
    (More
    information about the <code class="systemitem">firewalld</code> configuration is available in
    <span class="intraxref">Book “Security and Hardening Guide”, Chapter 23 “Masquerading and firewalls”, Section 23.4 “<code class="systemitem">firewalld</code>”</span> and at
    <a class="link" href="https://en.opensuse.org/SDB:CUPS_and_SANE_Firewall_settings" target="_blank">https://en.opensuse.org/SDB:CUPS_and_SANE_Firewall_settings</a>.)
   </p><div class="sect3 " id="sec-print-special-cupsfire-client"><div class="titlepage"><div><div><h4 class="title"><span class="number">7.7.1.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">CUPS client</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-special-cupsfire-client">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-special-cupsfire-client</li></ul></div></div></div></div><p>
     Normally, a CUPS client runs on a regular workstation located in a trusted
     network environment behind a firewall. In this case, it is recommended to
     configure the network interface to be in the <code class="literal">Internal
     Zone</code>, so the workstation is reachable from within the network.
    </p></div><div class="sect3 " id="sec-print-special-cupsfire-server"><div class="titlepage"><div><div><h4 class="title"><span class="number">7.7.1.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">CUPS server</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-special-cupsfire-server">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-special-cupsfire-server</li></ul></div></div></div></div><p>
     If the CUPS server is part of a trusted network environment protected by a
     firewall, the network interface should be configured to be in the
     <code class="literal">Internal Zone</code> of the firewall. It is not recommended to
     set up a CUPS server in an untrusted network environment unless you ensure
     that it is protected by special firewall rules and secure settings in
     the CUPS configuration.
    </p></div></div><div class="sect2 " id="sec-print-special-browsing"><div class="titlepage"><div><div><h3 class="title"><span class="number">7.7.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Browsing for network printers</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-special-browsing">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-special-browsing</li></ul></div></div></div></div><p>
    CUPS servers regularly announce the availability and status information of
    shared printers over the network. Clients can access this information to
    display a list of available printers in printing dialogs, for example. This
    is called <span class="quote">“<span class="quote ">browsing</span>”</span>.
   </p><p>
    CUPS servers announce their print queues over the network either via the
    traditional CUPS browsing protocol, or via Bonjour/DNS-SD. To enable browsing network print queues, the service
    <code class="systemitem">cups-browsed</code> needs to run on all
    clients that print via CUPS servers.
    <code class="systemitem">cups-browsed</code> is not started by
    default. To start it for the active session, use <code class="command">sudo systemctl
    start cups-browsed</code>. To ensure it is automatically started after
    booting, enable it with <code class="command">sudo systemctl enable
    cups-browsed</code> on all clients.
   </p><p>
    In case browsing does not work after having started
    <code class="systemitem">cups-browsed</code>, the CUPS servers
    announce the network print queues via Bonjour/DNS-SD. In this case,
    you need to additionally install the package
    <code class="systemitem">avahi</code> and start the associated
    service with <code class="command">sudo systemctl start avahi-daemon</code> on all
    clients.
   </p><p>
       See <a class="xref" href="cha-print.html#sec-print-special-cupsfire" title="7.7.1. CUPS and firewall">Section 7.7.1, “CUPS and firewall”</a> for information
       on allowing printer browsing through <code class="systemitem">firewalld</code>.
   </p></div><div class="sect2 " id="sec-print-special-ppd"><div class="titlepage"><div><div><h3 class="title"><span class="number">7.7.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">PPD files in multiple packages</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-special-ppd">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-special-ppd</li></ul></div></div></div></div><p>
    The YaST printer configuration sets up the queues for CUPS using the PPD
    files installed in <code class="filename">/usr/share/cups/model</code>. To find the
    suitable PPD files for the printer model, YaST compares the vendor and
    model determined during hardware detection with the vendors and models in
    all PPD files. For this purpose, the YaST printer configuration generates
    a database from the vendor and model information extracted from the PPD
    files.
   </p><p>
    The configuration using only PPD files and no other information sources has
    the advantage that the PPD files in
    <code class="filename">/usr/share/cups/model</code> can be modified freely. For
    example, if you have PostScript printers the PPD files can be copied
    directly to <code class="filename">/usr/share/cups/model</code> (if they do not
    already exist in the <code class="systemitem">manufacturer-PPDs</code> or
    <code class="systemitem">OpenPrintingPPDs-postscript</code> packages) to achieve
    an optimum configuration for your printers.
   </p><p>
    Additional PPD files are provided by the following packages:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      <code class="systemitem">gutenprint</code>: the Gutenprint driver and its matching PPDs
     </p></li><li class="listitem "><p>
      <code class="systemitem">splix</code>: the SpliX driver and its matching PPDs
     </p></li><li class="listitem "><p>
      <code class="systemitem">OpenPrintingPPDs-ghostscript</code>: PPDs for Ghostscript built-in drivers
     </p></li><li class="listitem "><p>
      <code class="systemitem">OpenPrintingPPDs-hpijs</code>: PPDs for the HPIJS driver for non-HP printers
     </p></li></ul></div></div></div><div class="sect1 " id="sec-print-prob"><div class="titlepage"><div><div><h2 class="title"><span class="number">7.8 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Troubleshooting</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-prob">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-prob</li></ul></div></div></div></div><p>
   The following sections cover the most frequently encountered printer
   hardware and software problems and ways to solve or circumvent these
   problems. Among the topics covered are GDI printers, PPD files and port
   configuration. Common network printer problems, defective printouts, and
   queue handling are also addressed.
  </p><div class="sect2 " id="sec-print-gdi"><div class="titlepage"><div><div><h3 class="title"><span class="number">7.8.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Printers without standard printer language support</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-gdi">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-gdi</li></ul></div></div></div></div><p>
    These printers do not support any common printer language and can only be
    addressed with special proprietary control sequences. Therefore they can
    only work with the operating system versions for which the manufacturer
    delivers a driver. GDI is a programming interface developed by Microsoft*
    for graphics devices. Usually the manufacturer delivers drivers only for
    Windows, and since the Windows driver uses the GDI interface these printers
    are also called <span class="emphasis"><em>GDI printers</em></span>. The actual problem is
    not the programming interface, but that these printers can only be
    addressed with the proprietary printer language of the respective printer
    model.
   </p><p>
    Certain GDI printers can be switched to operate either in GDI mode or in one
    of the standard printer languages. Check the manual of the printer to see whether
    this is possible. Specific models require special Windows software to do the
    switch. For example, the Windows printer driver may always switch the printer
    back into GDI mode when printing from Windows. For other GDI printers
    there are extension modules for a standard printer language available.
   </p><p>
    Several manufacturers provide proprietary drivers for their printers. The
    disadvantage of proprietary printer drivers is that there is no guarantee
    that these work with the installed print system or that they are suitable
    for the multiple hardware platforms. In contrast, printers that support a
    standard printer language do not depend on a special print system version or
    a special hardware platform.
   </p><p>
    Instead of spending time trying to make a proprietary Linux driver work, it
    may be more cost-effective to purchase a printer which supports a standard
    printer language (preferably PostScript). This would solve the driver
    problem once and for all, eliminating the need to install and configure
    special driver software and obtain driver updates that may be required
    because of new developments in the print system.
   </p></div><div class="sect2 " id="sec-print-prob-ppd"><div class="titlepage"><div><div><h3 class="title"><span class="number">7.8.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">No suitable PPD file available for a PostScript printer</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-prob-ppd">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-prob-ppd</li></ul></div></div></div></div><p>
    If the <code class="systemitem">manufacturer-PPDs</code> or
    <code class="systemitem">OpenPrintingPPDs-postscript</code> packages do not
    contain a suitable PPD file for a PostScript printer, it should be possible
    to use the PPD file from the driver CD of the printer manufacturer or
    download a suitable PPD file from the Web page of the printer manufacturer.
   </p><p>
    If the PPD file is provided as a zip archive (.zip) or a self-extracting
    zip archive (<code class="filename">.exe</code>), unpack it with
    <code class="command">unzip</code>. First, review the license terms of the PPD file.
    Then use the <code class="command">cupstestppd</code> utility to check if the PPD
    file complies with <span class="quote">“<span class="quote ">Adobe PostScript Printer Description File Format
    Specification, version 4.3.</span>”</span> If the utility returns
    <span class="quote">“<span class="quote ">FAIL,</span>”</span> the errors in the PPD files are serious and cause major
    problems. The problem spots reported by
    <code class="command">cupstestppd</code> should be eliminated. If necessary, ask the
    printer manufacturer for a suitable PPD file.
   </p></div><div class="sect2 " id="sec-print-prob-netconnect"><div class="titlepage"><div><div><h3 class="title"><span class="number">7.8.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Network printer connections</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-prob-netconnect">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-prob-netconnect</li></ul></div></div></div></div><div class="variablelist "><dl class="variablelist"><dt id="id-1.3.4.4.16.5.3.1"><span class="term ">Identifying network problems</span></dt><dd><p>
       Connect the printer directly to the computer. For test purposes,
       configure the printer as a local printer. If this works, the problems
       are related to the network.
      </p></dd><dt id="id-1.3.4.4.16.5.3.2"><span class="term ">Checking the TCP/IP network</span></dt><dd><p>
       The TCP/IP network and name resolution must be functional.
      </p></dd><dt id="id-1.3.4.4.16.5.3.3"><span class="term ">Checking a remote <code class="command">lpd</code>
     </span></dt><dd><p>
       Use the following command to test if a TCP connection can be established
       to <code class="command">lpd</code> (port <code class="literal">515</code>) on
       <em class="replaceable ">HOST</em>:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>netcat -z <em class="replaceable ">HOST</em> 515 &amp;&amp; echo ok || echo failed</pre></div><p>
       If the connection to <code class="command">lpd</code> cannot be established,
       <code class="command">lpd</code> may not be active or there may be basic network
       problems.
      </p><p>
       Provided that the respective
       <code class="command">lpd</code> is active and the host accepts queries, run the following command as <code class="systemitem">root</code> to query a status report for
       <em class="replaceable ">QUEUE</em> on remote
       <em class="replaceable ">HOST</em>:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>echo -e "\004queue" \
| netcat -w 2 -p 722 <em class="replaceable ">HOST</em> 515</pre></div><p>
       If <code class="command">lpd</code> does not respond, it may not be active or
       there may be basic network problems. If <code class="command">lpd</code> responds,
       the response should show why printing is not possible on the
       <code class="literal">queue</code> on <code class="literal">host</code>. If you receive a
       response like that shown in <a class="xref" href="cha-print.html#aus-d-lpd" title="Error message from lpd">Example 7.1, “Error message from <code class="command">lpd</code>”</a>, the problem is
       caused by the remote <code class="command">lpd</code>.
      </p><div class="example" id="aus-d-lpd"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 7.1: </span><span class="name">Error message from <code class="command">lpd</code> </span><a title="Permalink" class="permalink" href="cha-print.html#aus-d-lpd">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">lpd: your host does not have line printer access
lpd: queue does not exist
printer: spooling disabled
printer: printing disabled</pre></div></div></div></dd><dt id="id-1.3.4.4.16.5.3.4"><span class="term ">Checking a remote <code class="command">cupsd</code>
     </span></dt><dd><p>
       A CUPS network server can broadcast its queues by default every 30
       seconds on UDP port <code class="literal">631</code>. Accordingly, the following
       command can be used to test whether there is a broadcasting CUPS network
       server in the network. Make sure to stop your local CUPS daemon before
       executing the command.
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>netcat -u -l -p 631 &amp; PID=$! ; sleep 40 ; kill $PID</pre></div><p>
       If a broadcasting CUPS network server exists, the output appears as
       shown in <a class="xref" href="cha-print.html#aus-d-bcast" title="Broadcast from the CUPS network server">Example 7.2, “Broadcast from the CUPS network server”</a>.
      </p><div class="example" id="aus-d-bcast"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 7.2: </span><span class="name">Broadcast from the CUPS network server </span><a title="Permalink" class="permalink" href="cha-print.html#aus-d-bcast">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">ipp://192.168.2.202:631/printers/queue</pre></div></div></div><p>
       The following command can be used to test if a TCP connection can be
       established to <code class="command">cupsd</code> (port <code class="literal">631</code>) on
       <em class="replaceable ">HOST</em>:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>netcat -z <em class="replaceable ">HOST</em> 631 &amp;&amp; echo ok || echo failed</pre></div><p>
       If the connection to <code class="command">cupsd</code> cannot be established,
       <code class="command">cupsd</code> may not be active or there may be basic network
       problems. <code class="command">lpstat -h</code> <em class="replaceable ">HOST</em>
       -l -t returns a status report for all queues on
       <em class="replaceable ">HOST</em>, provided the respective
       <code class="command">cupsd</code> is active and the host accepts queries.
      </p><p>
       The next command can be used to test if the
       <em class="replaceable ">QUEUE</em> on <em class="replaceable ">HOST</em>
       accepts a print job consisting of a single carriage-return character.
       Nothing should be printed. A blank page may be ejected.
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>echo -en "\r" \
| lp -d queue -h <em class="replaceable ">HOST</em></pre></div></dd><dt id="id-1.3.4.4.16.5.3.5"><span class="term ">
      Troubleshooting a Network Printer or Print Server Machine
     </span></dt><dd><p>
       Spoolers running in a print server machine sometimes cause problems when
       they need to deal with multiple print jobs. Since this is caused by the
       spooler in the print server machine, there no way to resolve this issue. As
       a work-around, circumvent the spooler in the print server machine by
       addressing the printer connected to the print server machine directly with
       the TCP socket. See <a class="xref" href="cha-print.html#sec-print-net" title="7.4. Network printers">Section 7.4, “Network printers”</a>.
      </p><p>
       In this way, the print server machine is reduced to a converter between the
       multiple forms of data transfer (TCP/IP network and local printer
       connection). To use this method, you need to know the TCP port on the
       print server machine. If the printer is connected to the print server machine
       and turned on, this TCP port can normally be determined with the
       <code class="command">nmap</code> utility from the <code class="systemitem">nmap</code>
       package certain time after the print server machine is powered up. For example,
       <code class="command">nmap </code> <em class="replaceable ">IP-address</em> may
       deliver the following output for a print server machine:
      </p><div class="verbatim-wrap"><pre class="screen">Port       State       Service
23/tcp     open        telnet
80/tcp     open        http
515/tcp    open        printer
631/tcp    open        cups
9100/tcp   open        jetdirect</pre></div><p>
       This output indicates that the printer connected to the print server machine
       can be addressed via TCP socket on port <code class="literal">9100</code>. By
       default, <code class="command">nmap</code> only checks several commonly known
       ports listed in <code class="filename">/usr/share/nmap/nmap-services</code>. To
       check all possible ports, use the command <code class="command">nmap
       -p </code>
       <em class="replaceable ">FROM_PORT</em>-<em class="replaceable ">TO_PORT</em> <em class="replaceable ">IP_ADDRESS</em>.
       For further information, refer to the man page of
       <code class="command">nmap</code>.
      </p><p>
       Enter a command like
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>echo -en "\rHello\r\f" | netcat -w 1 IP-address port
cat file | netcat -w 1 IP-address port</pre></div><p>
       to send character strings or files directly to the respective port to
       test if the printer can be addressed on this port.
      </p></dd></dl></div></div><div class="sect2 " id="sec-print-prob-defective-printouts"><div class="titlepage"><div><div><h3 class="title"><span class="number">7.8.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Defective printouts without error message</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-prob-defective-printouts">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-prob-defective-printouts</li></ul></div></div></div></div><p>
    For the print system, the print job is completed when the CUPS back-end
    completes the data transfer to the recipient (printer). If further
    processing on the recipient fails (for example, if the printer is not able
    to print the printer-specific data) the print system does not notice this.
    If the printer cannot print the printer-specific data, select a PPD file
    that is more suitable for the printer.
   </p></div><div class="sect2 " id="sec-print-prob-disabled-queues"><div class="titlepage"><div><div><h3 class="title"><span class="number">7.8.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Disabled queues</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-prob-disabled-queues">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-prob-disabled-queues</li></ul></div></div></div></div><p>
    If the data transfer to the recipient fails entirely after several
    attempts, the CUPS back-end, such as <code class="literal">USB</code> or
    <code class="literal">socket</code>, reports an error to the print system (to
    <code class="command">cupsd</code>). The back-end determines how many unsuccessful
    attempts are appropriate until the data transfer is reported as impossible.
    As further attempts would be in vain, <code class="command">cupsd</code> disables
    printing for the respective queue. After eliminating the cause of the
    problem, the system administrator must re-enable printing with the command
    <code class="command">cupsenable</code>.
   </p></div><div class="sect2 " id="sec-print-prob-deleting-jobs"><div class="titlepage"><div><div><h3 class="title"><span class="number">7.8.6 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">CUPS browsing: deleting print jobs</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-prob-deleting-jobs">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-prob-deleting-jobs</li></ul></div></div></div></div><p>
    If a CUPS network server broadcasts its queues to the client hosts via
    browsing and a suitable local <code class="command">cupsd</code> is active on the
    client hosts, the client <code class="command">cupsd</code> accepts print jobs from
    applications and forwards them to the <code class="command">cupsd</code> on the
    server. When <code class="command">cupsd</code> on the server accepts a print job, it
    is assigned a new job number. Therefore, the job number on the client host
    is different from the job number on the server. As a print job is usually
    forwarded immediately, it cannot be deleted with the job number on the
    client host This is because the client <code class="command">cupsd</code> regards the
    print job as completed when it has been forwarded to the server
    <code class="command">cupsd</code>.
   </p><p>
    To delete the print job on the server, use a command such as <code class="command">lpstat
    -h cups.example.com -o</code> to determine the job number on the server. This
    assumes that the server has not already completed the print job by sending
    it to the printer. Use the obtained job number to delete the print job on
    the server as follows:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>cancel -h cups.example.com <em class="replaceable ">QUEUE-JOBNUMBER</em></pre></div></div><div class="sect2 " id="sec-print-prob-brokenjobs"><div class="titlepage"><div><div><h3 class="title"><span class="number">7.8.7 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Defective print jobs and data transfer errors</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-prob-brokenjobs">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-prob-brokenjobs</li></ul></div></div></div></div><p>
    If you switch the printer off or shut down the computer during the printing
    process, print jobs remain in the queue. Printing resumes when the computer
    (or the printer) is switched back on. Defective print jobs must be removed
    from the queue with <code class="command">cancel</code>.
   </p><p>
    If a print job is corrupted or an error occurs in the communication between
    the host and the printer, the printer cannot process the data correctly and
    prints numerous sheets of paper with
    unintelligible characters. To
    fix the problem, follow these steps:
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      To stop printing, remove all paper from ink jet printers or open the
      paper trays of laser printers. High-quality printers have a button for
      canceling the current printout.
     </p></li><li class="step "><p>
      The print job may still be in the queue, because jobs are only removed
      after they are sent to the printer. Use <code class="command">lpstat -o</code> or
      <code class="command">lpstat -h cups.example.com -o</code> to check which queue is
      currently printing. Delete the print job with
      <code class="command">cancel</code>
      <em class="replaceable ">QUEUE</em>-<em class="replaceable ">JOBNUMBER</em> or
      <code class="command">cancel -h cups.example.com</code>
      <em class="replaceable ">QUEUE</em>-<em class="replaceable ">JOBNUMBER</em>.
     </p></li><li class="step "><p>
      Certain data may still be transferred to the printer even though the print
      job has been deleted from the queue. Check if a CUPS back-end process is
      still running for the respective queue and stop it.
     </p></li><li class="step "><p>
      Reset the printer by switching it off for a while. Then insert the paper
      and turn on the printer.
     </p></li></ol></div></div></div><div class="sect2 " id="sec-print-prob-debugging"><div class="titlepage"><div><div><h3 class="title"><span class="number">7.8.8 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Debugging CUPS</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-prob-debugging">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-prob-debugging</li></ul></div></div></div></div><p>
    Use the following generic procedure to locate problems in CUPS:
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Set <code class="command">LogLevel debug</code> in
      <code class="filename">/etc/cups/cupsd.conf</code>.
     </p></li><li class="step "><p>
      Stop <code class="command">cupsd</code>.
     </p></li><li class="step "><p>
      Remove <code class="filename">/var/log/cups/error_log*</code> to avoid having to
      search through large log files.
     </p></li><li class="step "><p>
      Start <code class="command">cupsd</code>.
     </p></li><li class="step "><p>
      Repeat the action that led to the problem.
     </p></li><li class="step "><p>
      Check the messages in <code class="filename">/var/log/cups/error_log*</code> to
      identify the cause of the problem.
     </p></li></ol></div></div></div><div class="sect2 " id="sec-print-prob-more-information"><div class="titlepage"><div><div><h3 class="title"><span class="number">7.8.9 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">More information</span> <a title="Permalink" class="permalink" href="cha-print.html#sec-print-prob-more-information">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE/doc-sle/edit/main/xml/printing.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>printing.xml</li><li><span class="ds-label">ID: </span>sec-print-prob-more-information</li></ul></div></div></div></div><p>
    In-depth information about printing on <span class="productname"><span class="phrase">openSUSE Leap</span></span> is presented in the
    openSUSE Support Database at <a class="link" href="https://en.opensuse.org/Portal:Printing" target="_blank">https://en.opensuse.org/Portal:Printing</a>. 
   </p></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha-fuse.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 8 </span>Accessing file systems with FUSE</span></a><a class="nav-link" href="cha-yast-lang.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 6 </span>Changing language and country settings with YaST</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2024 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>